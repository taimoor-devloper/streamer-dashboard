"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{6040:function(e,t,o){var a,l,s=o(7294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:80,height:56,fill:"none"},e),a||(a=s.createElement("g",{clipPath:"url(#LiveBadgeGlowIcon_svg__a)"},s.createElement("path",{fill:"url(#LiveBadgeGlowIcon_svg__b)",d:"M0 0h85.1v71.3H0z",transform:"translate(-16 -8)"}),s.createElement("path",{fill:"url(#LiveBadgeGlowIcon_svg__c)",d:"M0 0h85.1v71.3H0z",transform:"translate(-16 -8)"}),s.createElement("path",{fill:"url(#LiveBadgeGlowIcon_svg__d)",d:"M0 0h85.1v71.3H0z",transform:"translate(0 -7)"}),s.createElement("path",{fill:"url(#LiveBadgeGlowIcon_svg__e)",d:"M0 0h85.1v71.3H0z",transform:"translate(0 -7)"}),s.createElement("path",{stroke:"#00F",d:"M8.5 8.5h53v31h-53z"}),s.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M44.958 21c2.734 0 4.959 2.243 4.959 5a.997.997 0 0 1-.876.993l-.116.007h-6.771l.003.01A2.982 2.982 0 0 0 44.958 29c.796 0 1.542-.312 2.103-.879a.986.986 0 0 1 .76-.291l.117.014a.985.985 0 0 1 .526.276c.388.391.388 1.024 0 1.415a4.904 4.904 0 0 1-3.242 1.458l-.264.007C42.224 31 40 28.757 40 26s2.224-5 4.958-5Zm0 2a2.983 2.983 0 0 0-2.805 2h5.61a2.986 2.986 0 0 0-2.612-1.994L44.958 23ZM30.88 21.553l3.078 6.21 3.08-6.21a.988.988 0 0 1 1.33-.448c.49.248.69.848.445 1.342l-3.967 8a1.104 1.104 0 0 1-.05.09l.05-.09a1.006 1.006 0 0 1-.444.448.992.992 0 0 1-.442.105l-.07-.005-.044-.001h-.005l.119.006a.997.997 0 0 1-.35-.064l-.019-.007a.885.885 0 0 1-.075-.034l-.016-.008-.018-.01.034.018a.995.995 0 0 1-.445-.448l-3.966-8a1.005 1.005 0 0 1 .444-1.342.988.988 0 0 1 1.33.448Z",clipRule:"evenodd"}),s.createElement("path",{fill:"#fff",d:"M25 22a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0v-8ZM25 18a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"}),s.createElement("rect",{width:2,height:14,x:20,y:17,fill:"#fff",rx:1}))),l||(l=s.createElement("defs",null,s.createElement("radialGradient",{id:"LiveBadgeGlowIcon_svg__b",cx:0,cy:0,r:1,gradientTransform:"matrix(0 30.9415 -39.1436 0 42.55 32.96)",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#00F"}),s.createElement("stop",{offset:.133,stopColor:"#00F",stopOpacity:.75}),s.createElement("stop",{offset:.292,stopColor:"#00F",stopOpacity:.5}),s.createElement("stop",{offset:.385,stopColor:"#00F",stopOpacity:.375}),s.createElement("stop",{offset:.502,stopColor:"#00F",stopOpacity:.25}),s.createElement("stop",{offset:.646,stopColor:"#00F",stopOpacity:.125}),s.createElement("stop",{offset:.75,stopColor:"#00F",stopOpacity:.063}),s.createElement("stop",{offset:.825,stopColor:"#00F",stopOpacity:.031}),s.createElement("stop",{offset:1,stopColor:"#00F",stopOpacity:0})),s.createElement("radialGradient",{id:"LiveBadgeGlowIcon_svg__c",cx:0,cy:0,r:1,gradientTransform:"matrix(0 30.9415 -39.1436 0 42.55 32.96)",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#00F"}),s.createElement("stop",{offset:.133,stopColor:"#00F",stopOpacity:.75}),s.createElement("stop",{offset:.292,stopColor:"#00F",stopOpacity:.5}),s.createElement("stop",{offset:.385,stopColor:"#00F",stopOpacity:.375}),s.createElement("stop",{offset:.502,stopColor:"#00F",stopOpacity:.25}),s.createElement("stop",{offset:.646,stopColor:"#00F",stopOpacity:.125}),s.createElement("stop",{offset:.75,stopColor:"#00F",stopOpacity:.063}),s.createElement("stop",{offset:.825,stopColor:"#00F",stopOpacity:.031}),s.createElement("stop",{offset:1,stopColor:"#00F",stopOpacity:0})),s.createElement("radialGradient",{id:"LiveBadgeGlowIcon_svg__d",cx:0,cy:0,r:1,gradientTransform:"matrix(0 30.9415 -39.1436 0 42.55 32.96)",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#00F"}),s.createElement("stop",{offset:.133,stopColor:"#00F",stopOpacity:.75}),s.createElement("stop",{offset:.292,stopColor:"#00F",stopOpacity:.5}),s.createElement("stop",{offset:.385,stopColor:"#00F",stopOpacity:.375}),s.createElement("stop",{offset:.502,stopColor:"#00F",stopOpacity:.25}),s.createElement("stop",{offset:.646,stopColor:"#00F",stopOpacity:.125}),s.createElement("stop",{offset:.75,stopColor:"#00F",stopOpacity:.063}),s.createElement("stop",{offset:.825,stopColor:"#00F",stopOpacity:.031}),s.createElement("stop",{offset:1,stopColor:"#00F",stopOpacity:0})),s.createElement("radialGradient",{id:"LiveBadgeGlowIcon_svg__e",cx:0,cy:0,r:1,gradientTransform:"matrix(0 30.9415 -39.1436 0 42.55 32.96)",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#00F"}),s.createElement("stop",{offset:.133,stopColor:"#00F",stopOpacity:.75}),s.createElement("stop",{offset:.292,stopColor:"#00F",stopOpacity:.5}),s.createElement("stop",{offset:.385,stopColor:"#00F",stopOpacity:.375}),s.createElement("stop",{offset:.502,stopColor:"#00F",stopOpacity:.25}),s.createElement("stop",{offset:.646,stopColor:"#00F",stopOpacity:.125}),s.createElement("stop",{offset:.75,stopColor:"#00F",stopOpacity:.063}),s.createElement("stop",{offset:.825,stopColor:"#00F",stopOpacity:.031}),s.createElement("stop",{offset:1,stopColor:"#00F",stopOpacity:0})),s.createElement("clipPath",{id:"LiveBadgeGlowIcon_svg__a"},s.createElement("path",{fill:"#fff",d:"M0 0h80v56H0z"})))))}},4317:function(e,t,o){o.d(t,{H:function(){return Hashtags}});var a=o(5893),l=o(266),s=o(1664),n=o.n(s),r=o(512);let Hashtags=e=>{let{className:t,href:o,size:s,tags:i}=e;return(null==i?void 0:i.length)?(0,a.jsx)("ul",{className:(0,r.Z)("flex gap-x-4 md:mb-2 md:gap-x-1",t),children:i.map((e,t)=>{let r=o||"/tag/".concat(e);return(0,a.jsx)(n(),{href:r,children:(0,a.jsx)("li",{children:(0,a.jsx)(l.A,{className:"font-pop-label-caption-1 bg-transparent !p-0 md:bg-dark-quinary md:!p-2",size:s,text:"#".concat(e)})})},"".concat(t,"-").concat(e))})}):null}},5080:function(e,t,o){o.d(t,{Z:function(){return Card}});var a,l,s,n,r=o(5893),i=o(7294),c=o(5518),p=o(1892),d=o(9170),f=o(5675),m=o.n(f),u=o(6040),h=o(8617),v=o(3108);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}).apply(this,arguments)}var UpcomingBadgeIcon=function(e){return i.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:80,height:56,fill:"none"},e),a||(a=i.createElement("path",{fill:"#B982FF",d:"M8 8h54v32H8z",opacity:.4})),l||(l=i.createElement("path",{stroke:"#B982FF",d:"M8.5 8.5h53v31h-53z"})),s||(s=i.createElement("path",{fill:"#fff",d:"M26 24a8 8 0 0 0 12.124 6.857 1 1 0 0 0-1.032-1.713 6 6 0 1 1 2.893-5.573l-1.278-1.278a1 1 0 0 0-1.414 1.414l3 3a1 1 0 0 0 1.414 0l3-3a.997.997 0 0 0 .293-.706v-.002a1 1 0 0 0-1.707-.706l-1.303 1.303A8 8 0 0 0 26 24Z"})),n||(n=i.createElement("path",{fill:"#fff",d:"M34 20a1 1 0 0 0-1 1v2.587l-1.707 1.707a1 1 0 0 0 1.414 1.414l2.001-2a.997.997 0 0 0 .292-.76V21a1 1 0 0 0-1-1Z"})))},g=o(512),x=o(5152),b=o.n(x),w=o(2131),y=o(3389),E=o(1163);let _=b()(()=>o.e(799).then(o.bind(o,5799)).then(e=>e.CardVideo),{loadableGenerated:{webpack:()=>[5799]},ssr:!1}),CardMainContent=e=>{let{activity:t,hlsRef:o,priority:a,shouldVideoPlay:l,size:s,startPosition:n}=e,{query:i}=(0,E.useRouter)(),{activity_type:c,broadcast_info:p,paywall:d,permissions:f,playhead_position:x}=t,b="live"===c,C=!!((null==f?void 0:f.paywall_unlocked)||(null==i?void 0:i.unlockAll)),O=(null==p?void 0:p.preview_image_path)||(null==d?void 0:d.preview_image_path),j=(null==i?void 0:i.unlockAll)||(null==i?void 0:i.lockAll)||(null==d?void 0:d.ppvshow_id)||b&&(null==d?void 0:d.enforced),F=(null==p?void 0:p.content_duration)?(0,w.eh)(p.content_duration):void 0,M=x?x/p.content_duration:0;return(0,r.jsxs)("div",{className:(0,g.Z)("relative mb-2 aspect-video",{"min-w-[288px]":"large"!==s}),children:[j&&(0,r.jsxs)("div",{className:"font-pop-label-caption-1 absolute bottom-0 flex h-8 w-full items-center gap-2 bg-black/60 p-2.5 font-bold text-gold",children:[C?(0,r.jsx)(h.Z,{}):(0,r.jsx)(v.Z,{}),(0,r.jsx)("span",{className:"uppercase",children:(0,y.j5)(C,null==d?void 0:d.header)})]}),(null==p?void 0:p.video_url)&&l&&!(null==d?void 0:d.enforced)?(0,r.jsx)(_,{activity:t,hlsRef:o,startPosition:n}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m(),{alt:"preview",className:"aspect-video w-full rounded-lg",height:162,priority:a,src:"".concat("https://api-sam.caffeine.tv","/thumb").concat(O,"?auto=webp&width=432&height=243&fit=crop"),unoptimized:!0,width:288}),F&&!j&&(0,r.jsx)("span",{className:"font-pop-label-caption-1 absolute bottom-2 right-2 rounded bg-scrim-medium px-2 py-1 text-dark-secondary",children:F}),M>.04&&(0,r.jsx)("progress",{className:"absolute bottom-0 box-content h-1 w-full rounded-b-lg border-t border-gray/50 [&::-moz-progress-bar]:bg-black/50 [&::-webkit-progress-bar]:bg-black/50 [&::-webkit-progress-value]:rounded-b-lg  [&::-webkit-progress-value]:bg-white",max:"1",value:M})]}),"upcoming"===c?(0,r.jsx)(UpcomingBadgeIcon,{className:"absolute top-0"}):b?(0,r.jsx)(u.Z,{className:"absolute top-0"}):null]})};var C=o(1762),O=o(4317),j=o(1664),F=o.n(j),M=o(3912),N=o(3300);let Card=e=>{let t,{activity:o,hasOneActivity:a,hlsRef:l,isContinueWatching:s,isFeatured:n,priority:f,showCardHeader:m,startPosition:u,size:h,zoomOnHover:v}=e,{isMobile:x}=(0,N.h)(),b=(0,i.useRef)(null),[E,_]=(0,i.useState)(null),{activity_id:j,activity_type:Z,broadcast_info:k,paywall:L,tags:B,username:G}=o,I="live"===Z,z="large"===h,H="upcoming"===Z,R="https://www.caffeine.tv",U=(0,w.i$)((null==k?void 0:k.broadcast_start_time)?new Date(null==k?void 0:k.broadcast_start_time):void 0),P="".concat(R,"/").concat(G),T="/".concat(G,"/video/").concat(j);x&&I?t=P:x&&(t=T);let V=(0,r.jsx)("h2",{className:(0,g.Z)({"font-pop-card font-semibold":!z,"font-pop-title-3 font-bold":z,inline:(0,y.M2)(k)}),children:null==k?void 0:k.broadcast_title}),MainContent=()=>(0,r.jsx)(CardMainContent,{activity:o,hlsRef:l,priority:f,shouldVideoPlay:E,size:h,startPosition:u});return(0,i.useEffect)(()=>{if(!x)return;let e=b.current,t=new IntersectionObserver(e=>{e.forEach(e=>{_(e.isIntersecting)})},{root:null,rootMargin:"-64px 0px -64px 0px",threshold:1,trackVisibility:!0,delay:2e3});return e&&t.observe(e),()=>{e&&t.unobserve(e)}},[x]),(0,r.jsxs)("article",{className:(0,g.Z)("relative flex flex-col justify-center text-white transition-transform",{"md:w-[288px]":!z,"w-[288px]":!a&&!z,"!w-full":z,"max-md:w-full":a,"duration-[0.2s] hover:scale-[102.5%]":v&&!n,"md:flex-row md:justify-start md:gap-4 md:pt-4 md:pb-0 md:px-4 md:w-full":n}),"data-testid":"vod"!==Z||(null==L?void 0:L.enforced)?void 0:"vodCard",onMouseEnter:()=>{x||setTimeout(()=>_(!0),200)},onMouseLeave:()=>!x&&_(!1),ref:b,children:[m&&(0,r.jsx)(c.l,{className:"!px-0",headerMenu:(0,r.jsx)(p.V,{isContinueWatching:s,type:"card",video:o}),isVisible:!0,type:"card",video:o}),I?(0,r.jsx)("a",{className:(0,g.Z)({"md:w-1/2 xl:w-1/3 min-w-1/2 xl:min-w-1/3":n,"duration-[0.2s] hover:scale-[102.5%]":n&&v}),href:P,children:(0,r.jsx)(MainContent,{})}):(0,r.jsx)(F(),{className:(0,g.Z)({"md:w-1/2 xl:w-1/3 min-w-1/2 xl:min-w-1/3":n,"duration-[0.2s] hover:scale-[102.5%]":n&&v}),href:{pathname:T,query:u?{start:u||void 0}:void 0},children:(0,r.jsx)(MainContent,{})}),(0,r.jsxs)("div",{className:(0,g.Z)({"md:w-1/2":n}),children:[(0,r.jsx)(d.V,{hashtags:(0,r.jsx)(O.H,{className:(0,g.Z)({"md:flex-wrap md:mb-0 [&>*]:md:mb-2":n}),href:t,size:"small",tags:B}),isVisible:!0,renderTitleCustom:()=>(0,r.jsxs)("div",{className:"line-clamp-2 min-w-full text-ellipsis whitespace-normal leading-5 max-md:mr-8 md:mb-2",children:[(0,y.M2)(k)&&(0,r.jsx)(M.Z,{className:"mr-1 inline-flex align-sub",height:z?22:16,width:z?18:16}),I?(0,r.jsx)("a",{href:"".concat(R,"/").concat(G),children:V}):(0,r.jsx)(F(),{href:"/".concat(G,"/video/").concat(j),children:V})]}),showMetadata:!H,video:o}),H&&(0,r.jsxs)("div",{className:"flex items-center text-lavender",children:[(0,r.jsx)(C.Z,{className:"mr-1"}),(0,r.jsx)("p",{className:"font-pop-caption font-medium",children:U})]})]})]})}},2311:function(e,t,o){o.d(t,{Z:function(){return useHls}});var a=o(7294),l=o(3041);let s={backBufferLength:10,fragLoadingMaxRetry:2,fragLoadingMaxRetryTimeout:3e3,fragLoadingRetryDelay:500,fragLoadingTimeOut:5500,liveMaxLatencyDurationCount:30,liveSyncDurationCount:3,maxLiveSyncPlaybackRate:1.15,maxMaxBufferLength:10},useHls=()=>{let e=(0,a.useRef)(null);return(0,a.useEffect)(()=>(e.current||(e.current=new l.Z(s)),()=>{var t;null==e||null===(t=e.current)||void 0===t||t.stopLoad()}),[]),e}}}]);