(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{9350:function(e,n,r){"use strict";var a,l=r(7294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}n.Z=function(e){return l.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:47,height:32,fill:"none"},e),a||(a=l.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"m20.064 4.566 10.497 10.5a1.5 1.5 0 0 1 0 2.122L20.064 27.686a1.5 1.5 0 1 1-2.121-2.122l9.436-9.439-9.436-9.439a1.5 1.5 0 0 1 2.121-2.121Z",clipRule:"evenodd"})))}},2008:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[username]/profile",function(){return r(7844)}])},8272:function(e,n,r){"use strict";r.d(n,{c:function(){return useSocialFeedVodsAPI}});var a=r(1563),l=r(8767),s=r(9473);let useSocialFeedVodsAPI=e=>{let{onSuccess:n,page:r,username:i,enabled:o,limit:c}=e,d=(0,s.v9)(e=>e.auth),{credential:u,credentials:m}=d,f=(null==m?void 0:m.access_token)||u,h=(0,l.useQuery)({queryKey:["social feeds vods ".concat(r),i],refetchOnWindowFocus:!1,queryFn:async()=>await (0,a.be)({url:"/api/social/feeds/".concat(i,"/vods"),headers:{"x-credential":f},params:{next:r,limit:c}}),enabled:!!f&&o,onSuccess:n});return h}},377:function(e,n,r){"use strict";r.d(n,{U:function(){return ActivitiesGrid}});var a=r(5893),l=r(7294),s=r(5080),i=r(7178),o=r(512),c=r(8700);let ActivitiesGrid=e=>{let{activities:n,cardRow:r,className:d,handleBottomElementScroll:u,hlsRef:m,initialActivitiesLength:f,showCardHeader:h}=e,x=(0,l.useRef)(null);return(0,c.w)(x,u),(0,a.jsx)("ul",{className:(0,o.Z)("mx-4 grid max-w-full grid-cols-1 gap-4 py-2 md:grid-cols-3 md:pb-0 md:pt-4 xl:grid-cols-4",d),children:null==n?void 0:n.map((e,l)=>(0,a.jsx)("li",{ref:l===((null==n?void 0:n.length)||0)-10?x:void 0,children:r?(0,a.jsx)(i.A,{metadataOnTop:!0,priority:l<=f-1,showAvatar:!1,video:e}):(0,a.jsx)(s.Z,{activity:e,hasOneActivity:!1,hlsRef:m,priority:l<=f-1,showCardHeader:h,size:"large"})},e.activity_id))})}},2648:function(e,n,r){"use strict";r.d(n,{b:function(){return CardRowAvatar}});var a=r(5893),l=r(5675),s=r.n(l);let CardRowAvatar=e=>{let{user:n}=e,r="".concat("https://api-sam.caffeine.tv","/thumb").concat(null==n?void 0:n.avatar_image_path,"?auto=webp&width=20&height=20&fit=crop");return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(s(),{alt:"avatar",className:"mr-1 h-5 w-5 rounded-full border border-dark-quaternary object-cover",height:20,src:r,unoptimized:!0,width:20}),(0,a.jsx)("p",{className:"font-pop-caption overflow-hidden text-ellipsis font-bold text-dark-secondary",children:n.username||n.name})]})}},7178:function(e,n,r){"use strict";r.d(n,{A:function(){return CardRowVod}});var a,l=r(5893),s=r(2648),i=r(5775),o=r(5675),c=r.n(o),d=r(1664),u=r.n(d),m=r(7294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var PlayButtonIcon=function(e){return m.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:9,height:12,fill:"currentColor"},e),a||(a=m.createElement("path",{fill:"#fff",d:"m9 6-9 5.196V.804L9 6Z"})))},f=r(3912),h=r(2131),x=r(3389),v=r(906),g=r(4170);let CardRowVod=e=>{let{currentVideo:n,metadataOnTop:r,priority:a,showAvatar:o,video:d}=e,{broadcast_info:m,user:b,username:w,activity_id:j,view_count:y}=d,_=(0,v.G)(y),N=parseFloat(_)>0,k=(null==n?void 0:n.username)===(null==d?void 0:d.username),C=m.broadcast_title.trim(),E=m.content_duration&&(0,h.eh)(m.content_duration),{dateTimeCapitalized:O}=(0,g.I)(null==m?void 0:m.broadcast_start_time),P="/".concat(w,"/video/").concat(j),T=(0,l.jsxs)("div",{className:"font-pop-caption mb-0.5 flex items-center text-ellipsis font-bold text-dark-tertiary",children:[(0,l.jsx)("div",{className:"mr-2",children:n&&(!k||o)?(0,l.jsx)(s.b,{user:b}):(0,l.jsx)("span",{children:O})}),N&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(i.Z,{className:"mr-1",height:10,width:16}),(0,l.jsx)("span",{children:_})]})]});return(0,l.jsx)(u(),{href:P,children:(0,l.jsxs)("div",{className:"flex h-20 max-h-20 w-full items-center rounded-lg bg-dark-quinary px-2 text-white",children:[(0,l.jsxs)("div",{className:"relative mr-3 w-32 max-w-[8rem] overflow-hidden rounded",children:[(0,l.jsx)(PlayButtonIcon,{className:"absolute right-1 top-1 w-3",style:{filter:"drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.50))"}}),(0,l.jsx)("span",{className:"font-pop-label-caption-1 absolute bottom-1 right-1 rounded bg-scrim-medium px-2 py-1 text-dark-secondary",children:E}),(0,l.jsx)(c(),{alt:"preview",className:"h-[4.5rem] w-32 object-cover",height:64,priority:a,sizes:"200px",src:"".concat("https://api-sam.caffeine.tv","/thumb").concat(m.preview_image_path,"?auto=webp&width=171&height=96&fit=crop"),unoptimized:!0,width:114})]}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col justify-center overflow-hidden text-dark-secondary",children:[r&&T,(0,l.jsxs)("h2",{className:"font-pop-card mb-1 line-clamp-2 text-ellipsis font-semibold",children:[(0,x.M2)(m)&&(0,l.jsx)(f.Z,{className:"mr-1 inline-flex align-bottom",height:21,width:21}),C]}),!r&&T]})]})})}},8990:function(e,n,r){"use strict";r.d(n,{o:function(){return BaseHead}});var a=r(5893),l=r(9008),s=r.n(l);let BaseHead=e=>{let{canonicalUrl:n,description:r,title:l}=e;return(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:l}),(0,a.jsx)("meta",{content:l,property:"og:title"}),(0,a.jsx)("meta",{content:r,name:"description"},"desc"),(0,a.jsx)("meta",{content:r,property:"og:description"}),(0,a.jsx)("meta",{content:"website",property:"og:type"}),(0,a.jsx)("meta",{content:"Taimoor",property:"og:site_name"}),(0,a.jsx)("link",{href:"/favicon-v3-32x32.png",rel:"icon",sizes:"32x32",type:"image/png"}),(0,a.jsx)("link",{href:"/apple-touch-icon.png",rel:"apple-touch-icon",type:"image/png"}),(0,a.jsx)("meta",{content:"278354532550167",property:"fb:app_id"}),(0,a.jsx)("meta",{content:l,name:"twitter:title"}),(0,a.jsx)("meta",{content:r,name:"twitter:description"}),(0,a.jsx)("meta",{content:"summary_large_image",name:"twitter:card"}),(0,a.jsx)("meta",{content:"@caffeine",name:"twitter:site"}),(0,a.jsx)("link",{href:n,rel:"canonical"})]})}},8700:function(e,n,r){"use strict";r.d(n,{w:function(){return useObserveOnScroll}});var a=r(7294);let useObserveOnScroll=(e,n)=>{let r=(0,a.useRef)(null);(0,a.useEffect)(()=>{let a=null==e?void 0:e.current;return r.current=new IntersectionObserver(e=>{let[r]=e;r.isIntersecting&&r.target===a&&n()},{root:null,rootMargin:"0px",threshold:1}),r.current&&a&&r.current.observe(a),()=>{r.current&&a&&(r.current.unobserve(a),r.current=null)}},[e,n])}},7844:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return eb},default:function(){return profile}});var a,l,s,i,o,c,d,u=r(5893),m=r(2466),f=r(8990),h=r(9238),x=r.n(h),v=r(9008),g=r.n(v),b=r(2131),w=r(3e3),j=r(1163);let UserHead=e=>{let{user:n,featured:r,upcoming:a,vods:l}=e,s=(0,j.useRouter)(),{avatar_image_path:i,bio:o,name:c,username:d}=n,m="https://www.caffeine.tv",h="".concat("https://api-sam.caffeine.tv","/thumb"),v=c||"@".concat(d),y="".concat(v," Profile | Taimoor"),_="".concat(m).concat(s.asPath.split("?")[0]),N="".concat(m).concat(s.pathname.replace("[username]",d)),k="".concat(h).concat(i),C=o||"Welcome to the profile page of @".concat(d," - check out the collection of videos and upcoming events."),E=r?[r,...a||[],...l]:[...a||[],...l],O=null==E?void 0:E.map(e=>{var n,r,a,l,s;let i=e.broadcast_info,o="".concat(h).concat(null==i?void 0:i.preview_image_path),c=null==i?void 0:i.video_url,d=(0,w.Z)((0,b.B3)(null==i?void 0:i.content_duration)).replace("0Y0M0D",""),u=(null===(n=e.tags)||void 0===n?void 0:n.length)>0?"#".concat(e.tags.join(", #")):"",m="@".concat(e.username,": ").concat(null===(r=e.broadcast_info)||void 0===r?void 0:r.broadcast_title," ").concat(u);return{"@context":"https://schema.org","@type":"VideoObject",name:i.broadcast_title,description:m,thumbnailUrl:o,duration:d,contentUrl:c,contentRating:null==i?void 0:i.content_rating,interactionCount:e.view_count,uploadDate:null!==(a=null==i?void 0:i.broadcast_start_time)&&void 0!==a?a:"",startTime:null!==(l=null==i?void 0:i.broadcast_start_time)&&void 0!==l?l:"",endTime:null!==(s=null==i?void 0:i.broadcast_end_time)&&void 0!==s?s:"",commentCount:e.comment_count,creator:"@".concat(e.username)}}),P=JSON.stringify({"@context":"https://schema.org","@type":"Person",name:v,description:C,url:N,image:k,mainEntityOfPage:{"@type":"CreativeWork",hasPart:O}});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(g(),{children:[(0,u.jsx)("meta",{content:"@".concat(d),name:"author"}),(0,u.jsx)("meta",{content:m,property:"og:url"}),(0,u.jsx)("meta",{content:k,property:"og:image"}),(0,u.jsx)("meta",{content:"@".concat(d),property:"og:creator"}),(0,u.jsx)("script",{dangerouslySetInnerHTML:{__html:x().sanitize(P)},type:"application/ld+json"})]}),(0,u.jsx)(f.o,{canonicalUrl:_,description:C,title:y})]})};var y=r(8981),_=r(9473),N=r(377),k=r(5080),C=r(7294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var LiveCameraIcon=function(e){return C.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:159,height:92,fill:"none"},e),i||(i=C.createElement("g",{fill:"#1C1C1C"},C.createElement("path",{fillRule:"evenodd",d:"m128.859 46 21.224 19.956V26.044L128.859 46Zm-3.692-4.421v8.842l27.339 25.705c1.248 1.174 3.327.31 3.327-1.383V17.257c0-1.693-2.079-2.557-3.327-1.383l-27.339 25.705ZM8.25 5.75v80.5h111.167V5.75H8.25ZM6.333 0A3.833 3.833 0 0 0 2.5 3.833v84.334A3.833 3.833 0 0 0 6.333 92h115a3.834 3.834 0 0 0 3.834-3.833V3.833A3.834 3.834 0 0 0 121.333 0h-115Z",clipRule:"evenodd"}),C.createElement("path",{d:"M45.346 36.69c-.646 0-1.265.26-1.722.722a2.479 2.479 0 0 0-.714 1.742v19.714c0 .654.257 1.28.714 1.743a2.422 2.422 0 0 0 1.722.722c.647 0 1.266-.26 1.723-.722a2.479 2.479 0 0 0 .714-1.742V39.153c0-.653-.257-1.28-.714-1.742a2.422 2.422 0 0 0-1.723-.722ZM94.764 57.723a2.48 2.48 0 0 0 .714-1.743 2.48 2.48 0 0 0-.714-1.744 2.424 2.424 0 0 0-1.723-.722c-.647 0-1.267.26-1.724.722a7.219 7.219 0 0 1-2.366 1.61 7.152 7.152 0 0 1-2.798.559 7.251 7.251 0 0 1-4.222-1.355 7.384 7.384 0 0 1-2.673-3.574h16.64c.645 0 1.265-.26 1.722-.721a2.48 2.48 0 0 0 .713-1.743c0-2.85-.976-5.613-2.763-7.817a12.157 12.157 0 0 0-7.039-4.27 12.058 12.058 0 0 0-8.118 1.217 12.272 12.272 0 0 0-5.513 6.15 12.455 12.455 0 0 0-.404 8.292 12.312 12.312 0 0 0 4.888 6.67 12.074 12.074 0 0 0 15.38-1.53ZM86.153 41.62c1.512 0 2.987.473 4.221 1.356a7.384 7.384 0 0 1 2.673 3.573H79.258a7.384 7.384 0 0 1 2.673-3.573 7.251 7.251 0 0 1 4.222-1.356ZM35.603 61.333c.646 0 1.266-.26 1.722-.721a2.479 2.479 0 0 0 .714-1.743V29.298c0-.654-.257-1.28-.714-1.743a2.422 2.422 0 0 0-1.722-.722c-.646 0-1.266.26-1.723.722a2.479 2.479 0 0 0-.713 1.743v29.571c0 .654.256 1.28.713 1.743a2.422 2.422 0 0 0 1.723.721ZM45.346 31.762c1.346 0 2.437-1.103 2.437-2.464s-1.091-2.465-2.437-2.465c-1.345 0-2.436 1.104-2.436 2.465 0 1.36 1.091 2.464 2.436 2.464ZM60.22 59.977v.124l.11.184a.713.713 0 0 0 .121.148l.122.136.17.148.159.11.195.111.231.099.232.062h1.108l.232-.062.23-.099.196-.11.158-.111.158-.148.11-.123.11-.148.11-.185v-.123l9.744-19.715a2.49 2.49 0 0 0-.339-2.718 2.443 2.443 0 0 0-1.669-.844 2.41 2.41 0 0 0-1.77.597c-.241.212-.44.47-.583.76l-7.564 15.303-7.564-15.303a2.461 2.461 0 0 0-1.41-1.237 2.411 2.411 0 0 0-1.86.134 2.443 2.443 0 0 0-1.223 1.426 2.493 2.493 0 0 0 .132 1.882L60.22 59.977Z"}))))},E=r(8975),O=r(5289),P=r(512),T=r(2823),I=r(3300);let useIsOverflowHeight=e=>{let[n,r]=(0,C.useState)(null);return(0,C.useEffect)(()=>{let{current:n}=e,trigger=()=>{if(n){let e=n.scrollHeight>n.clientHeight;r(e)}},a=new ResizeObserver(trigger);return n&&("ResizeObserver"in window&&a.observe(n),trigger()),()=>{n&&a.unobserve(n)}},[e]),n},Bio=e=>{let{bio:n,clickableLinks:r,user:a}=e,{isMobile:l}=(0,I.h)(),[s,i]=(0,C.useState)(!0),o=(0,C.useRef)(null),c=useIsOverflowHeight(o),handleClick=()=>{(c||!s)&&i(!s)},trackLinkClick=()=>{var e,n,r;(0,m.oj)("bio_link_clicked",{broadcaster_username:null==a?void 0:null===(e=a.username)||void 0===e?void 0:e.toLowerCase(),canonical_url:"".concat(null===(n=location)||void 0===n?void 0:n.origin).concat(null===(r=location)||void 0===r?void 0:r.pathname),web_presentation:l?"mobile":"desktop"})};return(0,u.jsxs)("div",{className:"md:font-pop-subhead font-pop-caption relative font-medium text-dark-secondary md:flex",children:[(0,u.jsx)("span",{className:(0,P.Z)("max-w-3xl",{"max-md:line-clamp-2 max-md:pt-1":s}),ref:o,children:r?(e=>{let n=null==e?void 0:e.split(T.Ni);return null==n?void 0:n.map((e,n)=>(null==e?void 0:e.match(T.Ni))?(0,u.jsx)("a",{className:"text-dark-secondary underline",href:e,onClick:trackLinkClick,rel:"noreferrer",target:"_blank",children:e},"".concat(e,"-").concat(n)):(0,u.jsx)("span",{children:e},"".concat(e,"-").concat(n)))})(n):n}),l&&(0,u.jsxs)(u.Fragment,{children:[c&&s&&(0,u.jsx)("span",{className:"absolute bottom-0 right-0 whitespace-nowrap bg-black pl-[6px] text-white",onClick:handleClick,children:"...see more"}),!c&&!s&&(0,u.jsx)("span",{className:"block whitespace-nowrap bg-black text-white",onClick:handleClick,children:"see less"})]})]})};function ChevronForwardIcon_extends(){return(ChevronForwardIcon_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var ChevronForwardIcon=function(e){return C.createElement("svg",ChevronForwardIcon_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"#fff"},e),o||(o=C.createElement("path",{fill:"inherit",d:"m.44 9.94 6.499-6.5a1.497 1.497 0 0 1 2.122 0l6.499 6.5a1.5 1.5 0 0 1-2.121 2.122l-5.44-5.44-5.439 5.44A1.5 1.5 0 1 1 .44 9.94Z"})))};let CollapseButton=e=>{let{onClick:n,show:r}=e;return(0,u.jsx)("button",{className:"rounded-full bg-dark-quinary p-3",onClick:n,type:"button",children:(0,u.jsx)(ChevronForwardIcon,{className:(0,P.Z)({"rotate-180 fill-dark-tertiary":!r})})})};var A=r(4681),S=r(5675),R=r.n(S),U=r(8998);function UnfollowUserIcon_extends(){return(UnfollowUserIcon_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var UnfollowUserIcon=function(e){return C.createElement("svg",UnfollowUserIcon_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:21,fill:"none"},e),c||(c=C.createElement("g",{clipPath:"url(#UnfollowUserIcon_svg__a)"},C.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:.55,strokeWidth:2,d:"M13.333 18v-1.667A3.333 3.333 0 0 0 10 13H4.166a3.333 3.333 0 0 0-3.333 3.333V18m18.333-8.333h-5m-3.75-3.334a3.333 3.333 0 1 1-6.666 0 3.333 3.333 0 0 1 6.666 0Z"}))),d||(d=C.createElement("defs",null,C.createElement("clipPath",{id:"UnfollowUserIcon_svg__a"},C.createElement("path",{fill:"#fff",d:"M0 .5h20v20H0z"})))))},F=r(5152),Z=r.n(F),z=r(819);let L=Z()(()=>r.e(734).then(r.bind(r,7482)).then(e=>e.ConfirmationModal),{loadableGenerated:{webpack:()=>[7482]},ssr:!1}),ProfileMenu=e=>{let{user:n}=e,r=(0,_.I0)(),{isMobile:a}=(0,I.h)(),l=(0,_.v9)(e=>e.user),{mutateAsync:s}=(0,z.hO)(),[i,o]=(0,C.useState)(!1),handleUnfollow=async()=>{var e;let i=null===(e=l.followed)||void 0===e?void 0:e.filter(e=>e.caid!==n.caid);await s({unfollowedUserId:n.caid}),r((0,y.Nq)({...l,followed:i})),(0,m.oj)("modal_action",{item_source:m.f4.profile,action_type:"unfollow",broadcaster_caid:n.caid,broadcaster_username:n.username,caid:l.caid,web_presentation:a?"mobile":"desktop"}),o(!1)},c=(0,C.useMemo)(()=>{var e;return null===(e=l.followed)||void 0===e?void 0:e.some(e=>e.caid===n.caid)},[l.followed,n.caid]);if(c){let e=(0,u.jsx)("div",{className:"flex translate-x-1 cursor-pointer outline-none",children:(0,u.jsx)("div",{className:"h-full w-full text-2xl font-bold text-dark-tertiary",children:"︙"})});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(U.h,{panelClassName:"top-3",triggerButton:e,children:[(0,u.jsx)(U.X,{iconRight:(0,u.jsx)(UnfollowUserIcon,{}),label:"Unfollow",onClick:()=>o(!0)}),(0,u.jsx)(U.X,{label:"Cancel"})]}),i&&(0,u.jsx)(L,{cancelButtonText:"Cancel",confirmButtonText:"Unfollow",confirmedCancelText:"Close",confirmedMessage:"You unfollowed ".concat(n.username),isOpen:i,onClose:()=>o(!1),onSubmit:handleUnfollow,prompt:"Are you sure you want to unfollow ".concat(n.username,"? You'll no longer be notified when they go live or see what they're watching"),title:"Unfollowing"})]})}return null};var B=r(906);let Snippet=e=>{let{onClickCallback:n,user:r,toggleShowSuggested:a,showSuggested:l,suggestedCreatorsForYou:s}=e,{avatar_image_path:i,badge:o,bio:c,caid:d,followers_count:m,name:f,username:h}=r,{isMobile:x}=(0,I.h)(),v="".concat("".concat("https://api-sam.caffeine.tv","/thumb")).concat(i,"?auto=webp&width=216&height=216&fit=crop"),g=(0,B.G)(m,!0),b=(0,_.v9)(e=>e.user),w=null===b.isSignin||(null==b?void 0:b.username)===h,j=(0,u.jsx)(A.e,{broadcasterCaid:d,broadcasterUsername:h,buttonType:"profilePage",displayText:b.isSignin?void 0:"Get live notifications",onClickCallback:n});return(0,u.jsxs)("div",{className:"mb-4 flex flex-col gap-3 px-6 pt-2 max-md:max-h-full",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"relative flex w-full items-center py-1 md:py-2",children:[(0,u.jsx)(R(),{alt:"avatar",className:"mr-2 h-16 w-16 overflow-hidden text-ellipsis rounded-full border border-dark-quaternary object-cover md:h-36 md:w-36",height:64,priority:!0,src:v,unoptimized:!0,width:64}),(0,u.jsxs)("div",{className:"flex flex-1 flex-col justify-center",children:[(0,u.jsxs)("h3",{className:"flex items-center gap-4 md:h-10",children:[(0,u.jsx)("span",{className:"font-pop-subhead md:font-pop-title-2 text-ellipsis font-semibold",children:f||h}),!f&&(0,u.jsx)(O.C,{badge:o,className:"[&>*]:h-5 [&>*]:w-6"}),!x&&!w&&(0,u.jsx)("div",{className:"w-60 max-md:hidden",children:j}),(0,u.jsx)(ProfileMenu,{user:r})]}),(0,u.jsxs)("p",{className:"font-pop-caption md:font-pop-subhead flex w-fit gap-[2px] pt-0.5 font-medium text-dark-tertiary max-md:flex-col md:gap-1 md:pt-3",children:[(0,u.jsx)("span",{className:"flex items-center",children:!!f&&(0,u.jsxs)(u.Fragment,{children:["@",h,(0,u.jsx)(O.C,{badge:o,className:"[&>*]:h-4 [&>*]:w-5"})]})}),(0,u.jsx)("span",{className:"max-md:hidden",children:" \xb7 "}),(0,u.jsxs)("span",{className:"",children:[g," ",1===Number(g)?"Follower":"Followers"]})]}),!x&&(0,u.jsx)("div",{className:"pt-2 max-md:hidden",children:(0,u.jsx)(Bio,{bio:c,clickableLinks:!!o,user:r})})]})]}),(0,u.jsx)("div",{className:"md:hidden",children:(0,u.jsx)(Bio,{bio:c,clickableLinks:!!o,user:r})})]}),(0,u.jsxs)("div",{className:"flex gap-x-2 md:hidden",children:[j,Number(null==s?void 0:s.length)>0&&(0,u.jsx)(CollapseButton,{onClick:a,show:l})]})]})};var V=r(1664),H=r.n(V);let SuggestedCreatorsForYou=e=>{let{users:n}=e;return(0,u.jsx)("ul",{className:"scrollbar-hide flex snap-x snap-proximity overflow-x-auto",children:n.map(e=>(0,u.jsx)("li",{className:"min-w-fit p-2",children:(0,u.jsxs)(H(),{href:"/".concat(e.username,"/profile"),children:[(0,u.jsx)("div",{className:"rounded-full border-2 border-white/20",children:(0,u.jsx)(R(),{alt:"".concat(e.username," avatar"),className:"h-[3.5rem] w-[3.5rem] rounded-full border-2 border-black",height:56,src:"".concat("https://api-sam.caffeine.tv","/thumb").concat(e.avatar_image_path,"?auto=webp&width=90&height=90&fit=crop"),unoptimized:!0,width:56})}),(0,u.jsx)("p",{className:"font-pop-caption-sm mt-2 max-w-[3.75rem] overflow-hidden text-ellipsis text-center font-medium text-dark-secondary",children:e.username})]})},e.username))})};var D=r(2351),G=r(9946),Y=r(2984),W=r(1363),$=r(4575),X=r(6723),K=r(3784),J=r(4157),Q=r(3855),ee=r(6045);function p({onFocus:e}){let[n,r]=(0,C.useState)(!0);return n?C.createElement(ee._,{as:"button",type:"button",features:ee.A.Focusable,onFocus:n=>{n.preventDefault();let a,l=50;a=requestAnimationFrame(function t(){if(l--<=0){a&&cancelAnimationFrame(a);return}if(e()){r(!1),cancelAnimationFrame(a);return}a=requestAnimationFrame(t)})}}):null}var et=r(3781),en=r(1021),er=r(5466);let ea=C.createContext(null);function stable_collection_C({children:e}){let n=C.useRef({groups:new Map,get(e,n){var r;let a=this.groups.get(e);a||(a=new Map,this.groups.set(e,a));let l=null!=(r=a.get(n))?r:0;return a.set(n,l+1),[Array.from(a.keys()).indexOf(n),function(){let e=a.get(n);e>1?a.set(n,e-1):a.delete(n)}]}});return C.createElement(ea.Provider,{value:n},e)}function stable_collection_d(e){let n=C.useContext(ea);if(!n)throw Error("You must wrap your component in a <StableCollection>");let r=function(){var e,n,r;let a=null!=(r=null==(n=null==(e=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)?void 0:e.ReactCurrentOwner)?void 0:n.current)?r:null;if(!a)return Symbol();let l=[],s=a;for(;s;)l.push(s.index),s=s.return;return"$."+l.join(".")}(),[a,l]=n.current.get(e,r);return C.useEffect(()=>l,[]),a}var el=((a=el||{})[a.Forwards=0]="Forwards",a[a.Backwards=1]="Backwards",a),es=((l=es||{})[l.Less=-1]="Less",l[l.Equal=0]="Equal",l[l.Greater=1]="Greater",l),ei=((s=ei||{})[s.SetSelectedIndex=0]="SetSelectedIndex",s[s.RegisterTab=1]="RegisterTab",s[s.UnregisterTab=2]="UnregisterTab",s[s.RegisterPanel=3]="RegisterPanel",s[s.UnregisterPanel=4]="UnregisterPanel",s);let eo={0(e,n){var r;let a=(0,$.z2)(e.tabs,e=>e.current),l=(0,$.z2)(e.panels,e=>e.current),s=a.filter(e=>{var n;return!(null!=(n=e.current)&&n.hasAttribute("disabled"))}),i={...e,tabs:a,panels:l};if(n.index<0||n.index>a.length-1){let r=(0,Y.E)(Math.sign(n.index-e.selectedIndex),{[-1]:()=>1,0:()=>(0,Y.E)(Math.sign(n.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});return 0===s.length?i:{...i,selectedIndex:(0,Y.E)(r,{0:()=>a.indexOf(s[0]),1:()=>a.indexOf(s[s.length-1])})}}let o=a.slice(0,n.index),c=[...a.slice(n.index),...o].find(e=>s.includes(e));if(!c)return i;let d=null!=(r=a.indexOf(c))?r:e.selectedIndex;return -1===d&&(d=e.selectedIndex),{...i,selectedIndex:d}},1(e,n){var r;if(e.tabs.includes(n.tab))return e;let a=e.tabs[e.selectedIndex],l=(0,$.z2)([...e.tabs,n.tab],e=>e.current),s=null!=(r=l.indexOf(a))?r:e.selectedIndex;return -1===s&&(s=e.selectedIndex),{...e,tabs:l,selectedIndex:s}},2:(e,n)=>({...e,tabs:e.tabs.filter(e=>e!==n.tab)}),3:(e,n)=>e.panels.includes(n.panel)?e:{...e,panels:(0,$.z2)([...e.panels,n.panel],e=>e.current)},4:(e,n)=>({...e,panels:e.panels.filter(e=>e!==n.panel)})},ec=(0,C.createContext)(null);function M(e){let n=(0,C.useContext)(ec);if(null===n){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,M),n}return n}ec.displayName="TabsDataContext";let ed=(0,C.createContext)(null);function q(e){let n=(0,C.useContext)(ed);if(null===n){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,q),n}return n}function fe(e,n){return(0,Y.E)(n.type,eo,e,n)}ed.displayName="TabsActionsContext";let eu=C.Fragment,em=D.AN.RenderStrategy|D.AN.Static,ep=Object.assign((0,D.yV)(function(e,n){var r,a;let l=(0,G.M)(),{id:s=`headlessui-tabs-tab-${l}`,...i}=e,{orientation:o,activation:c,selectedIndex:d,tabs:u,panels:m}=M("Tab"),f=q("Tab"),h=M("Tab"),x=(0,C.useRef)(null),v=(0,K.T)(x,n);(0,X.e)(()=>f.registerTab(x),[f,x]);let g=stable_collection_d("tabs"),b=u.indexOf(x);-1===b&&(b=g);let w=b===d,j=(0,et.z)(e=>{var n;let r=e();if(r===$.fE.Success&&"auto"===c){let e=null==(n=(0,er.r)(x))?void 0:n.activeElement,r=h.tabs.findIndex(n=>n.current===e);-1!==r&&f.change(r)}return r}),y=(0,et.z)(e=>{let n=u.map(e=>e.current).filter(Boolean);if(e.key===W.R.Space||e.key===W.R.Enter){e.preventDefault(),e.stopPropagation(),f.change(b);return}switch(e.key){case W.R.Home:case W.R.PageUp:return e.preventDefault(),e.stopPropagation(),j(()=>(0,$.jA)(n,$.TO.First));case W.R.End:case W.R.PageDown:return e.preventDefault(),e.stopPropagation(),j(()=>(0,$.jA)(n,$.TO.Last))}if(j(()=>(0,Y.E)(o,{vertical:()=>e.key===W.R.ArrowUp?(0,$.jA)(n,$.TO.Previous|$.TO.WrapAround):e.key===W.R.ArrowDown?(0,$.jA)(n,$.TO.Next|$.TO.WrapAround):$.fE.Error,horizontal:()=>e.key===W.R.ArrowLeft?(0,$.jA)(n,$.TO.Previous|$.TO.WrapAround):e.key===W.R.ArrowRight?(0,$.jA)(n,$.TO.Next|$.TO.WrapAround):$.fE.Error}))===$.fE.Success)return e.preventDefault()}),_=(0,C.useRef)(!1),N=(0,et.z)(()=>{var e;_.current||(_.current=!0,null==(e=x.current)||e.focus(),f.change(b),(0,en.Y)(()=>{_.current=!1}))}),k=(0,et.z)(e=>{e.preventDefault()}),E=(0,C.useMemo)(()=>({selected:w}),[w]),O={ref:v,onKeyDown:y,onMouseDown:k,onClick:N,id:s,role:"tab",type:(0,J.f)(e,x),"aria-controls":null==(a=null==(r=m[b])?void 0:r.current)?void 0:a.id,"aria-selected":w,tabIndex:w?0:-1};return(0,D.sY)({ourProps:O,theirProps:i,slot:E,defaultTag:"button",name:"Tabs.Tab"})}),{Group:(0,D.yV)(function(e,n){let{defaultIndex:r=0,vertical:a=!1,manual:l=!1,onChange:s,selectedIndex:i=null,...o}=e,c=a?"vertical":"horizontal",d=l?"manual":"auto",u=null!==i,m=(0,K.T)(n),[f,h]=(0,C.useReducer)(fe,{selectedIndex:null!=i?i:r,tabs:[],panels:[]}),x=(0,C.useMemo)(()=>({selectedIndex:f.selectedIndex}),[f.selectedIndex]),v=(0,Q.E)(s||(()=>{})),g=(0,Q.E)(f.tabs),b=(0,C.useMemo)(()=>({orientation:c,activation:d,...f}),[c,d,f]),w=(0,et.z)(e=>(h({type:1,tab:e}),()=>h({type:2,tab:e}))),j=(0,et.z)(e=>(h({type:3,panel:e}),()=>h({type:4,panel:e}))),y=(0,et.z)(e=>{_.current!==e&&v.current(e),u||h({type:0,index:e})}),_=(0,Q.E)(u?e.selectedIndex:f.selectedIndex),N=(0,C.useMemo)(()=>({registerTab:w,registerPanel:j,change:y}),[]);return(0,X.e)(()=>{h({type:0,index:null!=i?i:r})},[i]),(0,X.e)(()=>{if(void 0===_.current||f.tabs.length<=0)return;let e=(0,$.z2)(f.tabs,e=>e.current);e.some((e,n)=>f.tabs[n]!==e)&&y(e.indexOf(f.tabs[_.current]))}),C.createElement(stable_collection_C,null,C.createElement(ed.Provider,{value:N},C.createElement(ec.Provider,{value:b},b.tabs.length<=0&&C.createElement(p,{onFocus:()=>{var e,n;for(let r of g.current)if((null==(e=r.current)?void 0:e.tabIndex)===0)return null==(n=r.current)||n.focus(),!0;return!1}}),(0,D.sY)({ourProps:{ref:m},theirProps:o,slot:x,defaultTag:eu,name:"Tabs"}))))}),List:(0,D.yV)(function(e,n){let{orientation:r,selectedIndex:a}=M("Tab.List"),l=(0,K.T)(n);return(0,D.sY)({ourProps:{ref:l,role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:a},defaultTag:"div",name:"Tabs.List"})}),Panels:(0,D.yV)(function(e,n){let{selectedIndex:r}=M("Tab.Panels"),a=(0,K.T)(n),l=(0,C.useMemo)(()=>({selectedIndex:r}),[r]);return(0,D.sY)({ourProps:{ref:a},theirProps:e,slot:l,defaultTag:"div",name:"Tabs.Panels"})}),Panel:(0,D.yV)(function(e,n){var r,a,l,s;let i=(0,G.M)(),{id:o=`headlessui-tabs-panel-${i}`,tabIndex:c=0,...d}=e,{selectedIndex:u,tabs:m,panels:f}=M("Tab.Panel"),h=q("Tab.Panel"),x=(0,C.useRef)(null),v=(0,K.T)(x,n);(0,X.e)(()=>h.registerPanel(x),[h,x]);let g=stable_collection_d("panels"),b=f.indexOf(x);-1===b&&(b=g);let w=b===u,j=(0,C.useMemo)(()=>({selected:w}),[w]),y={ref:v,id:o,role:"tabpanel","aria-labelledby":null==(a=null==(r=m[b])?void 0:r.current)?void 0:a.id,tabIndex:w?c:-1};return w||null!=(l=d.unmount)&&!l||null!=(s=d.static)&&s?(0,D.sY)({ourProps:y,theirProps:d,slot:j,defaultTag:"div",features:em,visible:w,name:"Tabs.Panel"}):C.createElement(ee._,{as:"span",...y})})});var ef=r(4218),eh=r(2311),ex=r(8272),ev=r(4021);let useProfileVideos=e=>{let{initialVideos:n,username:r}=e,[a,l]=(0,C.useState)(n.length||null),[s,i]=(0,C.useState)(n||null);(0,ev.Z)(()=>{l(n.length||null),i(n||null)},[r]);let o=(0,ex.c)({enabled:!!r,onSuccess:e=>{let{data:n}=e;i([...s||[],...n.vod_activities])},page:a,username:r,limit:12});return{videos:s,isLoading:o.isLoading,setNextPage:l}},eg=Z()(()=>r.e(121).then(r.bind(r,9538)).then(e=>e.OverlayWithCTA),{loadableGenerated:{webpack:()=>[9538]},ssr:!1}),UserProfile=e=>{let{user:n,featuredActivity:r,startPosition:a,upcomingActivities:l,videoActivities:s,suggestedCreatorsForYou:i}=e,o=(0,_.I0)(),[c,d]=(0,C.useState)(!0),m=(0,eh.Z)(),f=(0,_.v9)(e=>e.user),{isMobile:h}=(0,I.h)(),x=i&&(c||!1===h),v=n.username.length<=14?"Watch ".concat(n.username," Live in App"):"Watch Live & Free in the App",{videos:g,isLoading:b,setNextPage:w}=useProfileVideos({initialVideos:s,username:n.username}),j=null==l?void 0:l.filter(e=>e.activity_id!==r.activity_id),handleBottomElementScroll=()=>{b||w((null==g?void 0:g.length)||0)},StyledSubheader=e=>{let{title:n}=e;return(0,u.jsx)("h2",{className:"md:font-osw-title-2 font-osw-title-3 ml-6 mt-6 !font-medium uppercase",children:n})};return(0,u.jsxs)("main",{className:"mx-auto max-w-md pt-16 text-white md:min-h-[calc(100vh-82px)] md:max-w-screen-2xl md:pt-14",children:[(0,u.jsx)(Snippet,{onClickCallback:e=>{(null==f?void 0:f.isSignin)||(e.preventDefault(),o((0,y.z2)(!0)))},showSuggested:c,suggestedCreatorsForYou:i,toggleShowSuggested:()=>{d(!c)},user:n}),x&&(null==i?void 0:i.length)>0&&(0,u.jsxs)("section",{className:"my-3 ml-3",children:[(0,u.jsx)("h5",{className:"font-pop-caption md:font-pop-subhead mb-2 ml-3 font-medium text-dark-secondary",children:"Suggested for you"}),(0,u.jsx)(SuggestedCreatorsForYou,{users:i})]}),(null==s?void 0:s.length)>0||(null==l?void 0:l.length)>0||r?(0,u.jsxs)(ep.Group,{children:[(0,u.jsx)(ep.List,{children:e=>{let{selectedIndex:n}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:(0,P.Z)("ml-6 flex gap-8",{"!mt-4":!x}),children:[(0,u.jsx)(ep,{children:(0,u.jsx)("span",{className:(0,P.Z)("font-pop-caption pb-1.5 font-bold uppercase tracking-[1.5px]",{"border-b-2":0===n,"text-dark-tertiary":0!==n}),children:"Featured"})}),Number(null==g?void 0:g.length)>0&&(0,u.jsx)(ep,{children:(0,u.jsx)("span",{className:(0,P.Z)("font-pop-caption pb-1.5 font-bold uppercase tracking-[1.5px]",{"border-b-2":1===n,"text-dark-tertiary":1!==n}),children:"Videos"})})]}),!!r&&(0,u.jsx)("hr",{className:"mt-1 border-dark-quaternary"})]})}}),(0,u.jsxs)(ep.Panels,{children:[(0,u.jsxs)(ep.Panel,{children:[r&&(0,u.jsx)("div",{className:"px-6 max-md:pt-4 md:px-2",children:(0,u.jsx)(k.Z,{activity:r,hasOneActivity:!1,hlsRef:m,isFeatured:!h,priority:!0,showCardHeader:!1,size:"large",startPosition:a,zoomOnHover:!0})}),!!j&&(0,u.jsxs)(u.Fragment,{children:[!h&&(0,u.jsx)("hr",{className:"mx-4 mt-4 border-dark-quaternary max-md:hidden"}),(0,u.jsx)(StyledSubheader,{title:"upcoming"}),(0,u.jsx)("div",{className:"pl-2",children:(0,u.jsx)(E.r,{hlsRef:m,tagActivities:j})})]}),Number(null==g?void 0:g.length)>0&&(0,u.jsxs)(u.Fragment,{children:[!h&&(0,u.jsx)("hr",{className:"mx-4 mt-4 border-dark-quaternary max-md:hidden"}),(0,u.jsx)(StyledSubheader,{title:"most recent"}),(0,u.jsx)(N.U,{activities:g,cardRow:h,className:"mx-6",handleBottomElementScroll:handleBottomElementScroll,hlsRef:m,initialActivitiesLength:s.length})]})]}),(0,u.jsx)(ep.Panel,{children:(0,u.jsx)(N.U,{activities:g,className:"mx-6",handleBottomElementScroll:handleBottomElementScroll,hlsRef:m,initialActivitiesLength:s.length})})]})]}):(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsxs)("div",{className:"relative top-20 flex flex-col items-center gap-6",children:[(0,u.jsx)(LiveCameraIcon,{}),(0,u.jsxs)("div",{className:"font-pop-card max-md:font-pop-footnote",children:[(0,u.jsx)("span",{className:"font-bold",children:"".concat(n.username," ")}),(0,u.jsx)("span",{className:"",children:"doesn't have any videos yet."})]})]})}),(0,u.jsx)(eg,{mobileText:v}),(0,u.jsx)(ef.WelcomeModal,{autoLoad:!1,video:r})]})};var eb=!0,profile=e=>{let{userFromServer:n,featuredActivity:r,startPosition:a,upcomingActivities:l,videoActivities:s,suggestedCreatorsForYou:i}=e;(0,m.iB)(m.f4.profile);let o=(0,j.useRouter)();return(0,C.useEffect)(()=>{o.query.activity_id&&o.replace(o.asPath.split("?")[0],void 0,{shallow:!0})},[o]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(UserHead,{featured:r,upcoming:l,user:n,vods:s}),(0,u.jsx)(UserProfile,{featuredActivity:r,startPosition:a,suggestedCreatorsForYou:i,upcomingActivities:l,user:n,videoActivities:s})]})}},8975:function(e,n,r){"use strict";r.d(n,{r:function(){return LiveUpcoming}});var a=r(5893),l=r(7294),s=r(5080),i=r(2314),o=r(9350);function Gradient(e){let{width:n,height:r="100%",position:l}=e,s="#000000",i="rgba(0, 0, 0, 0.0001)";return(0,a.jsx)("div",{style:{width:n,height:r,background:"linear-gradient(90deg, ".concat("right"===l?i:s," 0%, ").concat("right"===l?s:i," 100%)")}})}var c=r(512),d=r(3300);let LiveUpcoming=e=>{let{hlsRef:n,showCardHeader:r,tagActivities:u}=e,{isMobile:m}=(0,d.h)(),f=(0,l.useRef)(null);return(0,a.jsx)(i.l,{containerRef:f,leftArrow:(0,a.jsxs)("div",{className:"pointer-events-none absolute inset-y-0 left-0 z-10 hidden items-center md:flex",children:[(0,a.jsx)(Gradient,{width:"160px"}),(0,a.jsx)(o.Z,{className:"pointer-events-auto absolute left-0 rotate-180 text-dark-tertiary hover:text-dark-primary"})]}),rightArrow:(0,a.jsxs)("div",{className:"pointer-events-none absolute inset-y-0 right-0 hidden items-center md:flex",children:[(0,a.jsx)(Gradient,{position:"right",width:"160px"}),(0,a.jsx)(o.Z,{className:"pointer-events-auto absolute right-0 text-dark-tertiary hover:text-dark-primary"})]}),children:(0,a.jsx)("ul",{className:"scrollbar-hide relative flex w-full snap-x snap-proximity overflow-auto overflow-y-clip pl-4 pt-2 md:pb-2 md:pt-4",ref:f,children:null==u?void 0:u.map(e=>(0,a.jsx)("li",{className:(0,c.Z)("w-[calc(100%-1rem)] flex-none snap-center last:snap-end md:w-1/2 xl:w-1/3",{"pr-0":(null==u?void 0:u.length)===1,"pr-4":(null==u?void 0:u.length)>1}),children:(0,a.jsx)(s.Z,{activity:e,hasOneActivity:!1,hlsRef:n,priority:!0,showCardHeader:r,size:"large",zoomOnHover:!1===m})},e.activity_id))})})}},2823:function(e,n,r){"use strict";r.d(n,{Gc:function(){return s},Ni:function(){return c},ZH:function(){return l},jI:function(){return i},pD:function(){return o},s9:function(){return a}});let a=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,l=/^[a-zA-Z0-9].*/,s=/[^a-zA-Z0-9-_]/g,i=/^([0-9]{1,2}):([0-9]{2}):([0-9]{2})$/,o=/^\d{2}\/\d{2}\/\d{4}$/,c=/(https?:\/\/[^\s]+)/g},4021:function(e,n,r){"use strict";r.d(n,{Z:function(){return esm_useUpdateEffect}});var a=r(7294),esm_useUpdateEffect=function(e,n){var r,l=(r=(0,a.useRef)(!0)).current?(r.current=!1,!0):r.current;(0,a.useEffect)(function(){if(!l)return e()},n)}}},function(e){e.O(0,[412,554,980,501,316,851,165,266,218,774,888,179],function(){return e(e.s=2008)}),_N_E=e.O()}]);