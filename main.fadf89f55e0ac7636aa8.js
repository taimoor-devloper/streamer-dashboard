(this.webpackJsonp=this.webpackJsonp||[]).push([[3],{"./src/global-styles/core.scss":function(e,t,n){},"./src/main.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/react-dom/index.js"),o=n.n(i),s=n("./node_modules/react-router/es/index.js"),c=n("./node_modules/react-router-redux/lib/index.js"),l=n("./node_modules/@babel/runtime/regenerator/index.js"),u=n.n(l),d=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),_=n.n(d),m=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),g=n.n(m),b=n("./node_modules/redux/es/index.js"),p=n("./node_modules/react-hot-loader/index.js"),f=n("./node_modules/redux-saga/es/index.js"),h=n("./node_modules/redux-form/es/reducer.js"),v=n("./node_modules/redux-beacon/lib/index.js"),w=n("./node_modules/redux-beacon/targets/google-tag-manager/index.js"),C=n("./src/pieces/base/constants.js"),y=n("./src/pieces/store/get-environment.js"),j=n("./src/pieces/analytics/analytics-events.ts"),O=n("./node_modules/redux-saga/es/effects.js"),S=n("./node_modules/raven-js/src/singleton.js"),E=n.n(S),x=n("./node_modules/raven-for-redux/built/index.js"),k=n.n(x),I=n("./node_modules/bows/bows.js")("Create-sentry-raven-middleware"),T=Object(y.a)();E.a.config("https://1a1b5aad61754d60bdf81d5d22017b2f@sentry.io/111554",{release:C.P,environment:T,ignoreErrors:[],sampleRate:.001}).install();var F=function(){return"development"!==T&&"internal-builds"!==T?k()(E.a):(I("Sentry error reports are disabled in this environment"),function(){return function(e){return function(t){return e(t)}}})};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){g()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var M=n("./node_modules/bows/bows.js")("Create-store"),L=n("./src/pieces/base/application/application.actions.js"),B=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),A=n.n(B),D=n("./node_modules/react-hot-loader/root.js"),U=n("./node_modules/react-redux/es/index.js"),R=n("./node_modules/recompose/dist/Recompose.esm.js"),H=n("./node_modules/react-helmet/lib/Helmet.js"),W=n.n(H),V=n("./src/pieces/current-user/current-user.reducer.js"),z=(n("./src/pieces/stage/stage.reducer.js"),n("./node_modules/bows/bows.js")("Add-digital-item-editor-listener"),n("./node_modules/@apollo/react-common/lib/react-common.esm.js")),G=n("./node_modules/apollo-boost/lib/bundle.esm.js"),q=(n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),n("./src/pieces/lobby/lobby.graphql"),n("./src/pieces/lobby/detail-page.graphql"),n("./node_modules/bows/bows.js")("Lobby-v5-client"),new G.a({uri:"".concat(C.Zb,"/public/v5/lobby")})),J=q,Z=(n("./node_modules/bows/bows.js")("Application"),Object(R.a)(Object(U.b)(null,{ClickPrimaryMouseButton:L.c,DepressEscapeKey:L.d,SetRecentNotifications:V.SetRecentNotifications,UpdateNotificationsLastReadTime:V.UpdateNotificationsLastReadTime}),Object(R.d)({handleClick:function(e){return function(){return e.ClickPrimaryMouseButton()}},handleKeyDown:function(e){return function(t){"Escape"===t.key&&e.DepressEscapeKey()}}}))(function(e){var t=e.children,n=A()(e,["children"]);return Object(a.useEffect)(function(){n.routeListener(function(){n.SetRecentNotifications(null),n.UpdateNotificationsLastReadTime(!1)})},[]),r.a.createElement("div",{style:{height:"100%"},role:"presentation",onClick:n.handleClick,onKeyDown:n.handleKeyDown},t)})),Y=window.location.href,Q=Object(D.hot)(function(e){var t=e.history,n=e.routes,a=e.store;return r.a.createElement(U.a,{store:a},r.a.createElement(z.a,{client:J},r.a.createElement(Z,{routeListener:t.listenBefore},r.a.createElement(W.a,null,r.a.createElement("title",null,"Caffeine.tv"),r.a.createElement("meta",{property:"description",content:C.Xd}),r.a.createElement("meta",{name:"debug:full-url",content:Y}),r.a.createElement("meta",{name:"debug:mode",content:C.ib?"crawler (dynamic metadata enabled)":C.V?"crawler":"normal"}),r.a.createElement("meta",{name:"twitter:card",content:"summary"}),r.a.createElement("meta",{property:"og:title",content:"Caffeine"}),r.a.createElement("meta",{property:"og:url",content:"https://www.caffeine.tv/"}),r.a.createElement("meta",{property:"og:image",content:"https://assets.caffeine.tv/promotional-images/caffeine-social-logo.webp"}),r.a.createElement("meta",{property:"og:description",content:C.Xd}),r.a.createElement("meta",{property:"fb:app_id",content:"278354532550167"})),r.a.createElement(s.c,{history:t},n))))}),K=n("./node_modules/bows/bows.js")("Main"),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(f.d)(),r=Object(y.c)()||Object(y.d)()||Object(y.b)()?Object(v.createMiddleware)(j.a,Object(w.GoogleTagManager)()):null;r||M("Redux Beacon (Google Tag Manager event tracking) is disabled in this environment");var i=[F(),r,Object(c.routerMiddleware)(t),a].filter(function(e){return!!e}),o=[],s=function(){return n("./src/pieces sync recursive \\.reducer\\.(js|ts)$")};function l(e){if(!e||!e.default||!e.id)throw M("Omitting reducer",e),new Error("A reducer lacks a default export or exported id, omitting");return e}function d(){var e=s(),t=e.keys().map(e).map(l).filter(function(e){return!!e}).reduce(function(e,t){return N({},e,g()({},t.id,t.default))},{});return Object(b.c)(N({router:c.routerReducer,form:h.a},t))}var m=Object(b.e)(d(),e,b.d.apply(void 0,[b.a.apply(void 0,_()(i))].concat(o))),S=function(){return n("./src/pieces sync recursive \\.sagas?\\.(js|ts)$")},E=function(){};function x(){function e(){var e=S();return e.keys().map(e).map(function(e){return C.V?e.handleCrawler||E:e.default})}return u.a.mark(function t(){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e(),a=0;case 2:if(!(a<n.length)){t.next=8;break}return t.next=5,Object(O.e)(n[a]);case 5:a+=1,t.next=2;break;case 8:case"end":return t.stop()}},t)})}function k(){var e=x();a.run(e)}return k(),Object(p.cold)(m)}(window.___INITIAL_STATE__,s.d);window.store=X;var $=Object(c.syncHistoryWithStore)(s.d,X,{selectLocationState:function(e){return e.router}});window.addEventListener("unload",function(){K("deliberately breaking bfcache")});var ee=document.getElementById("root");X.dispatch(Object(L.e)()),function(){var e=n("./src/pieces/routing/create-routes.js").default(X);o.a.render(r.a.createElement(Q,{store:X,history:$,routes:e}),ee)}()},"./src/pieces sync recursive \\.reducer\\.(js|ts)$":function(e,t,n){var a={"./analytics/analytics.reducer.js":"./src/pieces/analytics/analytics.reducer.js","./authentication/authentication.reducer.js":"./src/pieces/authentication/authentication.reducer.js","./base/popover/popover.reducer.js":"./src/pieces/base/popover/popover.reducer.js","./base/simple-dialog/simple-dialog.reducer.js":"./src/pieces/base/simple-dialog/simple-dialog.reducer.js","./broadcast/broadcast.reducer.ts":"./src/pieces/broadcast/broadcast.reducer.ts","./current-user/current-user.reducer.js":"./src/pieces/current-user/current-user.reducer.js","./current-user/report-dialog/report-dialog.reducer.js":"./src/pieces/current-user/report-dialog/report-dialog.reducer.js","./feature-configuration/feature-configuration.reducer.js":"./src/pieces/feature-configuration/feature-configuration.reducer.js","./feed/feed.reducer.ts":"./src/pieces/feed/feed.reducer.ts","./footer/footer.reducer.js":"./src/pieces/footer/footer.reducer.js","./header/header.reducer.js":"./src/pieces/header/header.reducer.js","./home/landing.reducer.js":"./src/pieces/home/landing.reducer.js","./lobby/lobby.reducer.js":"./src/pieces/lobby/lobby.reducer.js","./monitoring/monitoring.reducer.js":"./src/pieces/monitoring/monitoring.reducer.js","./payment/cash-out.reducer.js":"./src/pieces/payment/cash-out.reducer.js","./payment/digital-items.reducer.js":"./src/pieces/payment/digital-items.reducer.js","./payment/stripe.reducer.js":"./src/pieces/payment/stripe.reducer.js","./payment/tipalti.reducer.js":"./src/pieces/payment/tipalti.reducer.js","./profile/profile.reducer.js":"./src/pieces/profile/profile.reducer.js","./push-notification/push-notification.reducer.js":"./src/pieces/push-notification/push-notification.reducer.js","./search/search.reducer.js":"./src/pieces/search/search.reducer.js","./settings/settings.reducer.js":"./src/pieces/settings/settings.reducer.js","./share-stage-menu/share-stage-menu.reducer.js":"./src/pieces/share-stage-menu/share-stage-menu.reducer.js","./sharing/sharing.reducer.ts":"./src/pieces/sharing/sharing.reducer.ts","./stage-director/stage-director.reducer.js":"./src/pieces/stage-director/stage-director.reducer.js","./stage-mobile/stage-mobile.reducer.js":"./src/pieces/stage-mobile/stage-mobile.reducer.js","./stage/reactions/reaction.reducer.js":"./src/pieces/stage/reactions/reaction.reducer.js","./stage/stage.reducer.js":"./src/pieces/stage/stage.reducer.js","./tag/tag.reducer.js":"./src/pieces/tag/tag.reducer.js","./users/users.reducer.js":"./src/pieces/users/users.reducer.js","./video/video.reducer.js":"./src/pieces/video/video.reducer.js","./web-broadcast-status/web-broadcast-status.reducer.js":"./src/pieces/web-broadcast-status/web-broadcast-status.reducer.js","./web-broadcast/web-broadcast.reducer.js":"./src/pieces/web-broadcast/web-broadcast.reducer.js"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="./src/pieces sync recursive \\.reducer\\.(js|ts)$"},"./src/pieces sync recursive \\.sagas?\\.(js|ts)$":function(e,t,n){var a={"./analytics/analytics.sagas.js":"./src/pieces/analytics/analytics.sagas.js","./analytics/threatmetrix.saga.js":"./src/pieces/analytics/threatmetrix.saga.js","./authentication/authentication.sagas.js":"./src/pieces/authentication/authentication.sagas.js","./base/application/application.sagas.js":"./src/pieces/base/application/application.sagas.js","./base/simple-dialog/simple-dialog.sagas.js":"./src/pieces/base/simple-dialog/simple-dialog.sagas.js","./current-user/current-user.sagas.js":"./src/pieces/current-user/current-user.sagas.js","./current-user/report-dialog/redesign-report-dialog.sagas.ts":"./src/pieces/current-user/report-dialog/redesign-report-dialog.sagas.ts","./current-user/report-dialog/report-dialog.sagas.js":"./src/pieces/current-user/report-dialog/report-dialog.sagas.js","./feature-configuration/feature-configuration.sagas.js":"./src/pieces/feature-configuration/feature-configuration.sagas.js","./footer/footer.sagas.js":"./src/pieces/footer/footer.sagas.js","./home/landing.sagas.js":"./src/pieces/home/landing.sagas.js","./lobby/lobby.sagas.js":"./src/pieces/lobby/lobby.sagas.js","./monitoring/monitoring.sagas.js":"./src/pieces/monitoring/monitoring.sagas.js","./payment/cash-out.sagas.js":"./src/pieces/payment/cash-out.sagas.js","./payment/digital-items.sagas.js":"./src/pieces/payment/digital-items.sagas.js","./payment/stripe.sagas.js":"./src/pieces/payment/stripe.sagas.js","./payment/tipalti.sagas.js":"./src/pieces/payment/tipalti.sagas.js","./profile/profile.sagas.js":"./src/pieces/profile/profile.sagas.js","./push-notification/push-notification.sagas.js":"./src/pieces/push-notification/push-notification.sagas.js","./redux-form-saga/form-actions.saga.js":"./src/pieces/redux-form-saga/form-actions.saga.js","./search/search.sagas.js":"./src/pieces/search/search.sagas.js","./settings/settings.sagas.js":"./src/pieces/settings/settings.sagas.js","./share-stage-menu/share-stage-menu.sagas.js":"./src/pieces/share-stage-menu/share-stage-menu.sagas.js","./sharing/sharing.sagas.ts":"./src/pieces/sharing/sharing.sagas.ts","./stage-director/stage-director.sagas.js":"./src/pieces/stage-director/stage-director.sagas.js","./stage-mobile/stage-mobile.sagas.js":"./src/pieces/stage-mobile/stage-mobile.sagas.js","./stage/reactions/reaction.sagas.js":"./src/pieces/stage/reactions/reaction.sagas.js","./stage/stage.sagas.js":"./src/pieces/stage/stage.sagas.js","./tag/tag.sagas.js":"./src/pieces/tag/tag.sagas.js","./users/users.sagas.js":"./src/pieces/users/users.sagas.js","./video/video.sagas.js":"./src/pieces/video/video.sagas.js","./web-broadcast-status/web-broadcast-status.sagas.js":"./src/pieces/web-broadcast-status/web-broadcast-status.sagas.js","./web-broadcast/web-broadcast.sagas.js":"./src/pieces/web-broadcast/web-broadcast.sagas.js"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="./src/pieces sync recursive \\.sagas?\\.(js|ts)$"},"./src/pieces/activity/activity-actions-menu.scss":function(e,t,n){e.exports={trigger:"activity-actions-menu__trigger___2l5NX buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",button:"activity-actions-menu__button___3lwpi buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",redesign_button:"activity-actions-menu__redesign_button___3R1l4 activity-actions-menu__button___3lwpi buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",buttonWithDarkTheme:"activity-actions-menu__buttonWithDarkTheme___Ibc1F buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",redesign_reportButton:"activity-actions-menu__redesign_reportButton___3X2Ls buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_reportButtonWithDarkTheme:"activity-actions-menu__redesign_reportButtonWithDarkTheme___2KH0R buttons__redesign_textOnlyButtonWithDarkTheme___2xWrf buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_profileIgnoreButton:"activity-actions-menu__redesign_profileIgnoreButton___1LVKx buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_profileReportButton:"activity-actions-menu__redesign_profileReportButton___2JUOM buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_profileReportButtonWithDarkTheme:"activity-actions-menu__redesign_profileReportButtonWithDarkTheme___MwkQK buttons__redesign_textOnlyButtonWithDarkTheme___2xWrf buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_profileIgnoreButtonWithDarkTheme:"activity-actions-menu__redesign_profileIgnoreButtonWithDarkTheme___1sDge buttons__redesign_textOnlyButtonWithDarkTheme___2xWrf buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",userActionsMenu:"activity-actions-menu__userActionsMenu___23d7L",followLink:"activity-actions-menu__followLink___2cfTp"}},"./src/pieces/activity/activity-card.scss":function(e,t,n){e.exports={iconsList:"activity-card__iconsList___2EHVL",ticketButton:"activity-card__ticketButton___2e3MC",vodPageMobileIconsList:"activity-card__vodPageMobileIconsList___3Y8mc",hashtagPageMobileIconsList:"activity-card__hashtagPageMobileIconsList___1ln-7",profilePageMobileIconsList:"activity-card__profilePageMobileIconsList___3CWcQ",lobbyPageMobileIconsList:"activity-card__lobbyPageMobileIconsList___3L0aX",upcomingPageMobileIconsList:"activity-card__upcomingPageMobileIconsList___1d-7h",avatar:"activity-card__avatar___3KVSi",statIconContainer:"activity-card__statIconContainer___2BHVR",statIconContainerMobile:"activity-card__statIconContainerMobile___3HS5-",statIconContainerUpcomingMobile:"activity-card__statIconContainerUpcomingMobile___y7prE",vodPageMobileViewCountContainer:"activity-card__vodPageMobileViewCountContainer___18uPA",upcomingPageViewCountContainer:"activity-card__upcomingPageViewCountContainer___22nER",counterIcon:"activity-card__counterIcon___1bye1",counterIconMobile:"activity-card__counterIconMobile___kEqy0",likeCountContainer:"activity-card__likeCountContainer___2BqPH",heartIcon:"activity-card__heartIcon___3c_bd",heartIconMobile:"activity-card__heartIconMobile___1d7bm",heartIconMobileUpcoming:"activity-card__heartIconMobileUpcoming___2pAMu",giveIcon:"activity-card__giveIcon___QgzCD",giveIconMobile:"activity-card__giveIconMobile___2UHwG",counter:"activity-card__counter___J79KI",vodPageMobileCounter:"activity-card__vodPageMobileCounter___3Gxtd",hashtagPageMobileCounter:"activity-card__hashtagPageMobileCounter___3K7JU",lobbyPageMobileCounter:"activity-card__lobbyPageMobileCounter___2b9iC",vodPageMobilePropsCounter:"activity-card__vodPageMobilePropsCounter___1QJ6V",hashtagPageMobilePropsCounter:"activity-card__hashtagPageMobilePropsCounter___3hiFA",profilePageMobilePropsCounter:"activity-card__profilePageMobilePropsCounter___3Cx3D",lobbyPageMobilePropsCounter:"activity-card__lobbyPageMobilePropsCounter___1OB4Q",upcomingPageMobilePropsCounter:"activity-card__upcomingPageMobilePropsCounter___28WTV",profilePageMobileCounter:"activity-card__profilePageMobileCounter___2DgJo",upcomingPageMobileCounter:"activity-card__upcomingPageMobileCounter___3ycZI",userContainer:"activity-card__userContainer___27DJV",lobbyPageMobileUserContainer:"activity-card__lobbyPageMobileUserContainer___2yQS2",usernameContainer:"activity-card__usernameContainer___3cIcv",vodPageUsernameContainer:"activity-card__vodPageUsernameContainer___1gn20",vodPageMobileUsernameContainer:"activity-card__vodPageMobileUsernameContainer___Okctk",hashtagPageMobileUsernameContainer:"activity-card__hashtagPageMobileUsernameContainer___3fR01",lobbyMobileUsernameContainer:"activity-card__lobbyMobileUsernameContainer___qt7iR",profileLinkContainer:"activity-card__profileLinkContainer___1Tk18",hashtagPageProfileLinkContainer:"activity-card__hashtagPageProfileLinkContainer___1JKU2",hashtagPageMobileProfileLinkContainer:"activity-card__hashtagPageMobileProfileLinkContainer___1SIUp",vodPageProfileLinkContainer:"activity-card__vodPageProfileLinkContainer___3tSZV",lobbyPageProfileLinkContainer:"activity-card__lobbyPageProfileLinkContainer___3Y8kK",lobbyPageMobileProfileLinkContainer:"activity-card__lobbyPageMobileProfileLinkContainer___1OGg_",profileLinkAndBadgeContainer:"activity-card__profileLinkAndBadgeContainer___KhNH0",profilePageMobileUsernameContainer:"activity-card__profilePageMobileUsernameContainer___2on75",lobbyPageMobileUsernameContainer:"activity-card__lobbyPageMobileUsernameContainer___1tFrE",username:"activity-card__username___2y6DE",usernameMobile:"activity-card__usernameMobile___16cB6",vodPageUsername:"activity-card__vodPageUsername___2oXRj",vodPageMobileUsername:"activity-card__vodPageMobileUsername___3e8xE",profilePageMobileUsername:"activity-card__profilePageMobileUsername___1O7aI",name:"activity-card__name___2rhPu",nameMobile:"activity-card__nameMobile___1LkTS",badge:"activity-card__badge___22Dlc",vodPageMobileBadge:"activity-card__vodPageMobileBadge___2_lXl",hashtagPageMobileBadge:"activity-card__hashtagPageMobileBadge___1GQxr",upcomingPageMobileBadge:"activity-card__upcomingPageMobileBadge___3eGRR",small:"activity-card__small___14V2f",medium:"activity-card__medium___3zmG_",large:"activity-card__large___3p0-o",card:"activity-card__card___3TC8M",externalCard:"activity-card__externalCard___3oOGs",cardHeader:"activity-card__cardHeader___22Egj",cardHeaderMobile:"activity-card__cardHeaderMobile___27Uzt",cardContent:"activity-card__cardContent___3OuEd",vodPageMobileCardContent:"activity-card__vodPageMobileCardContent___2r4p3",hashtagPageMobileCardContent:"activity-card__hashtagPageMobileCardContent___2N9VY",profilePageMobileCardContent:"activity-card__profilePageMobileCardContent___3BuQb",lobbyPageMobileCardContent:"activity-card__lobbyPageMobileCardContent___1VPwg",followUser:"activity-card__followUser___3CIIQ",disableInsideButton:"activity-card__disableInsideButton___BCvkB",vodPageFollowUser:"activity-card__vodPageFollowUser___1p4vQ",vodPageFollowUserMobile:"activity-card__vodPageFollowUserMobile___2uTyG",hashtagPageFollowUserMobile:"activity-card__hashtagPageFollowUserMobile___aCmxL",lobbyPageFollowUserMobile:"activity-card__lobbyPageFollowUserMobile___1nhUQ",followUserMobile:"activity-card__followUserMobile___TgaJV",tagContainer:"activity-card__tagContainer___Tm1QH",vodPageMobileTagContainer:"activity-card__vodPageMobileTagContainer___73xQF",hashtagPageMobileTagContainer:"activity-card__hashtagPageMobileTagContainer___3DLgh",profilePageMobileTagContainer:"activity-card__profilePageMobileTagContainer___tCFrp",lobbyPageMobileTagContainer:"activity-card__lobbyPageMobileTagContainer___1j4VP",tag:"activity-card__tag___AspS4",eventDate:"activity-card__eventDate___jTtnP",hashtagPageMobileEventdate:"activity-card__hashtagPageMobileEventdate___1B7Jh",profilePageMobileEventdate:"activity-card__profilePageMobileEventdate___15Ohl",lobbyPageMobileEventdate:"activity-card__lobbyPageMobileEventdate___2uqoU",vodPageMobileEventDate:"activity-card__vodPageMobileEventDate___LKO1o",upcomingTitleContainer:"activity-card__upcomingTitleContainer___17dtM",titleContainer:"activity-card__titleContainer___3kIeH",titleContainerMobile:"activity-card__titleContainerMobile___L6qw0",vodPageMobileTitleContainer:"activity-card__vodPageMobileTitleContainer___15Fkr",profilePageMobileTitleContainer:"activity-card__profilePageMobileTitleContainer___SEXJr",hashtagPageMobileTitleContainer:"activity-card__hashtagPageMobileTitleContainer___3lC_L",lobbyPageMobileTitleContainer:"activity-card__lobbyPageMobileTitleContainer___3HGsR",title:"activity-card__title___6A0RB",vodTitle:"activity-card__vodTitle___2Ehup",vodPageMobileTitle:"activity-card__vodPageMobileTitle___nQKgO",vodPageMobileTitleIos:"activity-card__vodPageMobileTitleIos___g3Xxc",hashtagPageMobileTitle:"activity-card__hashtagPageMobileTitle___1Jdf9",profilePageMobileTitle:"activity-card__profilePageMobileTitle___3W1D1",lobbyPageMobileTitle:"activity-card__lobbyPageMobileTitle___19ZWo",broadcastCardActions:"activity-card__broadcastCardActions___3lzsf",vodPageMobilebroadcastCardActions:"activity-card__vodPageMobilebroadcastCardActions___1Izub",hashtagPageMobileBroadcastCardActions:"activity-card__hashtagPageMobileBroadcastCardActions___1N4Cm",lobbyPageMobileBroadcastCardActions:"activity-card__lobbyPageMobileBroadcastCardActions___2Sc1S",hashtagPageMobileEntertainerProfileImage:"activity-card__hashtagPageMobileEntertainerProfileImage___2SOMB",profilePageMobileEntertainerProfileImage:"activity-card__profilePageMobileEntertainerProfileImage___3cz8f",vodPageMobileEntertainerProfileImage:"activity-card__vodPageMobileEntertainerProfileImage___8PowO",lobbyPageMobileEntertainerProfileImage:"activity-card__lobbyPageMobileEntertainerProfileImage___C7LoA",chatIcon:"activity-card__chatIcon___16sJo",chatIconMobile:"activity-card__chatIconMobile___2p3gv",chatIconMobileUpcoming:"activity-card__chatIconMobileUpcoming___3oyb1",embedButtonPopover:"activity-card__embedButtonPopover___2VK-3",embedButton:"activity-card__embedButton___3lUEp",stageStatusBadge:"activity-card__stageStatusBadge___STbOj",previewImageContainer:"activity-card__previewImageContainer___3NfUw",previewHlsVideo:"activity-card__previewHlsVideo___27KFE",top:"activity-card__top___2d1KZ",dateTime:"activity-card__dateTime___Dqvlf",dateTimeMobileUpcoming:"activity-card__dateTimeMobileUpcoming___2ExO3",hideActivityCardVideoContainer:"activity-card__hideActivityCardVideoContainer___IE8j-",showActivityCardVideoContainer:"activity-card__showActivityCardVideoContainer___3cl1y",vodPageShowActivityCardVideoContainer:"activity-card__vodPageShowActivityCardVideoContainer___288ba",cardImageContainer:"activity-card__cardImageContainer___2H0H2",showActivityCardImageContainer:"activity-card__showActivityCardImageContainer___2fhUq",hideActivityCardImageContainer:"activity-card__hideActivityCardImageContainer___7M9Rm",loader:"activity-card__loader___qvMJK",rotation:"activity-card__rotation___1jZkq",eventImageWrapper:"activity-card__eventImageWrapper___1kCqi",unenforcedTitleContainer:"activity-card__unenforcedTitleContainer___1as4w",paywallHeader:"activity-card__paywallHeader___19ZAO",paywallTitle:"activity-card__paywallTitle___33nbf",unenforcedButton:"activity-card__unenforcedButton___3ch4N"}},"./src/pieces/activity/embed-button.scss":function(e,t,n){e.exports={embedButtonPopover:"embed-button__embedButtonPopover___3oCIU",embedButton:"embed-button__embedButton___1x4TH"}},"./src/pieces/activity/hero-activity-card.scss":function(e,t,n){e.exports={iconsList:"hero-activity-card__iconsList___BvKep",avatar:"hero-activity-card__avatar___3vFts",statIconContainer:"hero-activity-card__statIconContainer___3njBs",counterIcon:"hero-activity-card__counterIcon___2Wej8",heartIcon:"hero-activity-card__heartIcon___2wPKu",counter:"hero-activity-card__counter___2WAHk",userContainer:"hero-activity-card__userContainer___3t7D3",username:"hero-activity-card__username___2_R4W",badge:"hero-activity-card__badge___3i4ii",small:"hero-activity-card__small___25414",medium:"hero-activity-card__medium___2XIRV",large:"hero-activity-card__large___jMa2g",cardContent:"hero-activity-card__cardContent___2n3h8",followUser:"hero-activity-card__followUser___5lrKj",tagContainer:"hero-activity-card__tagContainer___15k89",tag:"hero-activity-card__tag___3LVfz",eventDate:"hero-activity-card__eventDate___SxNZ4",titleContainer:"hero-activity-card__titleContainer___2QBq9",title:"hero-activity-card__title___3Z3JO",broadcastCardActions:"hero-activity-card__broadcastCardActions___3IFgp",chatIcon:"hero-activity-card__chatIcon___1djlN",stageStatusBadge:"hero-activity-card__stageStatusBadge___3rfyX",previewImageContainer:"hero-activity-card__previewImageContainer___3k4PQ",cardHeader:"hero-activity-card__cardHeader___2SWdQ",avatarImageContainer_avatar:"hero-activity-card__avatarImageContainer_avatar___DARrB",userInfoContainer:"hero-activity-card__userInfoContainer___3p4U7",userInfoContainer_username:"hero-activity-card__userInfoContainer_username___1Rimd",userInfoContainer_badge:"hero-activity-card__userInfoContainer_badge___1fB7v",userInfoContainer_followLink:"hero-activity-card__userInfoContainer_followLink___3m6fx",nameContainer:"hero-activity-card__nameContainer___2k5pr",nameContainer_name:"hero-activity-card__nameContainer_name___3R0cu",aboutContainer:"hero-activity-card__aboutContainer___1xBIJ",feed:"hero-activity-card__feed___2N1YP",followBrowseContainer:"hero-activity-card__followBrowseContainer___qjmg6",topPicks:"hero-activity-card__topPicks___2FIQT",heroTitle:"hero-activity-card__heroTitle___aaeYa",heroOverlayStyle:"hero-activity-card__heroOverlayStyle___efc7v",heroContainer:"hero-activity-card__heroContainer___OwB3R",floatRight:"hero-activity-card__floatRight___FU-08",floatLeft:"hero-activity-card__floatLeft___k6dD2",bottomToolbar:"hero-activity-card__bottomToolbar___2qdSn",bottomToolbar_content:"hero-activity-card__bottomToolbar_content___1m8Cz",w100:"hero-activity-card__w100___1Qyd8",pr:"hero-activity-card__pr___27MGf",mt10:"hero-activity-card__mt10___QZLAw",mt0:"hero-activity-card__mt0___2_AVe",pa:"hero-activity-card__pa___2YchL",b0:"hero-activity-card__b0___2C7eY",my20:"hero-activity-card__my20___2ory4",text_right:"hero-activity-card__text_right___3NnvP",t50:"hero-activity-card__t50___28HwM",absolutely:"hero-activity-card__absolutely___2lLOf"}},"./src/pieces/activity/live-activity-card.scss":function(e,t,n){e.exports={liveActivityCardContainer:"live-activity-card__liveActivityCardContainer___2n-st",lobbyPageliveActivityCardContainer:"live-activity-card__lobbyPageliveActivityCardContainer___2oGTf",avatar:"live-activity-card__avatar___441tx",username:"live-activity-card__username___1Zq7N",badge:"live-activity-card__badge___3w3K-",small:"live-activity-card__small___2ne8z",medium:"live-activity-card__medium___yP3G8",large:"live-activity-card__large___2uGu4",eventDate:"live-activity-card__eventDate___2-3up",hashtagPageMobileEventdate:"live-activity-card__hashtagPageMobileEventdate___2WjhL",profilePageMobileEventdate:"live-activity-card__profilePageMobileEventdate___2B7zP",lobbyPageMobileEventdate:"live-activity-card__lobbyPageMobileEventdate___2KJjp",vodPageMobileEventDate:"live-activity-card__vodPageMobileEventDate___1Y3u7",titleContainer:"live-activity-card__titleContainer___1Tjjy",broadcastCardActions:"live-activity-card__broadcastCardActions___2mRFK",stageStatusBadge:"live-activity-card__stageStatusBadge___2MV16",previewImageContainer:"live-activity-card__previewImageContainer___2gbR5",cardHeader:"live-activity-card__cardHeader___1094s",avatarImageContainer_avatar:"live-activity-card__avatarImageContainer_avatar___UFTIa",userContainer:"live-activity-card__userContainer___39S4e",userInfoContainer:"live-activity-card__userInfoContainer___1X6ZJ",userInfoContainer_username:"live-activity-card__userInfoContainer_username___2iPlj",userInfoContainer_badge:"live-activity-card__userInfoContainer_badge___J0s1G",userInfoContainer_followLink:"live-activity-card__userInfoContainer_followLink___21FSI",nameContainer:"live-activity-card__nameContainer___1SVpM",nameContainer_name:"live-activity-card__nameContainer_name___3s0rX",aboutContainer:"live-activity-card__aboutContainer___1Ywwi",feed:"live-activity-card__feed___2Njm-",topPicks:"live-activity-card__topPicks___1aWCE",heroTitle:"live-activity-card__heroTitle___2OYIX",heroOverlayStyle:"live-activity-card__heroOverlayStyle___SWPo0",heroContainer:"live-activity-card__heroContainer___3NWJx",floatRight:"live-activity-card__floatRight___1KTZp",floatLeft:"live-activity-card__floatLeft___cbQX_",joinShowButton:"live-activity-card__joinShowButton___1sd3p",w100:"live-activity-card__w100___DAFUp",pr:"live-activity-card__pr___bCHyn",mt10:"live-activity-card__mt10___30S8k",mt0:"live-activity-card__mt0___2YE0-",cardContent:"live-activity-card__cardContent___1pXb5",profilePageMobileCardContent:"live-activity-card__profilePageMobileCardContent___37I4G",titleContainerMobile:"live-activity-card__titleContainerMobile___1wUPi",lobbyPageMobileTitleContainer:"live-activity-card__lobbyPageMobileTitleContainer___HCcwU",profilePageMobileTitleContainer:"live-activity-card__profilePageMobileTitleContainer___HUejl",title:"live-activity-card__title___3wXNa",mobileTitle:"live-activity-card__mobileTitle___32JsI",tagContainer:"live-activity-card__tagContainer___21-J2",tag:"live-activity-card__tag___1ihhR",profilePageMobileTagContainer:"live-activity-card__profilePageMobileTagContainer___2EJD9",iconsList:"live-activity-card__iconsList___m-nOH",profilePageMobileIconsList:"live-activity-card__profilePageMobileIconsList___24fpR",lobbyPageMobileIconsList:"live-activity-card__lobbyPageMobileIconsList___3vX8q",statIconContainer:"live-activity-card__statIconContainer___37ujr",statIconContainerMobile:"live-activity-card__statIconContainerMobile___3OeFK",counterIcon:"live-activity-card__counterIcon___3_mOb",counterIconMobile:"live-activity-card__counterIconMobile___2njUE",counter:"live-activity-card__counter___Tv74W",lobbyPageMobilePropsCounter:"live-activity-card__lobbyPageMobilePropsCounter___1pYJG",profilePageMobileCounter:"live-activity-card__profilePageMobileCounter___14s7w",lobbyPageMobileCounter:"live-activity-card__lobbyPageMobileCounter___3d_xR",heartIcon:"live-activity-card__heartIcon___3UYva",heartIconMobile:"live-activity-card__heartIconMobile___2F1Uo",chatIcon:"live-activity-card__chatIcon___1PBVu",chatIconMobile:"live-activity-card__chatIconMobile___2eElT",lobbyPageMobileBroadcastCardActions:"live-activity-card__lobbyPageMobileBroadcastCardActions___-46x3",lobbyPageMobileEntertainerProfileImage:"live-activity-card__lobbyPageMobileEntertainerProfileImage___3moI6",usernameContainer:"live-activity-card__usernameContainer___QguEg",lobbyPageMobileUsernameContainer:"live-activity-card__lobbyPageMobileUsernameContainer___2fjY7",profileLinkAndBadgeContainer:"live-activity-card__profileLinkAndBadgeContainer___2V3V2",profileLinkContainer:"live-activity-card__profileLinkContainer___15V3f",lobbyPageProfileLinkContainer:"live-activity-card__lobbyPageProfileLinkContainer___3CUSg",usernameMobile:"live-activity-card__usernameMobile___3XBZ5",lobbyPageMobileBadge:"live-activity-card__lobbyPageMobileBadge___5Vk7g",followUser:"live-activity-card__followUser___T-wb2",vodPageFollowUserMobile:"live-activity-card__vodPageFollowUserMobile___3-nm7",lobbyPageFollowUserMobile:"live-activity-card__lobbyPageFollowUserMobile___28TVK",followUserMobile:"live-activity-card__followUserMobile___1M9if",lobbyPageMobileCardContent:"live-activity-card__lobbyPageMobileCardContent___2AsZL",videoContainer:"live-activity-card__videoContainer___pI_QP",disableInsideButton:"live-activity-card__disableInsideButton___2B4BR"}},"./src/pieces/activity/profile-activity-card.scss":function(e,t,n){e.exports={iconsList:"profile-activity-card__iconsList___1zPOD",avatar:"profile-activity-card__avatar___3x9Tl",statIconContainer:"profile-activity-card__statIconContainer___1H9K-",counterIcon:"profile-activity-card__counterIcon___14poi",heartIcon:"profile-activity-card__heartIcon___1qddW",counter:"profile-activity-card__counter___3tCUw",userContainer:"profile-activity-card__userContainer___30YWp",username:"profile-activity-card__username___Iqm2C",badge:"profile-activity-card__badge___6f6gg",small:"profile-activity-card__small___wPrMx",medium:"profile-activity-card__medium___2bukV",large:"profile-activity-card__large___20KdD",cardContent:"profile-activity-card__cardContent___3Qoz3",followUser:"profile-activity-card__followUser___2n1YZ",tagContainer:"profile-activity-card__tagContainer___1Xvi-",tag:"profile-activity-card__tag___3xi8P",eventDate:"profile-activity-card__eventDate___2PL0u",titleContainer:"profile-activity-card__titleContainer___naxg3",title:"profile-activity-card__title___1QU-H",broadcastCardActions:"profile-activity-card__broadcastCardActions___3OCKy",chatIcon:"profile-activity-card__chatIcon___lDtdP",stageStatusBadge:"profile-activity-card__stageStatusBadge___1UpoK",previewImageContainer:"profile-activity-card__previewImageContainer___1a3Sl",cardHeader:"profile-activity-card__cardHeader___19GNM",avatarImageContainer_avatar:"profile-activity-card__avatarImageContainer_avatar___mrbSD",userInfoContainer:"profile-activity-card__userInfoContainer___L8ZTB",userInfoContainer_username:"profile-activity-card__userInfoContainer_username___3GTPI",userInfoContainer_badge:"profile-activity-card__userInfoContainer_badge___ijvVG",userInfoContainer_followLink:"profile-activity-card__userInfoContainer_followLink___1YSji",nameContainer:"profile-activity-card__nameContainer___1oC2p",nameContainer_name:"profile-activity-card__nameContainer_name___9exEo",aboutContainer:"profile-activity-card__aboutContainer___3Mt5o",feed:"profile-activity-card__feed___1eEM4",followBrowseContainer:"profile-activity-card__followBrowseContainer___3Nntp",topPicks:"profile-activity-card__topPicks___3fjZ0",heroTitle:"profile-activity-card__heroTitle___ZyDpL",heroOverlayStyle:"profile-activity-card__heroOverlayStyle___1ClCH",heroContainer:"profile-activity-card__heroContainer___1Ja3W",floatRight:"profile-activity-card__floatRight___MuIfh",floatLeft:"profile-activity-card__floatLeft___32muu",bottomToolbar:"profile-activity-card__bottomToolbar___3ZJl_",bottomToolbar_content:"profile-activity-card__bottomToolbar_content___1kl6P",joinShowButton:"profile-activity-card__joinShowButton___1rbay",w100:"profile-activity-card__w100___39hZV",pr:"profile-activity-card__pr___14Tkq",mt10:"profile-activity-card__mt10___3Gc71",mt0:"profile-activity-card__mt0___38p7p"}},"./src/pieces/activity/upcoming-card.scss":function(e,t,n){e.exports={iconsList:"upcoming-card__iconsList___9mxNA",ticketButton:"upcoming-card__ticketButton___2L66q",vodPageMobileIconsList:"upcoming-card__vodPageMobileIconsList___1QXKr",hashtagPageMobileIconsList:"upcoming-card__hashtagPageMobileIconsList___1MfnC",profilePageMobileIconsList:"upcoming-card__profilePageMobileIconsList___3aeKO",lobbyPageMobileIconsList:"upcoming-card__lobbyPageMobileIconsList___2fjgo",upcomingPageMobileIconsList:"upcoming-card__upcomingPageMobileIconsList___11TpO",avatar:"upcoming-card__avatar___2dvH1",statIconContainer:"upcoming-card__statIconContainer___1Ny_8",statIconContainerMobile:"upcoming-card__statIconContainerMobile___o4ArM",statIconContainerUpcomingMobile:"upcoming-card__statIconContainerUpcomingMobile___3XsMd",vodPageMobileViewCountContainer:"upcoming-card__vodPageMobileViewCountContainer___2h703",upcomingPageViewCountContainer:"upcoming-card__upcomingPageViewCountContainer___1owPe",counterIcon:"upcoming-card__counterIcon___2mWpu",counterIconMobile:"upcoming-card__counterIconMobile___OfYoX",likeCountContainer:"upcoming-card__likeCountContainer___4Kfag",heartIcon:"upcoming-card__heartIcon___2ozFt",heartIconMobile:"upcoming-card__heartIconMobile___1WJ4Y",heartIconMobileUpcoming:"upcoming-card__heartIconMobileUpcoming___27CT9",giveIcon:"upcoming-card__giveIcon___1lttK",giveIconMobile:"upcoming-card__giveIconMobile___1QtoU",counter:"upcoming-card__counter___1akG7",vodPageMobileCounter:"upcoming-card__vodPageMobileCounter___13k6W",hashtagPageMobileCounter:"upcoming-card__hashtagPageMobileCounter___1SZaY",lobbyPageMobileCounter:"upcoming-card__lobbyPageMobileCounter___A7R3e",vodPageMobilePropsCounter:"upcoming-card__vodPageMobilePropsCounter___38f90",hashtagPageMobilePropsCounter:"upcoming-card__hashtagPageMobilePropsCounter___23pX1",profilePageMobilePropsCounter:"upcoming-card__profilePageMobilePropsCounter___20rKL",lobbyPageMobilePropsCounter:"upcoming-card__lobbyPageMobilePropsCounter___3TOa-",upcomingPageMobilePropsCounter:"upcoming-card__upcomingPageMobilePropsCounter___2YmKM",profilePageMobileCounter:"upcoming-card__profilePageMobileCounter___19HNJ",upcomingPageMobileCounter:"upcoming-card__upcomingPageMobileCounter___D1c4X",userContainer:"upcoming-card__userContainer___cEkbM",lobbyPageMobileUserContainer:"upcoming-card__lobbyPageMobileUserContainer___23bK-",usernameContainer:"upcoming-card__usernameContainer___2LEZx",vodPageUsernameContainer:"upcoming-card__vodPageUsernameContainer___3AyIB",vodPageMobileUsernameContainer:"upcoming-card__vodPageMobileUsernameContainer___2QdMu",hashtagPageMobileUsernameContainer:"upcoming-card__hashtagPageMobileUsernameContainer___BzRZm",lobbyMobileUsernameContainer:"upcoming-card__lobbyMobileUsernameContainer___m7ot4",profileLinkContainer:"upcoming-card__profileLinkContainer___1KyUt",hashtagPageProfileLinkContainer:"upcoming-card__hashtagPageProfileLinkContainer___3kjI4",hashtagPageMobileProfileLinkContainer:"upcoming-card__hashtagPageMobileProfileLinkContainer___2DGx4",vodPageProfileLinkContainer:"upcoming-card__vodPageProfileLinkContainer___3QdsI",lobbyPageProfileLinkContainer:"upcoming-card__lobbyPageProfileLinkContainer___2GrFH",lobbyPageMobileProfileLinkContainer:"upcoming-card__lobbyPageMobileProfileLinkContainer___2A46Y",profileLinkAndBadgeContainer:"upcoming-card__profileLinkAndBadgeContainer___1TUFm",profilePageMobileUsernameContainer:"upcoming-card__profilePageMobileUsernameContainer___3EDza",lobbyPageMobileUsernameContainer:"upcoming-card__lobbyPageMobileUsernameContainer___2YwtL",username:"upcoming-card__username___18fzx",usernameMobile:"upcoming-card__usernameMobile___1kHoW",vodPageUsername:"upcoming-card__vodPageUsername___2YGfL",vodPageMobileUsername:"upcoming-card__vodPageMobileUsername___nGdmh",profilePageMobileUsername:"upcoming-card__profilePageMobileUsername___3J3S2",name:"upcoming-card__name___thO8G",nameMobile:"upcoming-card__nameMobile___y4spa",badge:"upcoming-card__badge___1IcZD",vodPageMobileBadge:"upcoming-card__vodPageMobileBadge___d6tiP",hashtagPageMobileBadge:"upcoming-card__hashtagPageMobileBadge___a4ZUc",upcomingPageMobileBadge:"upcoming-card__upcomingPageMobileBadge___2Bxj3",small:"upcoming-card__small___3sBI0",medium:"upcoming-card__medium___UR4QU",large:"upcoming-card__large___27d5z",card:"upcoming-card__card___1sRLv",externalCard:"upcoming-card__externalCard___1BKuw",cardHeader:"upcoming-card__cardHeader___e3psV",cardHeaderMobile:"upcoming-card__cardHeaderMobile___1jMvG",cardContent:"upcoming-card__cardContent___sHd_h",vodPageMobileCardContent:"upcoming-card__vodPageMobileCardContent___1mG9_",hashtagPageMobileCardContent:"upcoming-card__hashtagPageMobileCardContent___1UGVh",profilePageMobileCardContent:"upcoming-card__profilePageMobileCardContent___kAc28",lobbyPageMobileCardContent:"upcoming-card__lobbyPageMobileCardContent___1jqg0",followUser:"upcoming-card__followUser___1VuEX",disableInsideButton:"upcoming-card__disableInsideButton___2rDbj",vodPageFollowUser:"upcoming-card__vodPageFollowUser___34PNK",vodPageFollowUserMobile:"upcoming-card__vodPageFollowUserMobile___2gjtq",hashtagPageFollowUserMobile:"upcoming-card__hashtagPageFollowUserMobile___9CC-t",lobbyPageFollowUserMobile:"upcoming-card__lobbyPageFollowUserMobile___4MkZG",followUserMobile:"upcoming-card__followUserMobile___GXPw6",tagContainer:"upcoming-card__tagContainer___XxIfH",vodPageMobileTagContainer:"upcoming-card__vodPageMobileTagContainer___1UCCV",hashtagPageMobileTagContainer:"upcoming-card__hashtagPageMobileTagContainer___Fh4Tu",profilePageMobileTagContainer:"upcoming-card__profilePageMobileTagContainer___28h-E",lobbyPageMobileTagContainer:"upcoming-card__lobbyPageMobileTagContainer___2wJ9H",tag:"upcoming-card__tag___3ADD4",eventDate:"upcoming-card__eventDate___C0B0N",hashtagPageMobileEventdate:"upcoming-card__hashtagPageMobileEventdate___3gGjA",profilePageMobileEventdate:"upcoming-card__profilePageMobileEventdate___2aks2",lobbyPageMobileEventdate:"upcoming-card__lobbyPageMobileEventdate___A5N2i",vodPageMobileEventDate:"upcoming-card__vodPageMobileEventDate___32QLY",upcomingTitleContainer:"upcoming-card__upcomingTitleContainer___2Ysy_",titleContainer:"upcoming-card__titleContainer___2cx29",titleContainerMobile:"upcoming-card__titleContainerMobile___1sbkc",vodPageMobileTitleContainer:"upcoming-card__vodPageMobileTitleContainer___KjMTV",profilePageMobileTitleContainer:"upcoming-card__profilePageMobileTitleContainer___cezEa",hashtagPageMobileTitleContainer:"upcoming-card__hashtagPageMobileTitleContainer___3pRL5",lobbyPageMobileTitleContainer:"upcoming-card__lobbyPageMobileTitleContainer___CzcmO",title:"upcoming-card__title___369lm",vodTitle:"upcoming-card__vodTitle___22TnX",vodPageMobileTitle:"upcoming-card__vodPageMobileTitle___3sTWD",vodPageMobileTitleIos:"upcoming-card__vodPageMobileTitleIos___3FqvM",hashtagPageMobileTitle:"upcoming-card__hashtagPageMobileTitle___3r03_",profilePageMobileTitle:"upcoming-card__profilePageMobileTitle___3kr8u",lobbyPageMobileTitle:"upcoming-card__lobbyPageMobileTitle___39ccV",broadcastCardActions:"upcoming-card__broadcastCardActions___et47g",vodPageMobilebroadcastCardActions:"upcoming-card__vodPageMobilebroadcastCardActions___1yEbv",hashtagPageMobileBroadcastCardActions:"upcoming-card__hashtagPageMobileBroadcastCardActions___2chFZ",lobbyPageMobileBroadcastCardActions:"upcoming-card__lobbyPageMobileBroadcastCardActions___3S0ON",hashtagPageMobileEntertainerProfileImage:"upcoming-card__hashtagPageMobileEntertainerProfileImage___27PhV",profilePageMobileEntertainerProfileImage:"upcoming-card__profilePageMobileEntertainerProfileImage___3bsGP",vodPageMobileEntertainerProfileImage:"upcoming-card__vodPageMobileEntertainerProfileImage___3mK_Y",lobbyPageMobileEntertainerProfileImage:"upcoming-card__lobbyPageMobileEntertainerProfileImage___28vKI",chatIcon:"upcoming-card__chatIcon___1PTgl",chatIconMobile:"upcoming-card__chatIconMobile___1TWuI",chatIconMobileUpcoming:"upcoming-card__chatIconMobileUpcoming___1DuVU",embedButtonPopover:"upcoming-card__embedButtonPopover___22XCN",embedButton:"upcoming-card__embedButton___2vPzl",stageStatusBadge:"upcoming-card__stageStatusBadge___2x7ye",previewImageContainer:"upcoming-card__previewImageContainer___3sx8O",previewHlsVideo:"upcoming-card__previewHlsVideo___3cXi1",top:"upcoming-card__top___1NKc-",dateTime:"upcoming-card__dateTime___J48Vk",dateTimeMobileUpcoming:"upcoming-card__dateTimeMobileUpcoming___3Cw09",hideActivityCardVideoContainer:"upcoming-card__hideActivityCardVideoContainer___3HerF",showActivityCardVideoContainer:"upcoming-card__showActivityCardVideoContainer___2BF8d",vodPageShowActivityCardVideoContainer:"upcoming-card__vodPageShowActivityCardVideoContainer___Mo3O1",cardImageContainer:"upcoming-card__cardImageContainer___p3yvU",showActivityCardImageContainer:"upcoming-card__showActivityCardImageContainer___Fb10v",hideActivityCardImageContainer:"upcoming-card__hideActivityCardImageContainer___1uy9X",loader:"upcoming-card__loader___3LO52",rotation:"upcoming-card__rotation___sn7yJ",eventImageWrapper:"upcoming-card__eventImageWrapper___2_5Sv",unenforcedTitleContainer:"upcoming-card__unenforcedTitleContainer___2uxcg",paywallHeader:"upcoming-card__paywallHeader___1vwGy",paywallTitle:"upcoming-card__paywallTitle___2VBhl",unenforcedButton:"upcoming-card__unenforcedButton___2APV6",eventCard:"upcoming-card__eventCard___2IGPs",eventCardMobile:"upcoming-card__eventCardMobile___13kKu",doubleLineTitle:"upcoming-card__doubleLineTitle___1zzw_",userSnippetTextWrapper:"upcoming-card__userSnippetTextWrapper___3LXRh",userSnippetTextWrapperLobby:"upcoming-card__userSnippetTextWrapperLobby___yJbVi",userSnippetTextWrapperLobbyMobile:"upcoming-card__userSnippetTextWrapperLobbyMobile___R6pfz",doubleLineTitleEventImageWrapper:"upcoming-card__doubleLineTitleEventImageWrapper___28y5X",followAffordanceWrapper:"upcoming-card__followAffordanceWrapper___2iTA9",userSnippetWrapper:"upcoming-card__userSnippetWrapper___QmT8Q",usernameContainerMobile:"upcoming-card__usernameContainerMobile___1cC3l",userInfo:"upcoming-card__userInfo___3bHpf",realName:"upcoming-card__realName___McI5J",realNameMobile:"upcoming-card__realNameMobile___3A5Nh",seventeenPlusIcon:"upcoming-card__seventeenPlusIcon___1ymk9",nameContainer:"upcoming-card__nameContainer___1q7p4",interactionWrapper:"upcoming-card__interactionWrapper___17DFo",likeCounts:"upcoming-card__likeCounts___21QFs",followButton:"upcoming-card__followButton___32ijP",restyledButton:"upcoming-card__restyledButton___3XZnp",followButtonMobile:"upcoming-card__followButtonMobile___3F7-l",isLobbyCard:"upcoming-card__isLobbyCard___36D-b",isLobbyTitle:"upcoming-card__isLobbyTitle___3aUxV",isLobbyDateTime:"upcoming-card__isLobbyDateTime___2L97W",followButtonLobby:"upcoming-card__followButtonLobby___2tsut",hideUpcomingCardVideoContainer:"upcoming-card__hideUpcomingCardVideoContainer___mR2Wa",showUpcomingCardVideoContainer:"upcoming-card__showUpcomingCardVideoContainer___3XM_k",hideUpcomingCardImageContainer:"upcoming-card__hideUpcomingCardImageContainer___3O_Ns",showUpcomingCardImageContainer:"upcoming-card__showUpcomingCardImageContainer___1rvU0",profileLinkContainerMobile:"upcoming-card__profileLinkContainerMobile___1Cz5Q"}},"./src/pieces/analytics/analytics-events.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return u});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/pieces/base/constants.js"),s=n("./src/pieces/authentication/authentication.reducer.js"),c=n("./src/pieces/stage/stage.reducer.js"),l=n("./src/pieces/home/landing.reducer.js"),u=(n("./node_modules/bows/bows.js")("Analytics-events"),function(e){switch(e.split("/")[1]){case"":return o.Ec.LOBBY_PAGE;case"detail":return o.Ec.DETAIL_PAGE;case"upcoming":return o.Ec.FPG_PAGE;case"settings":return o.Ec.SETTINGS;default:return o.Ec.STAGE}});t.a=(a={},i()(a,s.TrackAnonymousUserIdCreation,function(e){return{event:"CreateAnonymousUserId",anonymousUserId:e.payload}}),i()(a,s.StartAnonymousSession,function(e){var t=e.payload.anonymousUserId;return{event:"IdentifyAnonymousUser",sessionType:o.c,anonymousUserId:t}}),i()(a,s.StartAuthenticatedSession,function(e){var t=e.payload;return{event:"IdentifyUser",sessionType:o.h,authenticatedUserId:t.caid}}),i()(a,s.TrackSignInButtonClick,function(){return{event:"SignInButtonClick"}}),i()(a,s.TrackSignUpButtonClick,function(){return{event:"SignUpButtonClick"}}),i()(a,s.TrackSocialSignInOrUpButtonClick,function(e){return{event:"SocialSignInOrUpButtonClick",socialProvider:e.payload}}),i()(a,s.TrackSignIn,function(){return{event:"SignIn"}}),i()(a,s.TrackSignUp,function(e){return{event:"SignUp",authenticatedUserId:e.payload}}),i()(a,c.ShowAuthenticationWall,function(){return{event:"ShowAuthenticationWall"}}),i()(a,s.TrackSocialSignIn,function(e){return{event:"SocialSignIn",socialProvider:e.payload}}),i()(a,s.TrackSocialSignUp,function(e){var t=e.payload;return{event:"SocialSignUp",socialProvider:t.provider,authenticatedUserId:t.authenticatedUserId}}),i()(a,c.TrackStageLoad,function(e){return{event:"LoadStage",broadcaster_caid:e.payload}}),i()(a,l.TrackHomepageView,function(){return{event:"ViewHomepage"}}),i()(a,c.ShowAuthenticationWall,function(){return{event:"ShowStageAuthenticationFlow"}}),i()(a,s.ShowAuthenticationWallWithMultiPaths,function(e){return{event:"ShowAuthenticationWallWithMultiPaths",rootPath:e.payload}}),i()(a,s.ReportSignUpFormFailure,function(e){var t=e.payload.errors;return{event:"SignUpServerError",usernameError:t&&t._error.username&&t._error.username[0],emailError:t._error.email&&t._error.email[0],dobError:t._error._denied&&t._error._denied[0],passwordError:t._error.password&&t._error.password[0]}}),i()(a,s.ReportSignUpClientUsernameError,function(e){return{event:"SignUpClientUsernameError",usernameError:e}}),i()(a,s.ReportSignUpClientPasswordError,function(e){return{event:"SignUpClientPasswordError",passwordError:e}}),a)},"./src/pieces/analytics/analytics.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return i}),n.d(t,"LogScreenView",function(){return o}),n.d(t,"LogModalView",function(){return s});var a=n("./node_modules/redux-actions/es/createAction.js"),r=n("./node_modules/redux-actions/es/handleActions.js"),i=(n("./node_modules/reselect/lib/index.js"),n("./node_modules/bows/bows.js")("Analytics.reducer"),"analytics"),o=Object(a.a)("Log Screen View",function(e){return e}),s=Object(a.a)("Log Modal View",function(e){return e}),c=e.fromJS({});t.default=Object(r.a)({},c)}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/analytics/analytics.sagas.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=(n("./node_modules/idx/lib/idx.js"),n("./node_modules/redux-saga/es/effects.js")),o=n("./src/pieces/base/saga-utilities.js"),s=n("./src/pieces/authentication/authentication.sagas.js"),c=n("./node_modules/redux-saga/es/index.js"),l=n("./node_modules/lodash/isObject.js"),u=n.n(l),d=(n("./node_modules/bows/bows.js")("Tag-manager-analytics-events-channel"),Object(c.f)(function(e){return window.sendAnalyticsEvent=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?u()(n)?e({type:t,data:n}):console.error("Data, if present, must be an object! Received",n):console.error("Analytics event must have a type! Received",t)},function(){console.error("Tag manager analytics events channel closed\u2014it's a global channel & should never be closed.")}},c.b.expanding(5))),_=n("./src/pieces/base/api/metrics.api.js"),m=n("./src/pieces/stage/reactions/reaction.reducer.js"),g=n("./src/pieces/stage/stage.reducer.js"),b=n("./src/pieces/analytics/analytics.reducer.js"),p=n("./src/pieces/payment/digital-items.reducer.js"),f=n("./src/pieces/feed/feed.reducer.ts"),h=n("./src/pieces/users/users.reducer.js"),v=n("./src/pieces/authentication/authentication.reducer.js"),w=n("./src/pieces/base/report-statistics.js"),C=n("./src/pieces/base/constants.js"),y=n("./src/pieces/current-user/current-user.sagas.js"),j=n("./src/pieces/sharing/sharing.reducer.ts");n.d(t,"handleUnfollow",function(){return $}),n.d(t,"handleFollow",function(){return ee}),n.d(t,"default",function(){return ye});var O=r.a.mark(X),S=r.a.mark($),E=r.a.mark(ee),x=r.a.mark(te),k=r.a.mark(ne),I=r.a.mark(ae),T=r.a.mark(re),F=r.a.mark(ie),P=r.a.mark(oe),N=r.a.mark(se),M=r.a.mark(ce),L=r.a.mark(le),B=r.a.mark(ue),A=r.a.mark(de),D=r.a.mark(_e),U=r.a.mark(me),R=r.a.mark(ge),H=r.a.mark(be),W=r.a.mark(pe),V=r.a.mark(fe),z=r.a.mark(he),G=r.a.mark(ve),q=r.a.mark(we),J=r.a.mark(Ce),Z=r.a.mark(ye),Y=(n("./node_modules/bows/bows.js")("Analytics.sagas"),"true"===localStorage.getItem(C.Fb)),Q=localStorage.getItem(C.I);function K(e){return e||0===e||!1===e?e:null}function X(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.type,n=e.data,a.next=3,Object(i.b)(_.a,t,n);case 3:case"end":return a.stop()}},O)}function $(e,t){var n,a,o,s,c,l,u,d,_,m,g,b,p,h,v,w,C;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.userId,a=e.lobbyId,o=e.broadcasterId,s=e.order,c=e.isItemLive,l=e.friendsWatchingIds,u=e.gameId,d=e.type,_=e.source,m=e.destination,g=e.category,b=document.documentElement.scrollTop,p=t.target.getBoundingClientRect().top+b,h=p/document.body.scrollHeight,v=Math.round(100*h),w=Date.now(),"unfollow",C={clicked_at:w,action_type:"unfollow",viewer_id:n,payload_id:a,screen_quantile:v,broadcaster_caid:o,display_order:s,is_item_live:c,friends_watching_caids:l,game_id:u,item_type:d,item_source:_,item_destination:m,category:g},r.next=10,Object(i.g)(Object(f.TrackFollowClicked)(C));case 10:case"end":return r.stop()}},S)}function ee(e,t){var n,a,o,s,c,l,u,d,_,m,g,b,p,h,v,w,C;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.userId,a=e.lobbyId,o=e.broadcasterId,s=e.order,c=e.isItemLive,l=e.friendsWatchingIds,u=e.gameId,d=e.type,_=e.source,m=e.destination,g=e.category,b=document.documentElement.scrollTop,p=t.target.getBoundingClientRect().top+b,h=p/document.body.scrollHeight,v=Math.round(100*h),w=Date.now(),"follow",C={clicked_at:w,action_type:"follow",viewer_id:n,payload_id:a,screen_quantile:v,broadcaster_caid:o,display_order:s,is_item_live:c,friends_watching_caids:l,game_id:u,item_type:d,item_source:_,item_destination:m,category:g},r.next=10,Object(i.g)(Object(f.AddRecentlyFollowedFeaturedUserCaid)(o));case 10:return r.next=12,Object(i.g)(Object(f.TrackFollowClicked)(C));case 12:case"end":return r.stop()}},E)}function te(e){var t,n,a,i,o,s,c,l,u,d,_,m,g,b,p;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=e.clicked_at,n=e.action_type,a=e.viewer_id,i=e.payload_id,o=e.screen_quantile,s=e.broadcaster_caid,c=e.display_order,l=e.item_type,u=e.item_source,d=e.item_destination,_=e.category,m=e.friends_watching_caids,g=e.game_id,b=e.is_item_live,p={clicked_at:t||null,action_type:n||null,viewer_id:a||null,payload_id:i||null,screen_quantile:0===o?0:o,broadcaster_caid:s||null,display_order:0===c?0:c,is_item_live:b||null,friends_watching_caids:m||null,game_id:g||null,item_type:l||null,item_source:u||null,item_destination:d||null,category:_||null,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("follow_clicked",window.mParticle.EventType.Other,p);case 3:case"end":return r.stop()}},x)}function ne(){var e,t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.b)(y.getCurrentUserId);case 2:return e=a.sent,a.next=5,Object(i.i)(g.selectStageId);case 5:t=a.sent,n={clicked_at:Date.now()||null,viewer_id:e||null,item_type:C.Cc.STAGE_CHAT||null,item_source:C.Ec.STAGE||null,stage_id:t?"CAID".concat(t):null,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent(C.ve,window.mParticle.EventType.Other,n);case 8:case"end":return a.stop()}},k)}function ae(e){var t,n,a,o;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.broadcasterCaid,n=e.broadcasterUsername,r.next=3,Object(i.b)(y.getCurrentUserId);case 3:a=r.sent,o={clicked_at:Date.now()||null,viewer_id:a||null,item_type:C.Cc.UPCOMING_CARD||null,item_source:C.Ec.FPG_PAGE||null,broadcaster_caid:t||null,broadcaster_username:n||null,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent(C.Ze,window.mParticle.EventType.Other,o);case 6:case"end":return r.stop()}},I)}function re(e){var t,n,a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(y.getCurrentUserId);case 2:return t=e.sent,e.next=5,Object(i.i)(g.selectEntertainer);case 5:return n=e.sent,e.next=8,Object(i.i)(g.selectStageTitle);case 8:a=e.sent,o={viewer_id:t||null,give_icon:"v1",item_type:C.Cc.STAGE_CHAT||null,clicked_at:(new Date).toISOString(),broadcaster_caid:n.caid,broadcaster_username:n.username,broadcast_title:a,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent(C.ie,window.mParticle.EventType.Other,o);case 11:case"end":return e.stop()}},T)}function ie(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.i)(g.selectEntertainer);case 2:return t=r.sent,r.next=5,Object(i.i)(g.selectStageTitle);case 5:n=r.sent,a={clicked_at:(new Date).toISOString(),modal_name:"prop_prompt",screen_name:C.Ec.STAGE,broadcaster_caid:t.caid,broadcaster_username:t.username,broadcast_title:n,action_type:e,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("modal_action",window.mParticle.EventType.Other,a);case 8:case"end":return r.stop()}},F)}function oe(){var e,t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.b)(y.getCurrentUserId);case 2:return e=r.sent,r.next=5,Object(i.i)(g.selectEntertainer);case 5:return t=r.sent,r.next=8,Object(i.i)(g.selectStageTitle);case 8:n=r.sent,a={viewer_id:e||null,give_icon:"v1",item_type:C.Cc.STAGE_CHAT||null,rendered_at:(new Date).toISOString(),broadcaster_caid:t.caid,broadcaster_username:t.username,broadcast_title:n,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("give_button_animated",window.mParticle.EventType.Other,a);case 11:case"end":return r.stop()}},P)}function se(){var e,t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.i)(g.selectEntertainer);case 2:return e=a.sent,a.next=5,Object(i.i)(g.selectStageTitle);case 5:t=a.sent,n={modal_name:"prop_prompt",screen_name:C.Ec.STAGE||null,rendered_at:(new Date).toISOString(),broadcaster_caid:e.caid,broadcaster_username:e.username,broadcast_title:t,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("modal_view",window.mParticle.EventType.Other,n);case 8:case"end":return a.stop()}},N)}function ce(){var e,t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.i)(g.selectEntertainer);case 2:return e=a.sent,a.next=5,Object(i.i)(g.selectStageTitle);case 5:t=a.sent,n={modal_name:"prop_menu",screen_name:C.Ec.STAGE||null,rendered_at:(new Date).toISOString(),item_type:C.Cc.STAGE_CHAT||null,broadcaster_caid:e.caid,broadcaster_username:e.username,broadcast_title:t,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("modal_view",window.mParticle.EventType.Other,n);case 8:case"end":return a.stop()}},M)}function le(){var e,t,n,a,o;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.i)(g.selectEntertainer);case 2:return e=r.sent,r.next=5,Object(i.i)(g.selectStageTitle)||null;case 5:t=r.sent,n=e?e.caid:null,a=e?e.username:null,o={modal_name:"buy_gold_menu",screen_name:C.Ec.STAGE||null,rendered_at:(new Date).toISOString(),item_type:C.Cc.STAGE_CHAT||null,broadcaster_caid:n,broadcaster_username:a,broadcast_title:t,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("modal_view",window.mParticle.EventType.Other,o);case 10:case"end":return r.stop()}},L)}function ue(e){var t,n,a,o,s;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.i)(g.selectEntertainer);case 2:return t=r.sent,r.next=5,Object(i.i)(g.selectStageTitle)||null;case 5:n=r.sent,a=t?t.caid:null,o=t?t.username:null,s={clicked_at:(new Date).toISOString(),item_type:C.Cc.STAGE_CHAT||null,broadcaster_caid:a,broadcaster_username:o,broadcast_title:n,gold_bundle_id:e,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("buy_gold_item_selected",window.mParticle.EventType.Other,s);case 10:case"end":return r.stop()}},B)}function de(e){var t,n,a,i,o,s;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=e.stream_id,n=e.broadcaster_caid,a=e.viewer_id,i=e.broadcaster_username,o=e.webrtc_time_to_first_frame,s={stream_id:K(t),broadcaster_caid:K(n),viewer_id:K(a),broadcaster_username:K(i),webrtc_time_to_first_frame:K(o),web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("webrtc_stage_video_first_frame",window.mParticle.EventType.Other,s);case 3:case"end":return r.stop()}},A)}function _e(e){var t,n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=e.viewer_id,n=e.broadcaster_caid,a=e.broadcaster_username,i={viewer_id:t||null,broadcaster_caid:n||null,broadcaster_username:a||null,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("stage_video_setting_button_click",window.mParticle.EventType.Other,i);case 3:case"end":return r.stop()}},D)}function me(e){var t,n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=e.viewer_id,n=e.broadcaster_caid,a=e.broadcaster_username,i={viewer_id:t||null,broadcaster_caid:n||null,broadcaster_username:a||null,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("stage_video_setting_button_render",window.mParticle.EventType.Other,i);case 3:case"end":return r.stop()}},U)}function ge(e){var t,n,a,i,o;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=e.viewer_id,n=e.broadcaster_caid,a=e.broadcaster_username,i=e.video_source,o={viewer_id:t||null,broadcaster_caid:n||null,broadcaster_username:a||null,video_source:i||null,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("stage_video_source_load",window.mParticle.EventType.Other,o);case 3:case"end":return r.stop()}},R)}function be(e,t){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.caid,a={userIdentities:{customerid:n}},window.mParticle&&window.mParticle.ready(function(){window.mParticle.Identity.modify(a)});case 3:case"end":return t.stop()}},H)}function pe(e){var t,n,a,i,o,s,c,l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=e.event_key,n=e.clicked_at,a=e.viewer_id,i=e.item_type,o=e.item_source,s=e.prop_name,c={clicked_at:n||null,viewer_id:a||null,item_type:i||null,item_source:o||null,prop_name:s||null,web_presentation:Y?C.of:C.nf},l=t||"video_prop_event",window.mParticle.logEvent(l,window.mParticle.EventType.Other,c);case 4:case"end":return r.stop()}},W)}function fe(e){var t,n,a,o,s,c,l,u,d,m,g,b,p;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.activity_id,n=e.activity_type,a=e.broadcast_id,o=e.broadcast_title,s=e.broadcaster_username,c=e.current_viewing_option,l=e.playing_type,u=e.stage_id,d=e.stage_source,m=e.viewer_username,g=e.viewer_id,b=e.is_anonymous,p={activity_id:t||null,activity_type:n||null,broadcast_id:a||null,broadcast_title:o||null,broadcaster_username:s?s.toLowerCase():null,current_viewing_option:c||null,playing_type:l||null,stage_id:u||null,stage_source:d||null,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("video_watched_30s",window.mParticle.EventType.Other,p),r.next=5,Object(i.b)(_.a,"video_watched_30s",{playing_type:l,activity_id:t||null,activity_type:n||null,broadcast_id:a,broadcaster_username:s?s.toLowerCase():null,current_viewing_option:c||null,stage_id:u,title:o,stage_source:d,viewer_username:m,viewer_id:g,client_type:C.O,is_anonymous:b,advertising_identifier:"",vendor_identifier:"",user_agent:window.navigator.userAgent,anonymous_id:g});case 5:case"end":return r.stop()}},V)}function he(e){var t,n,a,o,s,c,l,u,d,m,g,b,p;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.activity_id,n=e.activity_type,a=e.broadcast_id,o=e.broadcast_title,s=e.broadcaster_username,c=e.current_viewing_option,l=e.playing_type,u=e.stage_id,d=e.stage_source,m=e.viewer_username,g=e.viewer_id,b=e.is_anonymous,p={activity_id:t||null,activity_type:n||null,broadcast_id:a||null,broadcast_title:o||null,broadcaster_username:s?s.toLowerCase():null,current_viewing_option:c||null,playing_type:l||null,stage_id:u||null,stage_source:d||null,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("video_start",window.mParticle.EventType.Other,p),r.next=5,Object(i.b)(_.a,"video_start",{playing_type:l,activity_id:t||null,activity_type:n||null,broadcast_id:a,broadcaster_username:s?s.toLowerCase():null,current_viewing_option:c||null,stage_id:u,title:o,stage_source:d,viewer_username:m,viewer_id:g,client_type:C.O,is_anonymous:b,advertising_identifier:"",vendor_identifier:"",user_agent:window.navigator.userAgent,anonymous_id:g});case 5:case"end":return r.stop()}},z)}function ve(e){var t,n,a,o,s,c,l,u,d,m,g,b,p,f,h,v;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.activity_id,n=e.activity_type,a=e.broadcast_id,o=e.broadcast_title,s=e.broadcaster_username,c=e.current_viewing_option,l=e.playing_type,u=e.stage_id,d=e.stage_source,m=e.viewer_username,g=e.viewer_id,b=e.hashtags,p=e.vod_duration,f=e.watch_time_seconds,h=e.is_anonymous,v={activity_id:t||null,activity_type:n||null,broadcast_id:a||null,broadcast_title:o||null,broadcaster_username:s?s.toLowerCase():null,current_viewing_option:c||null,playing_type:l||null,stage_id:u||null,stage_source:d||null,hashtags:b,vod_duration:p,watch_time_seconds:f,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("video_stop",window.mParticle.EventType.Other,v),r.next=5,Object(i.b)(_.a,"video_stop",{playing_type:l,activity_id:t||null,activity_type:n||null,broadcast_id:a,broadcaster_username:s?s.toLowerCase():null,current_viewing_option:c||null,stage_id:u,title:o,stage_source:d,viewer_username:m,viewer_id:g,hashtags:b,vod_duration:p,watch_time_seconds:f,client_type:C.O,is_anonymous:h,advertising_identifier:"",vendor_identifier:"",user_agent:window.navigator.userAgent,anonymous_id:g});case 5:case"end":return r.stop()}},G)}function we(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=e.screen_name,n=e.canonical_path,a={screen_name:t||null,canonical_path:n||null,web_presentation:Y?C.of:C.nf,experiment_group:"CONTENTLOCK_".concat(Q)},window.mParticle.logEvent("screen_view",window.mParticle.EventType.Other,a);case 3:case"end":return r.stop()}},q)}function Ce(e){var t,n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=e.modal_name,n=e.screen_name,a=e.canonical_path,i={modal_name:t||null,screen_name:n||null,canonical_path:a||null,web_presentation:Y?C.of:C.nf},window.mParticle.logEvent("modal_view",window.mParticle.EventType.Other,i);case 3:case"end":return r.stop()}},J)}function ye(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(s.getUserSessionType);case 2:return e.next=4,Object(o.f)(d,X);case 4:return e.next=6,Object(o.g)(m.SendReaction,r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(w.a,{counters:[{metric_name:"tracer.sendreaction.counter",value:1}]});case 2:case"end":return e.stop()}},e)}));case 6:return e.next=8,Object(o.g)(g.TrackStageLoad,r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(w.a,{counters:[{metric_name:"tracer.loadstage.counter",value:1}]});case 2:case"end":return e.stop()}},e)}));case 8:return e.next=10,Object(o.g)(h.FollowUser,r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(w.a,{counters:[{metric_name:"tracer.followuser.counter",value:1}]});case 2:case"end":return e.stop()}},e)}));case 10:return e.next=12,Object(o.g)(g.TrackStageShareButtonClicked,ne);case 12:return e.next=14,Object(o.g)(j.TrackUpcomingShareButtonClicked,ae);case 14:return e.next=16,Object(o.g)(g.LogVideoWatched30SEvent,fe);case 16:return e.next=18,Object(o.g)(g.LogVideoStartEvent,he);case 18:return e.next=20,Object(o.g)(g.LogVideoStopEvent,ve);case 20:return e.next=22,Object(o.g)(b.LogScreenView,we);case 22:return e.next=24,Object(o.g)(b.LogModalView,Ce);case 24:return e.next=26,Object(o.g)(g.TrackStageVideoFirstFrame,de);case 26:return e.next=28,Object(o.g)(g.TrackStageVideoSettingButtonClick,_e);case 28:return e.next=30,Object(o.g)(g.TrackStageVideoSettingButtonRender,me);case 30:return e.next=32,Object(o.g)(g.TrackStageVideoSourceLoad,ge);case 32:return e.next=34,Object(o.g)(v.StartAuthenticatedSession,be);case 34:return e.next=36,Object(o.g)(g.TrackVideoPropEvent,pe);case 36:return e.next=38,Object(o.g)(f.TrackFollowClicked,te);case 38:return e.next=40,Object(o.g)(g.TrackStageGiveButtonClicked,re);case 40:return e.next=42,Object(o.g)(g.TrackAnimatedGiveIconImpression,oe);case 42:return e.next=44,Object(o.g)(g.TrackPropPromptClicked,ie);case 44:return e.next=46,Object(o.g)(g.TrackPropPromptImpression,se);case 46:return e.next=48,Object(o.g)(p.TrackPropTrayImpression,ce);case 48:return e.next=50,Object(o.g)(p.TrackGoldPurchaseClicked,ue);case 50:return e.next=52,Object(o.g)(p.TrackGoldPurchaseModalImpression,le);case 52:case"end":return e.stop()}},Z)}},"./src/pieces/analytics/threatmetrix.saga.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return u});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./src/pieces/base/constants.js"),o=n("./src/pieces/base/saga-utilities.js"),s=r.a.mark(l),c=r.a.mark(u);n("./node_modules/bows/bows.js")("Threatmetrix.saga");function l(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!function(e,t,n,a){var r=t.getElementsByTagName(n)[0],o=t.createElement(n);o.async=!0,o.src="https://h.online-metrix.net/fp/tags.js?org_id=".concat(a,"&session_id=").concat(i.Re),r.parentNode.insertBefore(o,r)}(window,document,"script",i.Qe);case 1:case"end":return e.stop()}},s)}function u(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)(l);case 2:case"end":return e.stop()}},c)}},"./src/pieces/authentication/anonymous-user-id.js":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var a=n("./node_modules/uuid/index.js"),r=n.n(a),i=n("./src/pieces/base/storage.js"),o=n("./src/pieces/base/constants.js"),s=n("./src/pieces/store/get-environment.js"),c=(n("./node_modules/bows/bows.js")("Anonymous-user-id"),!i.a.get(o.b));function l(){if(Object(s.c)()||Object(s.d)()){var e=i.a.get(o.b)||"ANON-".concat(r()());return i.a.set(o.b,e),e}return"ATESTER"}function u(){return c}},"./src/pieces/authentication/auth.api.js":function(e,t,n){"use strict";n.d(t,"d",function(){return h}),n.d(t,"c",function(){return v}),n.d(t,"e",function(){return w}),n.d(t,"g",function(){return C}),n.d(t,"f",function(){return y}),n.d(t,"b",function(){return j}),n.d(t,"a",function(){return O});var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(i),s=n("./src/pieces/base/api/api-helpers.js"),c=n("./src/pieces/base/constants.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=o.a.mark(h),_=o.a.mark(v),m=o.a.mark(w),g=o.a.mark(C),b=o.a.mark(y),p=o.a.mark(j),f=o.a.mark(O);n("./node_modules/bows/bows.js")("Auth.api");function h(e){var t,n,a,r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(s.e)("".concat(c.Yb,"/account/token"),{refresh_token:e},{includeAuthentication:!1});case 2:return t=i.sent,n=t.credentials,a=t.next,r=t.bouncer,i.abrupt("return",{credentials:n,recommendedNextStep:a,bouncer:r});case 7:case"end":return i.stop()}},d)}function v(){var e,t,n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(s.c)("".concat(c.Yb,"/credentials/anonymous"),{includeAuthentication:!1});case 2:return e=a.sent,t=e.credential,n=e.bouncer,a.abrupt("return",{credential:t,bouncer:n});case 6:case"end":return a.stop()}},_)}function w(e,t,n){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(s.e)("".concat(c.Yb,"/oauth/").concat(e,"/url"),{redirect_url:t,sign_up_page_url:n});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},m)}function C(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.e)("".concat(c.Yb,"/oauth/callback"),e);case 2:return t=n.sent,n.abrupt("return",u({},t,{recommendedNextStep:t.next,multiFactorMethod:t.mfaOtpMethod}));case 4:case"end":return n.stop()}},g)}function y(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.b)("".concat(c.Yb,"/account/token"),{refresh_token:e},{includeAuthentication:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},b)}function j(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)("".concat(c.Yb,"/legal-acceptance"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},p)}function O(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s.e)("".concat(c.Yb,"/validate/username"),e);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}},f,null,[[0,6]])}},"./src/pieces/authentication/authentication-choices.js":function(e,t,n){"use strict";(function(e,a){var r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-router/es/index.js"),s=n("./src/pieces/authentication/authentication.reducer.js"),c=n("./src/pieces/authentication/twitter-themed-button.tsx"),l=n("./src/pieces/authentication/facebook-themed-button.tsx"),u=n("./src/pieces/authentication/sign-up.js"),d=n("./src/pieces/base/constants.js"),_=n("./src/pieces/authentication/authentication.scss"),m=n.n(_),g=(n("./node_modules/bows/bows.js")("Authentication-choices"),Object(i.a)(Object(i.c)({params:e.shape({username:e.string}),pathPrefix:e.string,theme:e.string,includeSignUp:e.bool}),Object(r.b)(function(e,t){return{pathPrefix:t.params&&t.params.username?"/".concat(t.params.username):""}},{NavigateToSocialAuthenticationPage:s.NavigateToSocialAuthenticationPage,TrackSignInButtonClick:s.TrackSignInButtonClick,TrackSignUpButtonClick:s.TrackSignUpButtonClick,TrackSocialSignInOrUpButtonClick:s.TrackSocialSignInOrUpButtonClick}),Object(i.d)({handleTwitterSignIn:function(e){return function(){e.TrackSocialSignInOrUpButtonClick(d.Ve),e.NavigateToSocialAuthenticationPage(d.Ve,e.pathPrefix,"".concat(e.pathPrefix,"/sign-up"))}},handleFacebookSignIn:function(e){return function(){e.TrackSocialSignInOrUpButtonClick(d.pb),e.NavigateToSocialAuthenticationPage(d.pb,e.pathPrefix,"".concat(e.pathPrefix,"/sign-up"))}}}))),b=function(e){return a.createElement("div",{className:m.a.authenticationChoices},a.createElement("div",{className:"Homepage"===e.theme?m.a.bodyWithHomepageTheme:m.a.body},a.createElement("div",{className:m.a.socialAuthenticationButtonsContainer},"Homepage"!==e.theme&&a.createElement("div",{className:m.a.signUpSectionDivider},"or"),a.createElement("div",{className:m.a.socialAuthenticationButtonContainer},a.createElement(l.a,{noIcon:!0,buttonActionMessage:"Continue with",onClickHandler:e.handleFacebookSignIn})),a.createElement("div",{className:m.a.socialAuthenticationButtonContainer},a.createElement(c.a,{noIcon:!0,buttonActionMessage:"Continue with",onClickHandler:e.handleTwitterSignIn})),"Homepage"!==e.theme&&a.createElement("div",{className:m.a.agreementText},"By continuing you agree to Caffeine's ",a.createElement("br",null),a.createElement("a",{href:"/tos.html",target:"_blank",className:"Homepage"===e.theme?m.a.agreementLinksWithHomepageTheme:m.a.agreementLinks},"Terms of ",a.createElement("br",null),"Service"),","," ",a.createElement("a",{href:"/privacy.html",target:"_blank",className:"Homepage"===e.theme?m.a.agreementLinksWithHomepageTheme:m.a.agreementLinks},"Privacy Policy"),", and"," ",a.createElement("a",{href:"/rules.html",target:"_blank",className:"Homepage"===e.theme?m.a.agreementLinksWithHomepageTheme:m.a.agreementLinks},"Community Rules"),".")),a.createElement("div",{className:"Homepage"===e.theme?m.a.headerWithHomepageTheme:m.a.header},a.createElement(o.b,{className:"Homepage"===e.theme?m.a.linkInHeaderWithHomepageTheme:m.a.linkInHeader,tabIndex:"0",onClick:e.TrackSignInButtonClick,to:"".concat(e.pathPrefix,"/sign-in")},"Sign in")," ","or","Homepage"===e.theme?null:a.createElement("br",null)," ",a.createElement("span",null," Sign up with email ")),a.createElement(u.a,{theme:e.theme,inline:!0})))};t.a=g(b)}).call(this,n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js"))},"./src/pieces/authentication/authentication-guard.scss":function(e,t,n){e.exports={redesign_authenticationGuard:"authentication-guard__redesign_authenticationGuard___lPpvI"}},"./src/pieces/authentication/authentication-guard.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/react-router/es/index.js"),s=n("./node_modules/recompose/dist/Recompose.esm.js"),c=n("./node_modules/reselect/lib/index.js"),l=n("./src/pieces/authentication/authentication.reducer.js"),u=n("./src/pieces/authentication/authentication-guard.scss"),d=n.n(u),_=n("./src/pieces/base/path.js"),m=n("./src/pieces/base/constants.js"),g=(n("./node_modules/bows/bows.js")("Authentication-guard"),Object(s.a)(Object(i.b)(Object(c.createStructuredSelector)({isAuthenticated:l.selectIsAuthenticated}),{ShowAuthenticationWallWithMultiPaths:l.ShowAuthenticationWallWithMultiPaths}),o.e,Object(s.d)({showAuthenticationWall:function(e){var t=e.location.pathname,n=e.isLogin,a=void 0!==n&&n,r=e.ShowAuthenticationWallWithMultiPaths;return function(e){var n=Object(_.a)().currentPath,i=n===m.Id||n===m.xd||n===m.Ad||n===m.Bd||n===m.Ed||n===m.Jd||n===m.Kd;e.stopPropagation();var o=t.replace(/\/$/,"");r({authenticationWallRootPath:i?o:"/browse",isLogin:a})}}})));t.a=g(function(e){return e.isAuthenticated?e.children:r.a.createElement("div",{className:d.a.redesign_authenticationGuard,onClick:function(t){t.stopPropagation(),e.disabled||e.showAuthenticationWall(t)},onKeyPress:e.showAuthenticationWall,role:"presentation"},e.children)})},"./src/pieces/authentication/authentication-wall.scss":function(e,t,n){e.exports={overlay:"authentication-wall__overlay___12vv2 modals__container___3QxjF",redesign_overlay:"authentication-wall__redesign_overlay___3WOs_ modals__container___3QxjF",container:"authentication-wall__container___20pAS",tagline:"authentication-wall__tagline___3ta89",content:"authentication-wall__content___a5tqw modals__content___i9pX_",redesign_content:"authentication-wall__redesign_content___20MNk modals__content___i9pX_",footerContainer:"authentication-wall__footerContainer___3N_ay",redesign_authCloseButton:"authentication-wall__redesign_authCloseButton___2BXA7 buttons__unstyledButton___olg-i"}},"./src/pieces/authentication/authentication.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return d}),n.d(t,"SOCIAL_CONNECTION_ERROR_ALREADY_CONNECTED",function(){return _}),n.d(t,"SOCIAL_CONNECTION_ERROR_ONE_TIME_PASSWORD_INCORRECT",function(){return m}),n.d(t,"SOCIAL_CONNECTION_ERROR_UNKNOWN",function(){return g}),n.d(t,"StartAuthenticatedSession",function(){return b}),n.d(t,"SetAuthenticatedCredentialsForBouncer",function(){return p}),n.d(t,"SetChromecastCredentials",function(){return f}),n.d(t,"TrackAnonymousUserIdCreation",function(){return h}),n.d(t,"StartAnonymousSession",function(){return v}),n.d(t,"SetAnonymousCredentialsForBouncer",function(){return w}),n.d(t,"RefreshAccessToken",function(){return C}),n.d(t,"SetAnonymousSessionCredential",function(){return y}),n.d(t,"AnnounceAccessTokenUpdate",function(){return j}),n.d(t,"AnnounceNewCredentialUpdate",function(){return O}),n.d(t,"UpdateRefreshToken",function(){return S}),n.d(t,"ShowTermsOfServiceDialog",function(){return E}),n.d(t,"CompleteTermsOfServiceDialog",function(){return x}),n.d(t,"ShowBouncerDialog",function(){return k}),n.d(t,"DismissBouncerDialog",function(){return I}),n.d(t,"ShowBouncerDialogAuthenticationLock",function(){return T}),n.d(t,"DismissBouncerDialogAuthenticationLock",function(){return F}),n.d(t,"SetAuthenticationLockDialogIsActive",function(){return P}),n.d(t,"SetAuthenticationLockDialogAlreadyTriggered",function(){return N}),n.d(t,"ShowWhitelistLoginDialog",function(){return M}),n.d(t,"DismissWhitelistLoginDialog",function(){return L}),n.d(t,"SetBouncerFollowUpRequestSent",function(){return B}),n.d(t,"SignOutUser",function(){return A}),n.d(t,"AuthenticateWithAutoLoginToken",function(){return D}),n.d(t,"ReportAutomaticAuthenticationFailure",function(){return U}),n.d(t,"AddPostAuthenticationEvent",function(){return R}),n.d(t,"ResendVerificationEmail",function(){return H}),n.d(t,"ReportVerificationEmailResend",function(){return W}),n.d(t,"ResendVerificationEmailFromNag",function(){return V}),n.d(t,"ResendVerificationEmailFromDialog",function(){return z}),n.d(t,"ResendVerificationEmailFromWelcomeDialog",function(){return G}),n.d(t,"MarkEmailVerificationNagAsClicked",function(){return q}),n.d(t,"MarkEmailVerificationDialogButtonAsClicked",function(){return J}),n.d(t,"MarkWelcomeDialogEmailButtonAsClicked",function(){return Z}),n.d(t,"ShowVerificationDialog",function(){return Y}),n.d(t,"CompleteVerificationDialog",function(){return Q}),n.d(t,"ShowWelcomeDialog",function(){return K}),n.d(t,"CompleteWelcomeDialog",function(){return X}),n.d(t,"ValidateUsernameUniqueness",function(){return $}),n.d(t,"SetUsernameUniqueness",function(){return ee}),n.d(t,"TrackSignInButtonClick",function(){return te}),n.d(t,"TrackSignUpButtonClick",function(){return ne}),n.d(t,"TrackSocialSignInOrUpButtonClick",function(){return ae}),n.d(t,"TrackSignIn",function(){return re}),n.d(t,"TrackSignUp",function(){return ie}),n.d(t,"TrackSocialSignUp",function(){return oe}),n.d(t,"TrackSocialSignIn",function(){return se}),n.d(t,"StartMultiFactorAuthenticationSetup",function(){return ce}),n.d(t,"DisableMultiFactorAuthentication",function(){return le}),n.d(t,"ShowMultiFactorSignInDialog",function(){return ue}),n.d(t,"ResetMultiFactorSignInDialog",function(){return de}),n.d(t,"CompleteMultiFactorDialog",function(){return _e}),n.d(t,"SetMultiFactorCodeFailed",function(){return me}),n.d(t,"PromiseSignInFormSubmission",function(){return be}),n.d(t,"SubmitSignInForm",function(){return pe}),n.d(t,"ReportSignInFormSuccess",function(){return fe}),n.d(t,"ReportSignInFormFailure",function(){return he}),n.d(t,"PromiseSignUpFormSubmission",function(){return we}),n.d(t,"SubmitSignUpForm",function(){return Ce}),n.d(t,"ReportSignUpFormSuccess",function(){return ye}),n.d(t,"ReportSignUpFormFailure",function(){return je}),n.d(t,"PromiseForgotPasswordFormSubmission",function(){return Se}),n.d(t,"SubmitForgotPasswordForm",function(){return Ee}),n.d(t,"ReportForgotPasswordFormSuccess",function(){return xe}),n.d(t,"ReportForgotPasswordFormFailure",function(){return ke}),n.d(t,"PromiseResetPasswordFormSubmission",function(){return Te}),n.d(t,"SubmitResetPasswordForm",function(){return Fe}),n.d(t,"ReportResetPasswordFormSuccess",function(){return Pe}),n.d(t,"ReportResetPasswordFormFailure",function(){return Ne}),n.d(t,"AuthenticateSocialConnection",function(){return Me}),n.d(t,"NavigateToSocialAuthenticationPage",function(){return Le}),n.d(t,"ReportSocialConnectionFailure",function(){return Be}),n.d(t,"SetPostAuthenticationRedirectPath",function(){return Ae}),n.d(t,"ClearPostAuthenticationRedirectPath",function(){return De}),n.d(t,"ShowAuthenticationWallWithMultiPaths",function(){return Ue}),n.d(t,"SubscribeToBouncerNotification",function(){return Re}),n.d(t,"ReportSignUpClientUsernameError",function(){return He}),n.d(t,"ReportSignUpClientPasswordError",function(){return We}),n.d(t,"setBannerTriggerDetails",function(){return Ve}),n.d(t,"selectPostAuthenticationRedirectPath",function(){return ze}),n.d(t,"selectAutomaticAuthenticationFailed",function(){return Ge}),n.d(t,"selectSocialConnectionError",function(){return qe}),n.d(t,"selectAccessToken",function(){return Je}),n.d(t,"selectNewCredential",function(){return Ze}),n.d(t,"selectAnonymousSessionCredential",function(){return Ye}),n.d(t,"selectEmailVerificationNagClicked",function(){return Qe}),n.d(t,"selectEmailVerificationDialogButtonClicked",function(){return Ke}),n.d(t,"selectWelcomeDialogEmailButtonClicked",function(){return Xe}),n.d(t,"selectRefreshToken",function(){return $e}),n.d(t,"selectUserSessionType",function(){return et}),n.d(t,"selectIsAuthenticated",function(){return tt}),n.d(t,"selectIsAnonymous",function(){return nt}),n.d(t,"selectTermsOfServiceDialogIsActive",function(){return at}),n.d(t,"selectMultiFactorSignInDialogIsActive",function(){return rt}),n.d(t,"selectMultiFactorCodeFailed",function(){return it}),n.d(t,"selectVerificationDialogIsActive",function(){return ot}),n.d(t,"selectWelcomeDialogIsActive",function(){return st}),n.d(t,"selectVerificationDialogBody",function(){return ct}),n.d(t,"selectVerificationDialogDarkTheme",function(){return lt}),n.d(t,"selectBouncerDialogIsActive",function(){return ut}),n.d(t,"selectBouncerDialogAuthenticationLockIsActive",function(){return dt}),n.d(t,"selectAuthenticationLockDialogIsActive",function(){return _t}),n.d(t,"selectAuthenticationLockDialogAlreadyTriggered",function(){return mt}),n.d(t,"selectWhitelistLoginDialogIsActive",function(){return gt}),n.d(t,"selectBouncerFollowUpRequestSent",function(){return bt}),n.d(t,"selectUsernameIsAvailable",function(){return pt}),n.d(t,"selectChromecastCredentials",function(){return ft}),n.d(t,"selectBannerTriggerDetails",function(){return ht});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-actions/es/createAction.js"),s=n("./node_modules/redux-actions/es/handleActions.js"),c=n("./node_modules/reselect/lib/index.js"),l=n("./src/pieces/base/constants.js"),u=n("./src/pieces/base/forms/create-form-actions.js"),d=(n("./node_modules/bows/bows.js")("Authentication.reducer"),"authentication"),_="already connected",m="incorrect code",g="unknown error",b=Object(o.a)("Start Authenticated User Session",function(e){return{accessToken:e.accessToken,refreshToken:e.refreshToken,caid:e.caid,newCredential:e.credential}}),p=Object(o.a)("Set Authenticated Credentials For Bouncer",function(e){return{accessToken:e.accessToken,refreshToken:e.refreshToken,caid:e.caid,newCredential:e.credential}}),f=Object(o.a)("Set Chromecast Credentials",function(e){return e}),h=Object(o.a)("Track New Anonymous ID Creation",function(e){return e}),v=Object(o.a)("Start Anonymous Session [new version]",function(e,t){return{anonymousUserId:e,anonymousSessionCredential:t}}),w=Object(o.a)("Set Anonymous Credentials For Bouncer",function(e,t){return{anonymousUserId:e,anonymousSessionCredential:t}}),C=Object(o.a)("Refresh Access Token",function(e){return e}),y=Object(o.a)("Set Anonymous Session Credential",function(e){return e}),j=Object(o.a)("Announce Access Token Update",function(e){return e}),O=Object(o.a)("Announce New Credential Update",function(e){return e}),S=Object(o.a)("Update Refresh Token",function(e){return e}),E=Object(o.a)("Show Terms of Service Dialog"),x=Object(o.a)("Complete Terms of Service Dialog",function(){return null}),k=Object(o.a)("Show Bouncer Dialog"),I=Object(o.a)("Dismiss Bouncer Dialog"),T=Object(o.a)("Show Bouncer Dialog Authentication Lock"),F=Object(o.a)("Dismiss Bouncer Dialog Authentication Lock"),P=Object(o.a)("Set Authentication Lock Dialog"),N=Object(o.a)("Set Authentication Lock Dialog Already Triggered"),M=Object(o.a)("Show Whitelist Login Dialog"),L=Object(o.a)("Dismiss Whitelist Login Dialog"),B=Object(o.a)("Set Bouncer FollowUp Request Sent"),A=Object(o.a)("Sign Out User",function(){return null}),D=Object(o.a)("Authenticate with Auto-Login Token",function(e,t,n){return{caid:e,token:t,postAuthenticationRedirectType:n}}),U=Object(o.a)("Report Automatic Authentication Failure"),R=Object(o.a)("Add Post-Authentication Event",function(e){return{type:e.type,payload:e.payload}}),H=Object(o.a)("Resend Verification Email",function(){return null}),W=Object(o.a)("Report Verification Email Resend Success",function(){return null}),V=Object(o.a)("Resend Verification Email From Nag",function(){return null}),z=Object(o.a)("Resend Verification Email From Dialog",function(){return null}),G=Object(o.a)("Resend Verification Email From Welcome Dialog",function(){return null}),q=Object(o.a)("Mark Email Verification Nag As Clicked",function(){return null}),J=Object(o.a)("Mark Email Verification Dialog Button As Clicked",function(){return null}),Z=Object(o.a)("Mark Welcome Dialog Email Button As Clicked",function(){return null}),Y=Object(o.a)("Show Verification Dialog",function(e){return{body:e.body,darkTheme:!!e.darkTheme}}),Q=Object(o.a)("Complete Verification Dialog"),K=Object(o.a)("Show Welcome Dialog"),X=Object(o.a)("Complete Welcome Dialog"),$=Object(o.a)("Validate Username Uniqueness",function(e){return e}),ee=Object(o.a)("Set Username Uniqueness",function(e){return e}),te=Object(o.a)("Track Sign In Button Click",function(){return null}),ne=Object(o.a)("Track Sign Up Button Click",function(){return null}),ae=Object(o.a)("Track Social Sign In/Up Button Click",function(e){return e}),re=Object(o.a)("Track Sign In",function(){return null}),ie=Object(o.a)("Track Sign Up",function(e){return e}),oe=Object(o.a)("Track Social Sign Up",function(e,t){return{provider:e,authenticatedUserId:t}}),se=Object(o.a)("Track Social Sign In",function(e){return e}),ce=Object(o.a)("Start Multi Factor Authentication Setup",function(){return null}),le=Object(o.a)("Disable Multi Factor Authentication",function(){return null}),ue=Object(o.a)("Show Multi Factor Sign In Dialog",function(){return null}),de=Object(o.a)("Hide Multi Factor Sign In Dialog",function(){return null}),_e=Object(o.a)("Complete Multi Factor Dialog",function(e){var t=e.choice,n=e.oneTimePassword;return{choice:t,oneTimePassword:void 0===n?"":n}}),me=Object(o.a)("Set Multi Factor Code Failed",function(){return null}),ge=Object(u.a)("Sign In",function(e){var t=e.username,n=void 0===t?"":t,a=e.password;return{username:n,password:void 0===a?"":a}}),be=ge.promiseFormSubmission,pe=ge.submit,fe=ge.succeed,he=ge.fail,ve=Object(u.a)("Sign Up",function(e){var t=e.username,n=void 0===t?"":t,a=e.email,r=void 0===a?"":a,i=e.password,o=void 0===i?"":i,s=e.dateOfBirth,c=e.iid,l=e.provider,u=e.hasAgreedToTermsOfService;return{username:n,email:r,password:o,dateOfBirth:s,iid:c,provider:l,hasAgreedToTermsOfService:void 0===u||u}}),we=ve.promiseFormSubmission,Ce=ve.submit,ye=ve.succeed,je=ve.fail,Oe=Object(u.a)("Forgot Password",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}),Se=Oe.promiseFormSubmission,Ee=Oe.submit,xe=Oe.succeed,ke=Oe.fail,Ie=Object(u.a)("Reset Password"),Te=Ie.promiseFormSubmission,Fe=Ie.submit,Pe=Ie.succeed,Ne=Ie.fail,Me=Object(o.a)("Authenticate Social Connection",function(e){return e}),Le=Object(o.a)("Navigate to the Social Authentication Approval Page",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2?arguments[2]:void 0;return{provider:e,postAuthenticationRedirect:t,signUpPagePath:n}}),Be=Object(o.a)("Report Social Connection Failure",function(e){return{type:e.type,message:e.message}}),Ae=Object(o.a)("Set Post-Login Redirect",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return e}),De=Object(o.a)("Clear Post-Login Redirect",function(){return null}),Ue=Object(o.a)("Show Authentication Wall With Multi Paths",function(e){return{authenticationWallRootPath:e.authenticationWallRootPath,suffix:e.isLogin?"sign-in":"join"}}),Re=Object(o.a)("Subscribe to bouncer notifications",function(e,t){return{entertainerUsername:e,email:t}}),He=Object(o.a)("Report SignUp Client Username Error",function(e){return e}),We=Object(o.a)("Report SignUp Client Password Error",function(e){return e}),Ve=Object(o.a)("Set Banner Trigger Details",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),ze=function(e){return e[d].get("postAuthenticationRedirectPath")},Ge=function(e){return e[d].get("automaticAuthenticationFailed")},qe=Object(c.createSelector)(function(e){return e[d].get("socialConnectionError")},function(e){return e?e.toJS():null}),Je=function(e){return e[d].get("accessToken")},Ze=function(e){return e[d].get("newCredential")},Ye=function(e){return e[d].get("anonymousSessionCredential")},Qe=function(e){return e[d].get("emailVerificationNagClicked")},Ke=function(e){return e[d].get("emailVerificationDialogButtonClicked")},Xe=function(e){return e[d].get("welcomeDialogEmailButtonClicked")},$e=function(e){return e[d].get("refreshToken")},et=function(e){return e[d].get("userSessionType")},tt=function(e){return e[d].get("userSessionType")===l.h},nt=function(e){return e[d].get("userSessionType")===l.c},at=function(e){return e[d].get("termsOfServiceDialogIsActive")},rt=function(e){return e[d].get("multiFactorSignInDialogIsActive")},it=function(e){return e[d].get("multiFactorCodeFailed")},ot=function(e){return e[d].get("verificationDialogIsActive")},st=function(e){return e[d].get("welcomeDialogIsActive")},ct=function(e){return e[d].get("verificationDialogBody")},lt=function(e){return e[d].get("verificationDialogDarkTheme")},ut=function(e){return e[d].get("bouncerDialogIsActive")},dt=function(e){return e[d].get("bouncerDialogAuthenticationLockIsActive")},_t=function(e){return e[d].get("authenticationLockDialogIsActive")},mt=function(e){return e[d].get("authenticationLockDialogAlreadyTriggered")},gt=function(e){return e[d].get("whitelistLoginDialogIsActive")},bt=function(e){return e[d].get("bouncerFollowUpRequestSent")},pt=function(e){return e[d].get("usernameIsAvailable")},ft=function(e){return e[d].get("chromecastCredentials")},ht=Object(c.createSelector)(function(e){return e[d].get("bannerTriggerDetails")},function(e){return e?e.toJS():{}});t.default=Object(s.a)((a={},i()(a,v,function(e,t){var n=t.payload.anonymousSessionCredential,a=n;return window.chromecastCredentails=n,e.set("userSessionType",l.c).set("anonymousSessionCredential",n).set("chromecastCredentials",a)}),i()(a,b,function(e,t){var n=t.payload;return e.set("userSessionType",l.h).set("accessToken",n.accessToken).set("newCredential",n.newCredential).set("refreshToken",n.refreshToken)}),i()(a,w,function(e,t){var n=t.payload.anonymousSessionCredential;return e.set("userSessionType",l.c).set("anonymousSessionCredential",n)}),i()(a,p,function(e,t){var n=t.payload;return e.set("userSessionType",l.h).set("accessToken",n.accessToken).set("newCredential",n.newCredential).set("refreshToken",n.refreshToken)}),i()(a,C,function(e,t){var n=t.payload;return e.get("accessToken")===n?e.set("accessToken",null):e}),i()(a,j,function(e,t){var n=t.payload;return e.set("accessToken",n)}),i()(a,O,function(e,t){var n=t.payload;return e.set("newCredential",n)}),i()(a,S,function(e,t){var n=t.payload;return e.set("refreshToken",n)}),i()(a,y,function(e,t){var n=t.payload,a=n;return window.chromecastCredentails=n,e.set("anonymousSessionCredential",n).set("chromecastCredentials",a)}),i()(a,Ae,function(e,t){var n=t.payload;return n.startsWith("/")&&"/"!==n.charAt(1)?e.set("postAuthenticationRedirectPath",n):(console.error("Invalid redirect path ".concat(n,", redirecting to /")),e)}),i()(a,De,function(e){return e.set("postAuthenticationRedirectPath",null)}),i()(a,U,function(e){return e.set("automaticAuthenticationFailed",!0)}),i()(a,Be,function(t,n){var a=n.payload;return t.set("socialConnectionError",e.fromJS(a))}),i()(a,q,function(e){return e.set("emailVerificationNagClicked",!0)}),i()(a,J,function(e){return e.set("emailVerificationDialogButtonClicked",!0)}),i()(a,Z,function(e){return e.set("welcomeDialogEmailButtonClicked",!0)}),i()(a,Y,function(e,t){var n=t.payload;return e.set("verificationDialogIsActive",!0).set("verificationDialogBody",n.body).set("verificationDialogDarkTheme",n.darkTheme)}),i()(a,K,function(e){return e.set("welcomeDialogIsActive",!0)}),i()(a,Q,function(e){return e.set("verificationDialogIsActive",!1).set("emailVerificationDialogButtonClicked",!1)}),i()(a,X,function(e){return e.set("welcomeDialogIsActive",!1).set("welcomeDialogEmailButtonClicked",!1)}),i()(a,E,function(e){return e.set("termsOfServiceDialogIsActive",!0)}),i()(a,x,function(e){return e.set("termsOfServiceDialogIsActive",!1)}),i()(a,ue,function(e){return e.set("multiFactorSignInDialogIsActive",!0)}),i()(a,de,function(e){return e.set("multiFactorSignInDialogIsActive",!1).set("multiFactorCodeFailed",!1)}),i()(a,me,function(e){return e.set("multiFactorCodeFailed",!0)}),i()(a,k,function(e){return e.set("bouncerDialogIsActive",!0)}),i()(a,I,function(e){return e.set("bouncerDialogIsActive",!1)}),i()(a,T,function(e){return e.set("bouncerDialogAuthenticationLockIsActive",!0)}),i()(a,F,function(e){return e.set("bouncerDialogAuthenticationLockIsActive",!1)}),i()(a,P,function(e,t){var n=t.payload;return e.set("authenticationLockDialogIsActive",n)}),i()(a,N,function(e,t){var n=t.payload;return e.set("authenticationLockDialogAlreadyTriggered",n)}),i()(a,M,function(e){return e.set("whitelistLoginDialogIsActive",!0)}),i()(a,L,function(e){return e.set("whitelistLoginDialogIsActive",!1)}),i()(a,B,function(e){return e.set("bouncerFollowUpRequestSent",!0)}),i()(a,ee,function(e,t){var n=t.payload;return e.set("usernameIsAvailable",n)}),i()(a,f,function(e,t){var n=t.payload;return e.set("chromecastCredentials",n)}),i()(a,Ve,function(t,n){var a=n.payload;return t.set("bannerTriggerDetails",e.fromJS(a))}),a),e.fromJS({userSessionType:null,accessToken:null,newCredential:null,anonymousSessionCredential:null,refreshToken:null,postAuthenticationRedirectPath:null,automaticAuthenticationFailed:!1,socialConnectionError:null,emailVerificationNagClicked:!1,verificationDialogIsActive:!1,welcomeDialogIsActive:!1,emailVerificationDialogButtonClicked:!1,welcomeDialogEmailButtonClicked:!1,termsOfServiceDialogIsActive:!1,multiFactorSignInDialogIsActive:!1,multiFactorCodeFailed:!1,verificationDialogBody:"",verificationDialogDarkTheme:!1,bouncerDialogIsActive:!1,bouncerDialogAuthenticationLockIsActive:!1,authenticationLockDialogIsActive:!1,authenticationLockDialogAlreadyTriggered:!1,whitelistLoginDialogIsActive:!1,bouncerFollowUpRequestSent:!1,usernameIsAvailable:!1,chromecastCredentials:null,bannerTriggerDetails:{}}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/authentication/authentication.sagas.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/idx/lib/idx.js"),o=n.n(i),s=n("./node_modules/lodash/cond.js"),c=n.n(s),l=n("./node_modules/lodash/fp/isEqual.js"),u=n.n(l),d=n("./node_modules/lodash/last.js"),_=n.n(d),m=n("./node_modules/redux-saga/es/index.js"),g=n("./node_modules/redux-form/es/index.js"),b=n("./node_modules/react-router-redux/lib/index.js"),p=n("./src/pieces/base/storage.js"),f=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),h=n.n(f),v=n("./src/pieces/base/constants.js");n("./node_modules/bows/bows.js")("Captcha");function w(){return C.apply(this,arguments)}function C(){return(C=h()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var n=function e(){document.body.removeEventListener("click",e),t()};document.body.addEventListener("click",n),window.handleCaptchaResult=function(a){document.body.removeEventListener("click",n),a?e(a):t()},window.grecaptcha.execute()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){window.grecaptcha&&window.grecaptcha.reset()}window[v.kd]=function(e){window.handleCaptchaResult(e)};var j=n("./node_modules/redux-saga/es/effects.js"),O=n("./src/pieces/base/error-reporting.js"),S=n("./src/pieces/base/api/sharing.api.js"),E=n("./src/pieces/base/api/metrics.api.js"),x=n("./src/pieces/base/api/api-helpers.js"),k=r.a.mark(T),I=n("./node_modules/bows/bows.js")("Bouncer.api");function T(e,t){var n,a,i,o,s,c=arguments;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=c.length>2&&void 0!==c[2]&&c[2],a=c.length>3&&void 0!==c[3]&&c[3],r.next=4,Object(j.b)(p.a.get,v.r);case 4:return i=r.sent,I("Send follow up bouncer request:",o={email:t,web_notifications_enabled:n,opt_in_to_email_notifications:a,url:e,caid:i}),r.next=9,Object(x.e)("".concat(v.q,"/follow-up"),o);case 9:return(s=r.sent)&&s.id?I("Follow up entry was created: ".concat(s.id)):s&&s.error&&I("Follow up entry failed to create: ".concat(s.error),o),r.abrupt("return",s);case 12:case"end":return r.stop()}},k)}var F=n("./src/pieces/base/api/account.api.js"),P=n("./src/pieces/base/saga-utilities.js"),N=n("./src/pieces/base/application/application.actions.js"),M=n("./src/pieces/base/api/users.api.js"),L=n("./src/pieces/current-user/current-user.sagas.js"),B=n("./src/pieces/push-notification/push-notification.reducer.js"),A=n("./src/pieces/push-notification/request-push-permission.js"),D=n("./src/pieces/authentication/auth.api.js"),U=n("./src/pieces/authentication/authentication.reducer.js"),R=n("./src/pieces/users/users.reducer.js"),H=n("./src/pieces/authentication/anonymous-user-id.js"),W=(n("./node_modules/bows/bows.js")("Persisted-refresh-token-channel"),Object(m.f)(function(e){return window.addEventListener("storage",function(t){if(t.key===v.qd&&t.oldValue!==t.newValue)try{var n=JSON.parse(t.newValue);e({refreshToken:n})}catch(e){console.error(e,t)}}),function(){console.error("Persisted refresh token channel closed\u2014it is a global channel and should never be closed.")}})),V=n("./src/pieces/base/simple-dialog/simple-dialog.sagas.js"),z=n("./src/pieces/base/path.js");n.d(t,"getUserSessionType",function(){return ct}),n.d(t,"getAccessToken",function(){return lt}),n.d(t,"getSecondVersionCredential",function(){return ut}),n.d(t,"awaitAuthenticatedUserSession",function(){return Ct}),n.d(t,"isAuthenticated",function(){return yt}),n.d(t,"isAnonymous",function(){return jt}),n.d(t,"default",function(){return Nt}),n.d(t,"handleCrawler",function(){return Mt});var G=r.a.mark(Re),q=r.a.mark(He),J=r.a.mark(We),Z=r.a.mark(Ve),Y=r.a.mark(ze),Q=r.a.mark(Ge),K=r.a.mark(qe),X=r.a.mark(Je),$=r.a.mark(Ze),ee=r.a.mark(Ye),te=r.a.mark(Qe),ne=r.a.mark(Ke),ae=r.a.mark(Xe),re=r.a.mark(et),ie=r.a.mark(tt),oe=r.a.mark(nt),se=r.a.mark(at),ce=r.a.mark(rt),le=r.a.mark(it),ue=r.a.mark(ot),de=r.a.mark(st),_e=r.a.mark(ct),me=r.a.mark(lt),ge=r.a.mark(ut),be=r.a.mark(dt),pe=r.a.mark(_t),fe=r.a.mark(mt),he=r.a.mark(bt),ve=r.a.mark(pt),we=r.a.mark(ft),Ce=r.a.mark(ht),ye=r.a.mark(vt),je=r.a.mark(wt),Oe=r.a.mark(Ct),Se=r.a.mark(yt),Ee=r.a.mark(jt),xe=r.a.mark(Ot),ke=r.a.mark(St),Ie=r.a.mark(Et),Te=r.a.mark(xt),Fe=r.a.mark(kt),Pe=r.a.mark(It),Ne=r.a.mark(Tt),Me=r.a.mark(Ft),Le=r.a.mark(Pt),Be=r.a.mark(Nt),Ae=r.a.mark(Mt),De=n("./node_modules/bows/bows.js")("Authentication.sagas"),Ue="true"===localStorage.getItem(v.Fb);function Re(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(j.b)(M.j,e);case 3:return t=n.sent,n.next=6,Object(j.g)(Object(R.FollowUser)(t.caid));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error("Auto-follow post-authentication event failed\u2014discarding it.",n.t0);case 11:case"end":return n.stop()}},G,null,[[0,8]])}function He(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(j.b)(M.j,e);case 3:return t=n.sent,n.next=6,Object(j.g)(Object(R.FollowUser)(t.caid));case 6:localStorage.setItem(v.m,""),localStorage.setItem(v.l,""),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error("Auto-follow post-authentication deep link event failed\u2014discarding it.",n.t0);case 13:case"end":return n.stop()}},q,null,[[0,10]])}function We(){var e,t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(j.b)(p.a.get,v.Sc);case 2:if(e=r.sent,t=e||[],n=_()(t.filter(function(e){return"autoFollowDeepLinkUsername"===e.type})),a=o()(n,function(e){return e.payload.username}),De("Dispatching single post-authentication auto follow deep link event",t),!(a&&Date.now()-n.time<v.k)){r.next=15;break}return r.prev=8,r.next=11,Object(j.b)(He,a);case 11:return r.prev=11,localStorage.setItem(v.m,""),localStorage.setItem(v.l,""),r.finish(11);case 15:return De("Dispatching all pending post-authentication events",t),r.prev=16,r.next=19,Object(j.a)(t.map(function(e){return c()([[function(e){var t=e.time;return Date.now()-t>v.Tc},function(){}],[function(e){return"autoFollow"===e.type},function(e){var t=e.payload;return Object(j.g)(Object(R.FollowUser)(t.caid))}],[function(e){return"invite"===e.type},function(e){var t=e.payload.token;return Object(j.b)(S.a,t)}],[function(e){return"autoFollowUsername"===e.type},function(e){var t=e.payload.username;return Object(j.b)(Re,t)}]])(e)}));case 19:return r.prev=19,p.a.set(v.Sc,[]),r.finish(19);case 22:case"end":return r.stop()}},J,null,[[8,,11,15],[16,,19,22]])}function Ve(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.i)(U.selectPostAuthenticationRedirectPath);case 2:return e=t.sent,t.next=5,Object(j.g)(Object(U.ClearPostAuthenticationRedirectPath)());case 5:if(!e.includes("/video/")){t.next=10;break}return t.next=8,Object(j.g)(Object(b.push)(e));case 8:t.next=11;break;case 10:window.location.replace(document.referrer||"/");case 11:case"end":return t.stop()}},Z)}function ze(e,t){var n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("EMAIL"!==e){r.next=30;break}return r.next=3,Object(j.g)(Object(U.ShowMultiFactorSignInDialog)());case 3:return r.next=5,Object(P.e)(U.CompleteMultiFactorDialog);case 5:if(n=r.sent,a=n.choice,i=n.oneTimePassword,a!==v.Gc){r.next=16;break}return r.next=11,Object(j.b)(F.k,t);case 11:return r.next=13,Object(j.b)(ze,e,t);case 13:return r.abrupt("return",r.sent);case 16:if(a!==v.Fc){r.next=30;break}return r.prev=17,r.next=20,Object(j.b)(F.l,t,i);case 20:return r.abrupt("return",r.sent);case 23:return r.prev=23,r.t0=r.catch(17),r.next=27,Object(j.g)(Object(U.SetMultiFactorCodeFailed)());case 27:return r.next=29,Object(j.b)(ze,e,t);case 29:return r.abrupt("return",r.sent);case 30:case"end":return r.stop()}},Y,null,[[17,23]])}function Ge(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("mfa_otp_required"!==e.recommendedNextStep){n.next=6;break}return n.next=3,Object(j.b)(ze,e.multiFactorMethod,t);case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",e);case 7:case"end":return n.stop()}},Q)}function qe(e){var t,n,a,i,o,s,c,l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(j.b)(F.k,e);case 3:return t=r.sent,r.next=6,Ge(t,e);case 6:if(n=r.sent,a=n.credentials,i=n.recommendedNextStep,n.bouncer.allowed){r.next=21;break}return r.next=13,Object(j.g)(Object(U.SetAuthenticatedCredentialsForBouncer)(a));case 13:return r.next=15,Object(j.b)(pt,a.refreshToken);case 15:return r.next=17,Object(j.g)(Object(N.a)());case 17:return r.next=19,Object(j.g)(Object(U.DismissWhitelistLoginDialog)());case 19:r.next=38;break;case 21:return o=Object(z.a)(),s=o.currentPath,c=s===v.Kd?v.Ec.VOD:s===v.Id?v.Ec.STAGE:null,l={modal_name:v.Dc.COMPLETE_LOGIN,screen_name:c,clicked_at:Date.now()||null,viewer_id:null,item_type:v.Cc.AUTHENTICATION_MODAL||null,item_source:"".concat(window.location.pathname),web_presentation:Ue?v.of:v.nf},window.mParticle.logEvent("modal_view",window.mParticle.EventType.Other,l),r.next=27,Object(j.g)(Object(U.DismissBouncerDialog)());case 27:return r.next=29,Object(j.g)(Object(U.StartAuthenticatedSession)(a));case 29:return r.next=31,Object(j.g)(Object(U.ReportSignInFormSuccess)());case 31:return r.next=33,Object(j.g)(Object(U.TrackSignIn)());case 33:return r.next=35,Object(j.b)(Ve);case 35:if("legal_acceptance_required"!==i){r.next=38;break}return r.next=38,Object(j.g)(Object(U.ShowTermsOfServiceDialog)());case 38:r.next=47;break;case 40:return r.prev=40,r.t0=r.catch(0),De("Sign in failed, logging error",r.t0),r.next=45,Object(j.g)(Object(U.ReportSignInFormFailure)({_error:r.t0.errors}));case 45:return r.next=47,Object(j.g)(Object(U.SetMultiFactorCodeFailed)());case 47:case"end":return r.stop()}},K,null,[[0,40]])}function Je(e){var t,n,a,i,o,s,c,l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.iid,Ue&&(n=e.dateOfBirth.split("/"),a="".concat(n[2],"-").concat(n[0],"-").concat(n[1]),e.dateOfBirth=a),r.prev=2,r.next=5,t?null:!Ue&&Object(j.b)(w);case 5:return i=r.sent,o={iid:t,captchaToken:i,hasAgreedToTermsOfService:e.hasAgreedToTermsOfService},r.next=9,Object(j.b)(F.m,e,o);case 9:return s=r.sent,c=s.credentials,r.next=13,Object(j.g)(Object(U.StartAuthenticatedSession)(c));case 13:return r.next=15,Object(j.g)(Object(U.ReportSignUpFormSuccess)());case 15:return r.next=17,Object(j.g)(t?Object(U.TrackSocialSignUp)(e.provider,c.caid):Object(U.TrackSignUp)(c.caid));case 17:return r.next=19,Object(j.b)(Ve);case 19:return r.next=21,Object(j.g)(Object(U.ShowWelcomeDialog)());case 21:return r.next=23,Object(j.b)(p.a.get,v.b);case 23:return l=r.sent,r.next=26,Object(P.b)(E.a,"user_registration",{caid:c.caid,anonymous_id:l});case 26:window.rdt&&window.rdt("track","Custom",{customEventName:"CompleteRegistration"}),r.next=37;break;case 29:if(r.prev=29,r.t0=r.catch(2),De("Sign up failed, logging error",r.t0),!r.t0.humannessVerificationFailed){r.next=35;break}return r.next=35,Object(j.b)(y);case 35:return r.next=37,Object(j.g)(Object(U.ReportSignUpFormFailure)({_error:r.t0&&r.t0.errors?r.t0.errors:{}}));case 37:case"end":return r.stop()}},X,null,[[2,29]])}function Ze(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)(p.a.remove,v.qd);case 2:return e.next=4,Object(j.b)(p.a.remove,v.i);case 4:return e.next=6,Object(j.b)(p.a.remove,v.r);case 6:return e.next=8,Object(j.b)(p.a.remove,v.w);case 8:case"end":return e.stop()}},$)}function Ye(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return De("handling sign out"),e=p.a.get(v.qd),t.prev=2,t.next=5,Object(j.b)(D.f,e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),De("Sign out failed",t.t0);case 10:return t.next=12,Object(j.b)(Ze);case 12:window.location.assign("/");case 13:case"end":return t.stop()}},ee,null,[[2,7]])}function Qe(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.email,De("handling forgot password",t),n.prev=2,n.next=5,Object(j.b)(F.h,t);case 5:return n.next=7,Object(j.g)(Object(U.ReportForgotPasswordFormSuccess)());case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,Object(j.g)(Object(U.ReportForgotPasswordFormFailure)({_error:429===n.t0.statusCode?"Please try again in a bit":o()(n.t0,function(e){return e.errors.email[0]})||"An error occurred, please try again later"}));case 13:case"end":return n.stop()}},te,null,[[2,9]])}function Ke(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.code,n=e.password,a=e.repeatedPassword,n!==a){r.next=22;break}return r.prev=2,r.next=5,Object(j.b)(F.g,t,n);case 5:return r.next=7,Object(j.g)(Object(U.ReportResetPasswordFormSuccess)());case 7:r.next=20;break;case 9:if(r.prev=9,r.t0=r.catch(2),De("password reset fail",r.t0),401!==r.t0.statusCode){r.next=17;break}return r.next=15,Object(j.g)(Object(U.ReportResetPasswordFormFailure)({_error:{_error:["Password reset time expired, please request a password reset again."]}}));case 15:r.next=20;break;case 17:if(422!==r.t0.statusCode){r.next=20;break}return r.next=20,Object(j.g)(Object(U.ReportResetPasswordFormFailure)({_error:r.t0.errors}));case 20:r.next=24;break;case 22:return r.next=24,Object(j.g)(Object(U.ReportResetPasswordFormFailure)({_error:{password:["Passwords don't match"]}}));case 24:case"end":return r.stop()}},ne,null,[[2,9]])}function Xe(e,t,n){var a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(j.b)(D.e,e,t,n);case 2:return a=r.sent,i=a.authUrl,r.abrupt("return",i);case 5:case"end":return r.stop()}},ae)}function $e(e){window.location.href=e}function et(e){var t,n,a,i,o;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.provider,n=e.postAuthenticationRedirect,a=e.signUpPagePath,r.next=3,Object(j.i)(U.selectPostAuthenticationRedirectPath);case 3:return i=r.sent,r.next=6,Object(j.b)(Xe,t,i||n,a);case 6:return o=r.sent,r.next=9,Object(j.b)($e,o);case 9:case"end":return r.stop()}},re)}function tt(e){var t,n,a,i,o,s,c,l,u;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(j.b)(D.g,e);case 3:return t=r.sent,r.next=6,Object(j.b)(Ge,t,{caid:t.caid,login_token:t.loginToken});case 6:return n=r.sent,a=n.credentials,i=n.redirectUrl,r.next=11,Object(j.b)(yt);case 11:if(o=r.sent,!a||o){r.next=15;break}return r.next=15,Object(j.g)(Object(U.StartAuthenticatedSession)(a));case 15:return r.next=17,Object(j.b)(yt);case 17:return s=r.sent,r.next=20,Object(j.g)(Object(U.SetPostAuthenticationRedirectPath)(i||"/"));case 20:return r.next=22,Object(j.g)(Object(U.ResetMultiFactorSignInDialog)());case 22:if(c=e.provider,!s){r.next=30;break}return r.next=26,Object(j.g)(Object(U.TrackSocialSignIn)(c));case 26:return r.next=28,Object(j.b)(Ve);case 28:r.next=37;break;case 30:if(!t.oauth){r.next=37;break}return l=Ue?t.signUpPageUrl&&t.signUpPageUrl.replace(/(join)(?!.*\1)/,"sign-up"):t.signUpPageUrl||"/sign-up",r.next=35,Object(j.g)(Object(b.replace)(l));case 35:return r.next=37,Object(j.g)(Object(g.b)("signUp",{username:t.possibleUsername,email:t.oauth.email,iid:t.oauth.iid,provider:c},!0));case 37:r.next=49;break;case 39:if(r.prev=39,r.t0=r.catch(0),403!==r.t0.statusCode){r.next=47;break}return u=r.t0.errors.otp?U.SOCIAL_CONNECTION_ERROR_ONE_TIME_PASSWORD_INCORRECT:U.SOCIAL_CONNECTION_ERROR_ALREADY_CONNECTED,r.next=45,Object(j.g)(Object(U.ReportSocialConnectionFailure)({type:u,message:r.t0.errors&&r.t0.errors._error}));case 45:r.next=49;break;case 47:return r.next=49,Object(j.g)(Object(U.ReportSocialConnectionFailure)({type:U.SOCIAL_CONNECTION_ERROR_UNKNOWN,message:""}));case 49:case"end":return r.stop()}},ie,null,[[0,39]])}function nt(e){var t,n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=e.type,n=e.payload,De("handling add post auth event",t,n),a=p.a.get(v.Sc)||[],i=a.filter(function(e){return!(e.type===t&&u()(e.payload,n))}).concat({time:Date.now(),type:t,payload:n}),p.a.set(v.Sc,i);case 5:case"end":return r.stop()}},oe)}function at(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)(F.f);case 2:case"end":return e.stop()}},se)}function rt(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.g)(Object(U.MarkEmailVerificationNagAsClicked)());case 2:return e.next=4,Object(j.b)(at);case 4:case"end":return e.stop()}},ce)}function it(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.g)(Object(U.MarkEmailVerificationDialogButtonAsClicked)());case 2:return e.next=4,Object(j.b)(at);case 4:case"end":return e.stop()}},le)}function ot(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.g)(Object(U.MarkWelcomeDialogEmailButtonAsClicked)());case 2:return e.next=4,Object(j.b)(at);case 4:case"end":return e.stop()}},ue)}function st(e){var t,n,a,i,o,s,c;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.token,n=e.caid,a=e.postAuthenticationRedirectType,r.prev=1,r.next=4,Object(j.b)(F.k,{caid:n,login_token:t});case 4:return i=r.sent,r.next=7,Object(j.b)(Ge,i,{caid:n,login_token:t});case 7:return o=r.sent,s=o.credentials,r.next=11,Object(j.g)(Object(U.StartAuthenticatedSession)(s));case 11:return r.next=13,Object(j.b)(Xe,a,"/auth/social-account-connection-confirmation");case 13:return c=r.sent,r.next=16,Object(j.b)($e,c);case 16:r.next=23;break;case 18:return r.prev=18,r.t0=r.catch(1),r.next=22,Object(j.g)(Object(U.ReportAutomaticAuthenticationFailure)());case 22:throw r.t0;case 23:case"end":return r.stop()}},de,null,[[1,18]])}function ct(){var e,t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(j.i)(U.selectUserSessionType);case 2:if(!(e=a.sent)){a.next=7;break}return a.abrupt("return",e);case 7:return a.next=9,Object(j.h)({anonymous:Object(P.e)(U.StartAnonymousSession),authenticated:Object(P.e)(U.StartAuthenticatedSession)});case 9:return t=a.sent,n=t.authenticated,a.abrupt("return",n?v.h:v.c);case 12:case"end":return a.stop()}},_e)}function lt(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(j.b)(ct);case 2:if(n.sent!==v.c){n.next=7;break}return n.abrupt("return",null);case 7:return n.next=9,Object(j.i)(U.selectAccessToken);case 9:if(!(e=n.sent)){n.next=14;break}return n.abrupt("return",e);case 14:return n.next=16,Object(P.e)(U.AnnounceAccessTokenUpdate);case 16:return t=n.sent,n.abrupt("return",t);case 18:case"end":return n.stop()}},me)}function ut(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)(ct);case 2:if(e.sent!==v.c){e.next=9;break}return e.next=6,Object(j.i)(U.selectAnonymousSessionCredential);case 6:return e.abrupt("return",e.sent);case 9:return e.next=11,Object(j.i)(U.selectNewCredential);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},ge)}function dt(){var e,t,n,a,i,o,s,c,l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return De("Waiting on RefreshAccessToken action to trigger an auth token refresh"),r.next=4,Object(P.e)(U.RefreshAccessToken);case 4:return e=r.sent,r.next=7,Object(j.i)(U.selectAccessToken);case 7:return t=r.sent,r.next=10,Object(j.i)(U.selectRefreshToken);case 10:if(n=r.sent){r.next=17;break}return r.next=14,Object(j.g)(Object(U.SignOutUser)());case 14:Object(O.a)("User signed out due to unexpectedly missing refresh token"),r.next=50;break;case 17:if(t){r.next=50;break}return r.prev=18,r.next=21,Object(j.b)(D.d,n);case 21:return a=r.sent,i=a.credentials,o=i.accessToken,s=i.credential,c=a.bouncer.allowed,r.next=28,Object(j.b)(Date.now);case 28:return l=r.sent,r.next=31,Object(j.b)(p.a.set,v.i,l);case 31:return r.next=33,Object(j.g)(Object(U.AnnounceAccessTokenUpdate)(o));case 33:return r.next=35,Object(j.g)(Object(U.AnnounceNewCredentialUpdate)(s));case 35:if(c){r.next=38;break}return r.next=38,Object(j.g)(Object(N.a)());case 38:r.next=50;break;case 40:if(r.prev=40,r.t0=r.catch(18),"BadStatus"!==r.t0.kind||401!==r.t0.statusCode){r.next=48;break}return r.next=45,Object(j.g)(Object(U.SignOutUser)());case 45:Object(O.a)("User signed out due to unexpectedly invalid refresh token"),r.next=50;break;case 48:return r.next=50,Object(j.g)(Object(U.AnnounceAccessTokenUpdate)(e));case 50:r.next=0;break;case 52:case"end":return r.stop()}},be,null,[[18,40]])}function _t(){var e,t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return De("Waiting to see if access token becomes stale"),a.next=4,Object(j.h)({refreshed:Object(P.e)(U.RefreshAccessToken),stale:Object(m.e)(v.W)});case 4:if(e=a.sent,t=e.stale,De("Done waiting on access token, did it go stale (true) or was it refreshed?",t),!t){a.next=13;break}return a.next=10,Object(j.i)(U.selectAccessToken);case 10:return n=a.sent,a.next=13,Object(j.g)(Object(U.RefreshAccessToken)(n));case 13:a.next=0;break;case 15:case"end":return a.stop()}},pe)}function mt(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.f)(W,r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.refreshToken)){e.next=6;break}return e.next=4,Object(j.g)(Object(U.UpdateRefreshToken)(n));case 4:e.next=8;break;case 6:return e.next=8,Object(j.g)(Object(U.SignOutUser)());case 8:case"end":return e.stop()}},e)}));case 2:case"end":return e.stop()}},fe)}var gt=function(){var e=location.search.replace(/utm_[^&]+&?/g,"");return location.pathname+(e?"".concat(e):"")};function bt(){var e,t,n,a,i,o,s,c,l,u,d,_,m,g,f,h,w,C,y,S,E;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(j.b)(p.a.get,v.qd);case 2:return e=r.sent,r.next=5,Object(j.b)(p.a.get,v.i);case 5:return t=r.sent,r.next=8,Object(j.b)(Date.now);case 8:if(n=r.sent,a=n-t,i=localStorage.getItem(v.L),o=i&&JSON.parse(i),s=o&&o.utm_broadcast_title||null,c=s&&s.replace(/\+/g," "),!o){r.next=21;break}return l={creative_name:o.utm_creative_name||null,channel:o.utm_channel||null,feature:o.utm_feature||null,campaign:o.utm_campaign||null,canonical_url:o.utm_canonical_url||null,user:o.utm_user||null,"auto-follow":o["utm_auto-follow"]||null,referred_time:o.utm_referred_time||null,referrer_username:o.utm_referrer_username||null,referrer_url:o.utm_referrer_url||null,web_presentation:Ue?v.of:v.nf,broadcast_title:c||null,broadcaster_username:o.utm_broadcast_username||o.utm_broadcaster_username||null,activity_id:o.utm_activity_id||null,is_live:o.utm_is_live||null,presentation:o.utm_presentation||null},window.mParticle&&window.mParticle.logEvent("caftv_link_opened",window.mParticle.EventType.Other,l),localStorage.setItem(v.L,JSON.stringify(null)),u=gt(),r.next=21,Object(j.g)(Object(b.replace)(u));case 21:if(!(e&&a<v.rd)){r.next=65;break}return r.prev=22,r.next=25,Object(j.b)(D.d,e);case 25:if(d=r.sent,_=d.credentials,m=d.recommendedNextStep,d.bouncer.allowed){r.next=36;break}return r.next=32,Object(j.g)(Object(N.a)());case 32:return r.next=34,Object(j.g)(Object(U.SetAuthenticatedCredentialsForBouncer)(_));case 34:r.next=50;break;case 36:return r.next=38,Object(j.g)(Object(U.StartAuthenticatedSession)(_));case 38:if("legal_acceptance_required"!==m){r.next=41;break}return r.next=41,Object(j.g)(Object(U.ShowTermsOfServiceDialog)());case 41:return r.next=43,Object(j.b)(p.a.remove,v.w);case 43:if(g=localStorage.getItem(v.m),f=parseInt(localStorage.getItem(v.l),10),h=Date.now(),w=h-f,!(g&&w<v.k)){r.next=50;break}return r.next=50,Object(j.b)(He,g);case 50:r.next=63;break;case 52:if(r.prev=52,r.t0=r.catch(22),"BadStatus"!==r.t0.kind||401!==r.t0.statusCode){r.next=60;break}return r.next=57,Object(j.g)(Object(U.SignOutUser)());case 57:Object(O.a)("User signed out due to invalid refresh token during auth init"),r.next=63;break;case 60:if("FetchFailure"!==r.t0.kind){r.next=63;break}return r.next=63,Object(j.g)(Object(N.b)());case 63:r.next=85;break;case 65:return r.next=67,Object(j.b)(Ze);case 67:return De("User is not signed in, starting anonymous user session"),r.next=70,Object(j.b)(H.a);case 70:return C=r.sent,r.next=73,Object(j.b)(D.c);case 73:if(y=r.sent,S=y.credential,y.bouncer.allowed){r.next=83;break}return r.next=79,Object(j.g)(Object(N.a)());case 79:return r.next=81,Object(j.g)(Object(U.SetAnonymousCredentialsForBouncer)(C,S));case 81:r.next=85;break;case 83:return r.next=85,Object(j.g)(Object(U.StartAnonymousSession)(C,S));case 85:if(!Object(H.b)()){r.next=91;break}return r.next=88,Object(j.b)(H.a);case 88:return E=r.sent,r.next=91,Object(j.g)(Object(U.TrackAnonymousUserIdCreation)(E));case 91:case"end":return r.stop()}},he,null,[[22,52]])}function pt(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(j.b)(Date.now);case 2:return t=n.sent,n.next=5,Object(j.b)(p.a.set,v.qd,e);case 5:return n.next=7,Object(j.b)(p.a.set,v.i,t);case 7:case"end":return n.stop()}},ve)}function ft(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.b)(pt,e);case 2:case"end":return t.stop()}},we)}function ht(){var e,t,n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(j.b)(ut);case 2:return e=r.sent,r.next=5,Object(j.b)(L.fetchAndSaveCurrentUser);case 5:return t=r.sent,r.next=8,Object(j.b)(L.getCurrentUserId);case 8:return n=r.sent,a=t&&t.username.toLowerCase(),i="".concat(e,"||").concat(n,"||").concat(a),r.prev=11,r.next=14,Object(j.g)(Object(U.SetChromecastCredentials)(i));case 14:window.chromecastCredentails=i,r.next=20;break;case 17:r.prev=17,r.t0=r.catch(11),console.error("failed to modify chromecast credential",r.t0);case 20:case"end":return r.stop()}},Ce,null,[[11,17]])}function vt(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.b)(ht);case 2:case"end":return e.stop()}},ye)}function wt(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.refreshToken,n.next=3,Object(P.b)(pt,t);case 3:return n.next=5,Object(P.b)(dt);case 5:return n.next=7,Object(P.b)(mt);case 7:return n.next=9,Object(P.b)(_t);case 9:return n.next=11,Object(P.b)(ht);case 11:case"end":return n.stop()}},je)}function Ct(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)(ct);case 2:if(e.sent!==v.c){e.next=6;break}return e.next=6,Object(P.e)(U.StartAuthenticatedSession);case 6:case"end":return e.stop()}},Oe)}function yt(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.b)(ct);case 2:return e=t.sent,t.abrupt("return",e===v.h);case 4:case"end":return t.stop()}},Se)}function jt(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.b)(ct);case 2:return e=t.sent,t.abrupt("return",e===v.c);case 4:case"end":return t.stop()}},Ee)}function Ot(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.b)(D.b);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(j.g)(Object(U.ShowTermsOfServiceDialog)());case 9:case"end":return e.stop()}},xe,null,[[0,5]])}function St(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(j.b)(D.a,{username:e});case 2:return t=n.sent,n.next=5,Object(j.g)(Object(U.SetUsernameUniqueness)(t));case 5:case"end":return n.stop()}},ke)}function Et(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e="Try Again",t.next=3,Object(j.b)(V.showDialog,{title:"Incorrect Code",choices:["Close",e]});case 3:if(t.sent!==e){t.next=7;break}return t.next=7,Object(j.b)(xt);case 7:case"end":return t.stop()}},Ie)}function xt(){var e,t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e="Begin Setup",r.next=3,Object(j.b)(V.showDialog,{title:"Two-Step Authentication",body:"Protect your account with Two-Step Authentication. Once enabled you'll be required       to enter both your password and a verification code sent to your email to sign in.",choices:["Not Now",e]});case 3:if(r.sent!==e){r.next=26;break}return r.next=7,Object(j.b)(F.i);case 7:return t=r.sent,r.next=10,Object(j.b)(V.showDialogWithInput,{title:"Code Emailed",body:"A verification code was emailed to ".concat(t,". Please enter the code below."),inputPlaceholder:"Enter Code",inputType:"text",choices:["Continue"]});case 10:if(n=r.sent,!(a=n.inputText)){r.next=26;break}return r.prev=13,r.next=16,Object(j.b)(F.j,"EMAIL",a);case 16:return r.next=18,Object(j.b)(V.showDialog,{title:"Confirmed!",body:"We'll send an email to confirm it's you whenever you sign in.",choices:["Done"]});case 18:return r.next=20,Object(j.b)(L.fetchAndSaveCurrentUser,!0);case 20:r.next=26;break;case 22:return r.prev=22,r.t0=r.catch(13),r.next=26,Object(j.b)(Et);case 26:case"end":return r.stop()}},Te,null,[[13,22]])}function kt(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)(V.showDialog,{body:"Are you sure you want to disable Two-Step Authentication?",choices:["Cancel","Disable"]});case 2:if("Disable"!==e.sent){e.next=8;break}return e.next=6,Object(j.b)(F.j,"NONE");case 6:return e.next=8,Object(j.b)(L.fetchAndSaveCurrentUser,!0);case 8:case"end":return e.stop()}},Fe)}function It(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(P.b)(r.a.mark(function e(){var t,n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(m.e)(v.W);case 3:return e.next=5,Object(j.b)(D.c);case 5:return t=e.sent,n=t.credential,a=t.bouncer.allowed,e.next=10,Object(j.g)(Object(U.SetAnonymousSessionCredential)(n));case 10:if(a){e.next=13;break}return e.next=13,Object(j.g)(Object(N.a)());case 13:e.next=0;break;case 15:case"end":return e.stop()}},e)}));case 2:return e=t.sent,t.next=5,Object(P.e)(U.StartAuthenticatedSession);case 5:return t.next=7,Object(j.c)(e);case 7:case"end":return t.stop()}},Pe)}function Tt(e){var t,n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.authenticationWallRootPath,n=e.suffix,De("handling show auth wall with multi paths",t),a=localStorage.getItem(v.J),!t){r.next=11;break}return i=t.replace(v.j,""),r.next=7,Object(j.g)(Object(U.SetPostAuthenticationRedirectPath)(i));case 7:return r.next=9,Object(j.g)(Object(b.push)("".concat(i,"/").concat(n)));case 9:r.next=22;break;case 11:if(a!==v.Xb){r.next=18;break}return r.next=14,Object(j.g)(Object(U.SetPostAuthenticationRedirectPath)("/"));case 14:return r.next=16,Object(j.g)(Object(b.push)("/following/".concat(n)));case 16:r.next=22;break;case 18:return r.next=20,Object(j.g)(Object(U.SetPostAuthenticationRedirectPath)("/"));case 20:return r.next=22,Object(j.g)(Object(b.push)("/browse/".concat(n)));case 22:case"end":return r.stop()}},Ne)}function Ft(e){var t,n,a,i,o,s,c,l,u,d,_;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.entertainerUsername,n=e.email,De("handling subscribing to bouncer email notification",n),r.next=4,Object(j.b)(ct);case 4:if(a=r.sent,i=parseInt(localStorage.getItem(v.u),10),o=Date.now(),s=o-i,c=localStorage.getItem(v.s),l=s<v.t&&c||location.pathname||"/",a!==v.c||!n){r.next=29;break}if(!v.x.exec(n)){r.next=19;break}return r.next=15,Object(j.g)(Object(U.ShowWhitelistLoginDialog)());case 15:return r.next=17,Object(j.g)(Object(U.SetPostAuthenticationRedirectPath)(location.pathname||"/"));case 17:r.next=27;break;case 19:return r.next=21,Object(j.g)(Object(U.SetBouncerFollowUpRequestSent)());case 21:return r.next=23,Object(j.b)(T,l,n);case 23:return r.next=25,Object(j.b)(p.a.remove,v.s);case 25:return r.next=27,Object(j.b)(p.a.remove,v.u);case 27:r.next=54;break;case 29:if(a!==v.h){r.next=54;break}return r.next=32,Object(j.b)(A.b);case 32:return u=r.sent,r.next=35,Object(j.g)(Object(B.SetCurrentUserPushPermission)(u));case 35:if(d=localStorage.getItem(v.w),"granted"!==u){r.next=46;break}return r.next=39,Object(j.g)(Object(U.SetBouncerFollowUpRequestSent)());case 39:if("true"===d&&!t){r.next=44;break}return r.next=42,Object(j.b)(T,l,null,!0,!1);case 42:(_=r.sent)&&_.id&&localStorage.setItem(v.w,!0);case 44:r.next=50;break;case 46:return r.next=48,Object(j.g)(Object(U.SetBouncerFollowUpRequestSent)());case 48:return r.next=50,Object(j.b)(T,l,null,!1,!0);case 50:return r.next=52,Object(j.b)(p.a.remove,v.s);case 52:return r.next=54,Object(j.b)(p.a.remove,v.u);case 54:case"end":return r.stop()}},Me)}function Pt(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.replace(v.v);case 1:case"end":return e.stop()}},Le)}function Nt(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.h)(U.CompleteTermsOfServiceDialog,Ot);case 2:return e.next=4,Object(P.h)(U.SubmitSignInForm,qe);case 4:return e.next=6,Object(P.h)(U.SubmitSignUpForm,Je);case 6:return e.next=8,Object(P.h)(U.SubmitForgotPasswordForm,Qe);case 8:return e.next=10,Object(P.h)(U.SubmitResetPasswordForm,Ke);case 10:return e.next=12,Object(P.h)(U.SignOutUser,Ye);case 12:return e.next=14,Object(P.h)(U.ShowAuthenticationWallWithMultiPaths,Tt);case 14:return e.next=16,Object(P.h)(U.AuthenticateWithAutoLoginToken,st);case 16:return e.next=18,Object(P.h)(U.NavigateToSocialAuthenticationPage,et);case 18:return e.next=20,Object(P.c)(U.StartAuthenticatedSession,We);case 20:return e.next=22,Object(P.c)(U.StartAnonymousSession,It);case 22:return e.next=24,Object(P.h)(U.AuthenticateSocialConnection,tt);case 24:return e.next=26,Object(P.h)(U.ResendVerificationEmailFromNag,rt);case 26:return e.next=28,Object(P.h)(U.ResendVerificationEmailFromDialog,it);case 28:return e.next=30,Object(P.h)(U.ResendVerificationEmailFromWelcomeDialog,ot);case 30:return e.next=32,Object(P.h)(U.ResendVerificationEmail,at);case 32:return e.next=34,Object(P.g)(U.AddPostAuthenticationEvent,nt);case 34:return e.next=36,Object(P.h)(U.UpdateRefreshToken,ft);case 36:return e.next=38,Object(P.h)(U.StartAuthenticatedSession,wt);case 38:return e.next=40,Object(P.h)(N.e,bt);case 40:return e.next=42,Object(P.h)(U.StartMultiFactorAuthenticationSetup,xt);case 42:return e.next=44,Object(P.h)(U.DisableMultiFactorAuthentication,kt);case 44:return e.next=46,Object(P.h)(U.ValidateUsernameUniqueness,St);case 46:return e.next=48,Object(P.h)(U.SubscribeToBouncerNotification,Ft);case 48:return e.next=50,Object(P.h)(U.DismissWhitelistLoginDialog,Pt);case 50:return e.next=52,Object(P.h)(U.AnnounceNewCredentialUpdate,vt);case 52:case"end":return e.stop()}},Be)}function Mt(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.h)(N.e,bt);case 2:case"end":return e.stop()}},Ae)}},"./src/pieces/authentication/authentication.scss":function(e,t,n){e.exports={body:"authentication__body___3Hr-S modals__body___M_JEv",form:"authentication__form___V-fds",isSubmitting:"authentication__isSubmitting___2aFnS",bodyMinimal:"authentication__bodyMinimal___39cPR authentication__body___3Hr-S modals__body___M_JEv",bodyWithHomepageTheme:"authentication__bodyWithHomepageTheme___2vwiz authentication__body___3Hr-S modals__body___M_JEv",signUpFields:"authentication__signUpFields___3Fu2o",socialAuthenticationButtonsContainer:"authentication__socialAuthenticationButtonsContainer___3R9JM",socialAuthenticationButtonContainer:"authentication__socialAuthenticationButtonContainer___2ItwE",header:"authentication__header___3rVc7",headerWithHomepageTheme:"authentication__headerWithHomepageTheme___3bQtc authentication__header___3rVc7",linkInHeader:"authentication__linkInHeader___1neaQ links__linkWithDarkTheme___HVXy1 links__link___2NuBA",linkInHeaderWithHomepageTheme:"authentication__linkInHeaderWithHomepageTheme___M7AYf links__link___2NuBA",fields:"authentication__fields___1vcU1",field:"authentication__field___1aoNI",message:"authentication__message___3i0d5",actionContainer:"authentication__actionContainer___LONEN",action:"authentication__action___2aaa5 buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",actionWithHomepageTheme:"authentication__actionWithHomepageTheme___1J3Bu links__link___2NuBA",errorMessage:"authentication__errorMessage___22CtU",errorMessagePlaceholder:"authentication__errorMessagePlaceholder___3itLi",errorMessagePlaceholderWithHomepageTheme:"authentication__errorMessagePlaceholderWithHomepageTheme___17gsK authentication__errorMessagePlaceholder___3itLi",errorMessageWithHomepageTheme:"authentication__errorMessageWithHomepageTheme___1ipLg authentication__errorMessage___22CtU",separator:"authentication__separator___1bc-Y",separatorDivider:"authentication__separatorDivider___XSc_N",separatorDividerWide:"authentication__separatorDividerWide___QMEbq authentication__separatorDivider___XSc_N",footer:"authentication__footer___1Fc8w",footerWithHomepageTheme:"authentication__footerWithHomepageTheme___3flEG",footerButton:"authentication__footerButton___9ppsD authentication__action___2aaa5 buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",homePageSubmitButton:"authentication__homePageSubmitButton___29yiY buttons__socialButton___12rPb buttons__smallButton___hqqHr buttons__button___2Dz0z",footerButtonWithHomepageTheme:"authentication__footerButtonWithHomepageTheme___1iozf authentication__homePageSubmitButton___29yiY buttons__socialButton___12rPb buttons__smallButton___hqqHr buttons__button___2Dz0z",loadingIndicatorWithHomepageTheme:"authentication__loadingIndicatorWithHomepageTheme___z2A9_",signUpFormFieldContainers:"authentication__signUpFormFieldContainers___V0jix",birthdayContainer:"authentication__birthdayContainer___nHD_t",birthdayHeader:"authentication__birthdayHeader___n-DXc",signUpSectionDivider:"authentication__signUpSectionDivider___2RC1w",agreementText:"authentication__agreementText___3gvIV",agreementLinks:"authentication__agreementLinks___2z-Nn links__linkWithDarkTheme___HVXy1 links__link___2NuBA",agreementTextContainerWithHomepageTheme:"authentication__agreementTextContainerWithHomepageTheme___1cPXX",agreementTextWithHomepageTheme:"authentication__agreementTextWithHomepageTheme___2Ow0U",agreementLinksWithHomepageTheme:"authentication__agreementLinksWithHomepageTheme___2BIX4 links__link___2NuBA",forgotPasswordAction:"authentication__forgotPasswordAction___2w6j8 links__link___2NuBA",forgotPasswordContainer:"authentication__forgotPasswordContainer___1d936",forgotPasswordMessage:"authentication__forgotPasswordMessage___1Mf_3",redesign_authenticationContainer:"authentication__redesign_authenticationContainer___2vJdL",redesign_sideContainer:"authentication__redesign_sideContainer___V6eXR",redesign_sideContainerMobile:"authentication__redesign_sideContainerMobile___MbEOJ",redesign_mainContainer:"authentication__redesign_mainContainer___Z42dw",redesign_caffeineLogoOutline:"authentication__redesign_caffeineLogoOutline___3QlnZ",redesign_authenticationSocialIconMainContainer:"authentication__redesign_authenticationSocialIconMainContainer___2lnOQ",redesign_authenticationSocialIconTitle:"authentication__redesign_authenticationSocialIconTitle___3XM2_",redesign_authenticationSocialIconContainer:"authentication__redesign_authenticationSocialIconContainer___1t6YR",redesign_authenticationSocialIconContainerMobile:"authentication__redesign_authenticationSocialIconContainerMobile___34BCp",redesign_authenticationSocialIcons:"authentication__redesign_authenticationSocialIcons___1RqAf links__redesign_linkWithDarkTheme___1iT2P links__link___2NuBA",facebookSignInIconMobile:"authentication__facebookSignInIconMobile___2H9kG",twitterSignInIconMobile:"authentication__twitterSignInIconMobile___2YknG",redesign_loginLink:"authentication__redesign_loginLink___PQv13 links__redesign_linkWithDarkTheme___1iT2P links__link___2NuBA",redesign_loginLinkInverted:"authentication__redesign_loginLinkInverted___NLuoH links__redesign_linkWithLightTheme___1h5Eb links__link___2NuBA",redesign_title:"authentication__redesign_title___3zmRD",redesign_body:"authentication__redesign_body___2DeB3",redesign_bodyMobile:"authentication__redesign_bodyMobile___3k1ir",redisign_TwoStepVerificationDescriptionMobile:"authentication__redisign_TwoStepVerificationDescriptionMobile___Kh2QK",redesign_signInBodyMobile:"authentication__redesign_signInBodyMobile___1KUW_",redesign_bodyForgotPasswordSuccess:"authentication__redesign_bodyForgotPasswordSuccess___iwxDG",redesign_bodyMultiFactor:"authentication__redesign_bodyMultiFactor___C02q3",redesign_message:"authentication__redesign_message___ZxVKd",redesignMessageEmailSuccess:"authentication__redesignMessageEmailSuccess___1kYsV authentication__redesign_message___ZxVKd",redesign_multiFactorMessage:"authentication__redesign_multiFactorMessage___2Grf3 authentication__redesign_message___ZxVKd",redesign_signUpFormFieldContainers:"authentication__redesign_signUpFormFieldContainers___38Aa3",redesign_signUpFormFieldContainersMobile:"authentication__redesign_signUpFormFieldContainersMobile___27S_Z",redesign_multiFactorFormFieldContainers:"authentication__redesign_multiFactorFormFieldContainers___31ge_",redesign_multiFactorFormFieldContainersMobile:"authentication__redesign_multiFactorFormFieldContainersMobile___RN-1U",redesign_generalErrorMessageContainer:"authentication__redesign_generalErrorMessageContainer___2q1Qc",redesign_generalErrorMessagePlaceholder:"authentication__redesign_generalErrorMessagePlaceholder___37j0h",redesign_generalErrorMessage:"authentication__redesign_generalErrorMessage___22XCC",redesign_generalErrorMessageMobile:"authentication__redesign_generalErrorMessageMobile___3Yjl-",redesign_agreementText:"authentication__redesign_agreementText___2OMkW",redesign_agreementTextMobile:"authentication__redesign_agreementTextMobile___2h3oP",redesign_agreementLinks:"authentication__redesign_agreementLinks___3YPn0 links__redesign_linkWithLightTheme___1h5Eb links__link___2NuBA",redesign_mainContainerFooter:"authentication__redesign_mainContainerFooter___3gQBQ",redesign_signUpInputHelper:"authentication__redesign_signUpInputHelper___19fMP forms__redesign_inputBaseHelper___128q1",redesign_signUpInputHelperWithClientError:"authentication__redesign_signUpInputHelperWithClientError___2Mgt8",redesign_signUpInputHelperMobile:"authentication__redesign_signUpInputHelperMobile___3Fx4h",redesign_signUpInputHelperWithFieldSet:"authentication__redesign_signUpInputHelperWithFieldSet___2bb5X",redesign_signUpInputField:"authentication__redesign_signUpInputField___8apVf forms__redesign_inputBase___3tWUb",redesign_signUpInputHelperAlwaysDisplayOnFocused:"authentication__redesign_signUpInputHelperAlwaysDisplayOnFocused___3J0FR",redesign_signUpInputFieldDarkTheme:"authentication__redesign_signUpInputFieldDarkTheme___OMXo5 forms__redesign_inputBaseDarkTheme___2hrxW",redesign_signUpTextContainer:"authentication__redesign_signUpTextContainer___2u_u8",redesign_signUpTextContainerMobile:"authentication__redesign_signUpTextContainerMobile___2V0Td",redesign_twoStepVerificationTextContainerMobile:"authentication__redesign_twoStepVerificationTextContainerMobile___1VYYi",redesign_fields:"authentication__redesign_fields___3jRjz",redesign_signInFieldsMobile:"authentication__redesign_signInFieldsMobile___10ikO",redesign_fieldsMobile:"authentication__redesign_fieldsMobile___1z1Vs",redesign_signUpButton:"authentication__redesign_signUpButton___1lRU3 buttons__redesign_buttonWithHoverEffect___1Ud0c buttons__redesign_button___ZSYNe",redesign_signInButton:"authentication__redesign_signInButton___2qU7V buttons__redesign_highlightedButtonWithHoverEffect___GMSLO buttons__redesign_button___ZSYNe",redesign_resetPasswordButton:"authentication__redesign_resetPasswordButton___1cw2u buttons__redesign_highlightedButtonWithHoverEffect___GMSLO buttons__redesign_button___ZSYNe",redesign_continueMultiFactorButton:"authentication__redesign_continueMultiFactorButton___ELyTH buttons__redesign_highlightedButtonWithHoverEffect___GMSLO buttons__redesign_button___ZSYNe",redesign_secondaryButton:"authentication__redesign_secondaryButton___2Jvau buttons__redesign_secondaryButton___3ofVX buttons__redesign_button___ZSYNe",redesign_form:"authentication__redesign_form___38FnI",redesign_formSignIn:"authentication__redesign_formSignIn___1NtJd authentication__redesign_form___38FnI",redesign_formForgotPassword:"authentication__redesign_formForgotPassword___1BvSY authentication__redesign_form___38FnI",redesign_formMultiFactor:"authentication__redesign_formMultiFactor___2bcUj authentication__redesign_form___38FnI",redesign_formMultiFactorMobile:"authentication__redesign_formMultiFactorMobile___2vFip",redesign_signInFormMobile:"authentication__redesign_signInFormMobile___FEX57",redesign_errorMessage:"authentication__redesign_errorMessage___3F4Bq",redesign_errorMessageWithHomepageTheme:"authentication__redesign_errorMessageWithHomepageTheme___1zm13 authentication__errorMessage___22CtU",redesign_signUpInputHelperError:"authentication__redesign_signUpInputHelperError___1d30v forms__redesign_inputBaseHelper___128q1",redesign_signUpInputHelperErrorDarkTheme:"authentication__redesign_signUpInputHelperErrorDarkTheme___1JGGd authentication__redesign_signUpInputHelperError___1d30v forms__redesign_inputBaseHelper___128q1",redesign_signUpInputFieldWithError:"authentication__redesign_signUpInputFieldWithError___3aPfy authentication__redesign_signUpInputField___8apVf forms__redesign_inputBase___3tWUb",signUpTitleMobile:"authentication__signUpTitleMobile___30Eub",twoStepVerificationTitleMobile:"authentication__twoStepVerificationTitleMobile___YR9GG",mobileSignUpSubmitButtonContainer:"authentication__mobileSignUpSubmitButtonContainer___1z1l9",redesign_sideContainerInverted:"authentication__redesign_sideContainerInverted___12NoE authentication__redesign_sideContainer___V6eXR",redesign_mainContainerInverted:"authentication__redesign_mainContainerInverted___3rCLW authentication__redesign_mainContainer___Z42dw",redesign_signInSocialContainer:"authentication__redesign_signInSocialContainer___zcTR4",redesign_signInSocialHelperText:"authentication__redesign_signInSocialHelperText___1JDAM",redesign_signInFooter:"authentication__redesign_signInFooter___2q-KD",redesign_signInFooterForgotPasswordFooter:"authentication__redesign_signInFooterForgotPasswordFooter___2TdtF",redesign_signInFooterForgotPasswordBackAction:"authentication__redesign_signInFooterForgotPasswordBackAction___2U-31",redesign_signInFooterMultiFactorBackAction:"authentication__redesign_signInFooterMultiFactorBackAction___3zEqK",redesign_forgotPasswordContainer:"authentication__redesign_forgotPasswordContainer___2xq2F",redesign_forgotPasswordAction:"authentication__redesign_forgotPasswordAction___3kLAV links__redesign_linkWithDarkTheme___1iT2P links__link___2NuBA",redesign_sendAnotherCodeAction:"authentication__redesign_sendAnotherCodeAction___1W2B3 links__redesign_linkWithDarkTheme___1iT2P links__link___2NuBA",redesign_sendAnotherCodeActionMobile:"authentication__redesign_sendAnotherCodeActionMobile___2I1JY",error:"authentication__error___2ljaj",redesign_signUpInputFieldDarkThemeMobile:"authentication__redesign_signUpInputFieldDarkThemeMobile___1rwPA",redesign_signUpInputFieldDarkThemeWithError:"authentication__redesign_signUpInputFieldDarkThemeWithError___1owfs authentication__redesign_signUpInputFieldDarkTheme___OMXo5 forms__redesign_inputBaseDarkTheme___2hrxW",redesign_signUpInputFieldDarkThemeWithErrorMobile:"authentication__redesign_signUpInputFieldDarkThemeWithErrorMobile___1XumR authentication__redesign_signUpInputFieldDarkTheme___OMXo5 forms__redesign_inputBaseDarkTheme___2hrxW authentication__redesign_signUpInputFieldDarkThemeMobile___1rwPA",redesign_generalErrorMessageDarkTheme:"authentication__redesign_generalErrorMessageDarkTheme___2L7H4 authentication__redesign_generalErrorMessage___22XCC",redesign_generalErrorMessageMobileDarkTheme:"authentication__redesign_generalErrorMessageMobileDarkTheme___27oTd authentication__redesign_generalErrorMessageMobile___3Yjl-",contentLockedOverlay:"authentication__contentLockedOverlay___1kZog",authenticationScreenContainer:"authentication__authenticationScreenContainer___2Pmu7",contentLocked:"authentication__contentLocked___3IdjY",twoStepAuthenticationScreenContainerMobile:"authentication__twoStepAuthenticationScreenContainerMobile___1P5wq",twoStepAuthContinueButtonContainerMobile:"authentication__twoStepAuthContinueButtonContainerMobile___3n3CO",twoStepAuthBackButtonContainerMobile:"authentication__twoStepAuthBackButtonContainerMobile___2JzMk",broadcasterInfo:"authentication__broadcasterInfo___23EDr",broadcasterUsername:"authentication__broadcasterUsername___2Jrg1",broadcasterName:"authentication__broadcasterName___2V8Gd",avatarMobile:"authentication__avatarMobile___2aU7n",contentLockMessage:"authentication__contentLockMessage___MwBoG",mobileSignUpButtonContainer:"authentication__mobileSignUpButtonContainer___JTbvh",mobileSignUpButtonText:"authentication__mobileSignUpButtonText___31fP4",mobileLogInButtonContainer:"authentication__mobileLogInButtonContainer___2oYb0",mobileLogInButtonText:"authentication__mobileLogInButtonText___317XL",buttonIcon:"authentication__buttonIcon___zzQSY",signUpButtonIconMobile:"authentication__signUpButtonIconMobile___1095G",mobileLogInSubmitButtonContainer:"authentication__mobileLogInSubmitButtonContainer___1Eym-",mobileLogInSubmitButtonText:"authentication__mobileLogInSubmitButtonText___1dgVe",mobileForgotPasswordButtonContainer:"authentication__mobileForgotPasswordButtonContainer___3TcA2",authSignUpMenuSeparatorMobile:"authentication__authSignUpMenuSeparatorMobile___1DUNw",signUnSignInButtonsContainer:"authentication__signUnSignInButtonsContainer___3vhbO",redesign_closeButtonMobile:"authentication__redesign_closeButtonMobile___1ccdR buttons__unstyledButton___olg-i"}},"./src/pieces/authentication/automatic-authentication.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/recompose/dist/Recompose.esm.js"),r=n("./node_modules/react-redux/es/index.js"),i=n("./src/pieces/base/recompose-extras.js"),o=n("./src/pieces/base/loading-indicator.js"),s=n("./src/pieces/authentication/authentication.reducer.js"),c=n("./src/pieces/authentication/automatic-authentication.scss"),l=n.n(c),u=(n("./node_modules/bows/bows.js")("Automatic-authentication"),Object(a.a)(Object(r.b)(function(e,t){return{automaticAuthenticationCredentials:{token:t.location.query.token,caid:t.location.query.caid,provider:t.location.query.provider,target:t.location.query.target},automaticAuthenticationFailed:Object(s.selectAutomaticAuthenticationFailed)(e)}},{AuthenticateWithAutoLoginToken:s.AuthenticateWithAutoLoginToken}),Object(i.b)(function(e){return e.AuthenticateWithAutoLoginToken(e.automaticAuthenticationCredentials.caid,e.automaticAuthenticationCredentials.token,e.automaticAuthenticationCredentials.target||e.automaticAuthenticationCredentials.provider)})));t.a=u(function(t){var n=t.automaticAuthenticationFailed;return e.createElement("div",null,n?e.createElement("div",{className:l.a.automaticAuthentication},e.createElement("div",{className:l.a.header},"Something went wrong"),e.createElement("div",{className:l.a.body},e.createElement("div",{className:l.a.message},"Return to the Caffeine app and try again."))):e.createElement("div",{className:l.a.automaticAuthentication},e.createElement("div",{className:l.a.header},"Signing In..."),e.createElement("div",{className:l.a.body},e.createElement(o.a,{size:"small",className:l.a.loadingIndicatorWithHomepageTheme}))))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/authentication/automatic-authentication.scss":function(e,t,n){e.exports={automaticAuthentication:"automatic-authentication__automaticAuthentication___JIcwo authentication__bodyWithHomepageTheme___2vwiz authentication__body___3Hr-S modals__body___M_JEv",header:"automatic-authentication__header___31Bay authentication__headerWithHomepageTheme___3bQtc authentication__header___3rVc7",body:"automatic-authentication__body___a399q",message:"automatic-authentication__message____u6eg authentication__message___3i0d5"}},"./src/pieces/authentication/bouncer-dialog.scss":function(e,t,n){e.exports={bouncerDialog:"bouncer-dialog__bouncerDialog___u3-Xx modals__content___i9pX_",darkTheme:"bouncer-dialog__darkTheme___39DAR",prompt:"bouncer-dialog__prompt___3_FiL",title:"bouncer-dialog__title___2wL5A",body:"bouncer-dialog__body___2nxZi",learnMoreContainer:"bouncer-dialog__learnMoreContainer___2120b",strong:"bouncer-dialog__strong___1WlwW",learnMoreLink:"bouncer-dialog__learnMoreLink___B353D links__link___2NuBA",primaryButton:"bouncer-dialog__primaryButton___1oYD5 buttons__socialButton___12rPb buttons__smallButton___hqqHr buttons__button___2Dz0z",secondaryButton:"bouncer-dialog__secondaryButton___31HMv buttons__socialButton___12rPb buttons__smallButton___hqqHr buttons__button___2Dz0z",primaryButtonDarkTheme:"bouncer-dialog__primaryButtonDarkTheme___22YUf",secondaryButtonDarkTheme:"bouncer-dialog__secondaryButtonDarkTheme___HZz59 bouncer-dialog__secondaryButton___31HMv buttons__socialButton___12rPb buttons__smallButton___hqqHr buttons__button___2Dz0z",overlay:"bouncer-dialog__overlay___17agU modals__container___3QxjF",authLock:"bouncer-dialog__authLock___19OY8",username:"bouncer-dialog__username___3IIo2",emailTextContainer:"bouncer-dialog__emailTextContainer___yoBN9",emailInputField:"bouncer-dialog__emailInputField___3kxbE forms__redesign_inputBase___3tWUb",emailInputHelper:"bouncer-dialog__emailInputHelper___1x48A",emailInputFieldDarkTheme:"bouncer-dialog__emailInputFieldDarkTheme___Uzeia",emailInputFieldWithError:"bouncer-dialog__emailInputFieldWithError___2D0IQ bouncer-dialog__emailInputField___3kxbE forms__redesign_inputBase___3tWUb",signInContainer:"bouncer-dialog__signInContainer___iw_y1",signInContent:"bouncer-dialog__signInContent___2QazQ modals__content___i9pX_",signInCloseButton:"bouncer-dialog__signInCloseButton___2UsqD buttons__unstyledButton___olg-i",externalVideoLink:"bouncer-dialog__externalVideoLink___3_Xh2",externalVideoButton:"bouncer-dialog__externalVideoButton___2rkSO"}},"./src/pieces/authentication/facebook-themed-button.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./src/pieces/base/icons/icon.js"),o=(n("./node_modules/bows/bows.js")("Facebook-mark-icon"),function(){return r.a.createElement(i.a,null,r.a.createElement("svg",{style:{width:20,height:20},viewBox:"0 0 267 267"},r.a.createElement("path",{style:{fill:"white"},d:"M248.082,262.307c7.854,0,14.223-6.369,14.223-14.225V18.812 c0-7.857-6.368-14.224-14.223-14.224H18.812c-7.857,0-14.224,6.367-14.224,14.224v229.27c0,7.855,6.366,14.225,14.224,14.225 H248.082z"}),r.a.createElement("path",{style:{fill:"#3C5A99"},d:"M182.409,262.307v-99.803h33.499l5.016-38.895h-38.515V98.777c0-11.261,3.127-18.935,19.275-18.935 l20.596-0.009V45.045c-3.562-0.474-15.788-1.533-30.012-1.533c-29.695,0-50.025,18.126-50.025,51.413v28.684h-33.585v38.895h33.585 v99.803H182.409z"})))}),s=n("./src/pieces/authentication/social-themed-buttons.scss"),c=n.n(s);n("./node_modules/bows/bows.js")("Facebook-themed-button"),t.a=function(e){var t=e.onClickHandler,n=e.buttonActionMessage,a=e.noIcon;return r.a.createElement("button",{onClick:t,className:c.a.facebookButton,tabIndex:0,type:"button"},!a&&r.a.createElement("div",{className:c.a.socialIcon},r.a.createElement(o,null)),r.a.createElement("div",null,n," Facebook"))}},"./src/pieces/authentication/forgot-password.js":function(e,t,n){"use strict";(function(e,a){var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-form/es/reduxForm.js"),s=n("./node_modules/redux-form/es/Field.js"),c=n("./node_modules/recompose/dist/Recompose.esm.js"),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./node_modules/react-redux/es/index.js"),_=n("./node_modules/react-router-redux/lib/index.js"),m=n("./src/pieces/authentication/authentication.reducer.js"),g=n("./src/pieces/base/forms/text-field.js"),b=n("./src/pieces/authentication/authentication.scss"),p=n.n(b),f=(n("./node_modules/bows/bows.js")("Forgot-password"),Object(c.a)(Object(d.b)(null,{push:_.push}),Object(o.a)({form:"forgotPassword",onSubmit:m.PromiseForgotPasswordFormSubmission}),Object(c.c)({handleSubmit:e.func.isRequired,submitting:e.bool,error:e.string,submitSucceeded:e.bool,push:e.func}))),h=function(e){return a.createElement("div",{className:p.a.authenticationPage},e.submitSucceeded?function(e){return a.createElement("div",null,a.createElement("div",{className:"Homepage"===e.theme?p.a.bodyWithHomepageTheme:p.a.body},a.createElement("div",{className:"Homepage"===e.theme?p.a.headerWithHomepageTheme:p.a.header},"Email Sent"),a.createElement("div",{className:p.a.message,style:{paddingTop:30}},"Please check your inbox.")),a.createElement("div",{className:"Homepage"===e.theme?p.a.footerWithHomepageTheme:p.a.footer},a.createElement("button",{onClick:function(){return e.push("sign-in")},className:"Homepage"===e.theme?p.a.footerButtonWithHomepageTheme:p.a.footerButton},"OK")))}(e):function(e){var t;return a.createElement("form",{onSubmit:e.handleSubmit,className:u()((t={},i()(t,p.a.form,!0),i()(t,p.a.isSubmitting,e.submitting),t))},a.createElement("div",{className:"Homepage"===e.theme?p.a.bodyWithHomepageTheme:p.a.body},a.createElement("div",{className:"Homepage"===e.theme?p.a.headerWithHomepageTheme:p.a.header},"Forgot Password"),a.createElement("div",{className:p.a.message},"That's ok. We'll send you an email with a link to reset your password."),a.createElement("div",{className:p.a.errorMessage},e.error&&a.createElement("span",null,e.error)),a.createElement("div",{className:u()(p.a.fields,p.a.signUpFields)},a.createElement(s.a,{name:"email",type:"text",label:"Email",component:g.a,className:u()(p.a.field,p.a.signUpEmailField),inputProps:{autoFocus:!0},darkTheme:"Homepage"!==e.theme}))),a.createElement("div",{className:"Homepage"===e.theme?p.a.footerWithHomepageTheme:p.a.footer},a.createElement("button",{className:"Homepage"===e.theme?p.a.footerButtonWithHomepageTheme:p.a.footerButton,disabled:e.submitting,type:"submit"},"Send Email")))}(e))};t.a=f(h)}).call(this,n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js"))},"./src/pieces/authentication/ineligible-account.scss":function(e,t,n){e.exports={ineligibleAccount:"ineligible-account__ineligibleAccount___1RO-H authentication__bodyWithHomepageTheme___2vwiz authentication__body___3Hr-S modals__body___M_JEv",header:"ineligible-account__header___21HrR authentication__headerWithHomepageTheme___3bQtc authentication__header___3rVc7",message:"ineligible-account__message___3N9SU authentication__message___3i0d5",footer:"ineligible-account__footer___2_z_r authentication__footerWithHomepageTheme___3flEG",footerButton:"ineligible-account__footerButton___2PyPa authentication__footerButtonWithHomepageTheme___1iozf authentication__homePageSubmitButton___29yiY buttons__socialButton___12rPb buttons__smallButton___hqqHr buttons__button___2Dz0z"}},"./src/pieces/authentication/reset-password.js":function(e,t,n){"use strict";(function(e,a){var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/idx/lib/idx.js"),s=n.n(o),c=n("./node_modules/redux-form/es/reduxForm.js"),l=n("./node_modules/redux-form/es/Field.js"),u=n("./node_modules/recompose/dist/Recompose.esm.js"),d=n("./node_modules/react-redux/es/index.js"),_=n("./node_modules/react-router-redux/lib/index.js"),m=n("./node_modules/classnames/index.js"),g=n.n(m),b=n("./src/pieces/authentication/authentication.reducer.js"),p=n("./src/pieces/base/forms/text-field.js"),f=n("./src/pieces/authentication/reset-password.scss"),h=n.n(f),v=n("./src/pieces/authentication/authentication.scss"),w=n.n(v),C=(n("./node_modules/bows/bows.js")("Reset-password"),Object(u.a)(Object(d.b)(function(e,t){return{initialValues:{code:t.location.query.code}}},{push:_.push}),Object(c.a)({form:"Reset Password",onSubmit:b.PromiseResetPasswordFormSubmission,enableReinitialize:!0}),Object(u.c)({handleSubmit:e.func.isRequired,error:e.string,submitting:e.bool,submitSucceeded:e.bool,push:e.func}))),y=function(e){return a.createElement("div",null,e.submitSucceeded?function(e){return a.createElement("div",null,a.createElement("div",{className:h.a.resetPassword},a.createElement("div",{className:h.a.header},"Success"),a.createElement("div",{className:h.a.message},"Your password was successfully updated.")),a.createElement("div",{className:h.a.footer},a.createElement("button",{onClick:function(){return e.push("/sign-in")},className:h.a.footerButton},"OK")))}(e):function(e){var t;return a.createElement("div",null,a.createElement("form",{onSubmit:e.handleSubmit,className:g()((t={},i()(t,h.a.form,!0),i()(t,h.a.isSubmitting,e.submitting),t))},a.createElement("div",{className:h.a.resetPassword},a.createElement("div",{className:h.a.header},"Reset Password"),a.createElement("div",{className:h.a.message,style:{paddingBottom:30}},"Please enter a new password at least eight characters long."),a.createElement("div",{className:h.a.errorMessage},e.error?s()(e,function(e){return e.error.password[0]})||s()(e,function(e){return e.error._error[0]})||"Something went wrong, please try again.":null),a.createElement("div",{className:g()(w.a.fields,w.a.signUpFields)},a.createElement(l.a,{name:"password",className:h.a.field,type:"password",label:"Password",component:p.a,inputProps:{autoFocus:!0}}),a.createElement(l.a,{name:"repeatedPassword",className:h.a.field,type:"password",label:"Password Again",component:p.a}),a.createElement(l.a,{name:"code",component:"span",tabIndex:"-1",style:{display:"none"}}))),a.createElement("div",{className:h.a.footer},a.createElement("button",{className:h.a.footerButton,disabled:e.submitting,type:"submit"},"Reset Password"))))}(e))};t.a=C(y)}).call(this,n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js"))},"./src/pieces/authentication/reset-password.scss":function(e,t,n){e.exports={resetPassword:"reset-password__resetPassword___HN4zC authentication__bodyWithHomepageTheme___2vwiz authentication__body___3Hr-S modals__body___M_JEv",header:"reset-password__header___1sRcw authentication__headerWithHomepageTheme___3bQtc authentication__header___3rVc7",message:"reset-password__message___1i1U- authentication__message___3i0d5",errorMessage:"reset-password__errorMessage___1o4b7 undefined",field:"reset-password__field___1mTkQ authentication__field___1aoNI",footer:"reset-password__footer___20PeD authentication__footerWithHomepageTheme___3flEG",footerButton:"reset-password__footerButton___I7-7n authentication__footerButtonWithHomepageTheme___1iozf authentication__homePageSubmitButton___29yiY buttons__socialButton___12rPb buttons__smallButton___hqqHr buttons__button___2Dz0z"}},"./src/pieces/authentication/session-vendor-id.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("./node_modules/uuid/index.js"),r=n.n(a),i=n("./src/pieces/base/constants.js");n("./node_modules/bows/bows.js")("Session-vendor-id");function o(){var e=sessionStorage.getItem(i.bf)||r()();return sessionStorage.setItem(i.bf,e),e}},"./src/pieces/authentication/sign-in.js":function(e,t,n){"use strict";(function(e,a){var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),s=n.n(o),c=n("./node_modules/idx/lib/idx.js"),l=n.n(c),u=n("./node_modules/recompose/dist/Recompose.esm.js"),d=n("./node_modules/react-router/es/index.js"),_=n("./node_modules/react-redux/es/index.js"),m=n("./node_modules/redux-form/es/reduxForm.js"),g=n("./node_modules/redux-form/es/formValueSelector.js"),b=n("./node_modules/redux-form/es/Field.js"),p=n("./src/pieces/authentication/authentication.reducer.js"),f=n("./src/pieces/base/forms/text-field.js"),h=n("./src/pieces/authentication/authentication.scss"),v=n.n(h),w=(n("./node_modules/bows/bows.js")("Sign-in"),Object(u.a)(Object(m.a)({form:"signIn",onSubmit:p.PromiseSignInFormSubmission}),Object(u.c)({handleSubmit:e.func.isRequired,error:e.shape({username:e.array,password:e.array,_error:e.array}),submitting:e.bool,password:e.string,pathPrefix:e.string}),Object(_.b)(function(e,t){var n=t.params;return{password:Object(g.a)("signIn")(e,"password"),pathPrefix:n&&n.username?"/".concat(n.username):""}}))),C=function(e){var t;return a.createElement("div",null,a.createElement("form",{onSubmit:e.handleSubmit,className:s()((t={},i()(t,v.a.form,!0),i()(t,v.a.isSubmitting,e.submitting),t))},a.createElement("div",{className:"Homepage"===e.theme?v.a.bodyWithHomepageTheme:v.a.body},a.createElement("div",{className:"Homepage"===e.theme?v.a.headerWithHomepageTheme:v.a.header},"Log in to Caffeine"),e.submitFailed?a.createElement("div",{className:"Homepage"===e.theme?v.a.errorMessageWithHomepageTheme:v.a.errorMessage},a.createElement("span",null,e.submitFailed?l()(e,function(e){return e.error.username[0]})||l()(e,function(e){return e.error.password[0]})||l()(e,function(e){return e.error._error[0]})||"An unknown error occurred, please try again.":null)):a.createElement("div",{className:v.a.errorMessagePlaceholder}),a.createElement("div",{className:s()(v.a.fields,v.a.signUpFields)},a.createElement(b.a,{name:"username",inputProps:{autoFocus:!0},className:s()(v.a.field,v.a.signUpUsernameField),darkTheme:"Homepage"!==e.theme,type:"text",label:"Username",component:f.a,required:!0}),a.createElement(b.a,{name:"password",className:s()(v.a.field,v.a.signUpPasswordField),darkTheme:"Homepage"!==e.theme,type:"password",label:"Password",component:f.a,required:!0}))),a.createElement("div",{className:"Homepage"===e.theme?v.a.footerWithHomepageTheme:v.a.footer},a.createElement("button",{className:"Homepage"===e.theme?v.a.footerButtonWithHomepageTheme:v.a.footerButton,disabled:e.submitting,type:"submit"},"Log In"),"Homepage"===e.theme&&a.createElement("div",{className:v.a.forgotPasswordContainer},a.createElement("div",{className:v.a.forgotPasswordMessage},a.createElement("span",null,"Forgot Something?\xa0"),a.createElement(d.b,{className:v.a.forgotPasswordAction,to:"".concat(e.pathPrefix,"/forgot-password"),tabIndex:"0"},"Reset your password"))))))};t.a=w(C)}).call(this,n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js"))},"./src/pieces/authentication/sign-up-button.scss":function(e,t,n){e.exports={redesign_signUpButton:"sign-up-button__redesign_signUpButton___3F6AG buttons__redesign_headerOrNagBarButton___1vuAy buttons__redesign_button___ZSYNe"}},"./src/pieces/authentication/sign-up-button.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./src/pieces/authentication/authentication-guard.tsx"),o=n("./src/pieces/authentication/sign-up-button.scss"),s=n.n(o);n("./node_modules/bows/bows.js")("Sign-up-button");t.a=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement("button",{className:s.a.redesign_signUpButton},"sign up")))}},"./src/pieces/authentication/sign-up.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n.n(s),l=n("./node_modules/prop-types/index.js"),u=n.n(l),d=n("./node_modules/idx/lib/idx.js"),_=n.n(d),m=n("./node_modules/recompose/dist/Recompose.esm.js"),g=n("./node_modules/redux-form/es/reduxForm.js"),b=n("./node_modules/redux-form/es/Field.js"),p=n("./node_modules/classnames/index.js"),f=n.n(p),h=n("./src/pieces/base/constants.js"),v=n("./src/pieces/authentication/authentication.reducer.js"),w=n("./src/pieces/base/forms/text-field.js"),C=n("./src/pieces/authentication/authentication.scss"),y=n.n(C),j=(n("./node_modules/bows/bows.js")("Sign-up"),Object(m.a)(Object(g.a)({form:"signUp",onSubmit:v.PromiseSignUpFormSubmission}),Object(m.c)({handleSubmit:u.a.func.isRequired,error:u.a.shape({username:u.a.array,password:u.a.array,email:u.a.array,_error:u.a.array}),submitting:u.a.bool,password:u.a.string,pathPrefix:u.a.string,inline:u.a.bool,theme:u.a.string}))),O=function(e){var t,n,a=Object(s.useState)(!1),i=o()(a,2),l=i[0],u=i[1],d=e.error?_()(e,function(e){return e.error.username[0]})||_()(e,function(e){return e.error.password[0]})||_()(e,function(e){return e.error.email[0]})||_()(e,function(e){return e.error.dob[0]})||_()(e,function(e){return e.error._signup[0]})||_()(e,function(e){return e.error._error[0]})||"An unknown error occurred, please try again.":null;return c.a.createElement(s.Fragment,null,c.a.createElement("form",{onSubmit:e.handleSubmit,className:f()((t={},r()(t,y.a.form,!0),r()(t,y.a.isSubmitting,e.submitting),t))},c.a.createElement("div",{className:f()((n={},r()(n,y.a.bodyMinimal,e.inline),r()(n,y.a.bodyWithHomepageTheme,"Homepage"===e.theme&&!e.inline),r()(n,y.a.body,"Homepage"!==e.theme),n))},!e.inline&&c.a.createElement("div",{className:"Homepage"===e.theme?y.a.headerWithHomepageTheme:y.a.header},"New Account"),d?c.a.createElement("div",{className:"Homepage"===e.theme?y.a.errorMessageWithHomepageTheme:y.a.errorMessage},d):c.a.createElement("div",{className:"Homepage"===e.theme?y.a.errorMessagePlaceholderWithHomepageTheme:y.a.errorMessagePlaceholder}),c.a.createElement("div",{className:y.a.signUpFormFieldContainers},c.a.createElement("div",{className:f()(y.a.fields,y.a.signUpFields)},c.a.createElement(b.a,{name:"email",type:"email",label:"Email",component:w.a,className:f()(y.a.field,y.a.signUpEmailField),darkTheme:"Homepage"!==e.theme,dataPrivate:!0,inputProps:{autoFocus:!0,autoComplete:"off",tabIndex:1},required:!0}),c.a.createElement(b.a,{name:"username",type:"text",label:"Username",component:w.a,className:f()(y.a.field,y.a.signUpUsernameField),inputProps:{autoComplete:"off",maxLength:h.nc,tabIndex:2},darkTheme:"Homepage"!==e.theme,required:!0}),c.a.createElement(b.a,{name:"password",type:"password",label:"Password",component:w.a,className:f()(y.a.field,y.a.signUpPasswordField),darkTheme:"Homepage"!==e.theme,inputProps:{autoComplete:"new-password",tabIndex:3},required:!0}),c.a.createElement(b.a,{name:"dateOfBirth",type:l?"date":"text",onFocus:function(){return u(!0)},component:w.a,className:f()(y.a.field,y.a.signUpDateOfBirthField),formId:"signUpDateOfBirthSelector",label:"Birthday",hideLabel:"Homepage"===e.theme,darkTheme:"Homepage"!==e.theme,required:!0,inputProps:{required:!0,tabIndex:4}}))),c.a.createElement(b.a,{name:"iid",component:"span",tabIndex:"-1"}),c.a.createElement(b.a,{name:"provider",component:"span",tabIndex:"-1"})),c.a.createElement("div",{className:"Homepage"===e.theme?y.a.footerWithHomepageTheme:y.a.footer},c.a.createElement("button",{className:"Homepage"===e.theme?y.a.footerButtonWithHomepageTheme:y.a.footerButton,disabled:e.submitting,type:"submit"},"Sign Up"),"Homepage"===e.theme&&c.a.createElement("div",{className:y.a.agreementTextContainerWithHomepageTheme},c.a.createElement("div",{className:y.a.agreementTextWithHomepageTheme},"By continuing you agree to Caffeine's ",c.a.createElement("br",null),c.a.createElement("a",{href:"/tos.html",target:"_blank",className:"Homepage"===e.theme?y.a.agreementLinksWithHomepageTheme:y.a.agreementLinks},"Terms of Service"),","," ",c.a.createElement("a",{href:"/privacy.html",target:"_blank",className:"Homepage"===e.theme?y.a.agreementLinksWithHomepageTheme:y.a.agreementLinks},"Privacy Policy"),", and"," ",c.a.createElement("a",{href:"/rules.html",target:"_blank",className:"Homepage"===e.theme?y.a.agreementLinksWithHomepageTheme:y.a.agreementLinks},"Community Rules"),".")))))};t.a=j(O)},"./src/pieces/authentication/social-account-connection-callback.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/recompose/dist/Recompose.esm.js"),r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/lodash/cond.js"),o=n.n(i),s=n("./node_modules/react-router-redux/lib/index.js"),c=n("./src/pieces/base/recompose-extras.js"),l=n("./src/pieces/base/loading-indicator.js"),u=n("./src/pieces/authentication/authentication.reducer.js"),d=n("./src/pieces/authentication/social-account-connection-callback.scss"),_=n.n(d),m=(n("./node_modules/bows/bows.js")("Social-account-connection-callback"),Object(a.a)(Object(r.b)(function(e,t){return{callbackCredentials:t.location.query,error:Object(u.selectSocialConnectionError)(e)}},{AuthenticateSocialConnection:u.AuthenticateSocialConnection,PushRoute:s.push}),Object(c.b)(function(e){return e.AuthenticateSocialConnection(e.callbackCredentials)}))),g=o()([[function(e){var t=e.error;return t&&t.type===u.SOCIAL_CONNECTION_ERROR_ALREADY_CONNECTED},function(t){return e.createElement("div",null,e.createElement("div",{className:_.a.socialAccountConnectionCallback},e.createElement("div",{className:_.a.header},"Account in Use"),e.createElement("div",{className:_.a.message},t.error.message)),e.createElement("div",{className:_.a.footer},e.createElement("button",{className:_.a.footerButton,onClick:function(){window.location.assign("/")}},"OK")))}],[function(e){var t=e.error;return t&&t.type===u.SOCIAL_CONNECTION_ERROR_ONE_TIME_PASSWORD_INCORRECT},function(t){return e.createElement("div",null,e.createElement("div",{className:_.a.body},e.createElement("div",{className:_.a.header},"Incorrect Code")),e.createElement("div",{className:_.a.footer},e.createElement("button",{className:_.a.footerButton,onClick:function(){window.location.assign("/")}},"TRY AGAIN")))}],[function(e){return e.error},function(e){return e.PushRoute("/browse/join"),null}],[function(){return!0},function(){return e.createElement("div",null,e.createElement("div",{className:_.a.socialAccountConnectionCallback},e.createElement("div",{className:_.a.header},"Connecting..."),e.createElement("div",{className:_.a.loadingIndicatorContainer},e.createElement(l.a,{size:"small",className:_.a.loadingIndicator}))))}]]);t.a=m(g)}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/authentication/social-account-connection-callback.scss":function(e,t,n){e.exports={socialAccountConnectionCallback:"social-account-connection-callback__socialAccountConnectionCallback___27bRn authentication__bodyWithHomepageTheme___2vwiz authentication__body___3Hr-S modals__body___M_JEv",header:"social-account-connection-callback__header___RchJH authentication__headerWithHomepageTheme___3bQtc authentication__header___3rVc7",message:"social-account-connection-callback__message___1kdbM authentication__message___3i0d5",loadingIndicatorContainer:"social-account-connection-callback__loadingIndicatorContainer___1ynXj social-account-connection-callback__message___1kdbM authentication__message___3i0d5",loadingIndicator:"social-account-connection-callback__loadingIndicator___FQFGF authentication__loadingIndicatorWithHomepageTheme___z2A9_",footer:"social-account-connection-callback__footer___1ZWGp authentication__footerWithHomepageTheme___3flEG",footerButton:"social-account-connection-callback__footerButton___1MGor authentication__footerButtonWithHomepageTheme___1iozf authentication__homePageSubmitButton___29yiY buttons__socialButton___12rPb buttons__smallButton___hqqHr buttons__button___2Dz0z"}},"./src/pieces/authentication/social-account-connection-confirmation.js":function(e,t,n){"use strict";(function(e){var a=n("./src/pieces/authentication/social-account-connection-confirmation.scss"),r=n.n(a);n("./node_modules/bows/bows.js")("Social-account-connection-confirmation");t.a=function(){return e.createElement("div",{className:r.a.socialAccountConnectionConfirmation},e.createElement("div",{className:r.a.title},"Your account is connected!"),e.createElement("div",{className:r.a.subtitle},"Please return to the Caffeine app."))}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/authentication/social-account-connection-confirmation.scss":function(e,t,n){e.exports={socialAccountConnectionConfirmation:"social-account-connection-confirmation__socialAccountConnectionConfirmation___17vQj",title:"social-account-connection-confirmation__title___39xdf",subtitle:"social-account-connection-confirmation__subtitle___3ZO9E"}},"./src/pieces/authentication/social-themed-buttons.scss":function(e,t,n){e.exports={twitterButton:"social-themed-buttons__twitterButton___2wLqs buttons__twitterThemedButton___2fZnm buttons__socialButton___12rPb buttons__smallButton___hqqHr buttons__button___2Dz0z",facebookButton:"social-themed-buttons__facebookButton___152jW buttons__facebookThemedButton____rVtw buttons__socialButton___12rPb buttons__smallButton___hqqHr buttons__button___2Dz0z",socialIcon:"social-themed-buttons__socialIcon___A9khK"}},"./src/pieces/authentication/terms-of-service-dialog.scss":function(e,t,n){e.exports={termsOfServiceDialog:"terms-of-service-dialog__termsOfServiceDialog___223Jg modals__content___i9pX_",messageContainer:"terms-of-service-dialog__messageContainer___1TfZb",title:"terms-of-service-dialog__title___1pcoo",body:"terms-of-service-dialog__body___2uwSa",agreementLinks:"terms-of-service-dialog__agreementLinks___cGkrx links__linkWithDarkTheme___HVXy1 links__link___2NuBA",agreeButton:"terms-of-service-dialog__agreeButton___2rMp1 buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",overlay:"terms-of-service-dialog__overlay___16zOg modals__container___3QxjF"}},"./src/pieces/authentication/twitter-themed-button.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./src/pieces/base/icons/icon.js"),o=(n("./node_modules/bows/bows.js")("Twitter-mark-icon"),function(){return r.a.createElement(i.a,null,r.a.createElement("svg",{style:{width:23,height:20},viewBox:"0 0 23 20"},r.a.createElement("path",{d:"M1002.23,347.008c8.68,0,13.43-7.693,13.43-14.364,0-.219,0-0.436-0.01-0.653a10.2,10.2,0,0,0,2.36-2.614,8.99,8.99,0,0,1-2.72.8,4.99,4.99,0,0,0,2.08-2.793,9.046,9.046,0,0,1-3,1.226,4.578,4.578,0,0,0-3.44-1.6,4.9,4.9,0,0,0-4.73,5.048,5.441,5.441,0,0,0,.12,1.151,13.144,13.144,0,0,1-9.731-5.275,5.3,5.3,0,0,0-.639,2.537,5.144,5.144,0,0,0,2.1,4.2,4.461,4.461,0,0,1-2.139-.632v0.065a4.978,4.978,0,0,0,3.789,4.949,4.436,4.436,0,0,1-1.246.178,4.326,4.326,0,0,1-.887-0.092,4.78,4.78,0,0,0,4.412,3.507,9.1,9.1,0,0,1-5.866,2.161,8.939,8.939,0,0,1-1.127-.07,12.754,12.754,0,0,0,7.243,2.268",transform:"translate(-995 -327)"})))}),s=n("./src/pieces/authentication/social-themed-buttons.scss"),c=n.n(s);n("./node_modules/bows/bows.js")("Twitter-themed-button"),t.a=function(e){var t=e.onClickHandler,n=e.buttonActionMessage,a=e.noIcon;return r.a.createElement("button",{onClick:t,className:c.a.twitterButton,tabIndex:0,type:"button"},!a&&r.a.createElement("div",{className:c.a.socialIcon},r.a.createElement(o,null)),r.a.createElement("div",null,n," Twitter"))}},"./src/pieces/authentication/verification-dialog.scss":function(e,t,n){e.exports={redesign_overlay:"verification-dialog__redesign_overlay___2Jm-g modals__container___3QxjF",redesign_modalContainer:"verification-dialog__redesign_modalContainer___3d289",redesign_content:"verification-dialog__redesign_content___xd9in modals__content___i9pX_",redesign_verificationContainer:"verification-dialog__redesign_verificationContainer___3BMbh",redesign_verificationContainerDarkTheme:"verification-dialog__redesign_verificationContainerDarkTheme___jbvKx verification-dialog__redesign_verificationContainer___3BMbh",redesign_title:"verification-dialog__redesign_title___3-SG1",redesign_body:"verification-dialog__redesign_body___2N2aB",redesign_message:"verification-dialog__redesign_message___BHLcJ",redesign_resendButton:"verification-dialog__redesign_resendButton___1-VXk buttons__redesign_buttonWithHoverEffect___1Ud0c buttons__redesign_button___ZSYNe",redesign_resendButtonDarkTheme:"verification-dialog__redesign_resendButtonDarkTheme___3LdyX buttons__redesign_darkButtonWithHoverEffect___38D41 buttons__redesign_button___ZSYNe",redesign_closeButton:"verification-dialog__redesign_closeButton___1IeTI buttons__unstyledButton___olg-i"}},"./src/pieces/authentication/welcome-dialog.scss":function(e,t,n){e.exports={redesign_overlay:"welcome-dialog__redesign_overlay___3OFe1 modals__container___3QxjF",redesign_modalContainer:"welcome-dialog__redesign_modalContainer___1WWK5",redesign_content:"welcome-dialog__redesign_content___101wi modals__content___i9pX_",redesign_welcomeContainer:"welcome-dialog__redesign_welcomeContainer___Q5qN4",redesign_title:"welcome-dialog__redesign_title___2UvgA",redesign_body:"welcome-dialog__redesign_body___Ztb8g",redesign_emailSentMessage:"welcome-dialog__redesign_emailSentMessage___1M4Zq welcome-dialog__redesign_body___Ztb8g",redesign_emailAddress:"welcome-dialog__redesign_emailAddress___TPJ07",redesign_actionButton:"welcome-dialog__redesign_actionButton___2wJvQ buttons__redesign_buttonWithHoverEffect___1Ud0c buttons__redesign_button___ZSYNe",redesign_closeButton:"welcome-dialog__redesign_closeButton___1WSnT buttons__unstyledButton___olg-i",contentLockedOverlay:"welcome-dialog__contentLockedOverlay___1A3h6",welcomeDialogMobile:"welcome-dialog__welcomeDialogMobile___2l8Cq",redesign_welcomeContainerMobile:"welcome-dialog__redesign_welcomeContainerMobile___3Mufx",redesign_closeButtonMobile:"welcome-dialog__redesign_closeButtonMobile___1CiTF buttons__unstyledButton___olg-i",redesign_titleMobile:"welcome-dialog__redesign_titleMobile___hf3PS",redesign_bodyMobile:"welcome-dialog__redesign_bodyMobile___2SmYL",redesign_emailSentMessageMobile:"welcome-dialog__redesign_emailSentMessageMobile___qQsvG welcome-dialog__redesign_body___Ztb8g",redesign_emailAddressMobile:"welcome-dialog__redesign_emailAddressMobile___3lrc_",mobileWelcomeDialogButtonContainer:"welcome-dialog__mobileWelcomeDialogButtonContainer___2LlJM",buttonText:"welcome-dialog__buttonText___Q2eFw",getTheAppTextMobile:"welcome-dialog__getTheAppTextMobile___-R0_H",getAppIcon:"welcome-dialog__getAppIcon___SnHbx",getAppIconText:"welcome-dialog__getAppIconText___3Xezh"}},"./src/pieces/base/api/account.api.js":function(e,t,n){"use strict";n.d(t,"k",function(){return E}),n.d(t,"l",function(){return x}),n.d(t,"m",function(){return k}),n.d(t,"h",function(){return I}),n.d(t,"g",function(){return T}),n.d(t,"f",function(){return F}),n.d(t,"n",function(){return P}),n.d(t,"b",function(){return N}),n.d(t,"o",function(){return M}),n.d(t,"a",function(){return L}),n.d(t,"i",function(){return B}),n.d(t,"j",function(){return A}),n.d(t,"c",function(){return D}),n.d(t,"e",function(){return U}),n.d(t,"d",function(){return R});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/lodash/snakeCase.js"),o=n.n(i),s=n("./node_modules/lodash/mapKeys.js"),c=n.n(s),l=n("./src/pieces/base/api/api-helpers.js"),u=n("./src/pieces/base/constants.js"),d=r.a.mark(E),_=r.a.mark(x),m=r.a.mark(k),g=r.a.mark(I),b=r.a.mark(T),p=r.a.mark(F),f=r.a.mark(P),h=r.a.mark(N),v=r.a.mark(M),w=r.a.mark(L),C=r.a.mark(B),y=r.a.mark(A),j=r.a.mark(D),O=r.a.mark(U),S=r.a.mark(R);n("./node_modules/bows/bows.js")("Account.api");function E(e){var t,n,a,i,o;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(l.e)("".concat(u.Yb,"/account/signin"),{account:e},{includeAuthentication:!1});case 2:return t=r.sent,n=t.credentials,a=t.next,i=t.mfaOtpMethod,o=t.bouncer,r.abrupt("return",{credentials:n,recommendedNextStep:a,multiFactorMethod:i,bouncer:o});case 8:case"end":return r.stop()}},d)}function x(e,t){var n,a,i,o;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(l.e)("".concat(u.Yb,"/account/signin"),{account:e,mfa:{otp:t}},{includeAuthentication:!1});case 2:return n=r.sent,a=n.credentials,i=n.next,o=n.bouncer,r.abrupt("return",{credentials:a,recommendedNextStep:i,bouncer:o});case 7:case"end":return r.stop()}},_)}function k(e){var t,n,a=arguments;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},n=c()(e,function(e,t){return"dateOfBirth"===t?"dob":t}),r.next=4,Object(l.e)("".concat(u.Yb,"/account"),{account:n,iid:t.iid,recaptcha_token:t.captchaToken,tos:t.hasAgreedToTermsOfService},{includeAuthentication:!1});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}},m)}function I(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.e)("".concat(u.Yb,"/account/forgot-password"),{email:e},{includeAuthentication:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},g)}function T(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.e)("".concat(u.Yb,"/account/reset-password"),{code:e,password:t},{includeAuthentication:!1});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},b)}function F(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.e)("".concat(u.Yb,"/account/resend-verification"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},p)}function P(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=c()(e,function(e,t){return o()(t)}),n.next=3,Object(l.d)("".concat(u.Yb,"/account"),{account:t});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},f)}function N(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)("".concat(u.Yb,"/account/notification-settings"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},h)}function M(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=c()(e,function(e,t){return o()(t)}),n.next=3,Object(l.d)("".concat(u.Yb,"/account/notification-settings"),t);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},v)}function L(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.b)("".concat(u.Yb,"/account/").concat(e),{account:{current_password:t}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},w)}function B(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.c)("".concat(u.Yb,"/account/mfa/email"));case 2:return e=n.sent,t=e.email,n.abrupt("return",t);case 5:case"end":return n.stop()}},C)}function A(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.e)("".concat(u.Yb,"/account/mfa"),{mfa:{method:e,otp:t}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},y)}function D(e,t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)("".concat(u.Yb,"/entitlement/{entitlementId}"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},j)}function U(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.e)("".concat(u.Yb,"/link-account"),{entitlement_id:e,email:t,otp:n});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},O)}function R(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.e)("".concat(u.Yb,"/link-account/email-verify"),{email:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},S)}},"./src/pieces/base/api/api-helpers.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),c=n.n(s),l=n("./node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(l),d=n("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js"),_=n.n(d),m=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),g=n.n(m),b=n("./node_modules/@babel/runtime/regenerator/index.js"),p=n.n(b),f=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(f),v=n("./node_modules/lodash/cond.js"),w=n.n(v),C=n("./node_modules/lodash/random.js"),y=n.n(C),j=n("./node_modules/redux-saga/es/index.js"),O=n("./node_modules/redux-saga/es/effects.js"),S=n("./src/pieces/base/saga-utilities.js"),E=n("./src/pieces/base/constants.js"),x=n("./src/pieces/base/api/revive-idiomatically.js"),k=n("./src/pieces/authentication/anonymous-user-id.js"),I=n("./src/pieces/authentication/session-vendor-id.js"),T=n("./src/pieces/authentication/authentication.reducer.js"),F=n("./src/pieces/authentication/authentication.sagas.js"),P=n("./src/pieces/base/error-reporting.js"),N=n("./src/pieces/store/get-environment.js"),M=(n("./node_modules/bows/bows.js")("Api-helpers-request-tracking"),function(e,t){fetch("".concat(E.zc,"/stats"),{method:"POST",mode:"cors",headers:e,body:JSON.stringify(t)})});function L(e,t,n){if(E.kb)try{e.authorization&&Math.random()<.05&&M(e,{gauges:[{metric_name:"tracer.http.requestRoundTripTime",value:t,dimensions:{serviceName:n.split("https://")[1].split(".caffeine.tv")[0],tracerEnvironment:Object(N.a)()}}]})}catch(e){console.error("Failed to report API metric, skipping.",e)}}function B(e,t){if(E.kb)try{e.authorization&&M(e,{counters:[{metric_name:"tracer.http.fetchFailure",value:1,dimensions:{serviceName:t.split("https://")[1].split(".caffeine.tv")[0],tracerEnvironment:Object(N.a)()}}]})}catch(e){console.error("Failed to report api fetch failure, skipping.",e)}}n.d(t,"c",function(){return oe}),n.d(t,"e",function(){return se}),n.d(t,"d",function(){return ce}),n.d(t,"f",function(){return le}),n.d(t,"b",function(){return ue}),n.d(t,"g",function(){return _e}),n.d(t,"a",function(){return me});var A=p.a.mark(X),D=p.a.mark(re),U=p.a.mark(ie),R=p.a.mark(oe),H=p.a.mark(se),W=p.a.mark(ce),V=p.a.mark(le),z=p.a.mark(ue),G=p.a.mark(de),q=p.a.mark(_e);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach(function(t){h()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Y=n("./node_modules/bows/bows.js")("Api-helpers"),Q={accept:"application/json","x-client-type":E.N,"x-client-version":E.P,"x-anonymous-id":Object(k.a)(),"x-caffeine-vendor-identifier":Object(I.a)(),"x-tmx-session-id":E.Re},K=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Z({},a?{}:Q,{},!a&&e?{authorization:"Bearer ".concat(e)}:{},{},t?{"x-credential":t}:{},{},n?{"content-type":"application/json"}:{})};function X(e){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.e)(e);case 2:case"end":return t.stop()}},A)}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=g()(p.a.mark(function e(t){var n,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent,!(a=t.headers.get("content-type"))||!a.includes("application/json")){e.next=8;break}return e.abrupt("return",n?JSON.parse(n,x.a):{});case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var te=function(e,t){var n=t.method,a=t.headers,r=t.body;return fetch(e,Z({method:n,headers:a},null!=r?{body:r}:{})).then(function(){var e=g()(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:if(n=e.sent,!(t.status<400)){e.next=7;break}return e.abrupt("return",n);case 7:throw n="string"===typeof n?{responseBody:n}:n,Object.assign(new ge("Request failed with status ".concat(t.status)),Z({},n,{kind:"BadStatus",statusCode:t.status}));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),function(t){throw Object.assign(new ge(t.message),{kind:"FetchFailure",data:{url:e,headers:a,body:r}})})},ne=w()([[function(e){return null==e.body},function(){return null}],[function(e){return!1!==e.isJson},function(e){var t=e.body;return JSON.stringify(t)}],[function(e){return!1===e.isJson},function(e){return e.body}]]),ae=function(e){var t=e.kind,n=e.statusCode,a=e.errors;return"BadStatus"===t&&401===n&&a&&a._token};function re(){var e,t;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(O.i)(T.selectNewCredential);case 2:return e=n.sent,n.next=5,Object(O.i)(T.selectAnonymousSessionCredential);case 5:return t=n.sent,n.abrupt("return",e||t);case 7:case"end":return n.stop()}},D)}function ie(e,t){var n,a,r,i,o,s,c,l,u,d,_=arguments;return p.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return n=_.length>2&&void 0!==_[2]?_[2]:{},a=_.length>3&&void 0!==_[3]?_[3]:0,m.next=4,!1!==n.includeAuthentication?Object(O.b)(F.getAccessToken):null;case 4:return r=m.sent,m.next=7,!1!==n.includeAuthentication?Object(O.b)(re):null;case 7:return i=m.sent,o=ne(n),s=K(r,i,n.isJson,n.excludeDefaultHeaders),m.prev=10,c=performance.now(),m.next=14,Object(O.b)(te,t,Z({method:e,headers:Z({},s,{},n.headers)},null!=o?{body:o}:{}));case 14:return l=m.sent,u=performance.now()-c,m.next=18,Object(S.b)(L,s,u,t);case 18:return m.abrupt("return",l);case 21:if(m.prev=21,m.t0=m.catch(10),!(a<E.lc-1)){m.next=53;break}return m.next=26,Object(O.b)(y.a,0,E.p*Math.pow(2,a));case 26:if(d=m.sent,"FetchFailure"!==m.t0.kind){m.next=38;break}return Y("Transient fetch failure encountered, trying again",t),m.next=31,Object(O.b)(B,s,t);case 31:return m.next=33,Object(O.b)(X,d);case 33:return m.next=35,Object(O.b)(ie,e,t,n,a+1);case 35:return m.abrupt("return",m.sent);case 38:if(!r||!ae(m.t0)){m.next=50;break}return m.next=41,Object(O.e)(P.a,"Invalid access token used in request",{level:"warning",method:e,url:t});case 41:return m.next=43,Object(O.g)(Object(T.RefreshAccessToken)(r));case 43:return m.next=45,Object(O.b)(X,d);case 45:return m.next=47,Object(O.b)(ie,e,t,n,a+1);case 47:return m.abrupt("return",m.sent);case 50:throw m.t0;case 51:m.next=54;break;case 53:throw m.t0;case 54:case"end":return m.stop()}},U,null,[[10,21]])}function oe(e){var t,n=arguments;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:{},a.delegateYield(ie("GET",e,t),"t0",2);case 2:return a.abrupt("return",a.t0);case 3:case"end":return a.stop()}},R)}function se(e){var t,n,a=arguments;return p.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]?a[2]:{},r.delegateYield(ie("POST",e,Z({body:t},n)),"t0",3);case 3:return r.abrupt("return",r.t0);case 4:case"end":return r.stop()}},H)}function ce(e){var t,n,a=arguments;return p.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]?a[2]:{},r.delegateYield(ie("PATCH",e,Z({body:t},n)),"t0",3);case 3:return r.abrupt("return",r.t0);case 4:case"end":return r.stop()}},W)}function le(e){var t,n,a=arguments;return p.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]?a[2]:{},r.delegateYield(ie("PUT",e,Z({body:t},n)),"t0",3);case 3:return r.abrupt("return",r.t0);case 4:case"end":return r.stop()}},V)}function ue(e){var t,n,a=arguments;return p.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]?a[2]:{},r.delegateYield(ie("DELETE",e,Z({body:t},n)),"t0",3);case 3:return r.abrupt("return",r.t0);case 4:case"end":return r.stop()}},z)}function de(e,t){var n;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(S.a)(p.a.mark(function a(){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(O.b)(se,e,n?{cursor:n}:{});case 3:return r=a.sent,n=r.cursor,a.next=7,Object(S.d)(t,r.payload);case 7:return a.next=9,Object(j.e)(1e3*r.retryIn||E.db);case 9:a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(j.e)(E.ab);case 15:throw a.t0;case 16:case"end":return a.stop()}},a,null,[[0,11]])}));case 3:a.next=0;break;case 5:case"end":return a.stop()}},G)}function _e(e,t){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(de(e,t),"t0",1);case 1:return n.abrupt("return",n.t0);case 2:case"end":return n.stop()}},q)}function me(e){var t=Object.keys(e);return t.length>0?"?".concat(t.map(function(t){return"".concat(t,"=").concat(new Number(e[t]).toString())}).join("&")):""}F.getAccessToken;var ge=function(e){function t(){return r()(this,t),o()(this,c()(t).apply(this,arguments))}return u()(t,e),t}(_()(Error))},"./src/pieces/base/api/broadcasts.api.js":function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"d",function(){return v}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return C}),n.d(t,"e",function(){return y}),n.d(t,"g",function(){return O}),n.d(t,"f",function(){return S});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./src/pieces/base/api/api-helpers.js"),c=n("./src/pieces/base/constants.js"),l=r.a.mark(h),u=r.a.mark(v),d=r.a.mark(w),_=r.a.mark(C),m=r.a.mark(y),g=r.a.mark(O);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Broadcasts.api");function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.game&&e.game.id?p({},e.game,{id:e.game.id.toString()}):e.game;return p({},e,{game:t})}function h(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(s.c)("".concat(c.Yb,"/broadcasts/").concat(e));case 2:return t=a.sent,n=t.broadcast,a.abrupt("return",f(n));case 5:case"end":return a.stop()}},l)}function v(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.c)("".concat(c.S,"/v1/social"));case 2:return e=n.sent,t=e.listings,n.abrupt("return",t);case 5:case"end":return n.stop()}},u)}function w(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t="".concat(c.Rc,"/ccv?activity_id=").concat(e),a.next=3,Object(s.c)(t,{includeAuthentication:!0,excludeDefaultHeaders:!0});case 3:return n=a.sent,a.abrupt("return",n);case 5:case"end":return a.stop()}},d)}function C(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.c)("".concat(c.Yb,"/live-hostable-broadcasters"));case 2:return e=n.sent,t=e.broadcasters,n.abrupt("return",t);case 5:case"end":return n.stop()}},_)}function y(e,t){var n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n="".concat(c.Sd,"/feeds/").concat(t,"/live"),a={},!e){r.next=7;break}return i={"x-credential":e,"x-client-type":"web"},r.next=6,Object(s.c)(n,a,i);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}},m)}function j(e){for(var t=e.split(",")[0].includes("base64")?atob(e.split(",")[1]):unescape(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(t.length),r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return new Blob([a],{type:n})}function O(e,t){var n,a,i,o;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=new FormData,t&&(a=j(t),n.append("broadcast[webcam_image]",a,"camerasnapshot.png")),r.next=4,Object(s.d)("".concat(c.Yb,"/broadcasts/").concat(e),n,{isJson:!1});case 4:return i=r.sent,o=i.broadcast,r.abrupt("return",o);case 7:case"end":return r.stop()}},g)}function S(e){window.navigator.sendBeacon("".concat(c.vd,"/public/beacon"),JSON.stringify({method:"DELETE",path:"/v5/stage",headers:{"Content-Type":["application/json"],"X-Client-Type":[c.N],"X-Credential":[e],"X-Client-ID":[c.Ld]}}))}},"./src/pieces/base/api/metrics.api.js":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./src/pieces/base/api/api-helpers.js"),o=n("./src/pieces/base/constants.js"),s=n("./src/pieces/store/get-environment.js"),c=r.a.mark(u),l=r.a.mark(d);n("./node_modules/bows/bows.js")("Metrics.api");function u(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.kb){t.next=4;break}return t.next=3,Object(i.e)("".concat(o.zc,"/stats"),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},c)}function d(e,t){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n={event_type:e,event_source:"tracer",environment:Object(s.a)(),data:t},!o.kb){a.next=5;break}return a.next=4,Object(i.e)("".concat(o.zc,"/events"),n);case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}},l)}},"./src/pieces/base/api/payments.api.js":function(e,t,n){"use strict";n.d(t,"p",function(){return j}),n.d(t,"i",function(){return O}),n.d(t,"a",function(){return S}),n.d(t,"n",function(){return E}),n.d(t,"m",function(){return x}),n.d(t,"k",function(){return k}),n.d(t,"d",function(){return I}),n.d(t,"c",function(){return T}),n.d(t,"j",function(){return F}),n.d(t,"b",function(){return P}),n.d(t,"e",function(){return N}),n.d(t,"f",function(){return M}),n.d(t,"l",function(){return L}),n.d(t,"g",function(){return B}),n.d(t,"h",function(){return A}),n.d(t,"o",function(){return D});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./src/pieces/base/api/api-helpers.js"),o=n("./src/pieces/base/constants.js"),s=r.a.mark(j),c=r.a.mark(O),l=r.a.mark(S),u=r.a.mark(E),d=r.a.mark(x),_=r.a.mark(k),m=r.a.mark(I),g=r.a.mark(T),b=r.a.mark(F),p=r.a.mark(P),f=r.a.mark(N),h=r.a.mark(M),v=r.a.mark(L),w=r.a.mark(B),C=r.a.mark(A),y=r.a.mark(D);n("./node_modules/bows/bows.js")("Payments.api");function j(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.g)("".concat(o.Lc,"/get-wallet"),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},s)}function O(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.e)("".concat(o.Lc,"/get-wallet"));case 2:return e=n.sent,t=e.payload,n.abrupt("return",t);case 5:case"end":return n.stop()}},c)}function S(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.e)("".concat(o.Lc,"/add-card"),{stripe_token:e});case 2:return t=a.sent,n=t.card,a.abrupt("return",n);case 5:case"end":return a.stop()}},l)}function E(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.e)("".concat(o.Lc,"/remove-card"),{card_id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},u)}function x(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.e)("".concat(o.Lc,"/get-cards"));case 2:return e=n.sent,t=e.cards,n.abrupt("return",t);case 5:case"end":return n.stop()}},d)}function k(){var e,t,n,a,s;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.e)("".concat(o.Lc,"/get-gold-bundles"));case 2:return e=r.sent,t=e.payload,n=t.goldBundles.state,a=t.limits,s=t.maintenance,r.abrupt("return",{goldBundles:n.filter(function(e){return e.usingStripe}),limits:a,isInMaintenanceMode:!!s});case 8:case"end":return r.stop()}},_)}function I(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.e)("".concat(o.Lc,"/buy-gold-using-stripe"),{id:e,card_id:t.cardId,stripe_token:t.tokenId});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},m)}function T(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.e)("".concat(o.Lc,"/buy-gold-using-credits"),{id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},g)}function F(){var e,t,n,a,s;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.e)("".concat(o.Lc,"/get-digital-items"));case 2:return e=r.sent,t=e.payload,n=t.digitalItemCategories.state,a=t.digitalItems.state,s=t.maintenance,r.abrupt("return",{digitalItemCategories:n,digitalItems:a,isInMaintenanceMode:!!s});case 8:case"end":return r.stop()}},b)}function P(e,t,n,a,s){var c,l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.e)("".concat(o.Lc,"/buy-digital-item"),{id:e,recipient:t,quantity:n,message:a,activityId:s});case 2:return c=r.sent,l=c.reaction,r.abrupt("return",l);case 5:case"end":return r.stop()}},p)}function N(e,t){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.e)("".concat(o.Mc,"/v1/buy-ticket"),{ppvshow_id:e,quantity:t});case 2:return n=a.sent,a.abrupt("return",n);case 4:case"end":return a.stop()}},f)}function M(e,t){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.e)("".concat(o.Mc,"/v2/buy-ticket"),{price_id:e,quantity:t});case 2:return n=a.sent,a.abrupt("return",n);case 4:case"end":return a.stop()}},h)}function L(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.e)("".concat(o.Lc,"/get-tipalti-url"));case 2:return e=n.sent,t=e.url,n.abrupt("return",t);case 5:case"end":return n.stop()}},v)}function B(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.e)("".concat(o.Lc,"/completed-tipalti-signup"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},w)}function A(){var e,t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.e)("".concat(o.Lc,"/get-cash-out-info"));case 2:return e=r.sent,t=e.payload,n=t.cashOutInfo,a=t.maintenance,r.abrupt("return",{exchangeRate:n,isInMaintenanceMode:!!a});case 7:case"end":return r.stop()}},C)}function D(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.e)("".concat(o.Lc,"/request-cash-out"),{id:e,quantity:t});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},y)}},"./src/pieces/base/api/reactions.api.js":function(e,t,n){"use strict";n.d(t,"d",function(){return j}),n.d(t,"b",function(){return x}),n.d(t,"c",function(){return k}),n.d(t,"a",function(){return I});var a=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(s),l=n("./node_modules/redux-saga/es/effects.js"),u=(n("./src/pieces/base/error-reporting.js"),n("./src/pieces/base/constants.js")),d=n("./src/pieces/base/api/api-helpers.js"),_=n("./node_modules/uuid/index.js"),m=n.n(_),g=n("./src/pieces/stage/video-props-player/video-props-player-helpers.js"),b=o.a.mark(j),p=o.a.mark(E),f=o.a.mark(x),h=o.a.mark(k),v=o.a.mark(I);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){c()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Reactions.api");var y="".concat(u.hd,"/reaper");function j(e,t){var n,a,r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=C({message_uuid:m()()},t),i.next=3,Object(d.e)("".concat(y,"/stages/").concat(e,"/messages"),n);case 3:return a=i.sent,r=a.reaction,i.abrupt("return",r);case 6:case"end":return i.stop()}},b)}function O(e){return S.apply(this,arguments)}function S(){return(S=r()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e){var t,n,a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(localStorage.getItem(e)){r.next=8;break}return t=Object(g.b)(e)+"/metadata.json",r.next=5,Object(d.c)("".concat(u.f).concat(t));case 5:n=r.sent,a=n.replace(/(\r\n|\n|\r|\\|\s)/gm,"").toLocaleLowerCase(),localStorage.setItem(e,a);case 8:case"end":return r.stop()}},p)}function x(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((t=e.body.digitalItem.webAssetPath).startsWith("blob")){n.next=4;break}return n.next=4,Object(l.b)(O,t);case 4:case"end":return n.stop()}},f)}function k(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((t=e.body.digitalItem.universalVideoPropPath).startsWith("blob")){n.next=4;break}return n.next=4,Object(l.b)(E,t);case 4:case"end":return n.stop()}},h)}function I(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.e)("".concat(y,"/messages/").concat(e,"/endorsements"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},v)}},"./src/pieces/base/api/revive-idiomatically.js":function(e,t,n){"use strict";var a=n("./node_modules/lodash/mapKeys.js"),r=n.n(a),i=n("./node_modules/lodash/camelCase.js"),o=n.n(i),s=n("./node_modules/lodash/isObject.js"),c=n.n(s);n("./node_modules/bows/bows.js")("Revive-idiomatically");t.a=function(e,t){return c()(t)&&!Array.isArray(t)?r()(t,function(e,t){return"".concat(/^_*/.test(t)?t.match(/^(_*)/)[0]:"").concat(o()(t))}):t}},"./src/pieces/base/api/rtcdn.api.js":function(e,t,n){"use strict";n.d(t,"e",function(){return _}),n.d(t,"f",function(){return m}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return f});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./src/pieces/base/api/api-helpers.js"),o=r.a.mark(_),s=r.a.mark(m),c=r.a.mark(g),l=r.a.mark(b),u=r.a.mark(p),d=r.a.mark(f);n("./node_modules/bows/bows.js")("Rtcdn.api");function _(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.e)("".concat(e,"/heartbeat"),{});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},o)}function m(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.e)("".concat(e,"/heartbeat"),{});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},s)}function g(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.f)("".concat(e),{answer:t});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},c)}function b(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.f)("".concat(e),{ice_candidates:t});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},l)}function p(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.f)("".concat(e),{ice_candidates:t});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},u)}function f(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},d)}},"./src/pieces/base/api/sharing.api.js":function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"c",function(){return S}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return x}),n.d(t,"b",function(){return I});var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(i),s=n("./src/pieces/base/api/api-helpers.js"),c=n("./src/pieces/base/constants.js"),l=n("./node_modules/redux-saga/es/effects.js"),u=n("./src/pieces/feature-configuration/feature-configuration.reducer.js"),d=n("./src/pieces/current-user/current-user.reducer.js"),_=n("./src/pieces/stage/stage.reducer.js"),m=n("./src/pieces/web-broadcast/web-broadcast.reducer.js"),g=n("./src/pieces/base/api/stages.api.js"),b=n("./src/pieces/base/create-deep-link-url.ts"),p=n("./src/pieces/sharing/sharing.reducer.ts");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=o.a.mark(O),w=o.a.mark(S),C=o.a.mark(E),y=o.a.mark(x),j=o.a.mark(I);n("./node_modules/bows/bows.js")("Sharing.api");function O(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.e)("".concat(c.Yb,"/invite/accept"),{token:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},v)}function S(e,t){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.e)("".concat(c.Yb,"/invite/email"),{to_email:e,stage_username:t});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},w)}function E(e,t){var n,a,r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(l.i)(u.selectUseDeepLink);case 2:return n=i.sent,i.next=5,Object(l.i)(u.selectUseDeepLinkV2);case 5:if(!i.sent){i.next=16;break}return i.next=9,Object(l.i)(_.selectEntertainer);case 9:return a=i.sent,i.next=12,Object(l.i)(p.selectTwitterShareLink);case 12:return r=i.sent,i.next=15,Object(s.e)("".concat(c.Yb,"/stages/tweet"),{message:t,username:a.username,link:r});case 15:return i.abrupt("return",i.sent);case 16:return i.next=18,Object(s.e)("".concat(c.Yb,"/broadcasts/").concat(e,"/tweet"),{message:t,use_deeplink_url:n});case 18:return i.abrupt("return",i.sent);case 19:case"end":return i.stop()}},C)}function x(e){var t,n,a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.link,n=e.message,a=e.entertainer,r.next=3,Object(s.e)("".concat(c.Yb,"/stages/tweet"),{message:n,username:a.username,link:t});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},y)}var k=function(){return"query ShareStageLinks(\n  $username: String!, \n  $channels: [StageShareChannel!]!, \n  $imageUrl: String, \n  $shareType: ShareType,\n  $title: String,\n  $message: String\n  ) {\n  stageShareLinks(username: $username, channels: $channels, imageUrl: $imageUrl, shareType: $shareType, title: $title, message: $message) {\n    stageShareLinks {\n      channel\n      deepLink\n    }\n    message\n  }\n}\n"};function I(e){var t,n,a,i,s,u,p,f,v,w,C,y,O,S,E,x,I,T;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.entertainer,n=e.imageUrl,a=e.type,i=e.title,s=e.message,o.next=3,Object(l.i)(d.selectCurrentUser);case 3:return u=o.sent,o.next=6,Object(l.i)(_.selectIsCurrentUserOnOwnStage);case 6:return p=o.sent,o.next=9,Object(l.i)(m.selectIsWebBroadcastLive);case 9:return f=o.sent,v=Object(b.b)({entertainerUsername:t.username,isLive:f,isOwnStage:p}),w=k(),C={username:t.username,channels:["FACEBOOK","TWITTER","COPY_LINK"],imageUrl:n,shareType:a,title:i,message:s},o.prev=13,o.delegateYield(Object(g.m)(c.de,w,C),"t0",15);case 15:return y=o.t0,O=y.data.stageShareLinks,S=O.message||v,E=O.stageShareLinks.reduce(function(e,t){return h({},e,r()({},t.channel.toLowerCase(),t.deepLink))},{}),x={message:S,shareLinks:E},o.abrupt("return",x);case 23:return o.prev=23,o.t1=o.catch(13),I=Object(b.c)(t.username,u.username),T={message:v,shareLinks:{facebook:I,twitter:I,copy_link:I}},o.abrupt("return",T);case 28:case"end":return o.stop()}},j,null,[[13,23]])}},"./src/pieces/base/api/stages.api.js":function(e,t,n){"use strict";n.d(t,"a",function(){return S}),n.d(t,"k",function(){return E}),n.d(t,"m",function(){return H}),n.d(t,"d",function(){return W}),n.d(t,"c",function(){return V}),n.d(t,"n",function(){return z}),n.d(t,"j",function(){return G}),n.d(t,"q",function(){return q}),n.d(t,"b",function(){return J}),n.d(t,"o",function(){return Z}),n.d(t,"p",function(){return Y}),n.d(t,"l",function(){return Q}),n.d(t,"i",function(){return K}),n.d(t,"e",function(){return X}),n.d(t,"f",function(){return $}),n.d(t,"g",function(){return ee}),n.d(t,"h",function(){return te});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./src/pieces/base/api/api-helpers.js"),o=n("./src/pieces/base/constants.js"),s=n("./node_modules/idx/lib/idx.js"),c=n.n(s),l=r.a.mark(E),u=r.a.mark(H),d=r.a.mark(W),_=r.a.mark(V),m=r.a.mark(z),g=r.a.mark(G),b=r.a.mark(q),p=r.a.mark(J),f=r.a.mark(Z),h=r.a.mark(Y),v=r.a.mark(Q),w=r.a.mark(K),C=r.a.mark(X),y=r.a.mark($),j=r.a.mark(ee),O=r.a.mark(te),S=(n("./node_modules/bows/bows.js")("Stages.api"),"WEB");function E(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.e)("".concat(o.Yb,"/stages/").concat(e,"/report"),{reason:t,description:n});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},l)}var x=function(){return"mutation Stage($clientId: ID!, $clientType: ClientType!, $title: String!) {\n    changeStageTitle(\n      clientId: $clientId\n      clientType: $clientType\n      title: $title\n    ) {\n      error {\n        __typename\n        title\n        message\n      }\n      stage {\n        title\n      }\n    }\n  }\n"},k=function(){return"mutation Stage($clientId: ID!, $clientType: ClientType!, $contentRating: ContentRating!) {\n    changeStageContentRating(\n      clientId: $clientId\n      clientType: $clientType\n      contentRating: $contentRating\n    ) {\n      error {\n        __typename\n      }\n      stage {\n        contentRating\n      }\n    }\n  }\n"},I=function(){return"mutation Stage($clientId: ID!, $clientType: ClientType!, $input: FeedInput!) {\n    setLiveHostingFeed(\n      clientId:  $clientId\n      clientType: $clientType\n      input: $input\n    ) {\n      error {\n        __typename\n        title\n        message\n      }\n      stage {\n         feeds {\n            id\n          }\n      }\n    }\n  }\n"},T=function(){return"mutation Stage($clientId: ID!, $clientType: ClientType!, $feedId: ID!) {\n    removeFeed(\n      clientId: $clientId\n      clientType: $clientType\n      feedId: $feedId\n    ) {\n      error {\n        __typename\n        title\n        message\n      }\n      stage {\n         feeds {\n            id\n          }\n      }\n    }\n  }\n"},F=function(){return"mutation Stage($clientId: ID!, $clientType: ClientType!, $input: FeedInput!) {\n    updateFeed(\n      clientId: $clientId\n      clientType: $clientType\n      input: $input\n    ) {\n      error {\n        __typename\n        title\n        message\n      }\n      stage {\n         feeds {\n            id\n            liveHost {\n              __typename\n              ...on LiveHostable {\n                address\n              }\n              ...on LiveHosting {\n                address\n                volume\n              }\n            }\n          }\n      }\n    }\n  }\n"},P=function(){return"mutation Stage($clientId: ID!, $clientType: ClientType!, $input: FeedInput!) {\n     addFeed (\n      clientId: $clientId\n      clientType: $clientType\n      input: $input\n    ) {\n      error {\n        __typename\n        title\n        message\n      }\n      stage {\n         id\n         username\n         title\n         broadcastId\n         live\n         feeds {\n            id\n            clientId\n            clientType\n            sourceConnectionQuality\n            capabilities\n            restrictions\n            role\n            gameId\n            liveHost {\n              __typename\n              ...on LiveHostable {\n                address\n              }\n              ...on LiveHosting {\n                address\n                volume\n              }\n            }\n            stream {\n              __typename\n              ...on BroadcasterStream {\n                id\n                sdpAnswer\n                url\n              }\n              ...on ViewerStream {\n                id\n                sdpOffer\n                url\n              }\n            }\n          }\n          title\n      }\n    }\n  }\n"},N=function(){return"mutation Stage($clientId: ID!, $clientType: ClientType!) {\n     startBroadcast (\n      clientId: $clientId\n      clientType: $clientType\n    ) {\n      error {\n        __typename\n        title\n        message\n      }\n      stage {\n         id\n         live\n         feeds {\n            id\n          }\n      }\n    }\n  }\n"},M=function(){return"mutation Stage($clientId: ID!, $keepLiveHostingFeeds: Boolean) {\n     stopBroadcast (\n      clientId: $clientId\n      keepLiveHostingFeeds: $keepLiveHostingFeeds\n    ) {\n      error {\n        __typename\n        title\n        message\n      }\n      stage {\n         id\n         live\n         feeds {\n            id\n          }\n      }\n    }\n  }\n"},L=function(){return"mutation Stage($clientId: ID!, $feedId: ID!) {\n     requestViewerStream (\n      clientId: $clientId\n      feedId: $feedId\n    ) {\n      feedId\n    }\n  }\n"},B=function(){return"mutation Stage($clientId: ID!, $viewingOption: ViewingOption!) {\n     selectViewingOption (\n      clientId: $clientId\n      viewingOption: $viewingOption\n    ) {\n      viewingOption\n    }\n  }\n"},A=function(){return"query Stage($username: String!) {\n    stage(username: $username) {\n      live\n      hlsUrl\n      trailerUrl\n    }\n  }\n"},D=function(){return"query VodCatalog($caid: ID!, $limit: Int, $lastIndex: ID) {\n  vodCatalog(\n    caid: $caid\n    limit: $limit\n    lastIndex: $lastIndex\n  ) {\n    caid\n    lastIndex\n    vodItems {\n      broadcastId\n      contentUrl\n      broadcastTitle\n      broadcastDate\n      thumbnailImagePath\n      hidden\n      contentDuration\n      contentRating\n    }\n  }\n}"},U=function(){return"mutation VodCatalog($caid: ID!, $broadcastId: ID!) {\n    deleteVodItem(\n      caid: $caid\n      broadcastId: $broadcastId\n    ) {\n      success\n    }\n  }\n"},R=function(){return"mutation VodCatalog($caid: ID!, $broadcastId: ID!, $hide: Boolean!) {\n  setVodItemVisibility(\n    caid: $caid\n    broadcastId: $broadcastId\n    hide: $hide\n  ) {\n    hide\n    error {\n      title\n      message\n    }\n  }\n}\n"};function H(e,t){var n,a,o=arguments;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},r.prev=1,a={operationName:null,variables:n,query:t},r.next=5,Object(i.e)(e,a);case 5:return r.abrupt("return",r.sent);case 8:if(r.prev=8,r.t0=r.catch(1),"BadStatus"!==r.t0.kind||503!==r.t0.statusCode){r.next=14;break}return r.abrupt("return",{uuid:r.t0.uuid,type:r.t0.type,reason:r.t0.reason});case 14:throw r.t0;case 15:case"end":return r.stop()}},u,null,[[1,8]])}function W(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=x(),n={clientId:o.Ld,clientType:S,title:e},a.delegateYield(H(o.de,t,n),"t0",3);case 3:return a.abrupt("return",a.t0);case 4:case"end":return a.stop()}},d)}function V(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=k(),n={clientId:o.Ld,clientType:S,contentRating:e},a.delegateYield(H(o.de,t,n),"t0",3);case 3:return a.abrupt("return",a.t0);case 4:case"end":return a.stop()}},_)}function z(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=I(),n={clientId:o.Ld,clientType:S,input:e},a.delegateYield(H(o.de,t,n),"t0",3);case 3:return a.abrupt("return",a.t0);case 4:case"end":return a.stop()}},m)}function G(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=T(),n={clientId:o.Ld,clientType:S,feedId:e},a.delegateYield(H(o.de,t,n),"t0",3);case 3:return a.abrupt("return",a.t0);case 4:case"end":return a.stop()}},g)}function q(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=F(),n={clientId:o.Ld,clientType:S,input:e},a.delegateYield(H(o.de,t,n),"t0",3);case 3:return a.abrupt("return",a.t0);case 4:case"end":return a.stop()}},b)}function J(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=P(),n={clientId:o.Ld,clientType:S,input:e},a.delegateYield(H(o.de,t,n),"t0",3);case 3:return a.abrupt("return",a.t0);case 4:case"end":return a.stop()}},p)}function Z(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=N(),t={clientId:o.Ld,clientType:S},n.delegateYield(H(o.de,e,t),"t0",3);case 3:return n.abrupt("return",n.t0);case 4:case"end":return n.stop()}},f)}function Y(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=M(),t={clientId:o.Ld,keepLiveHostingFeeds:!0},n.delegateYield(H(o.de,e,t),"t0",3);case 3:return n.abrupt("return",n.t0);case 4:case"end":return n.stop()}},h)}function Q(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=B(),n={clientId:o.Ld,clientType:S,viewingOption:e},a.delegateYield(H(o.de,t,n),"t0",3);case 3:return a.abrupt("return",a.t0);case 4:case"end":return a.stop()}},v)}function K(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=L(),n={clientId:o.Ld,feedId:e},a.delegateYield(H(o.de,t,n),"t0",3);case 3:return a.abrupt("return",a.t0);case 4:case"end":return a.stop()}},w)}function X(e){var t,n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=A(),n={username:e},r.delegateYield(H(o.de,t,n),"t0",3);case 3:return a=r.t0,i=c()(a,function(e){return e.data.stage}),r.abrupt("return",i);case 6:case"end":return r.stop()}},C)}function $(e,t,n){var a,i,s,l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=D(),i={caid:e,limit:t,lastIndex:n},r.delegateYield(H(o.vc+"/query",a,i),"t0",3);case 3:return s=r.t0,l=c()(s,function(e){return e.data.vodCatalog}),r.abrupt("return",l);case 6:case"end":return r.stop()}},y)}function ee(e,t){var n,a,i,s;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=U(),a={caid:e,broadcastId:t},r.delegateYield(H(o.vc+"/query",n,a),"t0",3);case 3:return i=r.t0,s=c()(i,function(e){return e.data.stage}),r.abrupt("return",s);case 6:case"end":return r.stop()}},j)}function te(e,t,n){var a,i,s,l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=R(),i={caid:e,broadcastId:t,hide:n},r.delegateYield(H(o.vc+"/query",a,i),"t0",3);case 3:return s=r.t0,l=c()(s,function(e){return e.data.stage}),r.abrupt("return",l);case 6:case"end":return r.stop()}},O)}},"./src/pieces/base/api/transactions.api.js":function(e,t,n){"use strict";n.d(t,"a",function(){return j}),n.d(t,"b",function(){return O});var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(i),s=n("./node_modules/lodash/compact.js"),c=n.n(s),l=n("./node_modules/lodash/find.js"),u=n.n(l),d=n("./node_modules/lodash/sortBy.js"),_=n.n(d),m=n("./node_modules/lodash/uniq.js"),g=n.n(m),b=n("./node_modules/redux-saga/es/effects.js"),p=n("./src/pieces/base/api/api-helpers.js"),f=n("./src/pieces/base/constants.js"),h=n("./src/pieces/base/api/users.api.js");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C=o.a.mark(j),y=o.a.mark(O);n("./node_modules/bows/bows.js")("Transactions.api");function j(){var e,t,n,a,r,i,s,c=arguments;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:"",t=c.length>1&&void 0!==c[1]?c[1]:{},n=Object(p.a)(t),a=e?n?n.concat("&filter=").concat(e):"?filter=".concat(e):n,o.next=6,Object(p.e)("".concat(f.Lc,"/get-transactions").concat(a));case 6:return r=o.sent,i=r.payload,s=r.nextOffset,o.abrupt("return",{transactions:i.transactions?i.transactions.state:[],offset:s});case 10:case"end":return o.stop()}},C)}function O(){var e,t,n,a,r,i,s,l,d,m=arguments;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=m.length>0&&void 0!==m[0]?m[0]:"",t=m.length>1&&void 0!==m[1]?m[1]:{},o.next=4,Object(b.b)(j,e,t);case 4:return n=o.sent,a=n.transactions,r=n.offset,i=_()(a.map(function(e){return w({},e,{createdAt:1e3*e.createdAt})}),["createdAt"]).reverse(),s=g()(c()(i.map(function(e){return e.sender||e.recipient||null}))),o.next=11,Object(b.b)(h.k,s);case 11:return l=o.sent,d=i.map(function(e){return w({},e,{sender:e.sender?u()(l.filter(function(e){return e}),function(t){return t.caid===e.sender}):void 0,recipient:e.recipient?u()(l.filter(function(e){return e}),function(t){return t.caid===e.recipient}):void 0})}),o.abrupt("return",{transactions:d,offset:r});case 14:case"end":return o.stop()}},y)}},"./src/pieces/base/api/users.api.js":function(e,t,n){"use strict";n.d(t,"j",function(){return P}),n.d(t,"k",function(){return N}),n.d(t,"t",function(){return M}),n.d(t,"a",function(){return L}),n.d(t,"u",function(){return B}),n.d(t,"c",function(){return A}),n.d(t,"b",function(){return D}),n.d(t,"d",function(){return U}),n.d(t,"f",function(){return R}),n.d(t,"n",function(){return H}),n.d(t,"s",function(){return W}),n.d(t,"p",function(){return V}),n.d(t,"l",function(){return z}),n.d(t,"r",function(){return G}),n.d(t,"h",function(){return q}),n.d(t,"e",function(){return J}),n.d(t,"o",function(){return Z}),n.d(t,"i",function(){return Y}),n.d(t,"m",function(){return Q}),n.d(t,"q",function(){return K}),n.d(t,"g",function(){return X});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/lodash/snakeCase.js"),o=n.n(i),s=n("./node_modules/lodash/mapKeys.js"),c=n.n(s),l=n("./src/pieces/base/api/api-helpers.js"),u=n("./src/pieces/base/constants.js"),d=r.a.mark(P),_=r.a.mark(N),m=r.a.mark(M),g=r.a.mark(L),b=r.a.mark(B),p=r.a.mark(A),f=r.a.mark(D),h=r.a.mark(U),v=r.a.mark(R),w=r.a.mark(H),C=r.a.mark(W),y=r.a.mark(V),j=r.a.mark(z),O=r.a.mark(G),S=r.a.mark(q),E=r.a.mark(J),x=r.a.mark(Z),k=r.a.mark(Y),I=r.a.mark(Q),T=r.a.mark(K),F=r.a.mark(X);n("./node_modules/bows/bows.js")("Users.api");function P(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.c)("".concat(u.Yb,"/users/").concat(String(e)));case 2:return t=a.sent,n=t.user,a.abrupt("return",n);case 5:case"end":return a.stop()}},d)}function N(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&0!=e.length){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,Object(l.e)("".concat(u.Yb,"/users/list"),{identifiers:e});case 4:return t=n.sent,n.abrupt("return",t);case 6:case"end":return n.stop()}},_)}function M(e,t){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=c()(t,function(e,t){return o()(t)}),a.next=3,Object(l.d)("".concat(u.Yb,"/users/").concat(e),{user:n});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},m)}function L(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.b)("".concat(u.Yb,"/users/").concat(t,"/identities/").concat(n,",").concat(e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},g)}function B(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.d)("".concat(u.Yb,"/upload/avatar"),e,{isJson:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},b)}function A(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.c)("".concat(u.Yb,"/users/").concat(e,"/following"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},p)}function D(e){var t,n,a,i,o,s=arguments;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{},n=Object(l.a)(t),r.next=4,Object(l.c)("".concat(u.ac,"/users/").concat(e,"/followers").concat(n));case 4:return a=r.sent,i=a.followers,o=a.offset,r.abrupt("return",{followers:i,offset:o});case 8:case"end":return r.stop()}},f)}function U(e){var t,n,a,i,o,s=arguments;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{},n=Object(l.a)(t),r.next=4,Object(l.c)("".concat(u.ac,"/users/").concat(e,"/following").concat(n));case 4:return a=r.sent,i=a.following,o=a.offset,r.abrupt("return",{following:i,offset:o});case 8:case"end":return r.stop()}},h)}function R(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.c)("".concat(u.Yb,"/users/").concat(e,"/ignores"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},v)}function H(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.e)("".concat(u.Yb,"/users/").concat(e,"/ignore/").concat(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},w)}function W(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.b)("".concat(u.Yb,"/users/").concat(e,"/ignore/").concat(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},C)}function V(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.e)("".concat(u.Yb,"/users/").concat(e,"/report"),{reason:t,description:n,report_location:window.location.href});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},y)}function z(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.e)("".concat(u.Yb,"/users/").concat(e,"/follow/").concat(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},j)}function G(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.b)("".concat(u.Yb,"/users/").concat(e,"/unfollow/").concat(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},O)}function q(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.c)("".concat(u.Yb,"/users/").concat(e,"/signed"));case 2:return t=a.sent,n=t.token,a.abrupt("return",n);case 5:case"end":return a.stop()}},S)}function J(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.c)("".concat(u.Yb,"/users/").concat(e,"/identities"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},E)}function Z(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.d)("".concat(u.Yb,"/users/").concat(e,"/notifications-viewed"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},x)}function Y(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.c)("".concat(u.Yb,"/users/suggestions"));case 2:return e=t.sent,t.abrupt("return",e.map(function(e){return e.user}));case 4:case"end":return t.stop()}},k)}function Q(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.b)("".concat(u.Yb,"/users/suggestions/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},I)}function K(e){var t,n,a,i,o,s;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.query,n=e.sort,i=!!(a=void 0===n?"":n)?{q:t,sort:a}:{q:t},r.next=5,Object(l.e)("".concat(u.Yb,"/search/users"),i);case 5:return o=r.sent,s=o.results,r.abrupt("return",s.map(function(e){return e.user}));case 8:case"end":return r.stop()}},T)}function X(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.c)("".concat(u.Sd,"/feeds/").concat(e,"/live"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},F)}},"./src/pieces/base/api/video.api.js":function(e,t,n){"use strict";n.d(t,"l",function(){return M}),n.d(t,"o",function(){return L}),n.d(t,"j",function(){return B}),n.d(t,"k",function(){return A}),n.d(t,"n",function(){return D}),n.d(t,"i",function(){return U}),n.d(t,"g",function(){return R}),n.d(t,"h",function(){return H}),n.d(t,"f",function(){return W}),n.d(t,"m",function(){return V}),n.d(t,"r",function(){return z}),n.d(t,"x",function(){return G}),n.d(t,"d",function(){return q}),n.d(t,"u",function(){return J}),n.d(t,"s",function(){return Z}),n.d(t,"a",function(){return Y}),n.d(t,"c",function(){return Q}),n.d(t,"t",function(){return K}),n.d(t,"b",function(){return X}),n.d(t,"p",function(){return $}),n.d(t,"q",function(){return ee}),n.d(t,"w",function(){return te}),n.d(t,"v",function(){return ne}),n.d(t,"e",function(){return re});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./src/pieces/base/api/api-helpers.js"),o=n("./node_modules/redux-saga/es/effects.js"),s=n("./src/pieces/stage/video-props-player/video-props-player-helpers.js"),c=n("./src/pieces/base/constants.js"),l=r.a.mark(M),u=r.a.mark(L),d=r.a.mark(B),_=r.a.mark(A),m=r.a.mark(D),g=r.a.mark(U),b=r.a.mark(R),p=r.a.mark(H),f=r.a.mark(W),h=r.a.mark(V),v=r.a.mark(z),w=r.a.mark(G),C=r.a.mark(q),y=r.a.mark(J),j=r.a.mark(Z),O=r.a.mark(Y),S=r.a.mark(Q),E=r.a.mark(K),x=r.a.mark(X),k=r.a.mark($),I=r.a.mark(ee),T=r.a.mark(te),F=r.a.mark(ne),P=r.a.mark(ae),N=r.a.mark(re);n("./node_modules/bows/bows.js")("Video.api");function M(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.c)("".concat(c.Td,"/public/activity/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},l)}function L(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.c)("".concat(c.Td,"/activity/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},u)}function B(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.c)("".concat(c.Td,"/public/").concat(e,"/vods"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},d)}function A(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.c)("".concat(c.Td,"/public/tag/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_)}function D(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}return n.next=3,Object(i.c)("".concat(c.Td,"/v2/tag/").concat(e,"?offset=").concat(t,"&limit=").concat(c.Pe));case 3:return n.abrupt("return",n.sent);case 6:return n.next=8,Object(i.c)("".concat(c.Td,"/v2/tag/").concat(e,"?limit=").concat(c.Pe));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},m)}function U(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}return n.next=3,Object(i.c)("".concat(c.Ud,"/feeds/").concat(e,"/upcoming?next=").concat(t));case 3:return n.abrupt("return",n.sent);case 6:return n.next=8,Object(i.c)("".concat(c.Ud,"/feeds/").concat(e,"/upcoming"));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},g)}function R(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}return n.next=3,Object(i.c)("".concat(c.Td,"/feeds/").concat(e,"/vods?next=").concat(t));case 3:return n.abrupt("return",n.sent);case 6:return n.next=8,Object(i.c)("".concat(c.Td,"/feeds/").concat(e,"/vods"));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},b)}function H(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.c)("".concat(c.Td,"/public/").concat(e,"/featured"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},p)}function W(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}return n.next=3,Object(i.c)("".concat(c.Td,"/activity/").concat(e,"/comments?next=").concat(t,"&limit=5"));case 3:return n.abrupt("return",n.sent);case 6:return n.next=8,Object(i.c)("".concat(c.Td,"/activity/").concat(e,"/comments?limit=20"));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},f)}function V(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!n){a.next=6;break}return a.next=3,Object(i.c)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t,"/replies?next=").concat(n,"&limit=10000"));case 3:return a.abrupt("return",a.sent);case 6:return a.next=8,Object(i.c)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t,"/replies?limit=10000"));case 8:return a.abrupt("return",a.sent);case 9:case"end":return a.stop()}},h)}function z(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.e)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t,"/reply/").concat(n,"/like"));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)}function G(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.b)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t,"/reply/").concat(n,"/like"));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},w)}function q(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.b)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t,"/reply/").concat(n));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},C)}function J(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.e)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t,"/reply/").concat(n,"/report"),{reason:"automatic"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},y)}function Z(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.e)("".concat(c.Td,"/activity/").concat(e,"/report"),{reason:t,description:n});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},j)}function Y(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.e)("".concat(c.Td,"/activity/").concat(e,"/comment"),t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},O)}function Q(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.b)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},S)}function K(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.e)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t,"/report"),{reason:"automatic"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},E)}function X(e,t,n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.e)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t,"/reply"),n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},x)}function $(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.e)("".concat(c.Td,"/activity/").concat(e,"/like"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},k)}function ee(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.e)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t,"/like"));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},I)}function te(e,t){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.b)("".concat(c.Td,"/activity/").concat(e,"/comment/").concat(t,"/like"));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},T)}function ne(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)("".concat(c.Td,"/activity/").concat(e,"/like"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},F)}function ae(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(localStorage.getItem(e)){r.next=8;break}return t=Object(s.b)(e)+"/metadata.json",r.next=5,Object(i.c)("".concat(c.f).concat(t));case 5:n=r.sent,a=n.replace(/(\r\n|\n|\r|\\|\s)/gm,"").toLocaleLowerCase(),localStorage.setItem(e,a);case 8:case"end":return r.stop()}},P)}function re(e){var t,n,a,i,s,c;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=!0,n=!1,a=void 0,r.prev=3,i=e[Symbol.iterator]();case 5:if(t=(s=i.next()).done){r.next=13;break}if(!(c=s.value).prop||!c.prop.universalVideoPropPath){r.next=10;break}return r.next=10,Object(o.b)(ae,c.prop.universalVideoPropPath);case 10:t=!0,r.next=5;break;case 13:r.next=19;break;case 15:r.prev=15,r.t0=r.catch(3),n=!0,a=r.t0;case 19:r.prev=19,r.prev=20,t||null==i.return||i.return();case 22:if(r.prev=22,!n){r.next=25;break}throw a;case 25:return r.finish(22);case 26:return r.finish(19);case 27:case"end":return r.stop()}},N,null,[[3,15,19,27],[20,,22,26]])}},"./src/pieces/base/application/application.actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var a=n("./node_modules/redux-actions/es/createAction.js"),r=(n("./node_modules/bows/bows.js")("Application.actions"),Object(a.a)("Click Primary Mouse Button")),i=Object(a.a)("Press Escape Key"),o=Object(a.a)("Initialize Application"),s=Object(a.a)("The System is Down!"),c=Object(a.a)("Announce Bouncer Denied Allowance")},"./src/pieces/base/application/application.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return b});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/effects.js"),o=n("./src/pieces/base/saga-utilities.js"),s=n("./src/pieces/base/application/application.actions.js"),c=n("./src/pieces/base/simple-dialog/simple-dialog.sagas.js"),l=n("./src/pieces/authentication/authentication.reducer.js"),u=r.a.mark(m),d=r.a.mark(g),_=r.a.mark(b);n("./node_modules/bows/bows.js")("Application.sagas");function m(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.e)(s.b);case 2:if(window.navigator.onLine){e.next=8;break}return e.next=5,Object(i.j)(c.showDialog,{title:"You're off air.",body:"Looks like your network is unavailable. \n\nCheck your internet connection and refresh the page.",choices:[]});case 5:throw new Error("Lost Internet Connectivity!");case 8:return e.next=10,Object(i.j)(c.showDialog,{title:"Hmmm...something's not right",body:"Please refresh in a few minutes.",choices:[]});case 10:throw new Error("The System is Down! The System is Down! The System is Down!");case 11:case"end":return e.stop()}},u)}function g(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.e)(s.a);case 2:return e.next=4,Object(i.g)(Object(l.ShowBouncerDialog)());case 4:case"end":return e.stop()}},d)}function b(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.e)(m);case 2:return e.next=4,Object(i.e)(g);case 4:case"end":return e.stop()}},_)}},"./src/pieces/base/avatar.scss":function(e,t,n){e.exports={avatar:"avatar__avatar___ol2Tc",avatarPicture:"avatar__avatarPicture___1eZyo",followDecoration:"avatar__followDecoration___u1woN",sizeConstrainer:"avatar__sizeConstrainer___1iih0",isFollowed:"avatar__isFollowed___1txqN",highlight:"avatar__highlight___1pLxz",highlightWithDarkTheme:"avatar__highlightWithDarkTheme___17x3j",tiny:"avatar__tiny___2lvcv",small:"avatar__small___3B8Xq",medium:"avatar__medium___3QfJq",mediumLarge:"avatar__mediumLarge___2ymWS",large:"avatar__large___4tVDQ",veryLarge:"avatar__veryLarge___MgBUv",huge:"avatar__huge___1XpDE",massive:"avatar__massive___3tmDk",redesign_avatar:"avatar__redesign_avatar___4oEEg",redesign_avatarPicture:"avatar__redesign_avatarPicture___FW1tK",redesign_sizeConstrainer:"avatar__redesign_sizeConstrainer___2xa0b",largeToVeryLarge:"avatar__largeToVeryLarge___fcSDS",largeToVeryLarge2:"avatar__largeToVeryLarge2___3u00X",xlarge:"avatar__xlarge___3CaSQ",mega:"avatar__mega___RffGt",redesign_insetShadow:"avatar__redesign_insetShadow___HgReD",redesign_linkWrapper:"avatar__redesign_linkWrapper___1l3Ph",redesign_isLive:"avatar__redesign_isLive___3uXR0",redesign_editableAvatar:"avatar__redesign_editableAvatar___1nrVO",redesign_editLabel:"avatar__redesign_editLabel___jZJ11",redesign_profilePictureUploadFileInput:"avatar__redesign_profilePictureUploadFileInput___ssFYm"}},"./src/pieces/base/avatar.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(s),l=n("./node_modules/react/index.js"),u=n.n(l),d=n("./node_modules/classnames/index.js"),_=n.n(d),m=n("./node_modules/idx/lib/idx.js"),g=n.n(m),b=n("./node_modules/recompose/dist/Recompose.esm.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/react-router/es/index.js"),h=n("./node_modules/reselect/lib/index.js"),v=n("./src/pieces/base/create-image-url.js"),w=n("./src/pieces/authentication/authentication.reducer.js"),C=n("./src/pieces/current-user/current-user.reducer.js"),y=n("./src/pieces/profile/profile.reducer.js"),j=n("./src/pieces/base/avatar.scss"),O=n.n(j);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach(function(t){c()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Avatar");var x=Object(b.a)(Object(p.b)(Object(h.createStructuredSelector)({hasUnverifiedEmail:C.selectCurrentUserEmailUnverified}),{ShowVerificationDialog:w.ShowVerificationDialog,UploadAvatar:y.UploadAvatar})),k={small:24,medium:32,large:40,largeToVeryLarge:48,largeToVeryLarge2:60,veryLarge:64,xlarge:88,huge:184},I={auto:"webp",bgColor:"ffffff",fit:"crop"},T=E({},I,{dpr:2}),F=E({},I,{frame:0}),P=E({},I,{frame:0,dpr:2}),N=function(e){var t,n=e.size,a=e.user,r=e.allowAnimation,i=void 0===r||r,o=e.editable,s=void 0!==o&&o,d=e.hasUnverifiedEmail,m=void 0!==d&&d,b=e.ShowVerificationDialog,p=e.UploadAvatar,f={width:k[n],height:k[n]},h=Object(l.useRef)(null),w=Object(l.useCallback)(function(e){m?b({body:"To upload an avatar you need to confirm your account",darkTheme:!0}):h&&h.current&&h.current.click()},[h.current]),C=Object(l.useCallback)(function(e){var t=g()(e,function(e){return e.target.files[0]});t&&p({caid:a.caid,file:t})},[]);return u.a.createElement("div",{className:_()((t={},c()(t,O.a.redesign_sizeConstrainer,!0),c()(t,O.a["".concat(n)],n),c()(t,O.a.redesign_editableAvatar,s),t)),onClick:s?w:void 0},a&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:O.a.redesign_avatar},a.avatarImagePath&&u.a.createElement("img",{className:O.a.redesign_avatarPicture,src:Object(v.c)(a.avatarImagePath,E({},i?I:F,{},f)),srcSet:"".concat(Object(v.c)(a.avatarImagePath,E({},i?T:P,{},f))," 2x"),alt:"".concat(String(a.username),"'s avatar"),"data-private":!0}),u.a.createElement("div",{className:O.a.redesign_insetShadow}),s&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:O.a.redesign_editLabel},"Edit Avatar"),u.a.createElement("input",{type:"file",className:O.a.redesign_profilePictureUploadFileInput,ref:h,accept:".jpg,.gif,.png",onChange:C}))),a.isBroadcasting&&u.a.createElement("div",{className:O.a.redesign_isLive})))};t.a=x(function(e){var t=e.linkToProfileInNewTab,n=e.linkToProfile,a=o()(e,["linkToProfileInNewTab","linkToProfile"]);if(t||n){var i=t?{target:"_blank"}:{};return u.a.createElement(f.b,r()({className:O.a.redesign_linkWrapper,to:"/".concat(a.user.username)},i,{rel:"noopener noreferrer",onClick:function(e){e.stopPropagation(),a.afterBodyClickHandler&&a.afterBodyClickHandler(e)}}),u.a.createElement(N,a))}return u.a.createElement(N,a)})},"./src/pieces/base/badge.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/lodash/cond.js"),r=n.n(a),i=(n("./node_modules/bows/bows.js")("Badge"),r()([[function(e){return"VERIFIED"===e.badge},function(t){var n=t.width,a=t.height;return e.createElement("svg",{width:n||24,height:a||20,viewBox:"0 0 21 18"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("path",{fill:"#000",d:"M21 9l-5.25 9H5.25L0 9l5.25-9h10.5z"}),e.createElement("path",{d:"M14.75 2L19 9l-4.25 7h-8.5L2 9l4.25-7h8.5zm-.712 3.113c-.441-.232-1.006-.095-1.26.307l-3.206 5.052-1.35-2.128c-.254-.402-.819-.54-1.26-.308-.442.232-.593.746-.338 1.148l2.154 3.396c.254.402.819.54 1.26.307a.868.868 0 00.386-.394l3.952-6.233c.255-.401.104-.915-.338-1.147z",fill:"#FFF"})))}],[function(e){return"CASTER"===e.badge},function(t){var n=t.width,a=t.height;return e.createElement("svg",{width:n||24,height:a||20,viewBox:"0 0 21 18"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("path",{fill:"#000",d:"M21 9l-5.25 9H5.25L0 9l5.25-9h10.5z"}),e.createElement("path",{d:"M14.75 2L19 9l-4.25 7h-8.5L2 9l4.25-7h8.5zm-4.052 2C8.108 4 6 6.243 6 9s2.108 5 4.698 5c1.79 0 3.4-1.059 4.202-2.763.233-.494.045-1.095-.419-1.342-.464-.248-1.029-.048-1.26.446C12.737 11.364 11.771 12 10.697 12 9.144 12 7.88 10.654 7.88 9s1.265-3 2.82-3c1.073 0 2.04.636 2.521 1.66.232.493.797.693 1.261.445.464-.247.652-.848.42-1.342C14.097 5.06 12.487 4 10.697 4z",fill:"#FFFD00"})))}],[function(e){return"PARTNER1"===e.badge},function(t){var n=t.width,a=t.height;return e.createElement("svg",{width:n||26,height:a||20,viewBox:"0 0 26 18"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("path",{fill:"#000",d:"M26 9l-5.25 9H5.25L0 9l5.25-9h15.5z"}),e.createElement("path",{fill:"#0FF",d:"M9.25 2L5 9l4.25 7h-3L2 9l4.25-7z"}),e.createElement("path",{d:"M19.75 2L24 9l-4.25 7h-8.5L7 9l4.25-7h8.5zm-4.052 2C13.108 4 11 6.243 11 9s2.108 5 4.698 5c1.79 0 3.4-1.059 4.202-2.763.233-.494.045-1.095-.419-1.342-.464-.248-1.029-.048-1.26.446C17.737 11.364 16.771 12 15.697 12c-1.554 0-2.819-1.346-2.819-3s1.265-3 2.82-3c1.073 0 2.04.636 2.521 1.66.232.493.797.693 1.261.445.464-.247.652-.848.42-1.342C19.097 5.06 17.487 4 15.697 4z",fill:"#0FF"})))}],[function(e){return"PARTNER2"===e.badge},function(t){var n=t.width,a=t.height;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n||14,height:a||20,fill:"none",viewBox:"0 0 12 18"},e.createElement("path",{fill:"url(#paint0_linear)",d:"M8.378 0c1.001-.012 1.782.762 1.757 1.896l-.093 4.392c-.014.648-.024 1.036-.03 1.195.766.019 1.439.714 1.423 1.435l-.003.083a85.04 85.04 0 01-.1 2.038c-.056.772-.284 1.395-.672 2.043l-.022.036c-.096.157-.303.478-.326.517l-.015.024a1.492 1.492 0 00-.071.13l-.005.011a.414.414 0 00-.008.019l-.001.004-.005.025a3.432 3.432 0 01-.612 1.421 3.454 3.454 0 01-.331.382l-.043.043-.019.844a1.09 1.09 0 01-.357.768l-.013.011-.012.012c-.187.169-.433.3-.737.401l-.037.012c-.602.192-1.477.265-2.662.248H5.31c-1.174-.022-2.077-.131-2.713-.35a2.423 2.423 0 01-.775-.408c-.263-.221-.433-.508-.43-.85v-.088c.001-.11 0-.283-.005-.564l-.014-.83-.1-.063a5.019 5.019 0 01-.275-.185 2.594 2.594 0 01-.665-.676A2.006 2.006 0 010 12.834l.002-.098c.002-.162.003-.494.003-1.2L.002 5.789c.001-1.164-.005-1.756 0-1.957.02-.895.7-1.566 1.514-1.605.876-.041 1.54.65 1.532 1.642l-.003.15c-.003.202-.005.478-.005.83a1.34 1.34 0 01.957-.327c.387.023.744.214.996.526.268-.277.64-.435 1.051-.426.202.005.392.049.565.127l-.005-.281a76.555 76.555 0 01-.013-2.65C6.614.754 7.413.012 8.378 0z"}),e.createElement("path",{fill:"#D58D00",fillRule:"evenodd",d:"M2.288 3.852c-.022.975.009 4.253.002 4.568-.026 1.147 1.24 2.739 2.453 1.822.399.708 1.843 1.279 2.686-.114.348.008.688.062.682.334-.015.69-2.589 1.484-2.636 3.607-.02.88.76.531.772.017.051-2.303 2.58-2.582 2.602-3.608.014-.634-.383-.99-1.12-1.007-1.047-.023-1.336-1.744-.637-1.728.7.015 1.68.299 1.93.366.308.083.564.108.98.117.37.009.68.377.673.645a80.794 80.794 0 01-.102 2.084c-.103 1.452-1.001 2.136-1.106 2.688-.24 1.264-.995 1.535-1 1.768l-.024 1.082c-.006.275-.557.75-3.037.714-2.48-.036-3.24-.553-3.233-.853.007-.333-.025-1.524-.019-1.816.007-.292-1.397-.573-1.371-1.74.012-.558 0-8.25.016-8.98.023-1.05 1.517-1.224 1.489.034zM5.352 6.09a.673.673 0 011.339.03c-.006.255-.014.53-.02.874-.939.46-.72 2.28-.062 2.794-.213.851-1.352.587-1.33-.437l.073-3.261zm-.73.173l-.065 2.975c-.016.724-1.378.495-1.358-.44l.06-2.648c.026-1.228 1.392-1.175 1.364.113zm2.75-4.46C7.402.42 9.41.328 9.376 1.848 9.345 3.244 9.27 7.05 9.25 7.455a5.276 5.276 0 01-1.81-.383c-.065-2.644-.088-4.4-.069-5.268z",clipRule:"evenodd"}),e.createElement("defs",null,e.createElement("linearGradient",{id:"paint0_linear",x1:"5.717",x2:"5.717",y1:"0",y2:"17.992",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#FFE1A7"}),e.createElement("stop",{offset:"1",stopColor:"#FFAD0E"})),e.createElement("linearGradient",{id:"paint1_linear",x1:"5.729",x2:"5.729",y1:"0.737",y2:"17.209",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{offset:"0.12",stopColor:"#E0984C"}),e.createElement("stop",{offset:"1",stopColor:"#D58D00"}))))}],[function(e){return"PARTNER3"===e.badge},function(t){var n=t.width,a=t.height;return e.createElement("svg",{width:n||14,height:a||20,viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M8.37703 2.29007e-05C9.3783 -0.0122972 10.1595 0.761754 10.1343 1.89641L10.0413 6.28823C10.0269 6.93602 10.0171 7.32403 10.0111 7.48285C10.7773 7.50204 11.4498 8.19652 11.4339 8.9182L11.4315 9.00069C11.4178 9.42658 11.3602 10.6186 11.3304 11.0394C11.2757 11.8106 11.0474 12.4339 10.6592 13.0821L10.6375 13.1178C10.5411 13.2752 10.3344 13.5961 10.3109 13.6346L10.2964 13.6587C10.2638 13.7132 10.2407 13.7556 10.2252 13.7889L10.22 13.8004C10.2169 13.8075 10.2144 13.8136 10.2126 13.8186L10.211 13.8229L10.2061 13.848C10.0931 14.4192 9.88396 14.8807 9.59381 15.269C9.51626 15.3728 9.43591 15.4676 9.348 15.5618C9.32035 15.5914 9.29287 15.6201 9.26287 15.6506L9.22026 15.6936L9.20156 16.5382C9.19504 16.8325 9.06196 17.0979 8.84377 17.3057L8.83156 17.3172L8.81918 17.3286C8.63227 17.498 8.38649 17.6292 8.08193 17.7302L8.04538 17.7421C7.44278 17.9341 6.56852 18.0072 5.38292 17.9899H5.30918C4.13495 17.968 3.23177 17.8586 2.59592 17.6404C2.27712 17.531 2.01814 17.3965 1.82139 17.2318C1.55775 17.011 1.38852 16.7235 1.39068 16.3815L1.3918 16.2939C1.39238 16.1841 1.3905 16.011 1.38604 15.7303L1.37264 14.9002L1.27242 14.8375C1.16948 14.7723 1.08302 14.7145 0.997029 14.6519C0.725021 14.4538 0.50448 14.2396 0.331785 13.9764C0.112319 13.6419 -0.00481301 13.258 0.000163868 12.834L0.00177619 12.7356C0.00373933 12.5743 0.0048938 12.242 0.00565239 11.5358L0.000931768 5.78885C0.00230193 4.62533 -0.0035432 4.03321 0.000910028 3.83219C0.0207509 2.93652 0.700525 2.2656 1.51484 2.22728C2.39101 2.18605 3.05527 2.87789 3.04682 3.86919L3.04414 4.01874C3.041 4.22058 3.03928 4.49741 3.0388 4.84815C3.30693 4.61809 3.64665 4.50032 3.99657 4.52167C4.3835 4.54527 4.74008 4.736 4.99244 5.0475C5.26026 4.77139 5.63285 4.61298 6.04318 4.62208C6.24488 4.62655 6.43567 4.67104 6.60788 4.7493L6.60294 4.46774C6.5823 3.24633 6.57801 2.36404 6.59011 1.81786C6.61369 0.753571 7.41258 0.01189 8.37703 2.29007e-05Z",fill:"#F9F9F9"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.28691 3.85159C2.2653 4.82694 2.29577 8.1051 2.28879 8.42039C2.26339 9.5669 3.52992 11.1586 4.74191 10.2418C5.1409 10.95 6.58567 11.5207 7.42783 10.128C7.77611 10.1357 8.11603 10.1901 8.11001 10.4618C8.09474 11.1512 5.52161 11.9464 5.47459 14.0693C5.4551 14.9489 6.23515 14.6004 6.24653 14.0864C6.29756 11.7827 8.82558 11.5045 8.84831 10.4782C8.86236 9.8438 8.46489 9.48775 7.72814 9.47142C6.68107 9.44822 6.39198 7.72714 7.09118 7.74263C7.79038 7.75813 8.77152 8.04157 9.02086 8.10883C9.32893 8.19193 9.585 8.21723 10.001 8.22645C10.3709 8.23465 10.6803 8.60301 10.6744 8.87125C10.6685 9.1395 10.6073 10.4668 10.5727 10.955C10.4697 12.4068 9.57113 13.0915 9.466 13.6434C9.22537 14.9067 8.47119 15.1777 8.46601 15.4114L8.44207 16.4925C8.43596 16.7682 7.88533 17.2432 5.40508 17.2071C2.92482 17.1709 2.16541 16.6542 2.17207 16.3536C2.17943 16.0213 2.1468 14.8301 2.15326 14.5383C2.15973 14.2465 0.755896 13.9647 0.781724 12.7987C0.794108 12.2397 0.781855 4.54855 0.798026 3.81859C0.821306 2.76768 2.31476 2.59432 2.28691 3.85159ZM5.35124 6.09056C5.3731 5.10383 6.71165 5.1335 6.6898 6.12023C6.68413 6.37599 6.67606 6.65126 6.67042 6.99505C5.73166 7.4549 5.9503 9.27505 6.60852 9.78936C6.39549 10.6402 5.25631 10.3759 5.27899 9.35209L5.35124 6.09056ZM4.62199 6.26387L4.55609 9.23877C4.54006 9.96259 3.17802 9.73379 3.19871 8.79953L3.25739 6.15053C3.28459 4.92257 4.65053 4.97581 4.62199 6.26387ZM7.37132 1.80392C7.40194 0.421436 9.40856 0.327668 9.37488 1.84832C9.34396 3.24418 9.26926 7.05018 9.25069 7.45465C8.66275 7.44162 8.05952 7.31415 7.44099 7.07225C7.37532 4.42765 7.3521 2.67154 7.37132 1.80392Z",fill:"#ED5E3C"}),e.createElement("defs",null,e.createElement("linearGradient",{id:"paint0_linear",x1:"5.86169",y1:"0.680632",x2:"5.49538",y2:"17.2096",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#EF7B5F"}),e.createElement("stop",{offset:"1",stopColor:"#ED5E3C"}))))}],[function(){return!0},function(){return null}]]));t.a=i}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/base/banner-message.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./src/pieces/base/constants.js");n("./node_modules/bows/bows.js")("Banner-message");t.a=function(e){var t=e.bannerTriggerDetails,n=e.isAuthenticated,a=[];switch(t.triggerType){case i.o.TIMEOUT:!n&&t.entertainerUsername?a=i.n.AUTH_TIMEOUT.split(/(@creatorusername)/):a.push(i.n.TIMEOUT);break;case i.o.AFTER_SIGN_IN_TIMEOUT:a.push(i.n.TIMEOUT);break;case i.o.SCROLL:a.push(i.n.SCROLL);break;case i.o.FOLLOWER_FOLLOWING_METADATA:a=i.n.FOLLOWER_FOLLOWING_METADATA.split(/(@creatorusername)/);break;case i.o.FOLLOW:a=i.n.FOLLOW.split(/(@creatorusername)/);break;case i.o.LIKE:case i.o.GIVE:case i.o.STAGE_REACT:case i.o.COMMENT:case i.o.COMMENT_SCROLL:case i.o.REPLY:a=i.n.COMMENT.split(/(@creatorusername)/);break;case i.o.STAGE_UPVOTE:a=i.n.STAGE_UPVOTE.split(/(@creatorusername)/);break;case i.o.STAGE_PROP:a=i.n.STAGE_PROP.split(/(@creatorusername)/);break;default:a.push(i.n.DEFAULT)}return r.a.createElement("div",null,a.map(function(e,n){return"@creatorusername"===e&&t.entertainerUsername?r.a.createElement("span",{key:n,style:{fontWeight:700}},t.entertainerUsername):r.a.createElement("span",{key:n},e)}))}},"./src/pieces/base/close-icon.scss":function(e,t,n){e.exports={closeIcon:"close-icon__closeIcon___1cDJ5",xsmall:"close-icon__xsmall___3jSvW",small:"close-icon__small___vzbH2",smallMedium:"close-icon__smallMedium___MFh75",medium:"close-icon__medium___3qyrs",large:"close-icon__large___281PE",darkTheme:"close-icon__darkTheme___1k_R7"}},"./src/pieces/base/close-icon.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./src/pieces/base/icons/icon.tsx"),u=n("./src/pieces/base/close-icon.scss"),d=n.n(u);n("./node_modules/bows/bows.js")("Close-icon");t.a=function(e){var t,n=e.size,a=void 0===n?"large":n,i=e.darkTheme,s=void 0!==i&&i,u=e.height,_=e.width;return o.a.createElement(l.a,null,o.a.createElement("svg",{viewBox:"0 0 18 18",className:c()((t={},r()(t,d.a.closeIcon,!0),r()(t,d.a["".concat(a)],u&&_?null:a),r()(t,d.a.darkTheme,s),t)),height:u,width:_},o.a.createElement("g",{transform:"translate(-1 -1)",fillRule:"evenodd"},o.a.createElement("rect",{transform:"rotate(45 10 10)",x:9,y:-2,width:2,height:24,rx:1}),o.a.createElement("rect",{transform:"scale(-1 1) rotate(45 0 -14.142)",x:9,y:-2,width:2,height:24,rx:1}))))}},"./src/pieces/base/constants.js":function(e,t,n){"use strict";n.d(t,"Db",function(){return s}),n.d(t,"Xd",function(){return c}),n.d(t,"qd",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"jb",function(){return d}),n.d(t,"b",function(){return _}),n.d(t,"bf",function(){return m}),n.d(t,"r",function(){return g}),n.d(t,"s",function(){return b}),n.d(t,"u",function(){return p}),n.d(t,"t",function(){return f}),n.d(t,"w",function(){return h}),n.d(t,"x",function(){return v}),n.d(t,"v",function(){return w}),n.d(t,"J",function(){return C}),n.d(t,"Xb",function(){return y}),n.d(t,"Wb",function(){return j}),n.d(t,"rd",function(){return O}),n.d(t,"W",function(){return S}),n.d(t,"Nd",function(){return E}),n.d(t,"c",function(){return x}),n.d(t,"h",function(){return k}),n.d(t,"Gc",function(){return I}),n.d(t,"Fc",function(){return T}),n.d(t,"Ve",function(){return F}),n.d(t,"pb",function(){return P}),n.d(t,"nc",function(){return N}),n.d(t,"Kc",function(){return M}),n.d(t,"j",function(){return L}),n.d(t,"xe",function(){return B}),n.d(t,"C",function(){return A}),n.d(t,"B",function(){return D}),n.d(t,"D",function(){return U}),n.d(t,"zb",function(){return R}),n.d(t,"z",function(){return H}),n.d(t,"fb",function(){return W}),n.d(t,"Zc",function(){return V}),n.d(t,"ad",function(){return z}),n.d(t,"Yc",function(){return G}),n.d(t,"Ue",function(){return q}),n.d(t,"Pe",function(){return J}),n.d(t,"fe",function(){return Z}),n.d(t,"ge",function(){return Y}),n.d(t,"be",function(){return Q}),n.d(t,"ce",function(){return K}),n.d(t,"he",function(){return X}),n.d(t,"je",function(){return $}),n.d(t,"qe",function(){return ee}),n.d(t,"ue",function(){return te}),n.d(t,"ne",function(){return ne}),n.d(t,"te",function(){return ae}),n.d(t,"me",function(){return re}),n.d(t,"oe",function(){return ie}),n.d(t,"se",function(){return oe}),n.d(t,"pe",function(){return se}),n.d(t,"re",function(){return ce}),n.d(t,"U",function(){return le}),n.d(t,"T",function(){return ue}),n.d(t,"Yd",function(){return de}),n.d(t,"Zd",function(){return _e}),n.d(t,"Vc",function(){return me}),n.d(t,"Wc",function(){return ge}),n.d(t,"ic",function(){return be}),n.d(t,"Hb",function(){return pe}),n.d(t,"Pd",function(){return fe}),n.d(t,"Od",function(){return he}),n.d(t,"uc",function(){return ve}),n.d(t,"tc",function(){return we}),n.d(t,"Jb",function(){return Ce}),n.d(t,"Ib",function(){return ye}),n.d(t,"nb",function(){return je}),n.d(t,"mb",function(){return Oe}),n.d(t,"Xe",function(){return Se}),n.d(t,"We",function(){return Ee}),n.d(t,"Gb",function(){return xe}),n.d(t,"Me",function(){return ke}),n.d(t,"Fb",function(){return Ie}),n.d(t,"Jc",function(){return Te}),n.d(t,"xb",function(){return Fe}),n.d(t,"oc",function(){return Pe}),n.d(t,"Ae",function(){return Ne}),n.d(t,"Ce",function(){return Me}),n.d(t,"Fe",function(){return Le}),n.d(t,"Be",function(){return Be}),n.d(t,"De",function(){return Ae}),n.d(t,"Ee",function(){return De}),n.d(t,"ye",function(){return Ue}),n.d(t,"ze",function(){return Re}),n.d(t,"wc",function(){return He}),n.d(t,"xc",function(){return We}),n.d(t,"md",function(){return Ve}),n.d(t,"nd",function(){return ze}),n.d(t,"od",function(){return Ge}),n.d(t,"fd",function(){return qe}),n.d(t,"gd",function(){return Je}),n.d(t,"dc",function(){return Ze}),n.d(t,"ae",function(){return Ye}),n.d(t,"cc",function(){return Qe}),n.d(t,"kc",function(){return Ke}),n.d(t,"mc",function(){return Xe}),n.d(t,"X",function(){return $e}),n.d(t,"Le",function(){return et}),n.d(t,"Je",function(){return tt}),n.d(t,"Ke",function(){return nt}),n.d(t,"dd",function(){return at}),n.d(t,"ed",function(){return rt}),n.d(t,"g",function(){return it}),n.d(t,"rc",function(){return ot}),n.d(t,"sc",function(){return st}),n.d(t,"qc",function(){return ct}),n.d(t,"Pc",function(){return lt}),n.d(t,"Oc",function(){return ut}),n.d(t,"Qc",function(){return dt}),n.d(t,"F",function(){return _t}),n.d(t,"E",function(){return mt}),n.d(t,"G",function(){return gt}),n.d(t,"Md",function(){return bt}),n.d(t,"Ge",function(){return pt}),n.d(t,"He",function(){return ft}),n.d(t,"pc",function(){return ht}),n.d(t,"Bc",function(){return vt}),n.d(t,"Qd",function(){return wt}),n.d(t,"Rd",function(){return Ct}),n.d(t,"Kb",function(){return yt}),n.d(t,"bb",function(){return jt}),n.d(t,"if",function(){return Ot}),n.d(t,"fc",function(){return St}),n.d(t,"lf",function(){return Et}),n.d(t,"kf",function(){return xt}),n.d(t,"jf",function(){return kt}),n.d(t,"Z",function(){return It}),n.d(t,"A",function(){return Tt}),n.d(t,"Vb",function(){return Ft}),n.d(t,"Ub",function(){return Pt}),n.d(t,"ob",function(){return Nt}),n.d(t,"tb",function(){return Mt}),n.d(t,"le",function(){return Lt}),n.d(t,"ke",function(){return Bt}),n.d(t,"Ab",function(){return At}),n.d(t,"Bb",function(){return Dt}),n.d(t,"Cb",function(){return Ut}),n.d(t,"Ic",function(){return Rt}),n.d(t,"Hc",function(){return Ht}),n.d(t,"Sc",function(){return Wt}),n.d(t,"Tc",function(){return Vt}),n.d(t,"m",function(){return zt}),n.d(t,"l",function(){return Gt}),n.d(t,"k",function(){return qt}),n.d(t,"qb",function(){return Jt}),n.d(t,"Xc",function(){return Zt}),n.d(t,"rb",function(){return Yt}),n.d(t,"y",function(){return Qt}),n.d(t,"H",function(){return Kt}),n.d(t,"L",function(){return Xt}),n.d(t,"Dd",function(){return $t}),n.d(t,"xd",function(){return en}),n.d(t,"Ad",function(){return tn}),n.d(t,"Id",function(){return nn}),n.d(t,"Kd",function(){return an}),n.d(t,"Jd",function(){return rn}),n.d(t,"wd",function(){return on}),n.d(t,"Bd",function(){return sn}),n.d(t,"Ed",function(){return cn}),n.d(t,"Fd",function(){return ln}),n.d(t,"Cd",function(){return un}),n.d(t,"Hd",function(){return dn}),n.d(t,"Gd",function(){return _n}),n.d(t,"zd",function(){return mn}),n.d(t,"yd",function(){return gn}),n.d(t,"I",function(){return bn}),n.d(t,"jc",function(){return pn}),n.d(t,"Zb",function(){return fn}),n.d(t,"S",function(){return hn}),n.d(t,"Yb",function(){return vn}),n.d(t,"ac",function(){return wn}),n.d(t,"vc",function(){return Cn}),n.d(t,"Td",function(){return yn}),n.d(t,"Ud",function(){return jn}),n.d(t,"Vd",function(){return On}),n.d(t,"Wd",function(){return Sn}),n.d(t,"hd",function(){return En}),n.d(t,"id",function(){return xn}),n.d(t,"bd",function(){return kn}),n.d(t,"vd",function(){return In}),n.d(t,"de",function(){return Tn}),n.d(t,"ee",function(){return Fn}),n.d(t,"Sd",function(){return Pn}),n.d(t,"Eb",function(){return Nn}),n.d(t,"Se",function(){return Mn}),n.d(t,"Rc",function(){return Ln}),n.d(t,"Lc",function(){return Bn}),n.d(t,"Mc",function(){return An}),n.d(t,"f",function(){return Dn}),n.d(t,"sb",function(){return Un}),n.d(t,"q",function(){return Rn}),n.d(t,"bc",function(){return Hn}),n.d(t,"zc",function(){return Vn}),n.d(t,"kb",function(){return zn}),n.d(t,"lc",function(){return Gn}),n.d(t,"p",function(){return qn}),n.d(t,"ab",function(){return Jn}),n.d(t,"db",function(){return Zn}),n.d(t,"d",function(){return Yn}),n.d(t,"e",function(){return Qn}),n.d(t,"cb",function(){return Kn}),n.d(t,"mf",function(){return Xn}),n.d(t,"P",function(){return $n}),n.d(t,"N",function(){return ea}),n.d(t,"gb",function(){return ta}),n.d(t,"eb",function(){return na}),n.d(t,"jd",function(){return aa}),n.d(t,"kd",function(){return ra}),n.d(t,"Y",function(){return ia}),n.d(t,"Qe",function(){return oa}),n.d(t,"Re",function(){return sa}),n.d(t,"Ld",function(){return ca}),n.d(t,"Ne",function(){return la}),n.d(t,"Ie",function(){return ua}),n.d(t,"Oe",function(){return da}),n.d(t,"gc",function(){return _a}),n.d(t,"hc",function(){return ma}),n.d(t,"hb",function(){return ga}),n.d(t,"Te",function(){return ba}),n.d(t,"V",function(){return pa}),n.d(t,"Nc",function(){return fa}),n.d(t,"ib",function(){return ha}),n.d(t,"M",function(){return wa}),n.d(t,"yc",function(){return Ca}),n.d(t,"af",function(){return ya}),n.d(t,"pd",function(){return ja}),n.d(t,"ld",function(){return Oa}),n.d(t,"td",function(){return Sa}),n.d(t,"sd",function(){return Ea}),n.d(t,"ud",function(){return xa}),n.d(t,"we",function(){return ka}),n.d(t,"a",function(){return Ia}),n.d(t,"gf",function(){return Ta}),n.d(t,"hf",function(){return Fa}),n.d(t,"ef",function(){return Pa}),n.d(t,"ff",function(){return Na}),n.d(t,"df",function(){return Ma}),n.d(t,"O",function(){return La}),n.d(t,"nf",function(){return Ba}),n.d(t,"of",function(){return Aa}),n.d(t,"Ec",function(){return Da}),n.d(t,"Cc",function(){return Ua}),n.d(t,"Dc",function(){return Ra}),n.d(t,"Uc",function(){return Ha}),n.d(t,"Qb",function(){return Wa}),n.d(t,"Rb",function(){return Va}),n.d(t,"Pb",function(){return za}),n.d(t,"Nb",function(){return Ga}),n.d(t,"Tb",function(){return qa}),n.d(t,"Sb",function(){return Ja}),n.d(t,"Ob",function(){return Za}),n.d(t,"ve",function(){return Ya}),n.d(t,"Ze",function(){return Qa}),n.d(t,"ie",function(){return Ka}),n.d(t,"cf",function(){return Xa}),n.d(t,"Lb",function(){return $a}),n.d(t,"Mb",function(){return er}),n.d(t,"Q",function(){return tr}),n.d(t,"yb",function(){return nr}),n.d(t,"wb",function(){return ar}),n.d(t,"R",function(){return rr}),n.d(t,"ub",function(){return ir}),n.d(t,"vb",function(){return or}),n.d(t,"Ye",function(){return sr}),n.d(t,"cd",function(){return cr}),n.d(t,"ec",function(){return lr}),n.d(t,"Ac",function(){return ur}),n.d(t,"lb",function(){return dr}),n.d(t,"o",function(){return _r}),n.d(t,"n",function(){return mr}),n.d(t,"K",function(){return gr});var a=n("./node_modules/uuid/v4.js"),r=n.n(a),i=n("./src/pieces/store/get-environment.js"),o=n("./node_modules/bows/bows.js")("Constants"),s=5e3,c="Watch on Caffeine, the home for live sports + community.",l="caffeineRefreshToken",u="caffeineAuthenticationLastUpdatedTime",d="embedCaffeineToken",_="caffeineAnonymousUserIdentifier",m="caffeineVendorIdentifier",g="caffeineCaidForBouncer",b="caffeineDeepLinkUrlForBouncer",p="caffeineDeepLinkUrlTimestampForBouncer",f=9e5,h="bouncerPushNotificationFollowUpSent",v=/^[A-Za-z0-9._%+-]+@caffeine.tv$/,w="https://caf.tv/r/most-popular",C="caffeineLobbyDefaultTab",y="following",j="browse",O=2592e6,S=72e4,E=12e5,x="Anonymous",k="Authenticated",I="Send new code",T="Continue",F="twitter",P="facebook",N=20,M=4.816479936,L=/\/(sign-in|sign-up|forgot-password|join)$/,B="STAGE",A="ONLINE",D="OFFLINE",U="OUT_OF_CAPACITY",R="GOOD",H="broadcasterLostConnection",W=16/9,V=25,z=25,G=3e3,q=200,J=25,Z="#9696be",Y="#00ffff",Q="OFFLINE",K="ONLINE",X=5e3,$=1e3,ee="Loading",te="Watching",ne="Broadcasting",ae="Unclaimed",re="AutoplayDisallowed",ie="CriticalError",oe="OutOfCapacity",se="GeoRestriction",ce="NoInternetConnection",le="SEVENTEEN_PLUS",ue="EVERYONE",de="LIVE",_e="REPLAY",me="live",ge="replay",be=4,pe=343,fe=232,he=354,ve=261,we=352,Ce=280,ye=353,je=248,Oe=352,Se=261,Ee=352,xe=343,ke=12,Ie="isMobileDevice",Te="OutOfCapacityError",Fe="GeoRestrictionError",Pe=7,Ne="performanceBeginsWithVideo",Me="performanceEndsWithVideo",Le="twoFeedsToOneFeed",Be="oneFeedToTwoFeeds",Ae="optionalPrimaryFeedGainsVideo",De="optionalPrimaryFeedLosesVideo",Ue="dynamicRoleFeedGainsVideo",Re="dynamicRoleFeedLosesVideo",He="mention",We="text",Ve=1039,ze=1245,Ge=1451,qe=4e3,Je=0,Ze=3e4,Ye=3e3,Qe=7,Ke=80,Xe=781,$e=3e4,et=27e3,tt=1e3,nt=15,at=6e4,rt=1e3,it=512,ot="caffeineMediaPermissionsStatus",st="videoinput",ct="audioinput",lt="granted",ut="denied",dt="prompt",_t="granted",mt="denied",gt="default",bt="share-stage-popover",pt="caffeineStageVolume",ft=100,ht=8e3,vt=10,wt=5,Ct=2,yt=3,jt=.5,Ot=7,St=60,Et=1200,xt=760,kt=428,It="LIVE on Caffeine",Tt=new RegExp(/\[17\+\]/g),Ft="caffeineBroadcastNewUserExperienceWasDismissed",Pt="caffeineBroadcastHeadphoneConfirmationWasDismissed",Nt="caffeineFacebookPostPromptRequest",Mt="CAMERA",Lt="WEBRTC",Bt="HLS",At="hlsError",Dt="bufferStalledError",Ut="hlsFragBuffered",Rt="fujb25n3e1b8blh1d3fv5nrpa",Ht="vct4k4h5lc4jl9r3hg6r882o4",Wt="caffeinePostAuthenticationEvents",Vt=18e5,zt="caffeineAutoFollowDeepLinkUsername",Gt="caffeineAutoFollowDeepLinkTimestamp",qt=6048e5,Jt="https://www.facebook.com/dialog/share?app_id=278354532550167&display=popup",Zt="https://www.caffeine.tv",Yt="https://www.caffeine.tv/facebook-share-success.html",Qt="latest_branch_attribution",Kt="caffeine_latest_attribution",Xt="caftv_latest_attribution",$t="lobby",en="browse",tn="following",nn="stage",an="vod",rn="upcoming",on="broadcast",sn="hashtag",cn="profile",ln="settings",un="join",dn="sign_up",_n="sign_in",mn="carousel_previous",gn="carousel_next",bn="caffeine_experiment_group",pn=10,fn="https://api.caffeine.tv",hn="https://content-guide.caffeine.tv",vn=("".concat(fn,"/public"),"".concat(fn,"/v1")),wn="".concat(fn,"/v2"),Cn=("".concat(fn,"/v3"),"".concat(fn,"/v4"),"https://mercy.caffeine.tv"),yn="https://api.caffeine.tv/social",jn="".concat(yn,"/v1"),On="".concat(yn,"/v2"),Sn="".concat(yn,"/v5"),En="https://realtime.caffeine.tv/v2",xn="wss://realtime.caffeine.tv/v2",kn="wss://realtime.caffeine.tv/public/v2",In="https://realtime.caffeine.tv",Tn=("".concat("https://realtime.caffeine.tv","/v4"),"https://realtime.caffeine.tv/public/graphql/query"),Fn="wss://realtime.caffeine.tv/public/graphql/query",Pn="".concat(fn,"/social"),Nn="https://images.caffeine.tv",Mn="https://api-sam.caffeine.tv/thumb",Ln="https://api-sam.caffeine.tv/playhead",Bn="https://payments.caffeine.tv/store",An="https://payments.caffeine.tv/ppv",Dn="https://assets.caffeine.tv",Un="https://api.caffeine.tv/v1/feature-configuration",Rn="https://bouncer.caffeine.tv",Hn=(Object({NODE_ENV:"production",BUTTER_CMS_KEY:"0a8b547d13ac7c4cb166bac523ad9c65aa61eef2",GOOGLE_TAG_MANAGER_ID:"GTM-WRQXKGP"}).GETSTREAM_SDK_API_KEY,Object({NODE_ENV:"production",BUTTER_CMS_KEY:"0a8b547d13ac7c4cb166bac523ad9c65aa61eef2",GOOGLE_TAG_MANAGER_ID:"GTM-WRQXKGP"}).GETSTREAM_SDK_API_APP_ID,fn?fn.replace("api.",""):"https://caffeine.tv"),Wn=Object(i.c)()||Object(i.d)()?"v1":"devtest",Vn="".concat("https://events.caffeine.tv","/").concat(Wn),zn=Object(i.c)();zn||o("Metrics reports are disabled in this environment");var Gn=3,qn=250,Jn=5e3,Zn=1e3,Yn="An unknown error occurred, please try again.",Qn="Unauthorized",Kn=2e4,Xn="rtcdn.caffeine.tv",$n="v2.16.20",ea="web";window.caffeineClientVersion=$n.replace(/v/,"");var ta="America/Los_Angeles",na="error",aa="6LfjaW8eAAAAAMhKu4dpUTQR2q91CEGd-S8gHrHy",ra="handleReCaptchaResult",ia="/defaults/avatar-001.png",oa="6zavcg6b",sa=r()(),ca=r()(),la="pk_live_rG5EVD6A8kvT9TCfrfeXQcAW",ua="There was a problem with your credit card. Please recheck your information.",da=255,_a=99,ma=40,ga=6e4,ba=Object(i.c)()?"https://www.caffeine.tv/settings/cash-out-setup-complete":"https://".concat(window.location.host,"/settings/cash-out-setup-complete"),pa=location.search&&location.search.includes("crawler-mode=true"),fa=pa&&location.search&&location.search.includes("permanently-store-crawler-render=true"),ha=pa&&location.search&&location.search.includes("bst="),va=(location.search||"").replace("&crawler-mode=true","").replace("&permanently-store-crawler-render=true",""),wa="https://www.caffeine.tv".concat(location.pathname).concat(va),Ca=(-1!==location.search.search(/\?enable-new-broadcast-service=true/i)||Object(i.d)(),"deleted"),ya=(new Set(["enabled","test"]),[{label:"Harassment/trolling",value:"HARASSMENT_OR_TROLLING"},{label:"Inappropriate content",value:"INAPPROPRIATE_CONTENT"},{label:"Violence/self-harm",value:"VIOLENCE_OR_SELF_HARM"},{label:"Spam",value:"SPAM"},{label:"Other",value:"OTHER"}]),ja=[{label:"Harassment/Trolling",value:"HARASSMENT_OR_TROLLING"},{label:"Inappropriate content",value:"INAPPROPRIATE_CONTENT"},{label:"Violence/Self-harm",value:"VIOLENCE_OR_SELF_HARM"},{label:"Spam",value:"SPAM"},{label:"Hacking/Cheating",value:"HACKING_OR_CHEATING"},{label:"Other",value:"OTHER"}],Oa=[{label:"Harassment/Trolling",value:"HARASSMENT_OR_TROLLING"},{label:"Inappropriate content",value:"INAPPROPRIATE_CONTENT"},{label:"Violence/Self-harm",value:"VIOLENCE_OR_SELF_HARM"},{label:"Spam",value:"SPAM"},{label:"Hacking/Cheating",value:"HACKING_OR_CHEATING"},{label:"Other",value:"OTHER"}],Sa="user",Ea="show",xa="video",ka={Twitter:0,Facebook:1,Email:2,Link:3},Ia={BLUE_GRADIENT:["#0fd9c9","#04aecb","#1775f0"],PINK_GRADIENT:["#cf22e5","#d81d99","#c60945"],PURPLE_GRADIENT:["#4f40e2","#721fc2","#b5099f"],ORANGE_GRADIENT:["#ffc400","#f36c12","#f42f00"]},Ta="STAGE",Fa="VOD",Pa="LOBBY",Na="PROFILE",Ma="HASHTAG",La="WEB",Ba="desktop",Aa="mobile",Da={LOBBY_PAGE:"lobby",DETAIL_PAGE:"detail_page",FPG_PAGE:"fpg",SETTINGS:"settings",STAGE:"stage",VOD:"vod"},Ua={ACTIVITY:"activity",CATEGORY_CARD:"category_card",CREATOR_CARD:"creator",FOLLOWER_LIST:"follower_list",FOLLOWING_LIST:"following_list",FPG:"fpg",LIVE_CARD:"live_card",OFFLINE_ANCHOR:"offline_anchor",PROMO_CARD:"promo_card",SEARCH:"search",STAGE_CHAT:"stage_chat",STAGE_PROFILE:"stage_profile",UPCOMING_CARD:"upcoming_card",AUTHENTICATION_MODAL:"authentication_modal"},Ra={AUTHENTICATION_MENU_LANDING:"landing",AUTHENTICATION_SIGN_UP:"sign_up",AUTHENTICATION_SIGN_IN:"sign_in",AUTHENTICATION_VERIFY_EMAIL:"web_verify",AUTHENTICATION_FACEBOOK:"fb_auth",AUTHENTICATION_TWITTER:"twitter_auth",AUTHENTICATION_COMPLETE_REGISTRATION:"complete_registration",COMPLETE_LOGIN:"complete_login"},Ha="ppv_paywall",Wa="link_account_matching_email",Va="link_account_no_matching_email",za="link_account_inactive",Ga="link_account_already_linked",qa="link_account_verify_email",Ja="link_account_success",Za="link_account_failure",Ya="stage_share_button_clicked",Qa="upcoming_share_button_clicked",Ka="give_icon_clicked",Xa="video_prop_clicked",$a="click_like",er="click_like_comment",tr="click_comment",nr="click_give",ar="click_follow",rr="click_comment_section",ir=350,or=2e3,sr=200,cr=300,lr=16,ur=3e5,dr="urltv",_r={LIKE:"like",GIVE:"give",TIMEOUT:"timeout",AFTER_SIGN_IN_TIMEOUT:"after_sign_in_timeout",FOLLOW:"follow",COMMENT:"comment",COMMENT_SCROLL:"comment_scroll",REPLY:"reply",SCROLL:"scroll",FOLLOWER_FOLLOWING_METADATA:"follower_following_metadata",STAGE_REACT:"stage_react",STAGE_UPVOTE:"stage_upvote",STAGE_PROP:"stage_prop"},mr={DEFAULT:"Watch live now and join the conversation. All free on Caffeine",TIMEOUT:"Download the free app for the full experience",AUTH_TIMEOUT:"Join Caffeine to keep watching and know when @creatorusername goes live",SCROLL:"Watch ad-free on the Caffeine app",FOLLOWER_FOLLOWING_METADATA:"See who @creatorusername is connected to on the Caffeine app.",FOLLOW:"Follow @creatorusername on the Caffeine app to be notified when they go live.",COMMENT:"Support @creatorusername and join the conversation.",STAGE_UPVOTE:"Upvote comments to show support. Free on the Caffeine app.",STAGE_PROP:"Support @creatorusername by sending props. Only available in the app."},gr="https://www.caffeine.tv"},"./src/pieces/base/core.types.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"c",function(){return _});var a,r,i,o,s,c,l,u,d,_;n("./node_modules/bows/bows.js")("Core.types");!function(e){e.Online="ONLINE",e.Offline="OFFLINE"}(a||(a={})),function(e){e.BroadcastNotFound="BroadcastNotFound",e.BroadcastOutOfCapacity="OutOfCapacity",e.Error="Error",e.Loading="Loading",e.Playing="Playing"}(r||(r={})),function(e){e.Audio="AUDIO",e.Video="VIDEO"}(i||(i={})),function(e){e.TopRight="TopRight"}(o||(o={})),function(e){e.Primary="PRIMARY",e.Secondary="SECONDARY"}(s||(s={})),function(e){e.LiveHosting="LiveHosting"}(c||(c={})),function(e){e.OutOfCapacityError="OutOfCapacityError"}(l||(l={})),function(e){e.Good="Good",e.Poor="Poor"}(u||(u={})),function(e){e.Adjustment="Adjustment",e.Bundle="Bundle",e.SendDigitalItem="SendDigitalItem",e.ReceiveDigitalItem="ReceiveDigitalItem",e.CashOut="CashOut"}(d||(d={})),function(e){e.Payable="Payable",e.NotPayable="NotPayable",e.Loading="Loading",e.Select="Select",e.Confirm="Confirm",e.Submitted="Submitted"}(_||(_={}))},"./src/pieces/base/create-deep-link-url.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return r});n("./node_modules/@babel/runtime/helpers/defineProperty.js"),n("./src/pieces/base/create-social-share-image-url.ts");n("./node_modules/bows/bows.js")("Create-deep-link-url");t.a=function(e){return navigator.userAgent.match(/iPhone|iPad/i)?"https://apps.apple.com/us/app/caffeine-live-streaming/id1170629931":"https://play.google.com/store/apps/details?id=tv.caffeine.app&hl=en_US&pli=1"};var a=function(e,t){return"https://caf.tv/".concat(e,"?referral_username=").concat(t)},r=function(e){var t=e.entertainerUsername,n=e.isLive;return e.isOwnStage?"Watch my show on Caffeine!":n?"Watch @\u200b".concat(t," now with me on Caffeine!"):"Check out @\u200b".concat(t," on Caffeine!")}},"./src/pieces/base/create-deep-link.ts":function(e,t,n){"use strict";n("./node_modules/@babel/runtime/helpers/defineProperty.js"),n("./src/pieces/base/create-social-share-image-url.ts");n("./node_modules/bows/bows.js")("Create-deep-link");t.a=function(e){return navigator.userAgent.match(/iPhone|iPad/i)?"https://apps.apple.com/us/app/caffeine-live-streaming/id1170629931":"https://play.google.com/store/apps/details?id=tv.caffeine.app&hl=en_US&pli=1"}},"./src/pieces/base/create-image-url.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var a=n("./src/pieces/base/constants.js"),r=(n("./node_modules/bows/bows.js")("Create-image-url"),function(e){return Array.isArray(e)?e.join(","):String(e)}),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length?"?".concat(Object.keys(e).map(function(t){return"".concat(t,"=").concat(r(e[t]))}).join("&")):""},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=encodeURI(e).replace(/\(/g,"%28").replace(/\)/g,"%29");return"".concat(a.f).concat(n).concat(i(t))},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=encodeURI(e).replace(/\(/g,"%28").replace(/\)/g,"%29");return"".concat(a.Se).concat(n).concat(i(t))};t.c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({format:"pjpg"},t);return"".concat(a.Eb).concat(e).concat(i(n))}},"./src/pieces/base/create-social-share-image-url.ts":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./src/pieces/base/create-image-url.js");n("./node_modules/bows/bows.js")("Create-social-share-image-url");t.a=function(e,t){return Object(i.c)(e,r()({auto:"webp",fit:"crop",width:1200,height:630,enable:"upscale"},t,!0))}},"./src/pieces/base/creator-lockup.scss":function(e,t,n){e.exports={creatorLockupWrapper:"creator-lockup__creatorLockupWrapper___ulf_m",userSnippetLinkContainer:"creator-lockup__userSnippetLinkContainer___1MKgd",followedUserSnippetLinkContainer:"creator-lockup__followedUserSnippetLinkContainer___2vSVr creator-lockup__userSnippetLinkContainer___1MKgd",linkWrapper:"creator-lockup__linkWrapper___pQ3pM",medium:"creator-lockup__medium___2pzfH",PARTNER3:"creator-lockup__PARTNER3___3edgM",PARTNER2:"creator-lockup__PARTNER2___2pgme",PARTNER1:"creator-lockup__PARTNER1___1EFJw",CASTER:"creator-lockup__CASTER___H2pce",VERIFIED:"creator-lockup__VERIFIED___1Hq-r"}},"./src/pieces/base/creator-lockup.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n.n(s),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/recompose/dist/Recompose.esm.js"),d=n("./node_modules/reselect/lib/index.js"),_=n("./src/pieces/users/users.reducer.js"),m=n("./src/pieces/base/constants.js"),g=n("./src/pieces/base/follow-affordance.tsx"),b=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),p=n.n(b),f=n("./node_modules/classnames/index.js"),h=n.n(f),v=n("./src/pieces/base/badge.tsx"),w=n("./src/pieces/base/user-snippet-content.scss"),C=n.n(w),y=(n("./node_modules/bows/bows.js")("User-snippet-content"),function(e){var t,n,a,r,i=e.user,o=e.size,l=void 0===o?"large":o,u=e.topPerformer,d=void 0!==u&&u,_=e.onUsernameClickedHandler,m=e.isFullWidth,g=(e.dudleyComponentName,Object(s.useRef)(null));return c.a.createElement("div",{className:h()((t={},p()(t,C.a.userSnippet,!0),p()(t,C.a[l],l),p()(t,C.a.isFullWidth,m),t))},c.a.createElement("div",{className:h()((n={},p()(n,C.a.usernameContainer,!0),p()(n,C.a["".concat(i.badge)],i.badge),n))},c.a.createElement("div",{ref:g,className:h()((a={},p()(a,C.a.username,!0),p()(a,C.a.isClickable,_),a)),onClick:_},i.username)),c.a.createElement("div",{className:h()((r={},p()(r,C.a.badge,!0),p()(r,C.a.badgeTopPerformer,d),r))},c.a.createElement(v.a,{badge:i.badge})))}),j=n("./src/pieces/base/creator-lockup.scss"),O=n.n(j),S=(n("./node_modules/bows/bows.js")("Creator-lockup"),Object(u.a)(Object(l.b)(Object(d.createStructuredSelector)({followedUserCaids:_.selectFollowedUserCaids}),{})));t.a=S(function(e){var t=e.linkToProfileInNewTab,n=e.afterBodyClickHandler,a=e.darkTheme,i=e.user,l=e.followedUserCaids,u=e.afterFollowHandler,d=(e.size,e.followAffordanceWrapperClassName),_=e.parentComponent,b=t?{target:"_blank"}:{},p=Object(s.useCallback)(function(e){e.stopPropagation(),n&&n(e)},[n]),f=Object(s.useMemo)(function(){return l.includes(i.caid)},[l,i.caid]),h=Object(s.useState)(f),v=o()(h,2),w=v[0],C=v[1];return Object(s.useEffect)(function(){var e;return f?e=setTimeout(function(){return C(!0)},m.vb/2):C(!1),function(){e&&clearTimeout(e)}},[f]),c.a.createElement("div",{className:O.a.creatorLockupWrapper},c.a.createElement("a",r()({className:O.a.linkWrapper,href:"/".concat(i.username,"/profile")},b,{rel:"noopener noreferrer",onClick:p}),c.a.createElement("div",{className:w?O.a.followedUserSnippetLinkContainer:O.a.userSnippetLinkContainer},c.a.createElement(y,e)),c.a.createElement("div",{className:d},c.a.createElement(g.a,{darkTheme:a,afterFollowHandler:u,size:"medium",user:i,avatarSize:"large",parentComponent:_||"lobbyCard"}))))})},"./src/pieces/base/date-time-helpers.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});n("./node_modules/bows/bows.js")("Date-time-helpers");var a=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]},r=function(e){if(e){var t=e.split(",")[1],n=t&&t.split(":")[0].trim(),a=t&&t.split(":")[1],r=t&&t.split(" ")[2]&&t.split(" ")[2][0],i=r&&r.toLowerCase(),o=n;return"00"!==a&&(o+=":".concat(a)),"".concat(o).concat(i)}return""},i=function(e){var t=new Date(e).toLocaleString("en-US",{timeZone:"America/New_York"}),n=new Date(e).toLocaleString("en-US",{timeZone:"America/Los_Angeles"}),i=new Date(t).getDay(),o=a(i),s=t.split(",")[0],c=s.split("/")[0]+"/"+s.split("/")[1],l=r(t),u=r(n);return"".concat(o," ").concat(c," @ ").concat(l," ET/").concat(u," PT")},o=function(e){var t=new Date(e).getTime(),n=(new Date).getTime();if(t>n&&t-n>6048e5)return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric"}).replace(",","").replace(" PM","PM");var i=new Date(t).toLocaleString("en-US"),o=new Date(i).getDay(),s=a(o),c=r(i);return"".concat(s.slice(0,3)," ").concat(c,"M")},s=function(e,t){var n=Date.now()-new Date(e).getTime(),a={year:"numeric",month:"long",day:"numeric"};if(Intl&&Intl.RelativeTimeFormat){var r=new Intl.RelativeTimeFormat(t,{numeric:"auto",style:"long"});return n<6e4?r.format(-Math.floor(n/1e3),"second"):n<36e5?r.format(-Math.floor(n/6e4),"minute"):n<864e5?r.format(-Math.floor(n/36e5),"hour"):n<2592e6?r.format(-Math.floor(n/864e5),"day"):new Date(e).toLocaleDateString(t,a)}return new Date(e).toLocaleDateString(t,a)}},"./src/pieces/base/error-reporting.js":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/raven-js/src/singleton.js"),o=n.n(i),s=n("./src/pieces/base/constants.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Error-reporting");function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";console.error("Reporting error: ".concat(n||e.message,"."),e,t),o.a.captureException(e,l({},t.fingerprint?{fingerprint:t.fingerprint}:{},{level:t.level||s.eb,tags:t.tags||{},extra:l({},t,{browserIsOnline:navigator.onLine})}))}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.error("Reporting error: ".concat(e,"."),t),o.a.captureMessage(e,l({},t.fingerprint?{fingerprint:t.fingerprint}:{},{level:t.level||s.eb,tags:t.tags||{},extra:l({},t,{browserIsOnline:navigator.onLine})}))}},"./src/pieces/base/error/system-error.scss":function(e,t,n){e.exports={redesign_errorContainer:"system-error__redesign_errorContainer___8SqIg",redesign_errorContainerDarkTheme:"system-error__redesign_errorContainerDarkTheme___2hT3A system-error__redesign_errorContainer___8SqIg",redesign_errorTitle:"system-error__redesign_errorTitle___3RwLS",redesign_errorMessage:"system-error__redesign_errorMessage___3XCZp",redesign_buttonDarkMode:"system-error__redesign_buttonDarkMode___2t7l7 buttons__redesign_highlightedButtonWithHoverEffect___GMSLO buttons__redesign_button___ZSYNe",redesign_buttonLightMode:"system-error__redesign_buttonLightMode___2YLHo system-error__redesign_buttonDarkMode___2t7l7 buttons__redesign_highlightedButtonWithHoverEffect___GMSLO buttons__redesign_button___ZSYNe"}},"./src/pieces/base/feature-detection/is-android.js":function(e,t,n){"use strict";n("./node_modules/bows/bows.js")("Is-android");var a=/Android/i.test(window.navigator.userAgent);t.a=a},"./src/pieces/base/follow-affordance.scss":function(e,t,n){e.exports={followAffordance:"follow-affordance__followAffordance___1Zd0K",standAlone:"follow-affordance__standAlone___2Q-lq follow-affordance__followAffordance___1Zd0K",veryLarge:"follow-affordance__veryLarge___3hotF",notDisplayAsFollowing:"follow-affordance__notDisplayAsFollowing___3OY24",profileStart:"follow-affordance__profileStart___3Jnww",followAnimation:"follow-affordance__followAnimation___H6zqx",followingTextInStandAlone:"follow-affordance__followingTextInStandAlone___4nlMf",shrinkingText:"follow-affordance__shrinkingText___21L0Q",anchorCardBackingPlate:"follow-affordance__anchorCardBackingPlate___3kx98",blueAnchorGradient:"follow-affordance__blueAnchorGradient___2E8ZA follow-affordance__anchorCardBackingPlate___3kx98",pinkAnchorGradient:"follow-affordance__pinkAnchorGradient___rKDyV follow-affordance__anchorCardBackingPlate___3kx98",purpleAnchorGradient:"follow-affordance__purpleAnchorGradient___1F7TR follow-affordance__anchorCardBackingPlate___3kx98",orangeAnchorGradient:"follow-affordance__orangeAnchorGradient___ogEAB follow-affordance__anchorCardBackingPlate___3kx98",duringAnimation:"follow-affordance__duringAnimation___32RWp",eventCard:"follow-affordance__eventCard___2eEJz",followBtnContainer:"follow-affordance__followBtnContainer___3AuC0",shadowPlate:"follow-affordance__shadowPlate___nAjQE follow-affordance__followBtnContainer___3AuC0",medium:"follow-affordance__medium___2ZBab",followText:"follow-affordance__followText___1JLbC",following:"follow-affordance__following___Jy5IC",avatarContainer:"follow-affordance__avatarContainer___1x0Fc",animatedAvatarContainer:"follow-affordance__animatedAvatarContainer___2DTjL follow-affordance__avatarContainer___1x0Fc",followBadge:"follow-affordance__followBadge___3evPJ",hideText:"follow-affordance__hideText___350XT",tabTransitionAvatarContainer:"follow-affordance__tabTransitionAvatarContainer___30-e8",followBtnContainerTransition:"follow-affordance__followBtnContainerTransition___2bw1Y follow-affordance__followBtnContainer___3AuC0",followingTextInAnimatedAnchorCard:"follow-affordance__followingTextInAnimatedAnchorCard___1kCtV follow-affordance__followingTextInStandAlone___4nlMf",reactionsAnimation:"follow-affordance__reactionsAnimation___3ZJwH",unclickable:"follow-affordance__unclickable___28abV"}},"./src/pieces/base/follow-affordance.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n.n(s),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./node_modules/react-redux/es/index.js"),_=n("./node_modules/recompose/dist/Recompose.esm.js"),m=n("./node_modules/reselect/lib/index.js"),g=n("./node_modules/react-router-redux/lib/index.js"),b=n("./node_modules/framer-motion/dist/framer-motion.es.js"),p=n("./src/pieces/base/constants.js"),f=n("./src/pieces/base/avatar.tsx"),h=n("./src/pieces/users/follow-button.tsx"),v=n("./src/pieces/users/follow-star.tsx"),w=n("./src/pieces/authentication/authentication-guard.tsx"),C=n("./src/pieces/users/users.reducer.js"),y=n("./src/pieces/current-user/current-user.reducer.js"),j=n("./src/pieces/authentication/authentication.reducer.js"),O=n("./src/pieces/stage/stage.reducer.js"),S=n("./src/pieces/stage/stage.types.ts"),E=n("./src/pieces/base/follow-affordance.scss"),x=n.n(E),k=(n("./node_modules/bows/bows.js")("Follow-affordance"),{expand:{width:325,opacity:1,height:[96,96]},shrink:{width:80,opacity:0}}),I={expand:{width:271,backgroundColor:"#ffffff"},shrink:{width:271,backgroundColor:"rgba(255, 255, 255, 0.2)"},unfollow:{width:[271,215],background:"rgba(255, 255, 255, 0.2)"},profileNotFollow:{width:215,opacity:1},profileFollow:{width:271,opacity:1,left:0},reactionsNotFollow:{width:86},reactionsFollow:{width:88,opacity:0,left:102}},T={expand:{width:158,opacity:1,height:[44,44]},shrink:{width:44,opacity:0}},F={stage:{expand:{opacity:0}},lobbyCard:{expand:{right:0,opacity:0}},eventCard:{expand:{right:0,opacity:0}}},P={profileNotFollow:{opacity:0},profileFollow:{opacity:0},reactionsNotFollow:{opacity:1},reactionsFollow:{opacity:1}},N={shrink:{opacity:1,scale:1}},M={expand:{opacity:1,lineHeight:"64px"},shrink:{opacity:0,lineHeight:"44px"}},L={reactionsNotFollow:{opacity:0}},B={type:"spring",mass:1,stiffness:500,damping:45},A={duration:p.Ye/1e3},D={blueAnchorGradient:"#5dbcd2",pinkAnchorGradient:"#d8458e",purpleAnchorGradient:"#a944c0",orangeAnchorGradient:"#f56f47"},U={blueAnchorGradient:"#1b68a2",pinkAnchorGradient:"#95144a",purpleAnchorGradient:"#70127e",orangeAnchorGradient:"#b23200"},R=Object(_.a)(Object(d.b)(Object(m.createStructuredSelector)({followingUsers:C.selectFollowedUserCaids,currentUserCaid:y.selectCurrentUserId,isAuthenticated:j.selectIsAuthenticated}),{FollowUser:C.FollowUser,ShowUnfollowUserDialog:C.ShowUnfollowUserDialog,SetIsFollowAnimationOn:O.SetIsFollowAnimationOn,ResetIsFollowAnimationOn:O.ResetIsFollowAnimationOn,PushRoute:g.push}));t.a=R(function(e){var t=e.followingUsers,n=e.user,a=e.afterFollowHandler,i=e.afterUnfollowHandler,l=e.size,d=e.darkTheme,_=e.avatarSize,m=e.parentComponent,g=e.PushRoute,C=e.currentUserCaid,y=e.isAuthenticated,j=e.anchorCardGradient,O=e.showAvatar,E=void 0===O||O,R=e.stageTabTransition,H=(e.dudleyComponentName,e.avatarClickHandler),W=e.FollowUser,V=e.ShowUnfollowUserDialog,z=e.SetIsFollowAnimationOn,G=e.ResetIsFollowAnimationOn,q=Object(s.useMemo)(function(){return j?function(e){return{expand:{width:224,background:[D[e],"#ffffff"],height:72},shrink:{width:48,height:48,borderWidth:1,bottom:76,right:24,background:U[e],borderColor:U[e],paddingLeft:11}}}(j):"lobbyCard"===m||"eventCard"===m?T:E?k:I},[j,m,E]),J=Object(s.useMemo)(function(){return t.includes(n.caid)},[t,n.caid]),Z=Object(s.useState)(""),Y=o()(Z,2),Q=Y[0],K=Y[1],X=Object(s.useState)(null),$=o()(X,2),ee=$[0],te=$[1],ne=Object(s.useState)(J),ae=o()(ne,2),re=ae[0],ie=ae[1],oe=Object(s.useState)(!1),se=o()(oe,2),ce=se[0],le=se[1],ue=Object(s.useRef)(),de=Object(s.useRef)(),_e=Object(s.useRef)(),me=Object(s.useRef)(),ge=Object(s.useMemo)(function(){return j?!J||Q&&"shrink"!==Q?"large":"small":"veryLarge"===l?"veryLarge":"small"},[l,J,Q,j]),be=Object(s.useMemo)(function(){if("stage"===m){if(ce&&!Q)return"hoverHighlight";if("shrink"===Q)return"shrinkWhite"}else if("expand"===Q&&j)return j},[m,Q,ce,j]),pe=Object(s.useCallback)(function(e){e.persist(),K("expand"),te(e),z();var t="stage"!==m||E?p.ub+p.vb:2*p.ub;ue.current=setTimeout(function(){te(null),K("shrink"),a&&a(e),de.current=setTimeout(function(){K(""),ie(J),G()},p.ub)},t)},[z,a,G]),fe=Object(s.useCallback)(function(e){e.persist(),i&&i(e),te(e),z()},[i,z]),he=Object(s.useCallback)(function(e){e.persist(),e.preventDefault(),y&&!Q&&(e.stopPropagation(),J?(V(n.caid),fe(e)):(W(n.caid),pe(e)))},[y,Q,J,n.caid,V,fe,W,pe]),ve=Object(s.useCallback)(function(){le(!0)},[le]),we=Object(s.useCallback)(function(){le(!1)},[le]),Ce=Object(s.useCallback)(function(e){e.preventDefault(),e.stopPropagation()},[]),ye=Object(s.useCallback)(function(){return g("/".concat(n.username))},[g,n.username]);Object(s.useEffect)(function(){!J&&ee&&(ue.current&&"expand"===Q&&(clearTimeout(ue.current),K(""),te(null),G(),ie(!1)),Q||(K("unfollow"),te(null),_e.current=setTimeout(function(){K(""),G(),ie(!1)},p.Ye)))},[J,ee,Q,K,te,ie,G]),Object(s.useEffect)(function(){Q||ie(J),le(!1)},[J,Q,le,ie]),Object(s.useEffect)(function(){if("stage"===m&&R){z();var e=R===S.a.Reactions?J?"reactionsFollow":"reactionsNotFollow":J?"profileFollow":"profileNotFollow";K(e),me.current=setTimeout(function(){K(""),G()},p.cd)}},[R,m,z,G]),Object(s.useEffect)(function(){return function(){ue.current&&clearTimeout(ue.current),de.current&&clearTimeout(de.current),_e.current&&clearTimeout(_e.current),me.current&&clearTimeout(me.current)}},[]);var je,Oe,Se,Ee,xe,ke,Ie,Te,Fe="true"===localStorage.getItem(p.Fb);return n.caid!==C&&j?Q?c.a.createElement(b.b.div,{onClick:Ce,animate:Q,variants:q,transition:B,className:u()((je={},r()(je,x.a.followAnimation,"expand"===Q||"shrink"===Q),r()(je,x.a.standAlone,!0),r()(je,x.a[l],l),r()(je,x.a.notDisplayAsFollowing,!re&&"unfollow"!==Q),r()(je,x.a[j],j),je))},c.a.createElement(h.a,{caid:n.caid,darkTheme:"shrink"===Q,afterFollowHandler:pe,size:ge,afterUnfollowHandler:fe,insideFollowAffordance:J?"anchorCardFollowed":"anchorCard",allowUnfollow:!1,starColor:be}),c.a.createElement(b.b.div,{animate:Q,variants:M,transition:B,className:x.a.followingTextInAnimatedAnchorCard},"following")):c.a.createElement(w.a,null,c.a.createElement("div",{onClick:J?ye:he,className:u()((Oe={},r()(Oe,x.a.standAlone,!0),r()(Oe,x.a[l],l),r()(Oe,x.a.notDisplayAsFollowing,!re),r()(Oe,x.a[j],j),Oe))},c.a.createElement(h.a,{caid:n.caid,darkTheme:!Q,afterFollowHandler:pe,size:ge,afterUnfollowHandler:fe,insideFollowAffordance:J?"anchorCardFollowed":"anchorCard",allowUnfollow:!1,onClickHandler:J?ye:void 0,starColor:be}))):E?c.a.createElement("div",{className:u()((Se={},r()(Se,x.a.followAffordance,!0),r()(Se,x.a.duringAnimation,Q),r()(Se,x.a[l],l),r()(Se,x.a.eventCard,"eventCard"===m),Se))},n.caid!==C&&!re&&c.a.createElement("div",{className:u()(r()({},x.a.unclickable,Fe))},Q||R===S.a.Reactions?c.a.createElement(c.a.Fragment,null,c.a.createElement(b.b.div,{initial:{width:"veryLarge"===l?180:38},animate:Q,variants:q,transition:B,className:u()((Ee={},r()(Ee,x.a.followBtnContainer,!0),r()(Ee,x.a.following,Q),Ee)),onClick:Ce},c.a.createElement(h.a,{caid:n.caid,darkTheme:!Q&&d,afterFollowHandler:pe,size:"veryLarge"===l?"veryLarge":"small",allowUnfollow:!1,insideFollowAffordance:"stage"===m?"stageFollowingAnimation":"lobbyCardFollowAffordance"}),c.a.createElement("div",{className:x.a.followText},"following")),("expand"===Q||"reactionsNotFollow"===Q&&!R)&&c.a.createElement(b.b.div,{initial:{right:"veryLarge"===l?104:48,opacity:"reactionsNotFollow"===Q?1:void 0},animate:Q,variants:F[m],transition:B,className:x.a.shadowPlate},c.a.createElement(v.a,{size:"veryLarge"===l?"large":"medium",type:"shadowStar"}))):n.caid!==C&&c.a.createElement("div",{className:R?x.a.followBtnContainerTransition:x.a.followBtnContainer,onClick:he,onMouseOver:ve,onMouseLeave:we},c.a.createElement(h.a,{caid:n.caid,darkTheme:d,afterFollowHandler:pe,size:"veryLarge"===l?"veryLarge":"small",insideFollowAffordance:"stage"===m?"stageFollowAffordance":"lobbyCardFollowAffordance",starColor:"veryLarge"===l&&ce?"hoverHighlight":void 0}))),c.a.createElement(b.b.div,{animate:Q,variants:P,transition:B,onClick:H,className:u()((xe={},r()(xe,x.a.avatarContainer,!Q),r()(xe,x.a.animatedAvatarContainer,Q&&!R),r()(xe,x.a.tabTransitionAvatarContainer,R),xe))},c.a.createElement(f.a,{user:n,size:_}),(re||"shrink"===Q)&&c.a.createElement(b.b.div,{initial:{opacity:re?1:0,scale:"shrink"===Q?0:1},animate:Q,variants:N,transition:B,className:x.a.followBadge,onClick:Q?void 0:ye},c.a.createElement(v.a,{size:"veryLarge"===l?"medium":"small",type:"badgeStar"})))):n.caid!==C?c.a.createElement("div",{className:u()(r()({},x.a.unclickable,Fe))},c.a.createElement(w.a,null,Q||R?c.a.createElement(b.b.div,{onClick:Ce,animate:Q,variants:q,transition:"unfollow"===Q?A:B,className:u()((ke={},r()(ke,x.a.standAlone,!0),r()(ke,x.a.followAnimation,"expand"===Q||"shrink"===Q),r()(ke,x.a[l],l),r()(ke,x.a.notDisplayAsFollowing,!re&&"unfollow"!==Q),r()(ke,x.a.expanding,"expand"===Q),r()(ke,x.a.profileStart,R===S.a.Profile),r()(ke,x.a.reactionsAnimation,R===S.a.Reactions),ke))},c.a.createElement(h.a,{caid:n.caid,darkTheme:!!Q&&"expand"!==Q||!!R,afterFollowHandler:pe,size:ge,afterUnfollowHandler:fe,insideFollowAffordance:"stageStandAlone",allowUnfollow:!1,starColor:be}),c.a.createElement(b.b.div,{animate:Q,variants:L,transition:B,className:u()((Ie={},r()(Ie,x.a.followingTextInStandAlone,!0),r()(Ie,x.a.shrinkingText,"shrink"===Q),Ie))},"unfollow"===Q||!re&&"expand"!==Q&&"shrink"!==Q?"follow":"following")):c.a.createElement("div",{onClick:he,onMouseOver:ve,onMouseLeave:we,className:u()((Te={},r()(Te,x.a.standAlone,!0),r()(Te,x.a[l],l),r()(Te,x.a.notDisplayAsFollowing,!re),Te))},c.a.createElement(h.a,{caid:n.caid,darkTheme:!0,afterFollowHandler:pe,size:ge,afterUnfollowHandler:fe,insideFollowAffordance:"stageStandAlone",allowUnfollow:!0,starColor:be}),c.a.createElement("div",{className:x.a.followingTextInStandAlone},re?"following":"follow")))):null})},"./src/pieces/base/forms/catalog.scss":function(e,t,n){e.exports={listWrapper:"catalog__listWrapper___7oUfk",scrollableArea:"catalog__scrollableArea___2qY6v",errorWrapper:"catalog__errorWrapper___1Dt5i",elementWrapper:"catalog__elementWrapper___24LrO",disabled:"catalog__disabled___11m_P",thumbnailWrapper:"catalog__thumbnailWrapper___1AJIX",thumbnail:"catalog__thumbnail___1Baie",elementDetails:"catalog__elementDetails___2i1yP",toggleWrapper:"catalog__toggleWrapper___2RGeC",subtitlesWrapper:"catalog__subtitlesWrapper___EH4tO",ratingLabelWrapper:"catalog__ratingLabelWrapper___1e5iM",title:"catalog__title___3KJU3",deleteButtonWrapper:"catalog__deleteButtonWrapper___1edEg",enabled:"catalog__enabled___3htbE",deleteButton:"catalog__deleteButton___101u6"}},"./src/pieces/base/forms/checkbox-field.js":function(e,t,n){"use strict";(function(e,a){var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),o=n("./node_modules/recompose/dist/Recompose.esm.js"),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./src/pieces/base/forms/forms.scss"),u=n.n(l),d=(n("./node_modules/bows/bows.js")("Checkbox-field"),Object(o.c)({className:e.string,input:e.shape({}),inputProps:e.object,name:e.string,inputClassName:e.string,hideLabel:e.bool,label:e.string,dudleyComponentName:e.string}));t.a=d(function(e){return a.createElement("label",{className:e.className},a.createElement("input",i()({},e.input,e.inputProps,{"aria-label":e.label,type:"checkbox",name:e.name,checked:!!e.input.value,className:c()(u.a.checkboxInput,e.inputClassName)})),!e.hideLabel&&e.label)})}).call(this,n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js"))},"./src/pieces/base/forms/checkbox-toggle.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/framer-motion/dist/framer-motion.es.js"),c=n("./src/pieces/base/forms/forms.scss"),l=n.n(c),u=n("./src/pieces/base/icons/icon.js"),d=(n("./node_modules/bows/bows.js")("Round-checkmark"),function(){return o.a.createElement(u.a,null,o.a.createElement("svg",{width:"24",height:"24",fillRule:"evenodd",clipRule:"evenodd"},o.a.createElement("path",{d:"M12 0c6.623 0 12 5.377 12 12s-5.377 12-12 12S0 18.623 0 12 5.377 0 12 0zm0 1c6.071 0 11 4.929 11 11s-4.929 11-11 11S1 18.071 1 12 5.929 1 12 1zm7 7.457l-9.005 9.565L5 12.157l.761-.649 4.271 5.016 8.24-8.752.728.685z"})))}),_=(n("./node_modules/bows/bows.js")("Round-unchecked-checkmark"),function(){return o.a.createElement(u.a,null,o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 1c6.065 0 11 4.935 11 11s-4.935 11-11 11S1 18.065 1 12 5.935 1 12 1zm0-1C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0z"})))}),m=(n("./node_modules/bows/bows.js")("Checkbox-toggle"),function(e){return e?"#646482":"#8B8BB6"});t.a=function(e){return o.a.createElement("label",{className:e.className},o.a.createElement("input",r()({},e.inputProps,{type:"checkbox",name:e.name,checked:!!e.value,onChange:e.onChange,className:l.a.redesign_checkboxToggleInput})),e.isCustomCheckbox?e.value?o.a.createElement(d,null):o.a.createElement(_,null):e.isCheckbox?o.a.createElement("svg",{width:19,height:18},o.a.createElement(s.b.g,{fill:m(e.lightTheme),animate:{fill:e.value?"#00ffff":m(e.lightTheme)},fillRule:"nonzero"},o.a.createElement("path",{d:"M16.5 0c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2h-14c-1.1 0-2-.9-2-2V2c0-1.1.9-2 2-2zm0 2h-14v14h14V2z"}),o.a.createElement(s.b.path,{animate:{scale:e.value?1:0},d:"M15.49 6l-1.41-1.42-6.59 6.59L4.91 8.6l-1.42 1.41 4 3.99z"}))):o.a.createElement("svg",{width:62,height:36,className:l.a.redesign_checkboxToggle},o.a.createElement(s.b.g,{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},o.a.createElement(s.b.rect,{animate:{stroke:e.value&&!e.lightTheme?"#00ffff":(t=e.value,n=e.lightTheme,t?m(n):n?"#B1B1C0":"#8B8BB6"),fill:e.value?e.lightTheme?m(e.lightTheme):"#00ffff":"rgba(0, 0, 0, 0)"},stroke:m(e.lightTheme),strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",fill:"#00ffff",width:56,height:30,rx:16}),o.a.createElement(s.b.rect,{animate:{fill:e.value?"#ffffff":m(e.lightTheme),stroke:e.value&&!e.lightTheme?"#222":"rgba(0, 0, 0, 0)",strokeWidth:e.value?2:0,width:e.value?25:24,height:e.value?25:24,x:e.value?29:3,y:e.value?2.5:3},transition:{type:"spring",stiffness:200,damping:20},fill:m(e.lightTheme),x:4,y:3,width:24,height:24,rx:12,stroke:"#00ffff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),o.a.createElement("div",{className:e.labelClassName},e.label));var t,n}},"./src/pieces/base/forms/create-form-actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("./node_modules/redux-form/es/SubmissionError.js"),r=n("./node_modules/redux-actions/es/createAction.js"),i=n("./node_modules/redux-form-saga/es/index.js"),o=(n("./node_modules/bows/bows.js")("Create-form-actions"),function(e){return e});function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=Object(r.a)("Submit ".concat(e),t),s=Object(r.a)("Report ".concat(e," Form Success"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e}),c=Object(r.a)("Report ".concat(e," Form Failure"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.a(e)});return{promiseFormSubmission:Object(i.a)(n,[s.toString(),c.toString()]),submit:n,succeed:s,fail:c}}},"./src/pieces/base/forms/forms.scss":function(e,t,n){e.exports={inputField:"forms__inputField___2NGVd",inputBase:"forms__inputBase___3O5UR",textInput:"forms__textInput___1Vogp forms__inputBase___3O5UR",textInputWithDarkTheme:"forms__textInputWithDarkTheme___3W9Q_ forms__textInput___1Vogp forms__inputBase___3O5UR",textareaField:"forms__textareaField___1lmOU",focused:"forms__focused___2xswr",textareaFieldWithDarkTheme:"forms__textareaFieldWithDarkTheme___3RrYg forms__textareaField___1lmOU",textareaInput:"forms__textareaInput___39pT2 forms__inputBase___3O5UR",textareaInputWithDarkTheme:"forms__textareaInputWithDarkTheme___3vgrU forms__textareaInput___39pT2 forms__inputBase___3O5UR",selectBox:"forms__selectBox___3_AEF",selectBoxInput:"forms__selectBoxInput___2_c06 forms__inputBase___3O5UR",selectBoxInputWithDarkTheme:"forms__selectBoxInputWithDarkTheme___1bU-6 forms__selectBoxInput___2_c06 forms__inputBase___3O5UR",checkboxInput:"forms__checkboxInput___OLL1K",checkboxToggleInput:"forms__checkboxToggleInput___zcRc6",checkboxToggle:"forms__checkboxToggle___32e3c",inputLabel:"forms__inputLabel___2SKFD",redesign_inputBase:"forms__redesign_inputBase___3tWUb",redesign_inputBaseHelper:"forms__redesign_inputBaseHelper___128q1",redesign_inputBaseDarkTheme:"forms__redesign_inputBaseDarkTheme___2hrxW",redesign_selectBox:"forms__redesign_selectBox___1VJmz",redesign_selectBoxInput:"forms__redesign_selectBoxInput___32JoA",redesign_selectBoxInputWithDarkTheme:"forms__redesign_selectBoxInputWithDarkTheme___3e8gU forms__redesign_selectBoxInput___32JoA",redesign_checkboxToggleInput:"forms__redesign_checkboxToggleInput___2jlyT",redesign_checkboxToggle:"forms__redesign_checkboxToggle___1td4x",redesign_dropdownArrow:"forms__redesign_dropdownArrow___1qhFa"}},"./src/pieces/base/forms/radio.scss":function(e,t,n){e.exports={radio:"radio__radio___1OJdo",radioButton:"radio__radioButton___2vllb",radioInput:"radio__radioInput___1sAbu",radioLabel:"radio__radioLabel___2FMHY"}},"./src/pieces/base/forms/slider.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./src/pieces/base/forms/slider.scss"),c=n.n(s),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=(n("./node_modules/bows/bows.js")("Slider"),function(){});t.a=function(e){var t=e.theme,n=void 0===t?"light":t,a=r()(e,["theme"]);return o.a.createElement("div",{className:c.a.slider,style:{"--value":a.value,"--maximum":a.max,"--minimum":a.min}},o.a.createElement("input",{type:"range",name:a.name,value:a.value,min:a.min,max:a.max,step:a.step||1,onChange:a.onChange,onMouseUp:a.onMouseUp||d,className:c.a.sliderInput}),o.a.createElement("div",{className:u()(c.a.sliderBaseBar,c.a[n])}),o.a.createElement("div",{className:u()(c.a.sliderFillBar,c.a[n])}),o.a.createElement("div",{className:u()(c.a.sliderThumb,c.a[n])}))}},"./src/pieces/base/forms/slider.scss":function(e,t,n){e.exports={slider:"slider__slider___1OJBq",sliderInput:"slider__sliderInput___1CiE4",sliderBaseBar:"slider__sliderBaseBar___1-sam",dark:"slider__dark___2pNsI",sliderFillBar:"slider__sliderFillBar___2VSLQ",sliderThumb:"slider__sliderThumb___3nKS2"}},"./src/pieces/base/forms/text-field.js":function(e,t,n){"use strict";(function(e,a){var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),o=n("./node_modules/recompose/dist/Recompose.esm.js"),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./src/pieces/base/forms/forms.scss"),u=n.n(l),d=n("./node_modules/react-number-format/dist/react-number-format.es.js"),_=(n("./node_modules/bows/bows.js")("Text-field"),Object(o.c)({className:e.string,label:e.string,meta:e.shape({touched:e.bool,error:e.oneOfType([e.string,e.object])}),children:e.element,input:e.object,inputProps:e.object,inputClassName:e.string,errorClassName:e.string,type:e.string,dudleyComponentName:e.string,dataPrivate:e.bool,patternFormat:e.string}));t.a=_(function(e){var t=e.className,n=e.label,r=e.meta,o=e.children,s=e.input,l=e.inputProps,_=e.inputClassName,m=e.errorClassName,g=e.darkTheme,b=e.type,p=void 0===b?"text":b,f=(e.dudleyComponentName,e.dataPrivate),h=e.patternFormat;return a.createElement("div",{className:c()(u.a.inputField,u.a.textField,t)},h?a.createElement(d.a,i()({},s,l,{format:h,type:p,placeholder:n,"aria-label":n,className:c()(g?u.a.textInputWithDarkTheme:u.a.textInput,_),"data-private":f})):a.createElement("input",i()({},s,l,{type:p,placeholder:n,"aria-label":n,className:c()(g?u.a.textInputWithDarkTheme:u.a.textInput,_),"data-private":f})),!r.pristine&&r.error?a.createElement("span",{className:m},r.error):o)})}).call(this,n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js"))},"./src/pieces/base/forms/textarea-field-resizable.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n("./node_modules/classnames/index.js"),l=n.n(c),u=n("./node_modules/recompose/dist/Recompose.esm.js"),d=n("./node_modules/react-autosize-textarea/lib/index.js"),_=n.n(d),m=n("./src/pieces/base/forms/forms.scss"),g=n.n(m);n("./node_modules/bows/bows.js")("Textarea-field-resizable");t.a=Object(u.a)(function(t){var n=t.className,a=t.meta,i=t.children,c=t.input,u=t.inputProps,d=t.inputClassName,m=t.label,b=(t.dudleyComponentName,t.darkTheme),p=Object(s.useState)(!1),f=o()(p,2),h=f[0],v=f[1];return e.createElement("div",{className:l()(g.a.inputField,b?g.a.textareaFieldWithDarkTheme:g.a.textareaField,h&&g.a.focused,n),onFocus:function(){return v(!0)},onBlur:function(){return v(!1)}},e.createElement(_.a,r()({},c,u,{placeholder:m,"aria-label":m,className:l()(b?g.a.textareaInputWithDarkTheme:g.a.textareaInput,d)})),a.touched&&a.error&&e.createElement("span",null,a.error),i)})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/base/forms/textarea-field.js":function(e,t,n){"use strict";(function(e,a){var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),s=n.n(o),c=n("./node_modules/recompose/dist/Recompose.esm.js"),l=n("./src/pieces/base/forms/forms.scss"),u=n.n(l),d=(n("./node_modules/bows/bows.js")("Textarea-field"),Object(c.a)(Object(c.c)({className:e.string,meta:e.shape({touched:e.bool,error:e.string}),children:e.element,input:e.object,inputProps:e.object,inputClassName:e.string,label:e.string,isFocused:e.bool,setFocused:e.func}),Object(c.e)("isFocused","setFocused")));t.a=d(function(e){var t=e.className,n=e.meta,r=e.children,o=e.input,c=e.inputProps,l=e.inputClassName,d=e.label,_=e.isFocused,m=e.setFocused,g=e.darkTheme;return a.createElement("div",{className:s()(u.a.inputField,g?u.a.textareaFieldWithDarkTheme:u.a.textareaField,_&&u.a.focused,t),onFocus:function(){return m(!0)},onBlur:function(){return m(!1)}},a.createElement("textarea",i()({},o,c,{placeholder:d,"aria-label":d,className:s()(g?u.a.textareaInputWithDarkTheme:u.a.textareaInput,l)})),n.touched&&n.error&&a.createElement("span",null,n.error),r)})}).call(this,n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js"))},"./src/pieces/base/icons/icon.js":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./src/pieces/base/icons/icon.scss"),o=n.n(i);n("./node_modules/bows/bows.js")("Icon");t.a=function(e){return r.a.createElement("div",{className:o.a.icon},e.children)}},"./src/pieces/base/icons/icon.scss":function(e,t,n){e.exports={icon:"icon__icon___X5P-k"}},"./src/pieces/base/icons/icon.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./src/pieces/base/icons/icon.scss"),u=n.n(l);n("./node_modules/bows/bows.js")("Icon");t.a=function(e){var t;return o.a.createElement("div",{className:c()((t={},r()(t,u.a.icon,!0),r()(t,e.className,e.className),t))},e.children)}},"./src/pieces/base/infinite-scroll/index.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n.n(s);n("./node_modules/bows/bows.js")("Index");t.a=function(e){var t=e.children,n=e.hasMore,a=e.loadMore,i=e.loadingComponent,l=Object(s.useRef)(),u=Object(s.useRef)(null),d=function(){u.current&&(l.current=new IntersectionObserver(function(e){return function(){var t=o()(r.a.mark(function t(n,i){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n[0].isIntersecting||!e){t.next=4;break}return t.next=4,a();case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}(n),{root:null,rootMargin:"0px",threshold:1}),l.current.observe(u.current))};return Object(s.useEffect)(function(){return n&&"undefined"!==typeof window&&d(),function(){l.current&&l.current.disconnect()}},[n,a]),c.a.createElement("div",{style:{position:"relative"}},t,n&&i,c.a.createElement("div",{ref:u}))}},"./src/pieces/base/loading-indicator.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./node_modules/lodash/range.js"),u=n.n(l),d=n("./src/pieces/base/loading-indicator.scss"),_=n.n(d);n("./node_modules/bows/bows.js")("Loading-indicator");t.a=function(e){var t,n=e.size,a=e.className,i=e.darkTheme;return o.a.createElement("div",{className:c()((t={},r()(t,_.a.loadingIndicator,!0),r()(t,_.a[n],!0),r()(t,a||"",a),r()(t,_.a.overridableStyleDefaults,!a&&!i),r()(t,_.a.darkTheme,!a&&i),t))},u()(1,11).map(function(e){return o.a.createElement("div",{key:e,className:c()(_.a["circle".concat(e)],_.a.circle)})}))}},"./src/pieces/base/loading-indicator.scss":function(e,t,n){e.exports={loadingIndicator:"loading-indicator__loadingIndicator___pNkDe",overridableStyleDefaults:"loading-indicator__overridableStyleDefaults___CJebb",darkTheme:"loading-indicator__darkTheme___1BQnd",small:"loading-indicator__small___3WgTd",medium:"loading-indicator__medium___2iZ1n",large:"loading-indicator__large___2e48p",circle:"loading-indicator__circle___2Lzch",spinnerAnimation:"loading-indicator__spinnerAnimation___2U8kn",circle1:"loading-indicator__circle1___6EYTd",circle2:"loading-indicator__circle2___hBQcV",circle3:"loading-indicator__circle3___hMeaW",circle4:"loading-indicator__circle4___1b4jU",circle5:"loading-indicator__circle5___HN-Zk",circle6:"loading-indicator__circle6___ZNx31",circle7:"loading-indicator__circle7___2NASR",circle8:"loading-indicator__circle8___2uOie",circle9:"loading-indicator__circle9___jVmQZ",circle10:"loading-indicator__circle10___1gt4E",storybookColorOverrideExample:"loading-indicator__storybookColorOverrideExample___3D354"}},"./src/pieces/base/outline-logo-wordmark.scss":function(e,t,n){e.exports={outlineLogoWordmark:"outline-logo-wordmark__outlineLogoWordmark___3dzYm",medium:"outline-logo-wordmark__medium___1APjt",redesign_outlineLogoWordmark:"outline-logo-wordmark__redesign_outlineLogoWordmark___1eINP",redesign_logoPath:"outline-logo-wordmark__redesign_logoPath___1N6id"}},"./src/pieces/base/outline-logo-wordmark.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./src/pieces/base/outline-logo-wordmark.scss"),u=n.n(l);n("./node_modules/bows/bows.js")("Outline-logo-wordmark");t.a=function(e){var t,n=e.size,a=void 0===n?"medium":n;return o.a.createElement("svg",{viewBox:"0 0 124 32",className:c()((t={},r()(t,u.a.redesign_outlineLogoWordmark,!0),r()(t,u.a["".concat(a)],a),t))},o.a.createElement("defs",null,o.a.createElement("path",{d:"M28.284 31.414l-.014.023-.017.025-.015.021-.006.007a.624.624 0 01-.023.026l-.018.02-.012.013-.034.032-.008.006-.016.013-.004.004-.004.003-.014.01-.012.01-.022.014-.006.003-.002.001-.025.016-.005.002-.017.01-.036.017-.017.007-.014.006-.031.011-.027.008-.015.005-.02.005-.028.006-.03.004-.01.002-.023.003a.75.75 0 01-.039.002H10.28h.014c-.032 0-.032 0-.063-.004l-.023-.003-.009-.001-.056-.011-.003-.001-.02-.005a.799.799 0 01-.038-.012l-.016-.006a.612.612 0 01-.004-.001l-.025-.01.015.006-.01-.004a.659.659 0 01-.066-.032l-.009-.005-.025-.015.003.001c-.013-.007-.013-.007-.031-.02l-.017-.011-.013-.01-.024-.02-.02-.018-.006-.006-.023-.023-.026-.027-.018-.022-.002-.003-.004-.005-.015-.02-.025-.039c-.002-.003-.005-.006-.01-.017L1.014 16.341l-.004-.008-.01-.018v-.002L.99 16.29l-.007-.015-.008-.018-.01-.026-.006-.018-.006-.021-.007-.024-.005-.023-.004-.017-.004-.027-.003-.022-.002-.017-.002-.029-.001-.022v-.017l.001-.03v-.002l.001-.018.001-.012.005-.036v-.007l.002-.008a.356.356 0 01.007-.033l.003-.015.006-.02.006-.022.008-.022.007-.02.01-.024.008-.017.01-.022.01-.018.004-.007L9.708.598l.013-.02.008-.013.013-.02.012-.017.016-.02.012-.014.02-.023.025-.026.018-.017.01-.01.007-.004.013-.011.03-.023.013-.01.012-.007.003-.003.028-.016h-.002.002l.014-.008.016-.009.026-.013.018-.008.02-.008.022-.008.024-.008.015-.005.024-.006.024-.006.017-.003.027-.004h.003l.02-.004h.013l.032-.003h.018L27.7.25l.027.001.024.002.035.003.007.002.026.004h.001l.017.003.013.003.012.003.02.006.023.006.014.005.005.002.021.008.025.01.013.006.026.013.003.002.012.006-.005-.003.022.012.01.007.015.01.025.016.01.007.016.012.004.004.02.016.012.01.018.017.017.017.017.018.01.011.017.021.017.022.007.01.002.003.015.022.012.02 8.7 15.072.005.01.008.015.018.037.009.021.001.004.009.022.006.02.007.022.006.02.005.023.004.018v.006l.005.024.002.019.002.02.002.026.001.022v.017l-.001.03v.002l-.001.018-.002.014-.004.036-.002.014-.003.013-.003.014-.005.021-.004.016-.005.017-.01.033-.004.01-.01.023-.01.024-.025.048-.004.007v-.001l-.004.01a.07.07 0 01-.003.004l-8.686 15.05-.007.008.002-.002zm-18.222.29l.002.001.002.001h.003l-.007-.001zM21.75 25.25l-8.87 5.123h13.306l-4.436-5.123zm5.255-3.035l-4.04 2.333 4.04 4.665v-6.998zm-9.391-2.432l-5.424 9.396 9.365-5.408 4.194-2.422-8.135-1.566zm-6.617-6.954v15.66l5.423-9.396-5.423-6.264zm23.508 5.055l-6.122 3.535v7.07l6.122-10.605zm-31.54-.921l6.654 11.527V18.243l-6.653-1.281zm9.166-4.93l5.496 6.349 8.244 1.587-5.496-6.349-8.244-1.587zm16.252 3.129v4.665l6.06-3.499-6.06-1.166zm-1.378-11.65l-5.423 9.397 5.423 6.264V3.51zM9.618 12.173l-6.06 3.5 6.06 1.166v-4.666zm18.764-8.662v10.246l6.653 1.281-6.653-11.527zm-18.764 0L3.496 14.117l6.122-3.535v-7.07zm16.193-.689L16.448 8.23l-4.196 2.423 8.135 1.566 5.424-9.396zm-14.815-.034v6.998l4.04-2.333-4.04-4.665zm14.126-1.16H11.815l4.436 5.123 8.87-5.123z",id:"logo-outline"})),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("g",{transform:"translate(86)"},o.a.createElement("mask",{id:"logo-outline-mask",fill:"#fff"},o.a.createElement("use",{xlinkHref:"#logo-outline"})),o.a.createElement("use",{fill:"#FFF",fillRule:"nonzero",xlinkHref:"#logo-outline"}),o.a.createElement("path",{fill:"#FFF",mask:"url(#logo-outline-mask)",d:"M0 0h38v32H0z"})),o.a.createElement("g",{fill:"#FFF"},o.a.createElement("g",{fillRule:"nonzero"},o.a.createElement("path",{d:"M10.825 15.73a5.714 5.714 0 100 5.113 1.143 1.143 0 10-2.043-1.025 3.428 3.428 0 01-6.496-1.532 3.429 3.429 0 016.496-1.533 1.143 1.143 0 102.043-1.024zM23.429 18.286a5.714 5.714 0 11-11.429 0 5.714 5.714 0 0111.429 0zm-2.286 0a3.429 3.429 0 10-6.857 0 3.429 3.429 0 006.857 0z"}),o.a.createElement("path",{d:"M21.143 18.286v4.571a1.143 1.143 0 002.286 0v-4.571a1.143 1.143 0 00-2.286 0zM52 22.857v-9.143a1.143 1.143 0 10-2.285 0v9.143a1.143 1.143 0 102.285 0zM55.429 18.286a3.429 3.429 0 016.857 0 1.143 1.143 0 002.286 0 5.714 5.714 0 00-11.429 0 1.143 1.143 0 102.286 0z"}),o.a.createElement("path",{d:"M53.143 18.286v4.571a1.143 1.143 0 002.286 0v-4.571a1.143 1.143 0 00-2.286 0zM62.286 18.286v4.571a1.143 1.143 0 002.286 0v-4.571a1.143 1.143 0 10-2.286 0zM45.282 20.71a3.429 3.429 0 01-5.853-2.424 1.143 1.143 0 10-2.286 0 5.714 5.714 0 009.756 4.04 1.143 1.143 0 00-1.617-1.616z"}),o.a.createElement("path",{d:"M42.858 14.857a3.43 3.43 0 013.233 2.286h-6.467a3.43 3.43 0 013.234-2.286zm-5.38 4.237c.207.207.493.335.808.335h9.143c.631 0 1.143-.512 1.143-1.143a5.714 5.714 0 00-11.429 0c0 .315.128.601.335.808zM73.853 20.71A3.429 3.429 0 0168 18.286a1.143 1.143 0 10-2.286 0 5.714 5.714 0 009.756 4.04 1.143 1.143 0 10-1.617-1.616z"}),o.a.createElement("path",{d:"M71.429 14.857a3.43 3.43 0 013.233 2.286h-6.466a3.43 3.43 0 013.233-2.286zm-5.38 4.237c.207.207.493.335.809.335H76c.632 0 1.143-.512 1.143-1.143a5.714 5.714 0 00-11.428 0c0 .315.128.601.334.808zM26.858 22.857v-9.143a1.143 1.143 0 00-2.286 0v9.143a1.143 1.143 0 002.286 0z"}),o.a.createElement("path",{d:"M30.286 8a5.714 5.714 0 00-5.714 5.714 1.143 1.143 0 002.286 0 3.429 3.429 0 013.428-3.428 1.143 1.143 0 100-2.286zM33.143 22.857v-9.143a1.143 1.143 0 00-2.285 0v9.143a1.143 1.143 0 002.285 0z"}),o.a.createElement("path",{d:"M36.572 8a5.714 5.714 0 00-5.714 5.714 1.143 1.143 0 002.285 0 3.429 3.429 0 013.429-3.428 1.143 1.143 0 100-2.286z"}),o.a.createElement("path",{d:"M25.715 14.857h10.857a1.143 1.143 0 100-2.286H25.715a1.143 1.143 0 100 2.286z"})),o.a.createElement("path",{d:"M52 9.143a1.143 1.143 0 11-2.285 0 1.143 1.143 0 012.285 0"}))))}},"./src/pieces/base/path.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var a=n("./src/pieces/base/constants.js"),r=(n("./node_modules/bows/bows.js")("Path"),function(e){var t=e.replace(/\/$/,""),n=t&&t.replace(/^\//,"").split("/");return n[0]&&n[0]}),i=function(){var e={},t=document.createElement("a");t.href=location;for(var n=t.search.substring(1).split("&"),a=0;a<n.length;a++){var r=n[a].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e},o=function(){var e=window&&window.location&&window.location.pathname&&window.location.pathname.split("/"),t=e[e.length-1],n=e&&e.length>0&&"tag"===e[1],r=e&&e.length>1&&"profile"===e[2],i=e&&e.length>1&&"video"===e[2],o=e&&e.length>0&&"lobby"===e[1],s=e&&e.length>0&&"browse"===e[1],c="/"===window.location.pathname||s||o,l=e&&e.length>0&&"following"===e[1],u=e&&e.length>0&&"settings"===e[1],d="join"===t,_="sign-up"===t,m="sign-in"===t,g=(a.Dd,null);return d?g=a.Cd:_?g=a.Hd:m&&(g=a.Gd),{currentPath:n?a.Bd:r?a.Ed:i?a.Kd:o?a.Dd:s?a.xd:l?a.Ad:u?a.Fd:c?a.Dd:a.Id,currentModal:g}}},"./src/pieces/base/popover/earmarked-box.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./src/pieces/base/icons/icon.tsx");n("./node_modules/bows/bows.js")("Earmarked-box");t.a=function(e){var t=e.rowCount,n=void 0===t?1:t,a=e.rowHeight,o=void 0===a?55:a,s=e.orientation,c=e.className,l=(o-1)*n,u={aboveRight:"\n      M 14 ".concat(l+9,"\n      L 29 ").concat(l,"\n      H 139\n      V 1\n      H 1\n      V ").concat(l,"\n      L 14 ").concat(l+9,"\n      Z\n    "),belowLeft:"\n      M 126 1\n      L 111 10\n      H 1\n      V ".concat(l+9,"\n      H 139\n      V 10\n      L 126 1\n      Z\n    ")};return r.a.createElement(i.a,null,r.a.createElement("svg",{width:"140",height:l+9,viewBox:"0 0 140 ".concat(l+9),className:c},r.a.createElement("g",{fill:"#222",fillRule:"evenodd",stroke:"#8B8B8B",strokeWidth:"2",opacity:"0.9"},r.a.createElement("path",{d:u[s]}))))}},"./src/pieces/base/popover/popover.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n.n(s),l=n("./node_modules/uuid/index.js"),u=n("./node_modules/reselect/lib/index.js"),d=n("./node_modules/lodash/cond.js"),_=n.n(d),m=n("./node_modules/lodash/upperFirst.js"),g=n.n(m),b=n("./node_modules/classnames/index.js"),p=n.n(b),f=n("./node_modules/react-redux/es/index.js"),h=n("./node_modules/recompose/dist/Recompose.esm.js"),v=n("./src/pieces/base/recompose-extras.js"),w=n("./src/pieces/base/popover/popover.reducer.js"),C=n("./src/pieces/base/close-icon.tsx"),y=n("./src/pieces/base/popover/earmarked-box.tsx"),j=n("./src/pieces/base/popover/popover.scss"),O=n.n(j),S=(n("./node_modules/bows/bows.js")("Popover"),{tiny:100,small:150,medium:200,large:250,huge:300,massive:350,titanic:600,specialEarmarked:196,isRedesignTooltip:161}),E=Object(h.a)(Object(f.b)(Object(u.createStructuredSelector)({activePopoverId:w.selectActivePopoverId}),{ShowPopover:w.ShowPopover,ClearPopovers:w.ClearPopovers}),Object(h.e)("id","setId"),Object(h.e)("triggerElement","setTriggerElement"),Object(h.e)("orientationOverride","setOrientationOverride"),Object(v.a)(function(e){if(e.setId(e.customId?e.customId:Object(l.v4)()),"dynamic"===e.size&&e.automaticOrientation)throw new Error("automaticOrientation cannot be used with a dynamically sized popover!");if(e.horizontalOffset&&e.automaticOrientation)throw new Error("automaticOrientation cannot be used with a popover horizontalOffset!")}),Object(h.d)({trapClick:function(){return function(e){return e.stopPropagation()}},clearOnClickIfEnabled:function(e){return function(){e.clearOnClick&&e.ClearPopovers()}},toggle:function(e){return function(){if((c=e).id===c.activePopoverId)e.ClearPopovers();else{if(e.ShowPopover(e.id),e.automaticOrientation){var t=e.triggerElement.getBoundingClientRect(),n=t.top+t.height/2,a=t.left+t.width/2,r={left:a-S[e.size]/2,right:a+S[e.size]/2},i=document.querySelector("header").getBoundingClientRect().height,o=n<(window.innerHeight+i)/2?"below":"above",s=_()([[function(e){return e.left<=0},function(){return"Right"}],[function(e){return e.right>=window.innerWidth},function(){return"Left"}],[function(){return!0},function(){return""}]])(r);e.setOrientationOverride("".concat(o).concat(s))}e.ShowPopover(e.id)}var c}}}),Object(h.c)({children:e.element.isRequired,content:e.element.isRequired,size:e.oneOf(["dynamic"].concat(o()(Object.keys(S)))),orientation:e.oneOf(["above","below","aboveLeft","aboveRight","belowLeft","belowRight"]),automaticOrientation:e.bool,clearOnClick:e.bool,style:e.object,horizontalOffset:e.number,orientationOverride:e.bool,isEarmarkedPopover:e.bool,isRedesignTooltip:e.bool,isLargeTooltip:e.bool,isUserAction:e.bool}));t.a=E(function(e){var t,n,a=e.orientationOverride||e.orientation||"above",i=e.horizontalOffset||0,o=a.includes("Left")?{marginRight:-1*i}:{marginLeft:i},s=e.isRedesignTooltip&&"aboveRight"===e.orientation?{marginBottom:8,marginLeft:i}:null;return c.a.createElement("div",{className:p()((t={},r()(t,O.a.popover,!0),r()(t,O.a["popover".concat(g()(a))],!0),r()(t,O.a.isEarmarkedPopover,e.isEarmarkedPopover),r()(t,O.a.redesign_popoverTooltip,e.isRedesignTooltip),t)),onClick:e.trapClick,role:"presentation"},e.activePopoverId===e.id&&c.a.createElement("div",{className:O.a.popoverContentContainer,style:s||o},e.isRedesignTooltip&&c.a.createElement(y.a,{rowCount:e.isLargeTooltip?2:1,rowHeight:e.isLargeTooltip?42:55,orientation:e.orientation,className:O.a.redesign_earmarkedTooltipBox}),c.a.createElement("div",{className:p()((n={},r()(n,O.a.popoverContentWithDarkTheme,e.darkTheme),r()(n,O.a.popoverContent,!e.darkTheme),r()(n,O.a.redesign_popoverContentWithDarkTheme,e.darkTheme&&e.isRedesignTooltip),r()(n,O.a.isEarmarkedPopover,e.isEarmarkedPopover),r()(n,O.a.redesign_popoverContentTooltip,e.isRedesignTooltip),r()(n,O.a.redesign_popoverContentWithAboveRight,e.isRedesignTooltip&&"aboveRight"===e.orientation),r()(n,O.a.isLargeTooltip,e.isLargeTooltip),r()(n,O.a.isUserAction,e.isUserAction),n)),style:{width:S[e.size]},onClick:e.clearOnClickIfEnabled,role:"presentation"},e.isEarmarkedPopover&&c.a.createElement("button",{className:O.a.redesign_popoverCloseButton,onClick:e.ClearPopovers},c.a.createElement(C.a,{size:"xsmall"})),e.content)),c.a.createElement("div",{className:O.a.popoverTrigger,onClick:function(t){t.preventDefault(),e.toggle()},role:"presentation",ref:e.setTriggerElement},e.children))})}).call(this,n("./node_modules/prop-types/index.js"))},"./src/pieces/base/popover/popover.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return l}),n.d(t,"ShowPopover",function(){return u}),n.d(t,"ClearPopovers",function(){return d}),n.d(t,"selectActivePopoverId",function(){return _});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-actions/es/createAction.js"),s=n("./node_modules/redux-actions/es/handleActions.js"),c=n("./src/pieces/base/application/application.actions.js"),l=(n("./node_modules/bows/bows.js")("Popover.reducer"),"popover"),u=Object(o.a)("Show Popover",function(e){return e}),d=Object(o.a)("Clear Popovers",function(){return null}),_=function(e){return e[l].get("activePopoverId")},m=function(e){return e.set("activePopoverId",null)};t.default=Object(s.a)((a={},i()(a,u,function(e,t){var n=t.payload;return e.set("activePopoverId",n)}),i()(a,d,m),i()(a,c.c,m),i()(a,c.d,m),a),e.fromJS({activePopoverId:null}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/base/popover/popover.scss":function(e,t,n){e.exports={popover:"popover__popover____PoY-",popoverAbove:"popover__popoverAbove___2ukUW",popoverContentContainer:"popover__popoverContentContainer___xzpZd",popoverAboveRight:"popover__popoverAboveRight___W0kgd",popoverAboveLeft:"popover__popoverAboveLeft___1wKVi",popoverContent:"popover__popoverContent___zS_wN",isUserAction:"popover__isUserAction___3x3KI",isLargeTooltip:"popover__isLargeTooltip___2OCqa",isEarmarkedPopover:"popover__isEarmarkedPopover___ddGQR",popoverContentWithDarkTheme:"popover__popoverContentWithDarkTheme___2FKrt popover__popoverContent___zS_wN",popoverBelow:"popover__popoverBelow___3Tjik",popoverBelowRight:"popover__popoverBelowRight___2vceY",popoverBelowLeft:"popover__popoverBelowLeft___3howI",popoverTrigger:"popover__popoverTrigger___2PwCD",redesign_popoverContentTooltip:"popover__redesign_popoverContentTooltip___3h-2q",popoverHeader:"popover__popoverHeader___3oI32",redesign_popoverHeader:"popover__redesign_popoverHeader___33XYJ",popoverHeaderWithDarkTheme:"popover__popoverHeaderWithDarkTheme___-RYw1 popover__popoverHeader___3oI32",redesign_popoverHeaderWithDarkTheme:"popover__redesign_popoverHeaderWithDarkTheme___-9FTN popover__popoverHeader___3oI32",successfulFlowCompletionMessage:"popover__successfulFlowCompletionMessage___QR3OC",successfulFlowCompletionHeader:"popover__successfulFlowCompletionHeader___38Qwl",failedFlowMessage:"popover__failedFlowMessage___2YrdQ",failedFlowHeader:"popover__failedFlowHeader___2fTNi",failedFlowHeaderWithDarkTheme:"popover__failedFlowHeaderWithDarkTheme___2Ngsu popover__failedFlowHeader___2fTNi",redesign_popoverCloseButton:"popover__redesign_popoverCloseButton___2P2qj buttons__unstyledButton___olg-i",redesign_popoverTooltip:"popover__redesign_popoverTooltip___2J1hx",redesign_earmarkedTooltipBox:"popover__redesign_earmarkedTooltipBox___17JNR",redesign_popoverContentWithDarkTheme:"popover__redesign_popoverContentWithDarkTheme___2reHU"}},"./src/pieces/base/reaction-profile-toggle.scss":function(e,t,n){e.exports={redesign_clickableIconWrap:"reaction-profile-toggle__redesign_clickableIconWrap___2cnz5",isBroadcast:"reaction-profile-toggle__isBroadcast___2V19-",profileViewWrapper:"reaction-profile-toggle__profileViewWrapper___15CkZ",reactionsViewWrapper:"reaction-profile-toggle__reactionsViewWrapper___1JFPP",redesign_userIcon:"reaction-profile-toggle__redesign_userIcon___26Byw",redesign_chatIcon:"reaction-profile-toggle__redesign_chatIcon___1C73z",offlineStage:"reaction-profile-toggle__offlineStage___J2qqX",reactionsTabTransition:"reaction-profile-toggle__reactionsTabTransition___3dUZN"}},"./src/pieces/base/recompose-extras.js":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return w});var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(s),l=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(l),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),_=n.n(d),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),g=n.n(m),b=n("./node_modules/react/index.js");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Recompose-extras");var h=function(t){return function(n){var a=Object(b.createFactory)(n);return function(e){function n(){return o()(this,n),u()(this,_()(n).apply(this,arguments))}return g()(n,e),c()(n,[{key:"componentDidMount",value:function(){t(this.props)}},{key:"render",value:function(){return a(f({},this.props))}}]),n}(e.Component)}},v=function(t){return function(n){var a=Object(b.createFactory)(n);return function(e){function n(){return o()(this,n),u()(this,_()(n).apply(this,arguments))}return g()(n,e),c()(n,[{key:"componentWillMount",value:function(){t(this.props)}},{key:"render",value:function(){return a(f({},this.props))}}]),n}(e.Component)}},w=function(t){return function(n){var a=Object(b.createFactory)(n);return function(e){function n(){return o()(this,n),u()(this,_()(n).apply(this,arguments))}return g()(n,e),c()(n,[{key:"componentWillUnmount",value:function(){t(this.props)}},{key:"render",value:function(){return a(f({},this.props))}}]),n}(e.Component)}}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/base/report-statistics.js":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/effects.js"),o=n("./src/pieces/authentication/authentication.sagas.js"),s=n("./src/pieces/base/api/metrics.api.js"),c=r.a.mark(l);n("./node_modules/bows/bows.js")("Report-statistics");function l(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)(o.isAuthenticated);case 2:if(!t.sent){t.next=12;break}return t.prev=4,t.next=7,Object(i.b)(s.b,e);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),console.error("Failed to post statistic, skipping",t.t0);case 12:case"end":return t.stop()}},c,null,[[4,9]])}},"./src/pieces/base/saga-utilities.js":function(e,t,n){"use strict";n.d(t,"h",function(){return C}),n.d(t,"i",function(){return y}),n.d(t,"g",function(){return j}),n.d(t,"f",function(){return O}),n.d(t,"c",function(){return S}),n.d(t,"a",function(){return k}),n.d(t,"b",function(){return I}),n.d(t,"d",function(){return T}),n.d(t,"e",function(){return F});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/lodash/cond.js"),o=n.n(i),s=n("./node_modules/lodash/isFunction.js"),c=n.n(s),l=n("./node_modules/lodash/isString.js"),u=n.n(l),d=n("./node_modules/lodash/isObject.js"),_=n.n(d),m=n("./src/pieces/base/error-reporting.js"),g=n("./node_modules/redux-saga/es/effects.js"),b=r.a.mark(x);n("./node_modules/bows/bows.js")("Saga-utilities");function p(e){throw new Error("".concat(e," is required"))}var f=function(e){return _()(e)&&c()(e.take)&&c()(e.close)},h=o()([[u.a,function(e){return e}],[c.a,function(e){return e.toString()}],[f,function(){return"channel"}]]),v=o()([[function(e){return!e},function(){return"error"}],[function(e){var t=e.kind,n=e.statusCode;return"BadStatus"===t&&400<=n&&n<=500},function(){return"warning"}],[function(){return!0},function(){return"error"}]]);function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("handler"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p("pattern");return r.a.mark(function n(a){var i,o;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=f(t)?a:a.payload,n.prev=1,n.next=4,Object(g.b)(e,i);case 4:return n.abrupt("return",n.sent);case 7:n.prev=7,n.t0=n.catch(1),o=h(t);try{n.t0.message="Saga exception during ".concat(o,": ").concat(n.t0.message)}catch(e){console.error("Encountered read-only DOM error",e)}return Object(m.b)(n.t0,{level:v(n.t0),layer:"saga",action:o,actionPayload:i,error:n.t0}),n.abrupt("return",null);case 14:case"end":return n.stop()}},n,null,[[1,7]])})}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("Action"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p("handler");return Object(g.m)(e.toString(),w(t,e))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("Actions"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p("handler");return Object(g.m)(e.map(function(e){return e.toString()}),w(t,e))},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("Action"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p("handler");return Object(g.l)(e.toString(),w(t,e))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("channel"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p("handler");return Object(g.l)(e,w(t,e))},S=function(e,t){return Object(g.e)(r.a.mark(function n(){var a;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(g.k)(e.toString());case 2:return a=n.sent,n.next=5,w(t,e)(a);case 5:case"end":return n.stop()}},n)}))};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown handler name",t=arguments.length>1?arguments[1]:void 0;Object(m.b)(t,{layer:"saga",handlerName:e,error:t})}function x(e){var t,n,a,i=arguments;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(r.prev=0,t=i.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=i[a];return r.next=4,g.b.apply(void 0,[e].concat(n));case 4:return r.abrupt("return",r.sent);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",E(e.name,r.t0));case 10:case"end":return r.stop()}},b,null,[[0,7]])}var k=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return g.b.apply(void 0,[x,e].concat(n))},I=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return g.e.apply(void 0,[x,e].concat(n))},T=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return g.j.apply(void 0,[x,e].concat(n))};function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("Action");return Object(g.b)(r.a.mark(function t(){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.k)(e.toString());case 2:return n=t.sent,a=n.payload,t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}))}},"./src/pieces/base/seventeen-plus-rating.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a);n("./node_modules/bows/bows.js")("Seventeen-plus-rating");t.a=function(e){var t=e.size,n=void 0===t?"fullWidth":t,a=e.className,i=void 0===a?"":a,o=e.clearBackground,s={small:30,medium:32,large:40,xLarge:56,fullWidth:"100%"};return r.a.createElement("svg",{viewBox:"0 0 56 56",overflow:"visible",height:s[n],width:s[n],className:i},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"small"===n?"none":"#000",stroke:"small"===n?"#FFF":"none",strokeWidth:3.5,d:"M0 0h56v56H0z",opacity:o?0:1}),r.a.createElement("path",{d:"M15.49 20c.822 0 1.49.717 1.49 1.6v12.8c0 .885-.668 1.6-1.49 1.6-.823 0-1.49-.715-1.49-1.6V21.6c0-.883.667-1.6 1.49-1.6zm12.744 0c.06 0 .117.003.175.008l.01.002c.829.083 1.47.719 1.47 1.49v.048c.009.258-.046.521-.174.768l-6.62 12.8a1.663 1.663 0 01-1.482.884c-.248 0-.502-.054-.738-.168-.818-.397-1.15-1.357-.742-2.147L25.66 23h-4.045c-.916 0-1.655-.672-1.655-1.5s.74-1.5 1.655-1.5h6.62zm8.11 2c.825 0 1.49.728 1.49 1.625V27h3.352c.893 0 1.614.672 1.614 1.5s-.721 1.5-1.614 1.5h-3.352v3.375c0 .899-.665 1.625-1.49 1.625-.823 0-1.489-.726-1.489-1.625V30h-3.352c-.892 0-1.613-.672-1.613-1.5s.721-1.5 1.613-1.5h3.352v-3.375c0-.897.666-1.625 1.49-1.625zm-8.017-1.998L28.234 20h.013a1.7 1.7 0 01.08.002z",fill:"#FFF"})))}},"./src/pieces/base/simple-dialog/embed-dialog.scss":function(e,t,n){e.exports={modalContainer:"embed-dialog__modalContainer___3hDr0",content:"embed-dialog__content___bZXuy",closeButton:"embed-dialog__closeButton___2rexC",title:"embed-dialog__title___Gbr02",body:"embed-dialog__body___1_VZL",preCode:"embed-dialog__preCode___3jWW8",copyButton:"embed-dialog__copyButton___oEOIi buttons__redesign_buttonWithHoverEffect___1Ud0c buttons__redesign_button___ZSYNe",codeWasCopied:"embed-dialog__codeWasCopied___2JzFN",startTimeInputContainer:"embed-dialog__startTimeInputContainer___XL3jk",startTimeInput:"embed-dialog__startTimeInput___ihG7j",startTimeText:"embed-dialog__startTimeText___3f4KP",startTimeInputError:"embed-dialog__startTimeInputError___1lx_M"}},"./src/pieces/base/simple-dialog/embed-dialog.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/react-modal/lib/index.js"),c=n.n(s),l=n("./node_modules/screenfull/dist/screenfull.js"),u=n.n(l),d=n("./src/pieces/base/close-icon.tsx"),_=n("./src/pieces/base/forms/text-field.js"),m=n("./src/pieces/base/constants.js"),g=(n("./node_modules/bows/bows.js")("GetEmbedCode"),function(e,t){var n=t.start&&"00:00:00"!==t.start?"?start="+t.start:"";return'\n    <iframe style="width:100%; aspect-ratio: 16 / 9;" \n      key="caffeine-embed-'.concat(e,'"\n      src="').concat(m.K,"/embed").concat(e).concat(n,'"\n      allow="fullscreen"\n      title="').concat(t.title,'"\n      sandbox="allow-popups allow-scripts allow-popups-to-escape-sandbox allow-top-navigation allow-same-origin"\n      allowfullscreen allow-popups allow-scripts\n      allow-popups-to-escape-sandbox\n      allow-top-navigation allow-same-origin\n      ></iframe>\n  ')});n("./node_modules/bows/bows.js")("UseStateWithLabel");function b(e,t){var n=Object(i.useState)(e),a=r()(n,2),o=a[0],s=a[1];return Object(i.useDebugValue)("".concat(t,": ").concat(o)),[o,s]}var p=n("./src/pieces/base/simple-dialog/embed-dialog.scss"),f=n.n(p);n("./node_modules/bows/bows.js")("Embed-dialog");console.log(f.a);t.a=function(e){var t=e.startTime,n=e.title,a=e.embedUrl,i=b(t,"start"),s=r()(i,2),l=s[0],m=s[1],p=b("","inputError"),h=r()(p,2),v=h[0],w=h[1],C=b(g(a,{title:n,start:t}),"embedCode"),y=r()(C,2),j=y[0],O=y[1],S=b(!1,"embedCodeWasCopied"),E=r()(S,2),x=E[0],k=E[1];return o.a.useEffect(function(){e.isActive&&u.a&&u.a.isFullscreen&&u.a.exit()},[e.isActive]),o.a.createElement(c.a,{isOpen:e.isActive,onRequestClose:e.handleClose,contentLabel:"Embed Code",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",display:"grid",placeContent:"center",zIndex:2}},className:f.a.modalContainer},o.a.createElement("div",{className:f.a.content},o.a.createElement("button",{className:f.a.closeButton,onClick:e.handleClose},o.a.createElement(d.a,null)),o.a.createElement("h2",{className:f.a.title},"Embed Code"),o.a.createElement("p",{className:f.a.body},"Copy the code below to embed in your website:"),o.a.createElement("pre",{className:f.a.preCode},j),o.a.createElement(_.a,{meta:{touched:!1,error:v},inputProps:{type:"text",value:l,onChange:function(e){k(!1),m(e.target.value),/^([0-9]{1,2}):([0-9]{2}):([0-9]{2})$/.test(e.target.value)?(w(""),O(g(a,{title:n,start:e.target.value}))):w("Invalid time format. Please use HH:MM:SS")},placeholder:"Start time (optional)",autoFocus:!0},label:"Add start time (optional)",className:f.a.startTimeInputContainer,errorClassName:f.a.startTimeInputError,inputClassName:f.a.startTimeInput,key:a},o.a.createElement("p",{className:f.a.startTimeText},x?o.a.createElement("span",{className:f.a.codeWasCopied},"The code was copied to your clipboard!"):"Add Start Time")),o.a.createElement("button",{disabled:Boolean(v)||x,className:f.a.copyButton,onClick:function(){if(navigator.clipboard)navigator.clipboard.writeText(j);else{var e=document.createElement("textarea");e.value=j,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}k(!0),window.setTimeout(function(){k(!1)},5e3);var t={clicked_at:(new Date).toISOString(),modal_name:"embed_code_copy",screen_name:"SCREEN_VOD"};window.mParticle&&window.mParticle.logEvent("modal_action",window.mParticle.EventType.Other,t),window.rdt&&window.rdt("track","Custom",{customEventName:"download_app_button_click"})}},"Copy Code")))}},"./src/pieces/base/simple-dialog/simple-dialog.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return l}),n.d(t,"ShowDialog",function(){return u}),n.d(t,"ToggleTicketModal",function(){return d}),n.d(t,"HideTicketModal",function(){return _}),n.d(t,"ShowTicketModal",function(){return m}),n.d(t,"CompleteDialog",function(){return g}),n.d(t,"SetDialogInputText",function(){return b}),n.d(t,"selectDialogIsActive",function(){return p}),n.d(t,"selectTicketIsOpen",function(){return f}),n.d(t,"selectCurrentDialogConfiguration",function(){return h}),n.d(t,"selectCurrentDialogInputText",function(){return v});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-actions/es/createAction.js"),s=n("./node_modules/redux-actions/es/handleActions.js"),c=n("./node_modules/reselect/lib/index.js"),l=(n("./node_modules/bows/bows.js")("Simple-dialog.reducer"),"simpleDialog"),u=Object(o.a)("Show Dialog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),d=Object(o.a)("Toggle Ticket Modal"),_=Object(o.a)("Hide Ticket Modal"),m=Object(o.a)("Show Ticket Modal"),g=Object(o.a)("Complete Dialog",function(e){var t=e.choice,n=e.inputText;return{choice:t,inputText:void 0===n?"":n}}),b=Object(o.a)("Set Dialog Input Text",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}),p=function(e){return e[l].get("isActive")},f=function(e){return e[l].get("ticketIsOpen")},h=Object(c.createSelector)(function(e){return e[l].get("configuration")},function(e){return e.toJS()}),v=function(e){return e[l].get("inputText")};t.default=Object(s.a)((a={},i()(a,u,function(t,n){var a=n.payload;return t.set("isActive",!0).set("configuration",e.fromJS(a))}),i()(a,d,function(e){return e.set("ticketIsOpen",!e.get("ticketIsOpen"))}),i()(a,_,function(e){return e.set("ticketIsOpen",!1)}),i()(a,m,function(e){return e.set("ticketIsOpen",!0)}),i()(a,b,function(e,t){var n=t.payload;return e.set("inputText",n)}),i()(a,g,function(t){return t.set("isActive",!1).set("configuration",e.Map()).set("inputText","")}),a),e.fromJS({configuration:{},inputText:"",isActive:!1,ticketIsOpen:!1}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/base/simple-dialog/simple-dialog.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"showDialog",function(){return d}),n.d(t,"showDialogWithInput",function(){return _}),n.d(t,"default",function(){return m});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/effects.js"),o=n("./src/pieces/base/saga-utilities.js"),s=n("./src/pieces/base/simple-dialog/simple-dialog.reducer.js"),c=r.a.mark(d),l=r.a.mark(_),u=r.a.mark(m);n("./node_modules/bows/bows.js")("Simple-dialog.sagas");function d(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(i.g)(Object(s.ShowDialog)(e));case 3:return a.next=5,Object(o.e)(s.CompleteDialog);case 5:return t=a.sent,n=t.choice,a.abrupt("return",n);case 8:return a.prev=8,a.next=11,Object(i.g)(Object(s.CompleteDialog)({choice:null}));case 11:return a.finish(8);case 12:case"end":return a.stop()}},c,null,[[0,,8,12]])}function _(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.g)(Object(s.ShowDialog)(e));case 3:return t.next=5,Object(o.e)(s.CompleteDialog);case 5:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.next=9,Object(i.g)(Object(s.CompleteDialog)({choice:null}));case 9:return t.finish(6);case 10:case"end":return t.stop()}},l,null,[[0,,6,10]])}function m(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},u)}},"./src/pieces/base/simple-dialog/simple-dialog.scss":function(e,t,n){e.exports={overlay:"simple-dialog__overlay___3HxHO modals__container___3QxjF",simpleDialogContainer:"simple-dialog__simpleDialogContainer___1zhrI modals__content___i9pX_",lightMode:"simple-dialog__lightMode___1Ep5H",darkMode:"simple-dialog__darkMode___3YzSU",medium:"simple-dialog__medium___152Ac",large:"simple-dialog__large___1WSUS",prompt:"simple-dialog__prompt___3qT0O",title:"simple-dialog__title___3ZsKv",body:"simple-dialog__body___2NJbA",closeButton:"simple-dialog__closeButton___wRMaQ buttons__unstyledButton___olg-i",inputContainer:"simple-dialog__inputContainer___pzvMH",inputLightMode:"simple-dialog__inputLightMode___1l1nc forms__redesign_inputBase___3tWUb",inputDarkMode:"simple-dialog__inputDarkMode___zOqma forms__redesign_inputBaseDarkTheme___2hrxW",input:"simple-dialog__input___2AGFS",inputHelper:"simple-dialog__inputHelper___hlOeq forms__redesign_inputBaseHelper___128q1",choiceWrapper:"simple-dialog__choiceWrapper___1Gn4X",smallChoiceButton:"simple-dialog__smallChoiceButton___1RP5S",largeChoiceButton:"simple-dialog__largeChoiceButton___3cJnN",primaryChoiceButtonLightMode:"simple-dialog__primaryChoiceButtonLightMode___3xMmc buttons__redesign_buttonWithHoverEffect___1Ud0c buttons__redesign_button___ZSYNe",primaryChoiceButtonDarkMode:"simple-dialog__primaryChoiceButtonDarkMode___3_tW0 buttons__redesign_darkButtonWithHoverEffect___38D41 buttons__redesign_button___ZSYNe",secondaryChoiceButtonLightMode:"simple-dialog__secondaryChoiceButtonLightMode___YBN59 buttons__redesign_buttonWithHoverEffect___1Ud0c buttons__redesign_button___ZSYNe",secondaryChoiceButtonDarkMode:"simple-dialog__secondaryChoiceButtonDarkMode___HVW4H simple-dialog__secondaryChoiceButtonLightMode___YBN59 buttons__redesign_buttonWithHoverEffect___1Ud0c buttons__redesign_button___ZSYNe"}},"./src/pieces/base/simple-dialog/simple-dialog.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/react/index.js"),r=n("./node_modules/react-modal/lib/index.js"),i=n.n(r),o=n("./node_modules/recompose/dist/Recompose.esm.js"),s=n("./node_modules/reselect/lib/index.js"),c=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./node_modules/screenfull/dist/screenfull.js"),_=n.n(d),m=n("./src/pieces/base/simple-dialog/simple-dialog.reducer.js"),g=n("./src/pieces/base/close-icon.tsx"),b=n("./src/pieces/base/simple-dialog/small-dialog.tsx"),p=n("./src/pieces/base/simple-dialog/embed-dialog.tsx"),f=n("./src/pieces/base/forms/text-field.js"),h=n("./src/pieces/base/simple-dialog/simple-dialog.scss"),v=n.n(h),w=(n("./node_modules/bows/bows.js")("Simple-dialog"),Object(o.a)(Object(c.b)(Object(s.createStructuredSelector)({isActive:m.selectDialogIsActive,configuration:m.selectCurrentDialogConfiguration,inputText:m.selectCurrentDialogInputText}),{CompleteDialog:m.CompleteDialog,SetDialogInputText:m.SetDialogInputText}))),C=function(t){var n=t.buttonSize,r=t.choice,i=t.inputText,o=t.isPrimary,s=t.darkMode,c=t.completeDialog,l=Object(a.useCallback)(function(){return c({choice:r,inputText:i})},[r,i]),d=o?"primaryChoiceButton":"secondaryChoiceButton",_=s?"DarkMode":"LightMode",m=v.a["".concat(d).concat(_)],g="large"===n?v.a.largeChoiceButton:v.a.smallChoiceButton;return e.createElement("button",{className:u()(g,m),onClick:l},r)};t.a=w(function(t){var n=t.isActive,r=t.inputText,o=t.CompleteDialog,s=t.SetDialogInputText,c=t.configuration,l=c.title,d=void 0===l?"":l,m=c.subheader,h=void 0===m?"":m,w=c.body,y=void 0===w?"":w,j=c.choices,O=void 0===j?[]:j,S=c.inputType,E=c.inputPlaceholder,x=void 0===E?"":E,k=c.darkMode,I=void 0===k||k,T=c.showCloseButton,F=void 0!==T&&T,P=c.size,N=void 0===P?"medium":P,M=c.dialogType,L=c.dudleyComponent,B=void 0===L?"SimpleDialog":L,A=Object(a.useCallback)(function(e){var t=O&&O.length&&O[O.length-1];t&&"Enter"===e.key&&o({choice:t,inputText:r})},[O,r]),D=Object(a.useCallback)(function(){return o({choice:null})},[]),U=Object(a.useCallback)(function(e){return s(e.target.value)},[]),R=Object(a.useMemo)(function(){return"large"===N&&1===O.length?"large":"small"},[O,N]);return Object(a.useEffect)(function(){n&&_.a&&_.a.isFullscreen&&_.a.exit()},[n]),"small"===N&&"embed"!==M?e.createElement(b.a,{configuration:{title:d,subheader:h,body:y,choices:O,dudleyComponent:B},isActive:n,completeDialog:o}):"embed"===M?e.createElement(p.a,{embedUrl:y,title:d,isActive:n,handleClose:D,completeDialog:o,startTime:h}):e.createElement(i.a,{overlayClassName:v.a.overlay,className:u()(v.a.simpleDialogContainer,v.a[N],I?v.a.darkMode:v.a.lightMode),isOpen:n,onRequestClose:D,contentLabel:"Please answer the following question to continue"},e.createElement("div",{className:u()(v.a.prompt,v.a[N])},F&&e.createElement("button",{className:u()(v.a.closeButton,I?v.a.darkMode:v.a.lightMode),onClick:D},e.createElement(g.a,{size:"medium"})),d&&e.createElement("h2",{className:u()(v.a.title,v.a[N])},d),y&&e.createElement("p",{className:u()(v.a.body,v.a[N])},y),S&&e.createElement(f.a,{meta:{touched:!1,error:""},inputProps:{type:S,value:r,onChange:U,onKeyPress:A,placeholder:x,autoFocus:!0},label:x,type:S,className:u()(v.a.inputContainer,v.a[N]),inputClassName:u()(v.a.input,v.a[N],I?v.a.inputDarkMode:v.a.inputLightMode),key:d+y},e.createElement("div",{className:v.a.inputHelper},x))),O.length&&e.createElement("div",{className:u()(v.a.choiceWrapper,v.a[N])},O.map(function(t,n,a){var i="large"===R||n>0;return e.createElement(C,{key:t,buttonSize:R,choice:t,inputText:r,isPrimary:i,darkMode:I,completeDialog:o})})))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/base/simple-dialog/small-dialog.scss":function(e,t,n){e.exports={smallDialogContainer:"small-dialog__smallDialogContainer___c--0a modals__content___i9pX_",prompt:"small-dialog__prompt___2dPay",title:"small-dialog__title___2nvLF",body:"small-dialog__body___1eSIj",subheader:"small-dialog__subheader___1OejB",choiceWrapper:"small-dialog__choiceWrapper___3mEcv",primaryChoiceButton:"small-dialog__primaryChoiceButton___2MRRz buttons__redesign_darkButtonWithHoverEffect___38D41 buttons__redesign_button___ZSYNe",choiceButton:"small-dialog__choiceButton___2CW_6 buttons__redesign_buttonWithHoverEffect___1Ud0c buttons__redesign_button___ZSYNe",overlay:"small-dialog__overlay___2KDnA modals__container___3QxjF"}},"./src/pieces/base/simple-dialog/small-dialog.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/react/index.js"),r=n("./node_modules/react-modal/lib/index.js"),i=n.n(r),o=n("./node_modules/screenfull/dist/screenfull.js"),s=n.n(o),c=n("./src/pieces/base/simple-dialog/small-dialog.scss"),l=n.n(c),u=(n("./node_modules/bows/bows.js")("Small-dialog"),function(t){var n=t.choice,r=t.index,i=t.completeDialog,o=Object(a.useCallback)(function(){return i({choice:n})},[n]);return e.createElement("button",{className:r>0?l.a.primaryChoiceButton:l.a.choiceButton,onClick:o},n)});t.a=function(t){var n=t.configuration,r=n.title,o=void 0===r?"":r,c=n.subheader,d=void 0===c?"":c,_=n.body,m=void 0===_?"":_,g=n.choices,b=void 0===g?[]:g,p=(n.dudleyComponent,t.isActive),f=t.completeDialog,h=Object(a.useCallback)(function(){return f({choice:null})},[]);return Object(a.useEffect)(function(){p&&s.a&&s.a.isFullscreen&&s.a.exit()},[p]),e.createElement(i.a,{overlayClassName:l.a.overlay,className:l.a.smallDialogContainer,isOpen:p,onRequestClose:h,contentLabel:"Please answer the following question to continue"},e.createElement("div",{className:l.a.prompt},o&&e.createElement("div",{className:l.a.title},o),d&&e.createElement("div",{className:l.a.subheader},d),m&&e.createElement("div",{className:l.a.body},m)),b&&e.createElement("div",{className:l.a.choiceWrapper},b.map(function(t,n){return e.createElement(u,{key:t,choice:t,index:n,completeDialog:f})})))}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/base/snack-pill.scss":function(e,t,n){e.exports={snackWrapper:"snack-pill__snackWrapper___10BTI",positionAbsolute:"snack-pill__positionAbsolute___LyFPU",positionFixed:"snack-pill__positionFixed___3ZdnB",snackPill:"snack-pill__snackPill___2qSTa",avatar:"snack-pill__avatar___32r1m",tall:"snack-pill__tall___5H035",black:"snack-pill__black___jHKxo",red:"snack-pill__red___31Ir7",snackPillCloseButtonContainer:"snack-pill__snackPillCloseButtonContainer___32cvd",snackPillFollowButtonContainer:"snack-pill__snackPillFollowButtonContainer___3er3D",snackPillContents:"snack-pill__snackPillContents___-7-yX",avatarPadding:"snack-pill__avatarPadding___6q6LZ",endDecorationPadding:"snack-pill__endDecorationPadding___3sz_i",center:"snack-pill__center___2IDvV",left:"snack-pill__left___3SMSO",snackPillTitle:"snack-pill__snackPillTitle___hPzxS",snackPillSubtitle:"snack-pill__snackPillSubtitle___1XaLU",snackPillAvatar:"snack-pill__snackPillAvatar___2MctD",snackPillContentsMessageKit:"snack-pill__snackPillContentsMessageKit___3yvh2",snackPillCloseMessageKit:"snack-pill__snackPillCloseMessageKit___32f32",snackPillTitleMessageKit:"snack-pill__snackPillTitleMessageKit___1W1Ej",snackPillSubtitleMessageKit:"snack-pill__snackPillSubtitleMessageKit___2vAhu"}},"./src/pieces/base/snack-pill.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./node_modules/framer-motion/dist/framer-motion.es.js"),u=n("./src/pieces/base/create-image-url.js"),d=n("./src/pieces/base/close-icon.tsx"),_=n("./src/pieces/users/follow-button.tsx"),m=n("./src/pieces/base/snack-pill.scss"),g=n.n(m);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Snack-pill");t.a=function(e){var t,n,a,s,m,b,f,h=e.children,v=e.show,w=e.title,C=e.subtitle,y=e.anchor,j=void 0===y?"topRight":y,O=e.animationDirection,S=void 0===O?"right":O,E=e.avatarImagePath,x=e.backgroundColor,k=void 0===x?"black":x,I=e.followButtonCAID,T=e.offsetTop,F=void 0===T?0:T,P=e.offsetSide,N=void 0===P?0:P,M=e.textAlign,L=void 0===M?"left":M,B=e.positionFixed,A=void 0!==B&&B,D=e.onClick,U=e.onClose,R=e.onHover,H=void 0===R?function(){return null}:R,W=!!C,V=!!E&&!C,z=!!I||!!U,G=Object(l.c)(),q=Object(i.useMemo)(function(){switch(j){case"topCenter":return{top:64+F,left:"50%",transform:"translate(-50%, 0%)"};case"topLeft":return{top:64+F,left:8+N};case"topRight":default:return{top:64+F,right:88+N}}},[j]),J=Object(i.useMemo)(function(){var e={type:"spring",damping:20,restSpeed:1e-4},t={animationInitial:{opacity:0},animate:{opacity:1,transition:e},animationExit:{opacity:0,transition:p({},e)}};switch(S){case"top":return{animationInitial:p({},t.animationInitial,{y:-25}),animate:p({},t.animate,{y:0}),animationExit:p({},t.animationExit,{y:-25})};case"bottom":return{animationInitial:p({},t.animationInitial,{y:25}),animate:p({},t.animate,{y:0}),animationExit:p({},t.animationExit,{y:25})};case"left":return{animationInitial:p({},t.animationInitial,{x:-25}),animate:p({},t.animate,{x:0}),animationExit:p({},t.animationExit,{x:-25})};case"right":return{animationInitial:p({},t.animationInitial,{x:25}),animate:p({},t.animate,{x:0}),animationExit:p({},t.animationExit,{x:25})};case"initial":default:return t}},[S]),Z=J.animationInitial,Y=J.animate,Q=J.animationExit,K=Object(i.useCallback)(function(){H(!0)},[H]),X=Object(i.useCallback)(function(){H(!1)},[H]),$=Object(i.useCallback)(function(){G.start(Y)},[G,Y]);return o.a.createElement("div",{style:q,className:c()((t={},r()(t,g.a.snackWrapper,!0),r()(t,g.a.positionFixed,A),r()(t,g.a.positionAbsolute,!A),t)),onMouseEnter:K,onMouseLeave:X},o.a.createElement(l.a,{exitBeforeEnter:!0},v&&o.a.createElement(l.b.div,{initial:Z,animate:V?G:Y,exit:Q,className:c()((n={},r()(n,g.a.snackPill,!0),r()(n,g.a.tall,W),r()(n,g.a.avatar,V),r()(n,g.a["".concat(k)],!0),n)),onClick:D},o.a.createElement("div",{className:c()((a={},r()(a,g.a.snackPillContents,!0),r()(a,g.a.tall,W),r()(a,g.a.avatarPadding,V),r()(a,g.a.endDecorationPadding,z),r()(a,g.a["".concat(L)],!0),a))},V&&o.a.createElement("img",{className:g.a.snackPillAvatar,src:Object(u.c)(E),onLoad:$}),w&&o.a.createElement("div",{className:c()((s={},r()(s,g.a.snackPillTitle,!0),r()(s,g.a["".concat(L)],!0),s))},w),C&&o.a.createElement("div",{className:c()((m={},r()(m,g.a.snackPillSubtitle,!0),r()(m,g.a["".concat(L)],!0),m))},C),h,U&&o.a.createElement("div",{className:c()((b={},r()(b,g.a.snackPillCloseButtonContainer,!0),r()(b,g.a.tall,W),b)),onClick:U},o.a.createElement(d.a,{size:"smallMedium"})),I&&!U&&o.a.createElement("div",{className:c()((f={},r()(f,g.a.snackPillFollowButtonContainer,!0),r()(f,g.a.tall,W),r()(f,g.a.avatar,V),f))},o.a.createElement(_.a,{caid:I,darkTheme:!0,size:"small"}))))))}},"./src/pieces/base/spinner/spinner-icon.scss":function(e,t,n){e.exports={spinnerIcon:"spinner-icon__spinnerIcon___14rkO",spin:"spinner-icon__spin___1rkD0",xsmall:"spinner-icon__xsmall___3zjGI",small:"spinner-icon__small___2mDBT",smallMedium:"spinner-icon__smallMedium___2UoVL",medium:"spinner-icon__medium___17o53",large:"spinner-icon__large___FxBTl"}},"./src/pieces/base/storage.js":function(e,t,n){"use strict";var a=n("./src/pieces/base/error-reporting.js");n("./node_modules/bows/bows.js")("Storage");t.a={get:function(e){var t=localStorage.getItem(e);try{return t&&"undefined"!==t?JSON.parse(t):void 0}catch(n){return Object(a.a)("Failed to deserialize localStorage value",{key:e,value:t}),null}},set:function(e,t){return localStorage.setItem(e,JSON.stringify(t))},remove:function(e){return localStorage.setItem(e,JSON.stringify(null))}}},"./src/pieces/base/ticket-modal/ticket-modal.scss":function(e,t,n){e.exports={overlay:"ticket-modal__overlay___1r1QG modals__container___3QxjF",container:"ticket-modal__container___n3eBM",contentBackground:"ticket-modal__contentBackground___2u3ED",content:"ticket-modal__content___ubrp7",avatar:"ticket-modal__avatar___1KGTT",broadcastTitle:"ticket-modal__broadcastTitle___2Jspt",avatarContainer:"ticket-modal__avatarContainer___3JO3a",title:"ticket-modal__title___rb7FH",subtitle:"ticket-modal__subtitle___3zBtq",body:"ticket-modal__body___2GyFW",button:"ticket-modal__button___1lJlh",main:"ticket-modal__main___3OQBI",icon:"ticket-modal__icon___vJnZh",secondary:"ticket-modal__secondary___2IeRD",meta:"ticket-modal__meta___3yeSs",metaInner:"ticket-modal__metaInner___3z32j",metaContent:"ticket-modal__metaContent___2Rwcb",price:"ticket-modal__price___2Y952",controls:"ticket-modal__controls___3rxlz",paywallHeader:"ticket-modal__paywallHeader___2SgrQ",paywallTitle:"ticket-modal__paywallTitle___1kTQX",description:"ticket-modal__description___13AO1",close:"ticket-modal__close___335Uq",modalContent:"ticket-modal__modalContent___2xv2o",modalOverlay:"ticket-modal__modalOverlay___3VqWT"}},"./src/pieces/base/user-snack-pill.scss":function(e,t,n){e.exports={followerSnackTextContainer:"user-snack-pill__followerSnackTextContainer___2mY1n",badgePadding:"user-snack-pill__badgePadding___1R6Jn",followerSnackBadgeContainer:"user-snack-pill__followerSnackBadgeContainer___10G4S"}},"./src/pieces/base/user-snippet-content.scss":function(e,t,n){e.exports={userSnippet:"user-snippet-content__userSnippet___l9238",isFullWidth:"user-snippet-content__isFullWidth___sp6_4",isClickable:"user-snippet-content__isClickable___29VOa",badge:"user-snippet-content__badge___1_jAi",badgeTopPerformer:"user-snippet-content__badgeTopPerformer___q1mVP user-snippet-content__badge___1_jAi",username:"user-snippet-content__username___1jgJQ",usernameContainer:"user-snippet-content__usernameContainer___2-l6Y"}},"./src/pieces/base/user-snippet.scss":function(e,t,n){e.exports={userSnippet:"user-snippet__userSnippet___CVG8R",action:"user-snippet__action___2OeF5",userSnippetWithFollowButtonContainer:"user-snippet__userSnippetWithFollowButtonContainer___59Oy_",userSnippetContainer:"user-snippet__userSnippetContainer___1et2i",followButtonContainer:"user-snippet__followButtonContainer___2hZGv",primaryDetails:"user-snippet__primaryDetails___3fUNH",fullName:"user-snippet__fullName___2-HIl",truncateLongFullName:"user-snippet__truncateLongFullName___1FAc9",fullNameWithDarkTheme:"user-snippet__fullNameWithDarkTheme___3qPHA user-snippet__fullName___2-HIl",fullNameWithWhiteTheme:"user-snippet__fullNameWithWhiteTheme___2zbDP user-snippet__fullName___2-HIl",subTextContainer:"user-snippet__subTextContainer___2ndr7",subText:"user-snippet__subText___3wmk1",truncateLongSubText:"user-snippet__truncateLongSubText___3ThCb",usernameContainer:"user-snippet__usernameContainer___1zHTg",details:"user-snippet__details___26tty",tiny:"user-snippet__tiny___3I4Dd",avatar:"user-snippet__avatar___l74D9",followersBadgeContainer:"user-snippet__followersBadgeContainer___1Le5b",followersBadge:"user-snippet__followersBadge___3QY6W",verificationBadge:"user-snippet__verificationBadge___dMkWP",small:"user-snippet__small___2SmRr",medium:"user-snippet__medium___3ock0",large:"user-snippet__large___34_HW",minimal:"user-snippet__minimal___20Vf0",huge:"user-snippet__huge___1Zn30",names:"user-snippet__names___2Gvoh",darkNoFollowEffect:"user-snippet__darkNoFollowEffect___2cezo",redesign_userSnippet:"user-snippet__redesign_userSnippet___25kyn",isFullWidth:"user-snippet__isFullWidth___1AXqg",isConstrainedWidth:"user-snippet__isConstrainedWidth___1-wZJ",redesign_mobileUserSnippet:"user-snippet__redesign_mobileUserSnippet___2nt3Y",redesign_linkWrapper:"user-snippet__redesign_linkWrapper___1F8aP",redesign_username:"user-snippet__redesign_username___8Tth5",redesign_subText:"user-snippet__redesign_subText___1H_Q0",redesign_followButton:"user-snippet__redesign_followButton___3eikz",redesign_badge:"user-snippet__redesign_badge___3ArIn",noPadding:"user-snippet__noPadding___2iJe0",smallPadding:"user-snippet__smallPadding___2IuhM",redesign_hasSubText:"user-snippet__redesign_hasSubText___2It56",redesign_hasAccent:"user-snippet__redesign_hasAccent___3GJV-",redesign_usernameContainer:"user-snippet__redesign_usernameContainer___1F6VB",redesign_darkTheme:"user-snippet__redesign_darkTheme___11KWz",redesign_followEffect:"user-snippet__redesign_followEffect___1rzFE",redesign_isFollowed:"user-snippet__redesign_isFollowed___3FVcT",PARTNER3:"user-snippet__PARTNER3___2LvyS",PARTNER2:"user-snippet__PARTNER2___qQlFV",PARTNER1:"user-snippet__PARTNER1___wBd8r",CASTER:"user-snippet__CASTER___JzCf9",VERIFIED:"user-snippet__VERIFIED___Fhx3u",mega:"user-snippet__mega___1mHTx",redesign_mobileUsernameContainer:"user-snippet__redesign_mobileUsernameContainer___3xUBR",redesign_isFullWidth:"user-snippet__redesign_isFullWidth___1Spvc",redesign_mobileUsername:"user-snippet__redesign_mobileUsername___18sYG",redesign_username_search:"user-snippet__redesign_username_search___39Bi8",redesign_userActionsMenu:"user-snippet__redesign_userActionsMenu___2vKTN",redesign_isClickable:"user-snippet__redesign_isClickable___2llqt"}},"./src/pieces/base/user-snippet.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/helpers/extends.js"),c=n.n(s),l=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),u=n.n(l),d=n("./node_modules/react/index.js"),_=n.n(d),m=n("./node_modules/classnames/index.js"),g=n.n(m),b=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/recompose/dist/Recompose.esm.js"),f=n("./node_modules/reselect/lib/index.js"),h=n("./src/pieces/users/users.reducer.js"),v=n("./src/pieces/base/constants.js"),w=n("./src/pieces/base/avatar.tsx"),C=n("./src/pieces/base/badge.tsx"),y=n("./src/pieces/users/follow-button.tsx"),j=n("./node_modules/react-router/es/index.js"),O=n("./src/pieces/current-user/current-user.reducer.js"),S=n("./src/pieces/base/popover/popover.js"),E=n("./src/pieces/users/basic-user-info-popover.scss"),x=n.n(E),k=(n("./node_modules/bows/bows.js")("Basic-user-info-popover"),Object(p.a)(Object(b.b)(null,{PromptToReportUser:O.PromptToReportUser,PromptToIgnoreUser:O.PromptToIgnoreUser}),Object(p.d)({promptToReportUser:function(e){return function(){return e.PromptToReportUser(e.user.caid,e.user.username,e.user)}},promptToIgnoreUser:function(e){return function(){return e.PromptToIgnoreUser(e.user.caid,e.user.username,e.user)}}}))),I=function(e){var t=e.user,n=e.showBlockActions,a=e.darkTheme,r=u()(e,["user","showBlockActions","darkTheme"]);return _.a.createElement("div",{className:x.a.redesign_basicUserInfoPopover},_.a.createElement(T,{className:x.a.redesign_earmarkedBoxUser}),_.a.createElement("div",{className:x.a.redesign_body},_.a.createElement("div",{className:x.a.redesign_avatar},_.a.createElement(w.a,{user:t,size:"veryLarge",allowAnimation:!1})),_.a.createElement("div",{className:x.a.redesign_usernameContainer},_.a.createElement("div",{className:x.a.redesign_username},_.a.createElement(j.b,{className:a?x.a.redesign_actionWithDarkTheme:x.a.redesign_action,to:"/".concat(t.username),target:"_blank",rel:"noopener noreferrer"},t.username)),t.badge&&_.a.createElement("div",{className:x.a.redesign_badge},_.a.createElement(C.a,{badge:t.badge}))),_.a.createElement("div",{className:x.a.redesign_followButton},_.a.createElement(y.a,{caid:t.caid,darkTheme:a,size:"xsmall",hasFollowLabel:!0}))),n&&_.a.createElement("div",{className:x.a.redesign_footer},_.a.createElement("div",{className:x.a.redesign_reportButton,onClick:r.promptToReportUser},"report"),_.a.createElement("div",{className:x.a.redesign_ignoreButton,onClick:r.promptToIgnoreUser},"ignore")))},T=function(e){var t=e.className;return _.a.createElement("svg",{width:"196",height:"239",viewBox:"0 0 196 239",className:t},_.a.createElement("defs",null,_.a.createElement("path",{id:"popover-a",d:"M0 7.89299182e-17L0 184 192 184 192 10.5 173.5 0z"})),_.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(2 2)"},_.a.createElement("path",{fill:"#000",stroke:"#FFF",strokeWidth:"2",d:"M-1-1h175.266L193 9.723V236H-1V-1z"}),_.a.createElement("mask",{id:"popover-b",fill:"#fff"},_.a.createElement("use",{xlinkHref:"#popover-a"})),_.a.createElement("g",{stroke:"#101010",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",mask:"url(#popover-b)"},_.a.createElement("g",{transform:"translate(-51 -52) translate(0 144)"},_.a.createElement("path",{d:"M83.7 0L28.3 0 46.8 21.3z"}),_.a.createElement("path",{d:"M61.5 38.4L28.3 32 50.5 57.6 50.5 57.6 83.7 64z"}),_.a.createElement("path",{d:"M111.4 48L83.7 0 83.7 42.7z"}),_.a.createElement("path",{d:"M83.7 64L83.7 42.7 83.7 0 61.5 38.4z"}),_.a.createElement("path",{d:"M28.3 32L61.5 38.4 61.5 38.4 83.7 0 46.8 21.3z"}),_.a.createElement("path",{d:"M83.7 64L83.7 96 111.4 48z"}),_.a.createElement("path",{d:"M83.7 64L50.5 57.6 50.5 57.6 28.3 96 65.2 74.7z"}),_.a.createElement("path",{d:"M28.3 96L83.7 96 65.2 74.7z"}),_.a.createElement("path",{d:"M28.3 32L28.3 53.3 28.3 96 50.5 57.6z"}),_.a.createElement("path",{d:"M65.2 74.7L83.7 96 83.7 64z"}),_.a.createElement("path",{d:"M83.7 64L111.4 48 83.7 42.7z"})),_.a.createElement("g",{transform:"translate(-51 -52) translate(0 48)"},_.a.createElement("path",{d:"M83.7 0L28.3 0 46.8 21.3z"}),_.a.createElement("path",{d:"M61.5 38.4L28.3 32 50.5 57.6 50.5 57.6 83.7 64z"}),_.a.createElement("path",{d:"M111.4 48L83.7 0 83.7 42.7z"}),_.a.createElement("path",{d:"M83.7 64L83.7 42.7 83.7 0 61.5 38.4z"}),_.a.createElement("path",{d:"M28.3 32L61.5 38.4 61.5 38.4 83.7 0 46.8 21.3z"}),_.a.createElement("path",{d:"M83.7 64L83.7 96 111.4 48z"}),_.a.createElement("path",{d:"M83.7 64L50.5 57.6 50.5 57.6 28.3 96 65.2 74.7z"}),_.a.createElement("path",{d:"M28.3 96L83.7 96 65.2 74.7z"}),_.a.createElement("path",{d:"M28.3 32L28.3 53.3 28.3 96 50.5 57.6z"}),_.a.createElement("path",{d:"M65.2 74.7L83.7 96 83.7 64z"}),_.a.createElement("path",{d:"M83.7 64L111.4 48 83.7 42.7z"})),_.a.createElement("g",{transform:"translate(-51 -52) translate(83 192)"},_.a.createElement("path",{d:"M83.9 0L28.4 0 46.9 21.3z"}),_.a.createElement("path",{d:"M28.4 0L0.7 48 28.4 32z"}),_.a.createElement("path",{d:"M46.9 21.3L28.4 0 28.4 32z"}),_.a.createElement("path",{d:"M61.7 38.4L28.4 32 50.6 57.6 50.6 57.6 83.9 64z"}),_.a.createElement("path",{d:"M111.6 48L83.9 0 83.9 42.7z"}),_.a.createElement("path",{d:"M83.9 64L83.9 42.7 83.9 0 61.7 38.4z"}),_.a.createElement("path",{d:"M28.4 32L61.7 38.4 61.7 38.4 83.9 0 46.9 21.3z"}),_.a.createElement("path",{d:"M83.9 64L83.9 96 111.6 48z"}),_.a.createElement("path",{d:"M83.9 64L50.6 57.6 50.6 57.6 28.4 96 65.4 74.7z"}),_.a.createElement("path",{d:"M28.4 96L83.9 96 65.4 74.7z"}),_.a.createElement("path",{d:"M28.4 32L28.4 53.3 28.4 96 50.6 57.6z"}),_.a.createElement("path",{d:"M0.7 48L28.4 96 28.4 53.3z"}),_.a.createElement("path",{d:"M28.4 32L0.7 48 28.4 53.3z"}),_.a.createElement("path",{d:"M65.4 74.7L83.9 96 83.9 64z"}),_.a.createElement("path",{d:"M83.9 64L111.6 48 83.9 42.7z"})),_.a.createElement("g",{transform:"translate(-51 -52) translate(166 144)"},_.a.createElement("path",{d:"M84 0L28.6 0 47 21.3z"}),_.a.createElement("path",{d:"M28.6 0L0.9 48 28.6 32z"}),_.a.createElement("path",{d:"M47 21.3L28.6 0 28.6 32z"}),_.a.createElement("path",{d:"M61.8 38.4L28.6 32 50.7 57.6 50.7 57.6 84 64z"}),_.a.createElement("path",{d:"M84 64L84 42.7 84 0 61.8 38.4z"}),_.a.createElement("path",{d:"M28.6 32L61.8 38.4 61.8 38.4 84 0 47 21.3z"}),_.a.createElement("path",{d:"M84 64L50.7 57.6 50.7 57.6 28.6 96 65.5 74.7z"}),_.a.createElement("path",{d:"M28.6 96L84 96 65.5 74.7z"}),_.a.createElement("path",{d:"M28.6 32L28.6 53.3 28.6 96 50.7 57.6z"}),_.a.createElement("path",{d:"M0.9 48L28.6 96 28.6 53.3z"}),_.a.createElement("path",{d:"M28.6 32L0.9 48 28.6 53.3z"},"/"),_.a.createElement("path",{d:"M65.5 74.7L84 96 84 64z"})),_.a.createElement("g",{transform:"translate(-51 -52) translate(83 96)"},_.a.createElement("path",{d:"M83.9 0L28.4 0 46.9 21.3z"}),_.a.createElement("path",{d:"M28.4 0L0.7 48 28.4 32z"}),_.a.createElement("path",{d:"M46.9 21.3L28.4 0 28.4 32z"}),_.a.createElement("path",{d:"M61.7 38.4L28.4 32 50.6 57.6 50.6 57.6 83.9 64z"}),_.a.createElement("path",{d:"M111.6 48L83.9 0 83.9 42.7z"}),_.a.createElement("path",{d:"M83.9 64L83.9 42.7 83.9 0 61.7 38.4z"}),_.a.createElement("path",{d:"M28.4 32L61.7 38.4 61.7 38.4 83.9 0 46.9 21.3z"}),_.a.createElement("path",{d:"M83.9 64L83.9 96 111.6 48z"}),_.a.createElement("path",{d:"M83.9 64L50.6 57.6 50.6 57.6 28.4 96 65.4 74.7z"}),_.a.createElement("path",{d:"M28.4 96L83.9 96 65.4 74.7z"}),_.a.createElement("path",{d:"M28.4 32L28.4 53.3 28.4 96 50.6 57.6z"}),_.a.createElement("path",{d:"M0.7 48L28.4 96 28.4 53.3z"}),_.a.createElement("path",{d:"M28.4 32L0.7 48 28.4 53.3z"}),_.a.createElement("path",{d:"M65.4 74.7L83.9 96 83.9 64z"}),_.a.createElement("path",{d:"M83.9 64L111.6 48 83.9 42.7z"})),_.a.createElement("g",{transform:"translate(-51 -52) translate(166 48)"},_.a.createElement("path",{d:"M84 0L28.6 0 47 21.3z"}),_.a.createElement("path",{d:"M28.6 0L0.9 48 28.6 32z"}),_.a.createElement("path",{d:"M47 21.3L28.6 0 28.6 32z"}),_.a.createElement("path",{d:"M61.8 38.4L28.6 32 50.7 57.6 50.7 57.6 84 64z"}),_.a.createElement("path",{d:"M84 64L84 42.7 84 0 61.8 38.4z"}),_.a.createElement("path",{d:"M28.6 32L61.8 38.4 61.8 38.4 84 0 47 21.3z"}),_.a.createElement("path",{d:"M84 64L50.7 57.6 50.7 57.6 28.6 96 65.5 74.7z"},"/"),_.a.createElement("path",{d:"M28.6 96L84 96 65.5 74.7z"}),_.a.createElement("path",{d:"M28.6 32L28.6 53.3 28.6 96 50.7 57.6z"},"/"),_.a.createElement("path",{d:"M0.9 48L28.6 96 28.6 53.3z"}),_.a.createElement("path",{d:"M28.6 32L0.9 48 28.6 53.3z"}),_.a.createElement("path",{d:"M65.5 74.7L84 96 84 64z"})),_.a.createElement("g",{transform:"translate(-51 -52) translate(83)"},_.a.createElement("path",{d:"M61.7 38.4L28.4 32 50.6 57.6 50.6 57.6 83.9 64z"}),_.a.createElement("path",{d:"M83.9 64L83.9 42.7 83.9 0 61.7 38.4z"}),_.a.createElement("path",{d:"M83.9 64L83.9 96 111.6 48z"}),_.a.createElement("path",{d:"M83.9 64L50.6 57.6 50.6 57.6 28.4 96 65.4 74.7z"}),_.a.createElement("path",{d:"M28.4 96L83.9 96 65.4 74.7z"}),_.a.createElement("path",{d:"M28.4 32L28.4 53.3 28.4 96 50.6 57.6z"}),_.a.createElement("path",{d:"M0.7 48L28.4 96 28.4 53.3z"}),_.a.createElement("path",{d:"M28.4 32L0.7 48 28.4 53.3z"}),_.a.createElement("path",{d:"M65.4 74.7L83.9 96 83.9 64z"}),_.a.createElement("path",{d:"M83.9 64L111.6 48 83.9 42.7z"}))),_.a.createElement("path",{fill:"#FFF",d:"M95.5 184H96.5V235H95.5z"}),_.a.createElement("path",{fill:"#FFF",d:"M0 184H192V185H0z"})))},F=k(function(e){return _.a.createElement(S.a,c()({size:"specialEarmarked",content:_.a.createElement(I,e),darkTheme:e.darkTheme,isEarmarkedPopover:!0},e.popoverSettings),e.children)}),P=n("./src/pieces/base/popover/popover.reducer.js"),N=n("./src/pieces/current-user/ellipsis-icon.js"),M=n("./src/pieces/current-user/user-actions-menu-and-stage-actions-menu.scss"),L=n.n(M),B=(n("./node_modules/bows/bows.js")("User-actions-menu"),Object(p.a)(Object(b.b)(function(e){return{ignoredUserCaids:Object(O.selectIgnoredUserCaids)(e)}},{PromptToIgnoreUser:O.PromptToIgnoreUser,PromptToReportUser:O.PromptToReportUser,UnignoreUser:O.UnignoreUser,ClearPopovers:P.ClearPopovers}),Object(p.d)({toggleUserIgnore:function(e){return function(){e.ignoredUserCaids.includes(e.entertainer.caid)?e.UnignoreUser(e.entertainer.caid):e.PromptToIgnoreUser(e.entertainer.caid,e.entertainer.username,e.entertainer)}},reportUser:function(e){return function(){e.PromptToReportUser(e.entertainer.caid,e.entertainer.username,e.entertainer)}}}))),A=function(e){return _.a.createElement(_.a.Fragment,null,e.isNotIgnored&&_.a.createElement("button",{onClick:e.toggleUserIgnore,className:e.darkTheme?L.a.redesign_profileIgnoreButtonWithDarkTheme:L.a.redesign_profileIgnoreButton},"Ignore this user"),_.a.createElement("button",{onClick:e.reportUser,className:e.darkTheme?L.a.redesign_profileReportButtonWithDarkTheme:L.a.redesign_profileReportButton},"Report this user"))},D=B(function(e){var t=!e.ignoredUserCaids.includes(e.entertainer.caid);return _.a.createElement(S.a,c()({show:!0,size:"isRedesignTooltip",orientation:"aboveRight"},e.popoverSettings,{content:_.a.createElement(A,c()({isNotIgnored:t},e)),clearOnClick:!0,isLargeTooltip:t,isRedesignTooltip:!0,darkTheme:e.darkTheme,isUserAction:!0}),_.a.createElement("button",{className:e.className||L.a.trigger},_.a.createElement(N.a,{size:e.size,orientation:"vertical",color:"#ffffff"})))}),U=n("./src/pieces/base/user-snippet.scss"),R=n.n(U),H=(n("./node_modules/bows/bows.js")("User-snippet"),Object(p.a)(Object(b.b)(Object(f.createStructuredSelector)({followedUserCaids:h.selectFollowedUserCaids}),{}))),W=["#27274d","#ca9bff","#5a3650","#f5be01"],V=v.a.BLUE_GRADIENT,z=v.a.PINK_GRADIENT,G=v.a.PURPLE_GRADIENT,q=v.a.ORANGE_GRADIENT,J=["linear-gradient(-225deg, ".concat(V[0]," 0%, ").concat(V[1]," 52%, ").concat(V[2]," 100%)"),"linear-gradient(-225deg, ".concat(z[0]," 0%, ").concat(z[1]," 54%, ").concat(z[2]," 100%)"),"linear-gradient(-225deg, ".concat(G[0]," 0%, ").concat(G[1]," 51%, ").concat(G[2]," 100%)"),"linear-gradient(-225deg, ".concat(q[0]," 0%, ").concat(q[1]," 64%, ").concat(q[2]," 100%)")],Z=function(e){var t,n,a,i,s=e.user,l=e.followedUserCaids,u=void 0===l?[]:l,m=e.size,b=void 0===m?"large":m,p=e.avatarSize,f=void 0===p?"large":p,h=e.accentColor,j=void 0!==h&&h,O=e.className,S=e.hideFollowButton,E=e.showUserActionsMenu,x=e.showIsLive,k=void 0!==x&&x,I=e.enableFollowedEffect,T=e.topPerformer,F=void 0!==T&&T,P=e.hideAvatar,N=e.allowAvatarAnimation,M=void 0===N||N,L=e.afterFollowHandler,B=e.afterUnfollowHandler,A=e.onUsernameClickedHandler,U=e.hideBadge,H=e.isConstrainedWidth,V=e.darkTheme,z=e.isFullWidth,G=e.subText,q=e.hollow,Z=void 0!==q&&q,Y=(e.dudleyComponentName,Object(d.useState)(!1)),Q=o()(Y,2),K=Q[0],X=Q[1],$=Object(d.useRef)(null),ee="true"===localStorage.getItem(v.Fb),te=Object(d.useCallback)(function(e){var t="number"===typeof e?e%J.length:Math.floor(parseInt(parseInt(s.caid.slice(-1),16).toString(10))/16*J.length);return{gradient:J[t],border:W[t]}},[J,W,s]),ne=function(e){var t=e.gradient,n=e.border;return Z?{border:"2px solid ".concat(n)}:{background:t}},ae="number"===typeof j?{style:ne(te(j))}:j?{style:ne(te())}:{};return Object(d.useLayoutEffect)(function(){if($.current){var e=$.current;X(e.offsetWidth+0<e.scrollWidth)}},[$.current,s.badge]),_.a.createElement("div",c()({className:g()((t={},r()(t,R.a.redesign_userSnippet,!0),r()(t,R.a.redesign_mobileUserSnippet,ee),r()(t,R.a.redesign_darkTheme,V),r()(t,R.a["".concat(b)],b),r()(t,R.a.redesign_hasAccent,"number"===typeof j||!0===j),r()(t,R.a.isFullWidth,z),r()(t,R.a.isConstrainedWidth,H),r()(t,"".concat(O),O),t))},ae),!P&&_.a.createElement(w.a,{user:s,size:f,allowAnimation:M,showIsLive:k}),_.a.createElement("div",{className:g()((n={},r()(n,R.a.redesign_usernameContainer,!0),r()(n,R.a.redesign_mobileUsernameContainer,ee),r()(n,R.a["".concat(s.badge)],s.badge),n))},_.a.createElement("div",{ref:$,className:g()((a={},r()(a,R.a.redesign_username,!0),r()(a,R.a.redesign_mobileUsername,ee),r()(a,R.a.redesign_username_search,!0),r()(a,R.a.redesign_followEffect,I),r()(a,R.a.redesign_isFollowed,u.includes(s.caid)&&I),r()(a,R.a.noPadding,P),r()(a,R.a.redesign_isClickable,A),r()(a,R.a.redesign_hasSubText,!!G),a)),onClick:A},s.username),G&&_.a.createElement("div",{className:R.a.redesign_subText},G)),s.badge&&!U&&_.a.createElement("div",{className:g()((i={},r()(i,R.a.redesign_badge,!0),r()(i,R.a.noPadding,K),r()(i,R.a.smallPadding,F),r()(i,R.a.redesign_hasSubText,!!G),i))},_.a.createElement(C.a,{badge:s.badge})),z&&_.a.createElement("div",{className:R.a.redesign_isFullWidth}),!S&&_.a.createElement("div",{className:R.a.redesign_followButton},_.a.createElement(y.a,{caid:s.caid,darkTheme:V,afterFollowHandler:L,afterUnfollowHandler:B,size:"mega"===b?"large":"small"})),E&&_.a.createElement("div",{className:R.a.redesign_userActionsMenu},_.a.createElement(D,{darkTheme:V,entertainer:s,popoverSettings:{orientation:"aboveRight",horizontalOffset:-14},size:"large"})))};t.a=H(function(e){var t=e.enableInfoPopover,n=e.popoverSettings,a=void 0===n?{}:n,r=e.infoSettings,i=void 0===r?{}:r,o=e.linkToProfileInNewTab,s=e.linkToProfile,l=u()(e,["enableInfoPopover","popoverSettings","infoSettings","linkToProfileInNewTab","linkToProfile"]),d=l.afterBodyClickHandler,m=l.darkTheme,g=l.user;if(!g)return null;if(t){var b=Object.assign({automaticOrientation:!0},a);return _.a.createElement(F,c()({user:g,popoverSettings:b,darkTheme:m},i),_.a.createElement(Z,l))}if(o||s){var p=o?{target:"_blank"}:{};return _.a.createElement("a",c()({className:R.a.redesign_linkWrapper,href:"/".concat(g.username,"/profile")},p,{rel:"noopener noreferrer",onClick:function(e){e.stopPropagation(),d&&d(e)}}),_.a.createElement(Z,l))}return _.a.createElement(Z,l)})},"./src/pieces/base/user-utilities.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("./node_modules/bows/bows.js")("User-utilities");var a=function(e){return e.replace(/^CAID/i,"")}},"./src/pieces/base/window-resize-tracker.js":function(e,t,n){"use strict";var a=n("./node_modules/lodash/debounce.js"),r=n.n(a),i=(n("./node_modules/bows/bows.js")("Window-resize-tracker"),[]),o=function(){return{width:window.innerWidth,height:window.innerHeight}},s={addEventListener:function(e){i.push(e),e(o())},removeEventListener:function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1)},handleResize:function(){for(var e=o(),t=0;t<i.length;t+=1)i[t](e)}},c=r()(s.handleResize,250);window.addEventListener("resize",c),t.a=s},"./src/pieces/broadcast/broadcast.reducer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return y}),n.d(t,"DisconnectBroadcastSubscriptionMessages",function(){return O}),n.d(t,"ResetBroadcastConfiguration",function(){return S}),n.d(t,"selectActiveStreamIds",function(){return E}),n.d(t,"selectBroadcastConfigurationTransition",function(){return x}),n.d(t,"selectMediaStreamIds",function(){return k}),n.d(t,"selectBroadcastConfigurationtHasOutOfCapacityError",function(){return I}),n.d(t,"selectBroadcastConfiguration",function(){return T}),n.d(t,"selectBroadcastContainerAspectRatio",function(){return F}),n.d(t,"selectBroadcaster",function(){return P}),n.d(t,"selectViewerStatus",function(){return N}),n.d(t,"selectGroupedSelectorValues",function(){return M}),n.d(t,"selectSecondaryStreamAspectRatio",function(){return L}),n.d(t,"selectViewerStreams",function(){return B}),n.d(t,"selectBroadcastStageId",function(){return U}),n.d(t,"transformStageDirectorResponseToBroadcastConfiguration",function(){return H}),n.d(t,"AnnounceBroadcastStreamIsConnected",function(){return W}),n.d(t,"AddBroadcastStream",function(){return V}),n.d(t,"LoadBroadcast",function(){return z}),n.d(t,"ReestablishViewerStream",function(){return G}),n.d(t,"RemoveMediaStreamId",function(){return q}),n.d(t,"SetBroadcastConfiguration",function(){return J}),n.d(t,"SetBroadcaster",function(){return Z}),n.d(t,"SetDynamicRoleFeedIsPlaying",function(){return Y}),n.d(t,"SetOptionalPrimaryFeedIsPlaying",function(){return Q}),n.d(t,"SetDynamicRoleFeedAspectRatio",function(){return K}),n.d(t,"SetOptionalPrimaryFeedAspectRatio",function(){return X}),n.d(t,"SetViewerStatus",function(){return $}),n.d(t,"SetMediaStreamId",function(){return ee}),n.d(t,"TearDownBroadcastStream",function(){return te}),n.d(t,"UnloadBroadcast",function(){return ne});var a,r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(o),c=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(c),u=n("./node_modules/lodash/cond.js"),d=n.n(u),_=n("./node_modules/lodash/constant.js"),m=n.n(_),g=n("./node_modules/immutable/dist/immutable.js"),b=n.n(g),p=n("./node_modules/redux-actions/es/createAction.js"),f=n("./node_modules/redux-actions/es/handleActions.js"),h=n("./node_modules/reselect/lib/index.js"),v=n("./src/pieces/base/core.types.ts"),w=n("./src/pieces/base/constants.js");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}n("./node_modules/bows/bows.js")("Broadcast.reducer");var y="broadcast",j={activeStreamIds:b.a.Set(),broadcastConfiguration:null,broadcastConfigurationTransition:null,broadcaster:null,dynamicRoleFeedAspectRatio:w.fb,dynamicRoleFeedIsPlaying:!1,optionalPrimaryFeedAspectRatio:w.fb,optionalPrimaryFeedIsPlaying:!1,viewerStatus:v.b.Loading,mediaStreamIds:{}},O=Object(p.a)("Disconnect Broadcast Subscription Messages"),S=Object(p.a)("Reset Broadcast Configuration"),E=Object(h.createSelector)(function(e){return e[y].get("activeStreamIds")},function(e){return e.toArray()}),x=function(e){return e[y].get("broadcastConfigurationTransition")},k=Object(h.createSelector)(function(e){return e[y].get("mediaStreamIds")},function(e){return e.toJS()}),I=function(e){var t=e[y].getIn(["broadcastConfiguration","error"],null);return t&&t.get("__typename")===w.Jc},T=Object(h.createSelector)(function(e){return e[y].get("broadcastConfiguration")},function(e){return e&&e.toJS()}),F=Object(h.createSelector)(function(e){return e[y].get("broadcastConfiguration")},function(e){return e[y].get("optionalPrimaryFeedAspectRatio")},function(e){return e[y].get("dynamicRoleFeedAspectRatio")},function(e,t,n){return e&&e.getIn(["dynamicRoleFeed","video"])&&!e.getIn(["optionalPrimaryFeed","video"])?n:t}),P=Object(h.createSelector)(function(e){return e[y].get("broadcaster")},function(e){return e&&e.toJS()}),N=function(e){return e[y].get("viewerStatus")},M=function(e){return{feeds:D(e),stageId:U(e),broadcastConfiguration:T(e)}},L=function(e){return e[y].get("dynamicRoleFeedAspectRatio")},B=Object(h.createSelector)(function(e){return e[y].getIn(["broadcastConfiguration","feeds"])||b.a.List()},function(e){return e.map(function(e){return b.a.Map({feedId:e.get("id"),viewerStream:{id:e.getIn(["stream","id"]),url:e.getIn(["stream","url"]),sdpOffer:e.getIn(["stream","sdpOffer"])}})}).toJS()}),A=d()([[function(e){var t=l()(e,2),n=t[0],a=t[1],r=n?n.get("state"):null,i=a?a.get("state"):null;return r===v.a.Offline||null===r&&i===v.a.Online&&(a.getIn(["optionalPrimaryFeed","video"])||a.getIn(["dynamicRoleFeed","video"]))},m()(w.Ae)],[function(e){var t=l()(e,2),n=t[0],a=t[1],r=n?n.get("state"):null,i=a?a.get("state"):null;return r===v.a.Online&&i===v.a.Offline&&(n.getIn(["optionalPrimaryFeed","video"])||n.getIn(["dynamicRoleFeed","video"]))},m()(w.Ce)],[function(e){var t=l()(e,2),n=t[0],a=t[1];return n.getIn(["optionalPrimaryFeed","isPrimary"])&&n.get("dynamicRoleFeed")&&a.getIn(["dynamicRoleFeed","isPrimary"])&&a.getIn(["dynamicRoleFeed","video"])},m()(w.Fe)],[function(e){var t=l()(e,2),n=t[0],a=t[1];return n.getIn(["dynamicRoleFeed","isPrimary"])&&!n.get("optionalPrimaryFeed")&&a.getIn(["optionalPrimaryFeed","isPrimary"])&&a.getIn(["optionalPrimaryFeed","video"])},m()(w.Be)],[function(e){var t=l()(e,2),n=t[0],a=t[1];return!n.getIn(["optionalPrimaryFeed","video"])&&a.getIn(["optionalPrimaryFeed","video"])},m()(w.De)],[function(e){var t=l()(e,2),n=t[0],a=t[1];return n.getIn(["optionalPrimaryFeed","video"])&&!a.getIn(["optionalPrimaryFeed","video"])},m()(w.Ee)],[function(e){var t=l()(e,2),n=t[0],a=t[1];return!n.getIn(["dynamicRoleFeed","video"])&&a.getIn(["dynamicRoleFeed","video"])},m()(w.ye)],[function(e){var t=l()(e,2),n=t[0],a=t[1];return n.getIn(["dynamicRoleFeed","video"])&&!a.getIn(["dynamicRoleFeed","video"])},m()(w.ze)],[function(){return!0},function(e){var t=l()(e,3);t[0],t[1];return t[2]}]]),D=Object(h.createSelector)(function(e){return e[y].getIn(["broadcastConfiguration","feeds"])},function(e){return e?e.filter(function(e){return e.getIn(["stream","sdpOffer"])}).toJS():[]}),U=function(e){return e[y].get("broadcastConfiguration").toJS().stageId};var R=function(e){return{audio:e.capabilities.includes(v.d.Audio),video:e.capabilities.includes(v.d.Video),isPrimary:e.role===v.e.Primary,id:e.id,feedVolume:e.liveHost&&e.liveHost.__typename==v.f.LiveHosting?e.liveHost.volume:w.bb}},H=function(e){var t=function(e){var t=e.find(function(e){return e.role===v.e.Primary}),n=e.find(function(e){return e.role===v.e.Secondary});return n?{optionalPrimaryFeed:R(t),dynamicRoleFeed:R(n)}:t?{optionalPrimaryFeed:null,dynamicRoleFeed:R(t)}:{optionalPrimaryFeed:null,dynamicRoleFeed:null}}(e.stage.feeds.filter(function(e){return e.capabilities.includes(v.d.Audio)||e.capabilities.includes(v.d.Video)}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({error:e.error,stageId:e.stage.id,state:e.stage.live?v.a.Online:v.a.Offline,feeds:e.stage.feeds},t)},W=Object(p.a)("Announce Broadcast Stream is Connected",function(e){return e}),V=Object(p.a)("Add Broadcast Stream",function(e){return e}),z=Object(p.a)("Load Broadcast",function(e){return e}),G=Object(p.a)("Reestablish Viewer Stream",function(e){return e}),q=Object(p.a)("Remove Media Stream Id",function(e){return e}),J=Object(p.a)("Set Broadcast Configuration",function(e){return e}),Z=Object(p.a)("Set Current Broadcaster",function(e){return e}),Y=Object(p.a)("Set Dynamic Role Feed Is Playing"),Q=Object(p.a)("Set Optional Primary Feed Is Playing"),K=Object(p.a)("Set Secondary Video Aspect Ratio"),X=Object(p.a)("Set Broadcast Aspect Ratio"),$=Object(p.a)("Set Viewer Status",function(e){return e}),ee=Object(p.a)("Set Media Stream Id",function(e,t){return{label:e,id:t}}),te=Object(p.a)("Tear Down Broadcast Stream",function(e){return e}),ne=Object(p.a)("Unload Broadcast",function(){return null});t.default=Object(f.a)((a={},s()(a,V,function(e,t){var n=t.payload;return e.set("activeStreamIds",Object(g.Set)([].concat(i()(e.get("activeStreamIds").toJS()),[n.feed.stream.id])))}),s()(a,Y,function(e){var t=e.get("broadcastConfiguration").toJS(),n=(e.get("optionalPrimaryFeedIsPlaying"),null===t.optionalPrimaryFeed?v.b.Playing:e.get("viewerStatus"));return e.set("dynamicRoleFeedIsPlaying",!0).set("viewerStatus",n)}),s()(a,Q,function(e){return e.set("optionalPrimaryFeedIsPlaying",!0).set("viewerStatus",v.b.Playing)}),s()(a,z,function(){return b.a.fromJS(j)}),s()(a,q,function(e,t){var n=t.payload;return e.update("mediaStreamIds",function(e){return e.delete(n)})}),s()(a,S,function(e){return e.set("broadcastConfiguration",b.a.fromJS({state:null}))}),s()(a,J,function(e,t){var n,a,r=t.payload,i=b.a.fromJS(r),o=i.get("error"),s=(n=e.get("viewerStatus"),(a=o&&o.toJS())?a.__typename===v.g.OutOfCapacityError?v.b.BroadcastOutOfCapacity:v.b.Error:n),c=A([e.get("broadcastConfiguration"),i,e.get("broadcastConfigurationTransition")]);return e.set("viewerStatus",s).set("broadcastConfiguration",b.a.fromJS(i)).set("broadcastConfigurationTransition",c)}),s()(a,Z,function(e,t){var n=t.payload;return e.set("broadcaster",b.a.fromJS(n))}),s()(a,K,function(e,t){var n=t.payload;return e.set("dynamicRoleFeedAspectRatio",n)}),s()(a,$,function(e,t){var n=t.payload;return e.set("clientStatus",n)}),s()(a,ee,function(e,t){var n=t.payload,a=n.label,r=n.id;return e.setIn(["mediaStreamIds",a],r)}),s()(a,X,function(e,t){var n=t.payload;return e.set("optionalPrimaryFeedAspectRatio",n)}),s()(a,te,function(e,t){var n=t.payload;return e.update("activeStreamIds",function(e){return e.delete(n)})}),s()(a,ne,function(){return b.a.fromJS(j)}),a),b.a.fromJS(j))},"./src/pieces/category/categories-mobile.scss":function(e,t,n){e.exports={categoriesList:"categories-mobile__categoriesList___3w1fq",categoryCard:"categories-mobile__categoryCard___1xC1W",categoryImage:"categories-mobile__categoryImage___3QXZm",categoryText:"categories-mobile__categoryText___uZ_qm",overlay:"categories-mobile__overlay___WAgeQ"}},"./src/pieces/category/category-card.scss":function(e,t,n){e.exports={cardContainerDesktop:"category-card__cardContainerDesktop___2K91Y",categoryImage:"category-card__categoryImage___2Zgpp",overlay:"category-card__overlay___I56jG",overlayDesktop:"category-card__overlayDesktop___QKzf_",categoryText:"category-card__categoryText___s2Hd3",categoryTextDesktop:"category-card__categoryTextDesktop___2MAL1"}},"./src/pieces/chromecast/chromecast-button.scss":function(e,t,n){e.exports={chromecastButtonContainer:"chromecast-button__chromecastButtonContainer___COGaA"}},"./src/pieces/current-user/current-user.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return m}),n.d(t,"LoadRecentNotifications",function(){return g}),n.d(t,"UpdateNotificationsLastReadTime",function(){return b}),n.d(t,"SetRecentNotifications",function(){return p}),n.d(t,"SetSuggestedFriends",function(){return f}),n.d(t,"FetchSuggestedFriends",function(){return h}),n.d(t,"HideSuggestedFriend",function(){return v}),n.d(t,"SetSignedUserBlob",function(){return w}),n.d(t,"SetCurrentUserWallet",function(){return C}),n.d(t,"SetUnreadNotificationCount",function(){return y}),n.d(t,"HideUploadAvatarNag",function(){return j}),n.d(t,"MarkNagAsResolved",function(){return O}),n.d(t,"MarkNagBarAsUserDismissed",function(){return S}),n.d(t,"DismissUploadAvatarAndHideNagBar",function(){return E}),n.d(t,"HidePushNotificationNag",function(){return x}),n.d(t,"SetCurrentUser",function(){return k}),n.d(t,"SetIgnoredUserCaids",function(){return I}),n.d(t,"SetCurrentUserStageIsLive",function(){return T}),n.d(t,"PromptToIgnoreUser",function(){return F}),n.d(t,"IgnoreUser",function(){return P}),n.d(t,"UnignoreUser",function(){return N}),n.d(t,"PromptToReportUser",function(){return M}),n.d(t,"PromptToReportStage",function(){return L}),n.d(t,"PromptToIgnoreOrReportUser",function(){return B}),n.d(t,"PromptToReportActivity",function(){return A}),n.d(t,"SubscribeToCurrentUserWallet",function(){return D}),n.d(t,"UnsubscribeFromCurrentUserWallet",function(){return U}),n.d(t,"SetCurrentUserWalletIsSubscribed",function(){return R}),n.d(t,"FetchCurrentUserWallet",function(){return H}),n.d(t,"SetShowPropsPrompt",function(){return W}),n.d(t,"ResetShowPropsPrompt",function(){return V}),n.d(t,"selectCurrentUser",function(){return z}),n.d(t,"selectCurrentUserId",function(){return G}),n.d(t,"selectCurrentUserEmailUnverified",function(){return q}),n.d(t,"selectCurrentUserEmail",function(){return J}),n.d(t,"selectCurrentUserHasDefaultAvatar",function(){return Z}),n.d(t,"selectHideUploadAvatarNag",function(){return Y}),n.d(t,"selectUploadAvatarNagShouldBeShown",function(){return Q}),n.d(t,"selectHidePushNotificationNag",function(){return K}),n.d(t,"selectPushNotificationNagIsInitialized",function(){return X}),n.d(t,"selectPushNotificationNagShouldBeShown",function(){return $}),n.d(t,"selectNagIsResolved",function(){return ee}),n.d(t,"selectNagBarWasUserDismissed",function(){return te}),n.d(t,"selectUnreadNotificationCount",function(){return ne}),n.d(t,"selectRecentNotifications",function(){return ae}),n.d(t,"selectHasLoadedRecentNotifications",function(){return re}),n.d(t,"selectSuggestedFriends",function(){return ie}),n.d(t,"selectIgnoredUserCaids",function(){return oe}),n.d(t,"selectCurrentUserWallet",function(){return se}),n.d(t,"selectCurrentUserStageIsLive",function(){return ce}),n.d(t,"selectNotificationsHaveBeenChecked",function(){return le}),n.d(t,"selectSignedUserBlob",function(){return ue}),n.d(t,"selectSignedUserBlobLastRefreshTime",function(){return de}),n.d(t,"selectSubscribeToCurrentUserWallet",function(){return _e}),n.d(t,"selectCurrentUserTimezone",function(){return me}),n.d(t,"selectShowPropsPrompts",function(){return ge});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/reselect/lib/index.js"),s=n("./node_modules/redux-actions/es/createAction.js"),c=n("./node_modules/redux-actions/es/handleActions.js"),l=n("./src/pieces/base/constants.js"),u=n("./src/pieces/users/users.reducer.js"),d=n("./src/pieces/authentication/authentication.reducer.js"),_=n("./src/pieces/push-notification/push-notification.reducer.js"),m=(n("./node_modules/bows/bows.js")("Current-user.reducer"),"currentUser"),g=Object(s.a)("Load Recent Notifications"),b=Object(s.a)("Update Notifications Last Read Time",function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}),p=Object(s.a)("Set Current User Recent Notifications",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e}),f=Object(s.a)("Set Suggested Friends",function(e){return e}),h=Object(s.a)("Fetch Suggested Friends",function(){return null}),v=Object(s.a)("Hide Suggested Friend",function(e){return e}),w=Object(s.a)("Set Signed User Blob",function(e){return e}),C=Object(s.a)("Set Current User Wallet",function(e){return e}),y=Object(s.a)("Set Unread Notification Count",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e}),j=Object(s.a)("Dismiss Upload Avatar Nag",function(){return null}),O=Object(s.a)("Mark Nag As Resolved"),S=Object(s.a)("Mark Nag As User Dismissed"),E=Object(s.a)("Dismiss Upload Avatar And Hide Nag Bar"),x=Object(s.a)("Hide Push Notification Nag"),k=Object(s.a)("Set Current User",function(e){return e}),I=Object(s.a)("Set Ignored User Caids",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e:[e]}),T=Object(s.a)("Set Current User Stage is Live",function(e){return e}),F=Object(s.a)("Prompt to Ignore User",function(e,t,n){return{caid:e,username:t,user:n}}),P=Object(s.a)("Ignore User",function(e){return e}),N=Object(s.a)("Unignore User",function(e){return e}),M=Object(s.a)("Prompt to Report User",function(e,t,n){return{caid:e,username:t,user:n}}),L=Object(s.a)("Prompt to Report Stage",function(e,t,n,a){return{stageId:e,entertainer:t,superSpecialStageMode:n,detailCardId:a}}),B=Object(s.a)("Prompt to Ignore or Report User",function(e,t){return{caid:e,username:t}}),A=Object(s.a)("Prompt to Report Activity",function(e){return{activityId:e}}),D=Object(s.a)("Subscribe to Current User Wallet"),U=Object(s.a)("Unsubscribe from Current User Wallet"),R=Object(s.a)("Set Current User Wallet is Subscribed",function(e){return e}),H=Object(s.a)("Fetch Current User Wallet"),W=Object(s.a)("Set Show Props Prompt"),V=Object(s.a)("Reset Show Props Prompt"),z=Object(o.createSelector)(function(e){return e[m].get("user")},function(e){return e&&e.toJS()}),G=function(e){return e[m].get("userId")},q=Object(o.createSelector)(function(e){return e[m].get("user")},function(e){return e&&!e.get("emailVerified")}),J=Object(o.createSelector)(function(e){return e[m].get("user")},function(e){return e&&e.get("email")}),Z=Object(o.createSelector)(function(e){return e[m].get("user")},function(e){return e&&e.get("avatarImagePath")===l.Y}),Y=function(e){return e[m].get("hideUploadAvatarNag")},Q=Object(o.createSelector)(Z,Y,function(e,t){return e&&!t}),K=function(e){return e[m].get("hidePushNotificationNag")},X=Object(o.createSelector)(_.selectCurrentUserPushPermission,function(e){return null!==e}),$=Object(o.createSelector)(X,_.selectCurrentUserPushPermission,K,function(e,t,n){return e&&!n&&t===l.G}),ee=function(e){return e[m].get("nagIsResolved")},te=function(e){return e[m].get("nagBarWasUserDismissed")},ne=function(e){return e[m].get("unreadNotificationCount")},ae=Object(o.createSelector)(function(e){return e[m].get("recentNotifications")},function(e){return e?e.toJS():null}),re=Object(o.createSelector)(function(e){return e[m].get("recentNotifications")},function(e){return e&&!!e.toJS().length}),ie=Object(o.createSelector)(function(e){return e[m].get("suggestedFriends")},function(e){return e.toJS()}),oe=Object(o.createSelector)(function(e){return e[m].get("ignoredUserCaids")},function(e){return e.toArray()}),se=Object(o.createSelector)(function(e){return e[m].get("currentUserWallet")},function(e){return e&&e.toJS()}),ce=function(e){return e[m].get("currentUserStageIsLive")},le=function(e){return e[m].get("notificationsHaveBeenChecked")},ue=function(e){return e[m].get("signedUserBlob")},de=function(e){return e[m].get("signedUserBlobLastRefreshTime")},_e=function(e){return e[m].get("currentUserWalletIsSubscribed")},me=function(e){return e[m].get("userTimezone")},ge=function(e){return e[m].get("showPropsPrompts")};t.default=Object(c.a)((a={},i()(a,p,function(t,n){var a=n.payload;return t.set("recentNotifications",e.fromJS(a))}),i()(a,f,function(t,n){var a=n.payload,r=void 0===a?e.List():a;return t.set("suggestedFriends",e.fromJS(r))}),i()(a,v,function(e,t){var n=t.payload;return e.update("suggestedFriends",function(e){return e.filterNot(function(e){return e.get("caid")===n})})}),i()(a,C,function(t,n){var a=n.payload;return t.set("currentUserWallet",e.fromJS(a))}),i()(a,y,function(e,t){var n=t.payload;return e.set("unreadNotificationCount",n)}),i()(a,O,function(e){return e.set("nagIsResolved",!0)}),i()(a,S,function(e){return e.set("nagBarWasUserDismissed",!0)}),i()(a,b,function(e,t){var n=t.payload;return n?e.set("notificationsHaveBeenChecked",n).setIn(["user","notificationsLastViewedAt"],new Date):e.set("notificationsHaveBeenChecked",n)}),i()(a,d.StartAuthenticatedSession,function(e,t){var n=t.payload.caid;return e.set("userId",n)}),i()(a,d.StartAnonymousSession,function(e,t){var n=t.payload.anonymousUserId;return e.set("userId",n)}),i()(a,j,function(e){return e.set("hideUploadAvatarNag",!0)}),i()(a,x,function(e){return e.set("hidePushNotificationNag",!0)}),i()(a,k,function(t,n){var a=n.payload;return t.set("user",e.fromJS(a))}),i()(a,w,function(e,t){var n=t.payload;return e.set("signedUserBlob",n).set("signedUserBlobLastRefreshTime",Date.now())}),i()(a,N,function(e,t){var n=t.payload;return e.update("ignoredUserCaids",function(e){return e.delete(n)})}),i()(a,P,function(e,t){var n=t.payload;return e.update("ignoredUserCaids",function(e){return e.add(n)})}),i()(a,I,function(t,n){var a=n.payload;return t.set("ignoredUserCaids",e.Set(a))}),i()(a,u.AnnounceUserWasIgnored,function(e,t){var n=t.payload;return e.update("ignoredUserCaids",function(e){return e.add(n)})}),i()(a,T,function(e,t){var n=t.payload;return e.set("currentUserStageIsLive",n)}),i()(a,R,function(e,t){var n=t.payload;return e.set("currentUserWalletIsSubscribed",n)}),i()(a,W,function(e){return e.set("showPropsPrompts",!0)}),i()(a,V,function(e){return e.set("showPropsPrompts",!1)}),a),e.fromJS({user:null,userId:null,signedUserBlob:null,signedUserBlobLastRefreshTime:0,recentNotifications:null,unreadNotificationCount:0,notificationsHaveBeenChecked:!1,suggestedFriends:[],ignoredUserCaids:e.Set(),currentUserWallet:null,hidePushNotificationNag:!1,hideUploadAvatarNag:!1,nagBarWasUserDismissed:!1,nagIsResolved:!1,firstTimeBroadcastViewDismissed:!1,currentUserStageIsLive:!1,currentUserWalletIsSubscribed:!1,userTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone||l.gb,showPropsPrompts:!1}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/current-user/current-user.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getCurrentUserId",function(){return ge}),n.d(t,"fetchAndSaveCurrentUser",function(){return fe}),n.d(t,"getSignedUserBlob",function(){return he}),n.d(t,"default",function(){return He});var a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(i),s=n("./src/pieces/base/core.types.ts"),c=n("./node_modules/lodash/sortBy.js"),l=n.n(c),u=(n("./node_modules/react-router-redux/lib/index.js"),n("./node_modules/redux-saga/es/effects.js")),d=n("./src/pieces/base/storage.js"),_=n("./src/pieces/base/constants.js"),m=n("./src/pieces/current-user/current-user.reducer.js"),g=n("./src/pieces/base/api/users.api.js"),b=n("./src/pieces/base/api/video.api.js"),p=n("./src/pieces/base/api/stages.api.js"),f=n("./src/pieces/base/api/transactions.api.js"),h=n("./src/pieces/base/api/payments.api.js"),v=n("./src/pieces/base/simple-dialog/simple-dialog.sagas.js"),w=n("./src/pieces/current-user/report-dialog/report-dialog.sagas.js"),C=n("./src/pieces/current-user/report-dialog/redesign-report-dialog.sagas.ts"),y=n("./src/pieces/current-user/report-dialog/report-dialog.reducer.js"),j=n("./src/pieces/feed/feed.reducer.ts"),O=n("./src/pieces/base/saga-utilities.js"),S=n("./src/pieces/users/users.reducer.js"),E=n("./src/pieces/authentication/authentication.reducer.js"),x=n("./src/pieces/push-notification/push-notification.reducer.js"),k=n("./src/pieces/payment/digital-items.reducer.js"),I=n("./src/pieces/authentication/authentication.sagas.js"),T=n("./src/pieces/push-notification/request-push-permission.js"),F=n("./src/pieces/stage/stage.reducer.js"),P=n("./src/pieces/feature-configuration/feature-configuration.reducer.js"),N=o.a.mark(_e),M=o.a.mark(me),L=o.a.mark(ge),B=o.a.mark(be),A=o.a.mark(pe),D=o.a.mark(fe),U=o.a.mark(he),R=o.a.mark(ve),H=o.a.mark(we),W=o.a.mark(Ce),V=o.a.mark(ye),z=o.a.mark(je),G=o.a.mark(Oe),q=o.a.mark(Se),J=o.a.mark(Ee),Z=o.a.mark(xe),Y=o.a.mark(ke),Q=o.a.mark(Ie),K=o.a.mark(Te),X=o.a.mark(Fe),$=o.a.mark(Pe),ee=o.a.mark(Ne),te=o.a.mark(Me),ne=o.a.mark(Le),ae=o.a.mark(Be),re=o.a.mark(Ae),ie=o.a.mark(De),oe=o.a.mark(Ue),se=o.a.mark(Re),ce=o.a.mark(He),le=(n("./node_modules/bows/bows.js")("Current-user.sagas"),"caffeineHideUploadAvatarNag"),ue="hidePushNotificationNag";function de(e,t){var n=e.findIndex(function(e){return t>e});return-1!==n?n:e.length}function _e(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.b)(g.i);case 2:return e=t.sent,t.next=5,Object(u.g)(Object(m.SetSuggestedFriends)(e));case 5:case"end":return t.stop()}},N)}function me(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.b)(g.m,e);case 2:return t.next=4,_e();case 4:case"end":return t.stop()}},M)}function ge(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)(I.getUserSessionType);case 2:return e.next=4,Object(u.i)(m.selectCurrentUserId);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},L)}function be(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.b)(g.j,e);case 2:return t=n.sent,n.next=5,Object(u.g)(Object(m.SetCurrentUser)(t));case 5:return n.next=7,Object(u.b)(d.a.set,_.r,e);case 7:return n.abrupt("return",t);case 8:case"end":return n.stop()}},B)}function pe(){var e,t,n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(u.i)(m.selectCurrentUserId);case 2:return e=a.sent,a.next=5,Object(u.i)(E.selectIsAuthenticated);case 5:return t=a.sent,a.next=8,Object(u.i)(P.selectWebPropsPromptsEnabled);case 8:if(!a.sent||!t){a.next=17;break}return a.next=12,localStorage.getItem("".concat(e,"propsprompt"));case 12:if("false"===(n=a.sent)){a.next=17;break}return a.next=16,Object(u.g)(Object(m.SetShowPropsPrompt)());case 16:null===n&&localStorage.setItem("".concat(e,"propsprompt"),!0);case 17:case"end":return a.stop()}},A)}function fe(e){var t,n,a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.i)(m.selectCurrentUser);case 2:if(!(t=r.sent)||e){r.next=7;break}return r.abrupt("return",t);case 7:return r.next=9,Object(u.b)(I.isAuthenticated);case 9:if(!r.sent){r.next=22;break}return r.next=13,Object(u.b)(ge);case 13:return n=r.sent,r.next=16,Object(u.b)(be,n);case 16:return a=r.sent,r.next=19,Object(u.g)(Object(F.FetchInitialReyesResponseForUser)(a.username));case 19:return r.abrupt("return",a);case 22:return r.abrupt("return",null);case 23:case"end":return r.stop()}},D)}function he(){var e,t,n,a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.b)(fe);case 2:if(!(e=r.sent)){r.next=22;break}return r.next=6,Object(u.i)(m.selectSignedUserBlob);case 6:return t=r.sent,r.next=9,Object(u.i)(m.selectSignedUserBlobLastRefreshTime);case 9:if(n=r.sent,!(t&&Date.now()-n<_.Nd)){r.next=14;break}return r.abrupt("return",t);case 14:return r.next=16,Object(u.b)(g.h,e.caid);case 16:return a=r.sent,r.next=19,Object(u.g)(Object(m.SetSignedUserBlob)(a));case 19:return r.abrupt("return",a);case 20:r.next=23;break;case 22:return r.abrupt("return",null);case 23:case"end":return r.stop()}},U)}function ve(){var e,t,n,a,i,c,b,p,h;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(u.i)(m.selectCurrentUserId);case 2:return e=o.sent,o.next=5,Object(u.a)([Object(u.b)(fe),Object(u.b)(g.b,e,{limit:_.jc}),Object(u.b)(f.b,s.h.ReceiveDigitalItem,{limit:_.jc})]);case 5:return t=o.sent,n=r()(t,3),a=n[0],i=n[1],c=n[2],o.next=12,Object(u.b)(g.k,i.followers.map(function(e){return e.caid}));case 12:if(b=o.sent,p=l()(i.followers.map(function(e){return{time:new Date(e.followedAt).getTime(),user:b.find(function(t){return t.caid===e.caid}),type:"Follow"}}).concat(c.transactions.map(function(e){return{time:e.createdAt,transaction:e,type:s.h.ReceiveDigitalItem}})),["time"]).reverse(),h=de(p.map(function(e){return e.time}),new Date(a.notificationsLastViewedAt).getTime()),!d.a.get(ue)){o.next=19;break}return o.next=19,Object(u.g)(Object(m.HidePushNotificationNag)());case 19:return o.next=21,Object(u.g)(Object(m.SetRecentNotifications)(p.slice(0,_.jc)));case 21:return o.next=23,Object(u.g)(Object(m.SetUnreadNotificationCount)(h));case 23:case"end":return o.stop()}},R)}function we(){var e,t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.i)(m.selectHasLoadedRecentNotifications);case 2:return e=n.sent,n.next=5,Object(u.i)(m.selectCurrentUser);case 5:if(t=n.sent,e||!t){n.next=9;break}return n.next=9,Object(u.b)(ve);case 9:case"end":return n.stop()}},H)}function Ce(e){var t,n,a,i,s,c;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.caid,o.next=3,Object(u.a)([Object(u.b)(fe),Object(u.b)(g.f,t)]);case 3:return n=o.sent,a=r()(n,2),a[0],i=a[1],s=i.map(function(e){return e.caid}),o.next=10,Object(u.g)(Object(m.SetIgnoredUserCaids)(s));case 10:return o.next=12,Object(u.b)(d.a.get,le);case 12:if(!o.sent){o.next=16;break}return o.next=16,Object(u.g)(Object(m.HideUploadAvatarNag)());case 16:if(!d.a.get(ue)){o.next=20;break}return o.next=20,Object(u.g)(Object(m.HidePushNotificationNag)());case 20:return o.next=22,Object(u.b)(T.b);case 22:return c=o.sent,o.next=25,Object(u.g)(Object(x.SetCurrentUserPushPermission)(c));case 25:return o.next=27,Object(u.i)(F.selectStageMode);case 27:if(o.sent===_.qe){o.next=31;break}return o.next=31,Object(u.g)(Object(m.LoadRecentNotifications)());case 31:case"end":return o.stop()}},W)}function ye(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.i)(m.selectSubscribeToCurrentUserWallet);case 2:if(t.sent){t.next=9;break}return t.next=6,Object(u.b)(h.i);case 6:return e=t.sent,t.next=9,Object(u.b)(Se,e);case 9:case"end":return t.stop()}},V)}function je(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.e)(h.p,o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)(Se,t);case 2:case"end":return e.stop()}},e)}));case 2:return e=t.sent,t.next=5,Object(u.g)(Object(m.SetCurrentUserWalletIsSubscribed)(!0));case 5:return t.next=7,Object(O.e)(m.UnsubscribeFromCurrentUserWallet);case 7:return t.next=9,Object(u.c)(e);case 9:case"end":return t.stop()}},z)}function Oe(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.g)(Object(m.SetCurrentUserWalletIsSubscribed)(!1));case 2:case"end":return e.stop()}},G)}function Se(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.maintenance){t.next=3;break}return t.next=3,Object(u.g)(Object(k.ActivateMaintenanceMode)());case 3:return t.next=5,Object(u.g)(Object(m.SetCurrentUserWallet)(e));case 5:case"end":return t.stop()}},q)}function Ee(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.i)(E.selectIsAuthenticated);case 2:if(!t.sent){t.next=9;break}return t.next=6,Object(u.i)(m.selectCurrentUserId);case 6:return e=t.sent,t.next=9,Object(u.b)(g.o,e);case 9:case"end":return t.stop()}},J)}function xe(e,t){var n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(u.i)(m.selectCurrentUserId);case 2:return n=a.sent,a.next=5,Object(u.a)([Object(u.b)(v.showDialog,{title:"".concat(t," ignored"),body:"You won't see broadcasts or messages from ".concat(t,",        and no one will see their messages in your broadcast.        \n\n        You can remove ").concat(t," from your ignore list on your profile page."),choices:["OK"]}),Object(u.b)(g.n,n,e)]);case 5:return a.next=7,Object(u.g)(Object(S.AnnounceUserWasIgnored)(e));case 7:case"end":return a.stop()}},Z)}function ke(e,t){var n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(u.b)(w.showReportDialog,{title:"Report ".concat(t),body:"Select a reason for this report. Caffeine will be notified and ".concat(t," will be      added to your ignored list."),options:_.af});case 2:if(!(n=a.sent).reason){a.next=8;break}return a.next=6,Object(O.b)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.b)(g.p,e,n.reason,n.description);case 2:return t.next=4,Object(u.g)(Object(S.AnnounceUserWasIgnored)(e));case 4:case"end":return t.stop()}},t)}));case 6:return a.next=8,Object(u.b)(v.showDialog,{title:"".concat(t," reported"),body:"You can remove ".concat(t," from your ignored list in your settings."),choices:["OK"]});case 8:case"end":return a.stop()}},Y)}function Ie(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.i)(m.selectCurrentUserId);case 2:return t=n.sent,n.next=5,Object(u.b)(C.showRedesignIgnoreDialog,{user:e});case 5:return n.next=7,Object(O.b)(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.b)(g.n,t,e.caid);case 2:return n.next=4,Object(u.g)(Object(m.IgnoreUser)(e.caid));case 4:return n.next=6,Object(u.g)(Object(y.SetIgnoreWasSubmitted)());case 6:case"end":return n.stop()}},n)}));case 7:case"end":return n.stop()}},Q)}function Te(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.b)(C.showRedesignReportDialog,{title:"Report user",body:"Caffeine will be notified that this user may be inappropriate.",reportType:_.td,options:_.pd,user:e});case 2:if(!(t=n.sent).reason){n.next=6;break}return n.next=6,Object(O.b)(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.b)(g.p,e.caid,t.reason,t.description);case 2:return n.next=4,Object(u.g)(Object(S.AnnounceUserWasIgnored)(e.caid));case 4:return n.next=6,Object(u.g)(Object(y.SetReportWasSubmitted)());case 6:case"end":return n.stop()}},n)}));case 6:case"end":return n.stop()}},K)}function Fe(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.i)(m.selectCurrentUserId);case 2:return t=n.sent,n.next=5,Object(u.b)(g.n,t,e);case 5:return n.next=7,Object(u.g)(Object(S.AnnounceUserWasIgnored)(e));case 7:case"end":return n.stop()}},X)}function Pe(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.user,n.next=3,Object(u.b)(Te,t);case 3:case"end":return n.stop()}},$)}function Ne(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.user,n.next=3,Object(u.b)(Ie,t);case 3:case"end":return n.stop()}},ee)}function Me(e){var t,n,a,r,i;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.caid,n=e.username,a="Ignore ".concat(n),r="Report ".concat(n),o.next=5,Object(u.b)(v.showDialog,{title:"Ignore or report ".concat(n),body:"Ignore ".concat(n," to no longer see their messages or broadcasts and to      silence them in your own broadcast.\n\n      Report ").concat(n," to notify Caffeine that this user may be acting inappropriately.       ").concat(n," will also be added to your ignored list."),choices:[a,r,"cancel"]});case 5:if((i=o.sent)!==a){o.next=11;break}return o.next=9,Object(u.b)(xe,t,n);case 9:o.next=14;break;case 11:if(i!==r){o.next=14;break}return o.next=14,Object(u.b)(ke,t,n);case 14:case"end":return o.stop()}},te)}function Le(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.i)(m.selectCurrentUserId);case 2:return t=n.sent,n.next=5,Object(u.b)(g.s,t,e);case 5:case"end":return n.stop()}},ne)}function Be(e){var t,n,a,r,i;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.stageId,n=e.entertainer,a=e.superSpecialStageMode,r=e.detailCardId,s.next=3,Object(u.b)(C.showRedesignReportDialog,{title:"Report this show",body:"Caffeine will be notified that this show may be inappropriate.",reportType:_.sd,options:_.ld,user:n});case 3:if(!(i=s.sent).reason){s.next=7;break}return s.next=7,Object(O.b)(o.a.mark(function e(){var s,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)(p.k,t,i.reason,i.description);case 2:return e.next=4,Object(u.g)(Object(S.AnnounceUserWasIgnored)(n.caid));case 4:return e.next=6,Object(u.g)(Object(y.SetReportWasSubmitted)());case 6:if(!a){e.next=10;break}window.location.assign("/"),e.next=23;break;case 10:if(!r){e.next=18;break}return e.next=13,Object(u.i)(E.selectNewCredential);case 13:return s=e.sent,e.next=16,Object(u.g)(Object(j.LoadDetailPageContent)(r,s));case 16:e.next=23;break;case 18:return e.next=20,Object(u.i)(E.selectNewCredential);case 20:return c=e.sent,e.next=23,Object(u.g)(Object(j.LoadLobbyContent)(c));case 23:case"end":return e.stop()}},e)}));case 7:case"end":return s.stop()}},ae)}function Ae(e){var t,n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.activityId,a.next=3,Object(u.b)(C.showRedesignReportDialog,{title:"Report this video",body:"Caffeine will be notified that this video may be inappropriate.",reportType:_.ud,options:_.ld});case 3:if(!(n=a.sent).reason){a.next=7;break}return a.next=7,Object(O.b)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)(b.s,t,n.reason,n.description);case 2:return e.next=4,Object(u.g)(Object(y.SetReportWasSubmitted)());case 4:case"end":return e.stop()}},e)}));case 7:case"end":return a.stop()}},re)}function De(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)(d.a.set,le,!0);case 2:case"end":return e.stop()}},ie)}function Ue(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)(d.a.set,le,!0);case 2:return e.next=4,Object(u.g)(Object(m.HideUploadAvatarNag)());case 4:return e.next=6,Object(u.g)(Object(m.MarkNagBarAsUserDismissed)());case 6:case"end":return e.stop()}},oe)}function Re(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.i)(m.selectCurrentUserId);case 2:return e=t.sent,t.next=5,localStorage.setItem("".concat(e,"propsprompt"),!1);case 5:case"end":return t.stop()}},se)}function He(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)(E.StartAuthenticatedSession,Ce);case 2:return e.next=4,Object(O.h)(m.FetchSuggestedFriends,_e);case 4:return e.next=6,Object(O.h)(m.HideSuggestedFriend,me);case 6:return e.next=8,Object(O.h)(m.LoadRecentNotifications,we);case 8:return e.next=10,Object(O.c)(m.UpdateNotificationsLastReadTime,Ee);case 10:return e.next=12,Object(O.h)(m.PromptToIgnoreUser,Ne);case 12:return e.next=14,Object(O.h)(m.IgnoreUser,Fe);case 14:return e.next=16,Object(O.h)(m.UnignoreUser,Le);case 16:return e.next=18,Object(O.h)(m.PromptToReportUser,Pe);case 18:return e.next=20,Object(O.h)(m.PromptToReportStage,Be);case 20:return e.next=22,Object(O.h)(m.PromptToReportActivity,Ae);case 22:return e.next=24,Object(O.h)(m.PromptToIgnoreOrReportUser,Me);case 24:return e.next=26,Object(O.h)(m.HideUploadAvatarNag,De);case 26:return e.next=28,Object(O.h)(m.DismissUploadAvatarAndHideNagBar,Ue);case 28:return e.next=30,Object(O.h)(m.SubscribeToCurrentUserWallet,je);case 30:return e.next=32,Object(O.h)(m.UnsubscribeFromCurrentUserWallet,Oe);case 32:return e.next=34,Object(O.h)(m.FetchCurrentUserWallet,ye);case 34:return e.next=36,Object(O.h)(m.ResetShowPropsPrompt,Re);case 36:return e.next=38,Object(O.h)(P.SetWebPropsPromptsStatus,pe);case 38:case"end":return e.stop()}},ce)}},"./src/pieces/current-user/ellipsis-icon.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),c=n.n(s),l=n("./src/pieces/base/icons/icon.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Ellipsis-icon");var _={horizontal:0,vertical:90},m={micro:{style:{width:10},viewBox:"0 8 20 4"},tiny:{style:{width:16},viewBox:"0 8 20 4"},small:{style:{height:20,width:20},viewBox:"0 0 20 20"},medium:{style:{width:26},viewBox:"0 8 20 4"},doubleExtraLarge:{style:{width:40},viewBox:"0 8 20 4"}};t.a=function(t){var n=t.orientation,a=void 0===n?"horizontal":n,i=t.size,o=void 0===i?"small":i,s=t.color,u=void 0===s?"currentColor":s,g=m[o]||m.small,b=g.style,p=c()(g,["style"]),f=_[a]||_.horizontal;return e.createElement(l.a,null,e.createElement("svg",r()({style:d({transform:"rotate(".concat(f,"deg)")},b)},p),e.createElement("path",{fill:u,d:"M2,8a2,2,0,1,1-2,2A2,2,0,0,1,2,8Zm8,0a2,2,0,1,1-2,2A2,2,0,0,1,10,8Zm8,0a2,2,0,1,1-2,2A2,2,0,0,1,18,8Z"})))}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/current-user/report-dialog/ignore-dialog.scss":function(e,t,n){e.exports={redesign_overlay:"ignore-dialog__redesign_overlay___3qo_O modals__container___3QxjF",redesign_modalContainer:"ignore-dialog__redesign_modalContainer___xkvea",redesign_content:"ignore-dialog__redesign_content___2Psaf modals__content___i9pX_",closeButtonContainer:"ignore-dialog__closeButtonContainer___1EeMn",redesign_closeButton:"ignore-dialog__redesign_closeButton___1mfSP buttons__redesign_textOnlyButtonWithDarkTheme___2xWrf buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_closeButtonContainer:"ignore-dialog__redesign_closeButtonContainer___1i6wV buttons__unstyledButton___olg-i",redesign_ignoreFormContainer:"ignore-dialog__redesign_ignoreFormContainer___1GYoU",redesign_successfulIgnoreMessage:"ignore-dialog__redesign_successfulIgnoreMessage___1CkhK ignore-dialog__redesign_ignoreFormContainer___1GYoU",redesign_title:"ignore-dialog__redesign_title___3ZQjo",redesign_message:"ignore-dialog__redesign_message___36HGy",redesign_avatar:"ignore-dialog__redesign_avatar___2cjBK",redesign_successMessage:"ignore-dialog__redesign_successMessage___1A_3m ignore-dialog__redesign_message___36HGy",redesign_ignorePromptMessage:"ignore-dialog__redesign_ignorePromptMessage___3guj8 ignore-dialog__redesign_message___36HGy",redesign_emphasis:"ignore-dialog__redesign_emphasis___hsyMV",redesign_body:"ignore-dialog__redesign_body___2nKlO",redesign_bodyOnSuccess:"ignore-dialog__redesign_bodyOnSuccess___2Imqv ignore-dialog__redesign_body___2nKlO",redesign_submitButton:"ignore-dialog__redesign_submitButton___22Q7A buttons__redesign_darkButtonWithHoverEffect___38D41 buttons__redesign_button___ZSYNe"}},"./src/pieces/current-user/report-dialog/redesign-report-dialog.sagas.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"showRedesignReportDialog",function(){return d}),n.d(t,"showRedesignIgnoreDialog",function(){return _}),n.d(t,"default",function(){return m});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/effects.js"),o=n("./src/pieces/base/saga-utilities.js"),s=n("./src/pieces/current-user/report-dialog/report-dialog.reducer.js"),c=r.a.mark(d),l=r.a.mark(_),u=r.a.mark(m);n("./node_modules/bows/bows.js")("Redesign-report-dialog.sagas");function d(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.g)(Object(s.ShowReportDialog)(e));case 2:return t.next=4,Object(o.e)(s.SubmitReportDialog);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},c)}function _(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.g)(Object(s.ShowIgnoreDialog)(e));case 2:return t.next=4,Object(o.e)(s.SubmitIgnoreDialog);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},l)}function m(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},u)}},"./src/pieces/current-user/report-dialog/report-dialog.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return c}),n.d(t,"ShowReportDialog",function(){return l}),n.d(t,"SubmitReportDialog",function(){return u}),n.d(t,"SetReportWasSubmitted",function(){return d}),n.d(t,"CompleteReportDialog",function(){return _}),n.d(t,"SetReportReason",function(){return m}),n.d(t,"SetReportDescription",function(){return g}),n.d(t,"ShowIgnoreDialog",function(){return b}),n.d(t,"SubmitIgnoreDialog",function(){return p}),n.d(t,"SetIgnoreWasSubmitted",function(){return f}),n.d(t,"CompleteIgnoreDialog",function(){return h}),n.d(t,"selectDialogIsActive",function(){return v}),n.d(t,"selectIgnoreDialogIsActive",function(){return w}),n.d(t,"selectCurrentDialogConfiguration",function(){return C}),n.d(t,"selectReportReason",function(){return y}),n.d(t,"selectReportDescription",function(){return j}),n.d(t,"selectReportWasSubmitted",function(){return O}),n.d(t,"selectIgnoreWasSubmitted",function(){return S});var a=n("./node_modules/immutable/dist/immutable.js"),r=n.n(a),i=n("./node_modules/redux-actions/es/createAction.js"),o=n("./node_modules/redux-actions/es/handleActions.js"),s=n("./node_modules/reselect/lib/index.js"),c=(n("./node_modules/bows/bows.js")("Report-dialog.reducer"),"reportDialog"),l=Object(i.a)("Show Report Dialog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),u=Object(i.a)("Submit Report Dialog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),d=Object(i.a)("Set Report Was Submitted",function(){return null}),_=Object(i.a)("Complete Report Dialog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),m=Object(i.a)("Set Report Reason",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}),g=Object(i.a)("Set Report Description",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}),b=Object(i.a)("Show Ignore Dialog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),p=Object(i.a)("Submit Ignore Dialog",function(){return null}),f=Object(i.a)("Set Ignore Was Submitted",function(){return null}),h=Object(i.a)("Complete Ignore Dialog",function(){return null}),v=function(e){return e[c].get("isActive")},w=function(e){return e[c].get("isIgnoreDialogActive")},C=Object(s.createSelector)(function(e){return e[c].get("configuration")},function(e){return e&&e.toJS()}),y=function(e){return e[c].get("reportReason")},j=function(e){return e[c].get("reportDescription")},O=function(e){return e[c].get("reportWasSubmitted")},S=function(e){return e[c].get("ignoreWasSubmitted")},E={configuration:{},isActive:!1,reportReason:"",reportDescription:"",reportWasSubmitted:!1,isIgnoreDialogActive:!1,ignoreWasSubmitted:!1};t.default=Object(o.a)(new Map([[l,function(e,t){var n=t.payload;return e.set("isActive",!0).set("configuration",r.a.fromJS(n))}],[m,function(e,t){var n=t.payload;return e.set("reportReason",n)}],[g,function(e,t){var n=t.payload;return e.set("reportDescription",n)}],[d,function(e){return e.set("reportWasSubmitted",!0)}],[_,function(){return r.a.fromJS(E)}],[b,function(e,t){var n=t.payload;return e.set("isIgnoreDialogActive",!0).set("configuration",r.a.fromJS(n))}],[f,function(e){return e.set("ignoreWasSubmitted",!0)}],[h,function(){return r.a.fromJS(E)}]]),r.a.fromJS(E))},"./src/pieces/current-user/report-dialog/report-dialog.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"showReportDialog",function(){return u}),n.d(t,"default",function(){return d});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/effects.js"),o=n("./src/pieces/base/saga-utilities.js"),s=n("./src/pieces/current-user/report-dialog/report-dialog.reducer.js"),c=r.a.mark(u),l=r.a.mark(d);n("./node_modules/bows/bows.js")("Report-dialog.sagas");function u(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(i.g)(Object(s.ShowReportDialog)(e));case 3:return n.next=5,Object(o.e)(s.CompleteReportDialog);case 5:return t=n.sent,n.abrupt("return",t);case 7:return n.prev=7,n.next=10,Object(i.g)(Object(s.CompleteReportDialog)({}));case 10:return n.finish(7);case 11:case"end":return n.stop()}},c,null,[[0,,7,11]])}function d(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},l)}},"./src/pieces/current-user/report-dialog/report-dialog.scss":function(e,t,n){e.exports={reportDialog:"report-dialog__reportDialog___3VKuC modals__content___i9pX_",reportFormContainer:"report-dialog__reportFormContainer___1J8Jp",overlay:"report-dialog__overlay___32AFt modals__container___3QxjF",closeButtonContainer:"report-dialog__closeButtonContainer___1ldyr",closeButton:"report-dialog__closeButton___3DA8Q buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",title:"report-dialog__title___3Xsjo",body:"report-dialog__body___1S8xz",reportReasonContainer:"report-dialog__reportReasonContainer___20XF9",reportDescription:"report-dialog__reportDescription___1EJjy",submit:"report-dialog__submit___2C6uZ buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",redesign_overlay:"report-dialog__redesign_overlay___1XApc modals__container___3QxjF",redesign_modalContainer:"report-dialog__redesign_modalContainer___3iqSm",redesign_content:"report-dialog__redesign_content___3YlP9 modals__content___i9pX_",redesign_closeButtonContainer:"report-dialog__redesign_closeButtonContainer___Cx0w6 buttons__unstyledButton___olg-i",redesign_closeButton:"report-dialog__redesign_closeButton___3YGQu buttons__redesign_textOnlyButtonWithDarkTheme___2xWrf buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_reportFormContainer:"report-dialog__redesign_reportFormContainer___1nZiv",redesign_successfulReportMessage:"report-dialog__redesign_successfulReportMessage___3S0wr report-dialog__redesign_reportFormContainer___1nZiv",redesign_leftContainer:"report-dialog__redesign_leftContainer___2Mh8x",redesign_mainContainer:"report-dialog__redesign_mainContainer___3kPXA",redesign_title:"report-dialog__redesign_title___3p-LO",redesign_titleWithShow:"report-dialog__redesign_titleWithShow___xin6n report-dialog__redesign_title___3p-LO",redesign_titleWithUser:"report-dialog__redesign_titleWithUser___2ONoT report-dialog__redesign_title___3p-LO",redesign_titleOnSuccess:"report-dialog__redesign_titleOnSuccess___13ldl report-dialog__redesign_title___3p-LO",redesign_body:"report-dialog__redesign_body___O8l3h",redesign_message:"report-dialog__redesign_message___1KqF_",redesign_successfulAvatar:"report-dialog__redesign_successfulAvatar___3y8X9",redesign_thankYouMessage:"report-dialog__redesign_thankYouMessage___1F6zc report-dialog__redesign_message___1KqF_",redesign_avatarContainer:"report-dialog__redesign_avatarContainer___3furj",redesign_avatar:"report-dialog__redesign_avatar___3RRwn",redesign_emphasis:"report-dialog__redesign_emphasis___1bZTo",redesign_emphasizeReason:"report-dialog__redesign_emphasizeReason___2aLSk",redesign_radio:"report-dialog__redesign_radio___T2b5M",redesign_radioButton:"report-dialog__redesign_radioButton___18Ls_",redesign_radioInput:"report-dialog__redesign_radioInput___2tIJC",redesign_radioLabel:"report-dialog__redesign_radioLabel___2oc25",redesign_reportTextareaField:"report-dialog__redesign_reportTextareaField___t_g2L",redesign_focus:"report-dialog__redesign_focus___3Oq5D",redesign_reportTextareaInput:"report-dialog__redesign_reportTextareaInput___s4GKd forms__inputBase___3O5UR",redesign_reportButtonContainer:"report-dialog__redesign_reportButtonContainer___2sn_i",redesign_reportButton:"report-dialog__redesign_reportButton___5bvjN buttons__redesign_darkButtonWithHoverEffect___38D41 buttons__redesign_button___ZSYNe",redesign_exploreLink:"report-dialog__redesign_exploreLink___22uLS links__redesign_secondaryLink___IpckZ links__redesign_link___2bKIw"}},"./src/pieces/current-user/stage-actions-menu.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n.n(s),l=n("./node_modules/recompose/dist/Recompose.esm.js"),u=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/react-router/es/index.js"),_=n("./src/pieces/current-user/ellipsis-icon.js"),m=n("./src/pieces/base/user-utilities.ts"),g=n("./src/pieces/current-user/current-user.reducer.js"),b=n("./src/pieces/base/popover/popover.js"),p=n("./src/pieces/base/popover/popover.reducer.js"),f=n("./src/pieces/users/follow-link.tsx"),h=n("./src/pieces/current-user/user-actions-menu-and-stage-actions-menu.scss"),v=n.n(h),w=(n("./node_modules/bows/bows.js")("Stage-actions-menu"),Object(l.a)(Object(u.b)(null,{PromptToReportStage:g.PromptToReportStage,ClearPopovers:p.ClearPopovers}),d.e,Object(l.d)({reportBroadcast:function(e){return function(){var t="stageId"in e.entertainer?e.entertainer.stageId:Object(m.a)(e.entertainer.caid),n=e.location.pathname.split("/"),a=o()(n,3),r=(a[0],a[1]),i=a[2],s="detail"===r&&i?i:null;e.PromptToReportStage(t,e.entertainer,e.superSpecialStageMode,s)}}}))),C=function(e){return c.a.createElement("div",{className:v.a.userActionsMenu},c.a.createElement("button",{onClick:function(t){t.preventDefault(),e.reportBroadcast()},className:e.darkTheme?v.a.redesign_reportButtonWithDarkTheme:v.a.redesign_reportButton},"Report this show"),e.isLobby&&c.a.createElement(f.a,{caid:e.caid,className:v.a.followLink}))};t.a=w(function(e){return c.a.createElement(b.a,r()({show:!0,size:"isRedesignTooltip",orientation:"aboveRight"},e.popoverSettings,{content:c.a.createElement(C,e),clearOnClick:!0,isLargeTooltip:e.isLobby,isRedesignTooltip:!0,isUserAction:!0,darkTheme:e.darkTheme}),c.a.createElement("button",{className:e.className||v.a.trigger},c.a.createElement(_.a,{size:e.size,orientation:"vertical",color:"#ffffff"})))})},"./src/pieces/current-user/user-actions-menu-and-stage-actions-menu.scss":function(e,t,n){e.exports={trigger:"user-actions-menu-and-stage-actions-menu__trigger___2PosL buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",button:"user-actions-menu-and-stage-actions-menu__button___1i-lk buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",redesign_button:"user-actions-menu-and-stage-actions-menu__redesign_button___3DHKh user-actions-menu-and-stage-actions-menu__button___1i-lk buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",buttonWithDarkTheme:"user-actions-menu-and-stage-actions-menu__buttonWithDarkTheme___1XQt8 buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",redesign_reportButton:"user-actions-menu-and-stage-actions-menu__redesign_reportButton___4876Y buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_reportButtonWithDarkTheme:"user-actions-menu-and-stage-actions-menu__redesign_reportButtonWithDarkTheme___1K-xR buttons__redesign_textOnlyButtonWithDarkTheme___2xWrf buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_profileIgnoreButton:"user-actions-menu-and-stage-actions-menu__redesign_profileIgnoreButton___22vhr buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_profileReportButton:"user-actions-menu-and-stage-actions-menu__redesign_profileReportButton___o-zmy buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_profileReportButtonWithDarkTheme:"user-actions-menu-and-stage-actions-menu__redesign_profileReportButtonWithDarkTheme___1TNHU buttons__redesign_textOnlyButtonWithDarkTheme___2xWrf buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",redesign_profileIgnoreButtonWithDarkTheme:"user-actions-menu-and-stage-actions-menu__redesign_profileIgnoreButtonWithDarkTheme___Ab6tL buttons__redesign_textOnlyButtonWithDarkTheme___2xWrf buttons__redesign_textOnlyButton___2iih4 buttons__unstyledButton___olg-i",userActionsMenu:"user-actions-menu-and-stage-actions-menu__userActionsMenu___cSlzO",followLink:"user-actions-menu-and-stage-actions-menu__followLink___d9-bO"}},"./src/pieces/feature-configuration/feature-configuration.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return l}),n.d(t,"SetLiveInLobby",function(){return u}),n.d(t,"SetFeaturesReady",function(){return d}),n.d(t,"ResetFeatureConfiguration",function(){return _}),n.d(t,"SetWebBroadcastUIStatus",function(){return m}),n.d(t,"SetWebVideoPropsStatus",function(){return g}),n.d(t,"SetUseDeepLink",function(){return b}),n.d(t,"SetUseDeepLinkV2",function(){return p}),n.d(t,"SetUpcomingDeepLinkV1",function(){return f}),n.d(t,"SetUseNewReactionsService",function(){return h}),n.d(t,"SetUseNewReactionsServiceV2",function(){return v}),n.d(t,"SetWebPropsPromptsStatus",function(){return w}),n.d(t,"SetVodV2",function(){return C}),n.d(t,"SetVodV3",function(){return y}),n.d(t,"SetVideoQualityPredictionsEnabled",function(){return j}),n.d(t,"SetArkoseSignUpProtectionDisabled",function(){return O}),n.d(t,"selectLiveInLobbyEnabled",function(){return S}),n.d(t,"selectFeaturesReady",function(){return E}),n.d(t,"selectWebBroadcastUIStatus",function(){return x}),n.d(t,"selectWebVideoPropsStatus",function(){return k}),n.d(t,"selectUseDeepLink",function(){return I}),n.d(t,"selectUseDeepLinkV2",function(){return T}),n.d(t,"selectUpcomingDeepLinkV1",function(){return F}),n.d(t,"selectUseNewReactionsService",function(){return P}),n.d(t,"selectUseNewReactionsServiceV2",function(){return N}),n.d(t,"selectVideoQualityPredictionsEnabled",function(){return M}),n.d(t,"selectUseVodV2",function(){return L}),n.d(t,"selectUseVodV3",function(){return B}),n.d(t,"selectWebPropsPromptsEnabled",function(){return A});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-actions/es/createAction.js"),s=n("./node_modules/redux-actions/es/handleActions.js"),c=n("./node_modules/reselect/lib/index.js"),l=(n("./node_modules/bows/bows.js")("Feature-configuration.reducer"),"feature-configuration"),u=Object(o.a)("Set Live In Lobby"),d=Object(o.a)("Set Features Ready"),_=Object(o.a)("Reset Feature Configuration"),m=Object(o.a)("Set Web Broadcast UI Status"),g=Object(o.a)("Set Web Video Props Status"),b=Object(o.a)("Set Use Deep Link"),p=Object(o.a)("Set Use Deep Link V2"),f=Object(o.a)("Set Upcoming Deep Link V1"),h=Object(o.a)("Set Use New Reactions Service"),v=Object(o.a)("Set Use New Reactions Service V2"),w=Object(o.a)("Set Web Props Prompts Status"),C=Object(o.a)("Set Vod V2"),y=Object(o.a)("Set Vod V3"),j=Object(o.a)("Set Video Quality Predictions Enabled"),O=Object(o.a)("Set Arkose Sign Up Protection Disabled"),S=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("liveInLobbyEnabled")}),E=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("ready")}),x=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("webBroadcastUIEnabled")}),k=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("webVideoPropsEnabled")}),I=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("useDeepLink")}),T=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("useDeepLinkV2")}),F=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("upcomingDeepLinkV1")}),P=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("useNewReactionsService")}),N=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("useNewReactionsServiceV2")}),M=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("videoQualityPredictionsEnabled")}),L=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("useVodV2")}),B=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("useVodV3")}),A=Object(c.createSelector)(function(e){return e[l]},function(e){return e.get("webPropsPromptsEnabled")}),D=e.fromJS({ready:!1,liveInLobbyEnabled:!1,webBroadcastUIEnabled:!1,videoQualityPredictionsEnabled:!1,arkoseSignUpProtectionDisabled:!1,webVideoPropsEnabled:!1,useDeepLink:!1,useDeepLinkV2:!1,upcomingDeepLinkV1:!1,useVodV2:!1,useVodV3:!1,useNewReactionsService:!1,useNewReactionsServiceV2:!1});t.default=Object(s.a)((a={},i()(a,d,function(e){return e.set("ready",!0)}),i()(a,u,function(t,n){var a=n.payload;return t.set("liveInLobbyEnabled",e.fromJS(a))}),i()(a,m,function(t,n){var a=n.payload;return t.set("webBroadcastUIEnabled",e.fromJS(a))}),i()(a,g,function(t,n){var a=n.payload;return t.set("webVideoPropsEnabled",e.fromJS(a))}),i()(a,j,function(t,n){var a=n.payload;return t.set("videoQualityPredictionsEnabled",e.fromJS(a))}),i()(a,O,function(t,n){var a=n.payload;return t.set("arkoseSignUpProtectionDisabled",e.fromJS(a))}),i()(a,b,function(t,n){var a=n.payload;return t.set("useDeepLink",e.fromJS(a))}),i()(a,p,function(t,n){var a=n.payload;return t.set("useDeepLinkV2",e.fromJS(a))}),i()(a,f,function(t,n){var a=n.payload;return t.set("upcomingDeepLinkV1",e.fromJS(a))}),i()(a,h,function(t,n){var a=n.payload;return t.set("useNewReactionsService",e.fromJS(a))}),i()(a,v,function(t,n){var a=n.payload;return t.set("useNewReactionsServiceV2",e.fromJS(a))}),i()(a,C,function(t,n){var a=n.payload;return t.set("useVodV2",e.fromJS(a))}),i()(a,y,function(t,n){var a=n.payload;return t.set("useVodV3",e.fromJS(a))}),i()(a,_,function(){return D}),i()(a,w,function(t,n){var a=n.payload;return t.set("webPropsPromptsEnabled",e.fromJS(a))}),a),D)}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/feature-configuration/feature-configuration.sagas.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/effects.js"),o=n("./src/pieces/feature-configuration/feature-configuration.reducer.js"),s=n("./src/pieces/base/storage.js"),c=n("./node_modules/bows/bows.js")("Feature-configuration"),l="control",u="enabled",d="test",_=!("demoMode"in localStorage);function m(e,t){return function(e){var t=e.node;return!!t&&(0===t.indexOf(u)||!(0!==t.indexOf(d)||!_))}(function(){var n=s.a.get(t.LOCALSTORAGE_NAME);if(!0===n)return c("Using localStorage flag ".concat(t.LOCALSTORAGE_NAME," to set feature ").concat(t.FLAG_NAME," to enabled")),{node:d};if(!1===n)return c("Using localStorage flag ".concat(t.LOCALSTORAGE_NAME," to set feature ").concat(t.FLAG_NAME," to disabled")),{node:l};var a=e[t.SERVER_NAME];return a?(c("Got feature configuration response for ".concat(t.FLAG_NAME),a),a):{node:l}}())}var g=n("./src/pieces/base/api/api-helpers.js"),b=n("./src/pieces/base/constants.js"),p=r.a.mark(f);n("./node_modules/bows/bows.js")("Feature-configuration.api");function f(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.c)(b.sb);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},p)}var h=n("./src/pieces/authentication/authentication.reducer.js"),v=(n("./src/pieces/current-user/current-user.reducer.js"),n("./src/pieces/base/saga-utilities.js"));n.d(t,"waitForFeatureConfiguration",function(){return H}),n.d(t,"isLiveInLobbyEnabled",function(){return W}),n.d(t,"default",function(){return V});var w=r.a.mark(U),C=r.a.mark(R),y=r.a.mark(H),j=r.a.mark(W),O=r.a.mark(V),S=n("./node_modules/bows/bows.js")("Feature-configuration.sagas"),E={FLAG_NAME:"video_quality_predictions",LOCALSTORAGE_NAME:"videoQualityPredictions",SERVER_NAME:"videoQualityPredictions"},x={FLAG_NAME:"f316ship",LOCALSTORAGE_NAME:"useBroadcastPreview",SERVER_NAME:"f316Ship"},k={FLAG_NAME:"web_broadcast_ui",LOCALSTORAGE_NAME:"webBroadcastUI",SERVER_NAME:"webBroadcastUI"},I={FLAG_NAME:"arkose_disabled",LOCALSTORAGE_NAME:"arkoseDisabled",SERVER_NAME:"arkoseDisabled"},T={FLAG_NAME:"web_video_props",LOCALSTORAGE_NAME:"webVideoProps",SERVER_NAME:"webVideoProps"},F={FLAG_NAME:"deeplink_web_v1",LOCALSTORAGE_NAME:"deeplinkWebV1",SERVER_NAME:"deeplinkWebV1"},P={FLAG_NAME:"deeplink_web_v2",LOCALSTORAGE_NAME:"deeplinkWebV2",SERVER_NAME:"deeplinkWebV2"},N={FLAG_NAME:"upcoming_deeplink_web_v1",LOCALSTORAGE_NAME:"upcomingDeeplinkWebV1",SERVER_NAME:"upcomingDeeplinkWebV1"},M={FLAG_NAME:"reactions_service_web_v1",LOCALSTORAGE_NAME:"reactionsServiceWebV1",SERVER_NAME:"reactionsServiceWebV1"},L={FLAG_NAME:"reactions_service_web_v2",LOCALSTORAGE_NAME:"reactionsServiceWebV2",SERVER_NAME:"reactionsServiceWebV2"},B={FLAG_NAME:"prop_prompt_web_v1",LOCALSTORAGE_NAME:"webPropsPrompts",SERVER_NAME:"webPropsPrompts"},A={FLAG_NAME:"vod_web_v2",LOCALSTORAGE_NAME:"vodWebV2",SERVER_NAME:"vodWebV2"},D={FLAG_NAME:"vod_web_v3",LOCALSTORAGE_NAME:"vodWebV3",SERVER_NAME:"vodWebV3"};function U(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)(f);case 2:return e=t.sent,S(_?"Normal feature configuration is set.":"Demo Mode enabled. Test feature configuration is off."),t.next=6,Object(i.g)(Object(o.SetWebBroadcastUIStatus)(m(e,k)));case 6:return t.next=8,Object(i.g)(Object(o.SetLiveInLobby)(m(e,x)));case 8:return t.next=10,Object(i.g)(Object(o.SetVideoQualityPredictionsEnabled)(m(e,E)));case 10:return t.next=12,Object(i.g)(Object(o.SetArkoseSignUpProtectionDisabled)(m(e,I)));case 12:return t.next=14,Object(i.g)(Object(o.SetWebVideoPropsStatus)(m(e,T)));case 14:return t.next=16,Object(i.g)(Object(o.SetUseDeepLink)(m(e,F)));case 16:return t.next=18,Object(i.g)(Object(o.SetUseDeepLinkV2)(m(e,P)));case 18:return t.next=20,Object(i.g)(Object(o.SetUpcomingDeepLinkV1)(m(e,N)));case 20:return t.next=22,Object(i.g)(Object(o.SetUseNewReactionsService)(m(e,M)));case 22:return t.next=24,Object(i.g)(Object(o.SetUseNewReactionsServiceV2)(m(e,L)));case 24:return t.next=26,Object(i.g)(Object(o.SetWebPropsPromptsStatus)(m(e,B)));case 26:return t.next=28,Object(i.g)(Object(o.SetVodV2)(m(e,A)));case 28:return t.next=30,Object(i.g)(Object(o.SetVodV3)(m(e,D)));case 30:return t.next=32,Object(i.g)(Object(o.SetFeaturesReady)());case 32:S("Feature configuration loaded");case 33:case"end":return t.stop()}},w)}function R(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.g)(Object(o.ResetFeatureConfiguration)());case 2:return e.next=4,Object(i.b)(U);case 4:case"end":return e.stop()}},C)}function H(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.i)(o.selectFeaturesReady);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Object(i.k)(o.SetFeaturesReady);case 7:case"end":return e.stop()}},y)}function W(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(H);case 2:return e.next=4,Object(i.i)(o.selectLiveInLobbyEnabled);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},j)}function V(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.h)(h.StartAuthenticatedSession,R);case 2:return e.next=4,Object(v.h)(h.StartAnonymousSession,R);case 4:case"end":return e.stop()}},O)}},"./src/pieces/feed/broadcast-card-viewers.scss":function(e,t,n){e.exports={broadcastCardHeaderContainer:"broadcast-card-viewers__broadcastCardHeaderContainer___3iVII",broadcastCardViewers:"broadcast-card-viewers__broadcastCardViewers___3doGY broadcast-card-viewers__broadcastCardHeaderContainer___3iVII",usernameWrapper:"broadcast-card-viewers__usernameWrapper___2ljHP",usernameReplay:"broadcast-card-viewers__usernameReplay___2ebPL",avatarWrapper:"broadcast-card-viewers__avatarWrapper___21gAi",avatarReplay:"broadcast-card-viewers__avatarReplay___2brgK",broadcastCardLive:"broadcast-card-viewers__broadcastCardLive___2-Ph_ broadcast-card-viewers__broadcastCardHeaderContainer___3iVII",username:"broadcast-card-viewers__username___2UwXd",counter:"broadcast-card-viewers__counter___1avOU",avatars:"broadcast-card-viewers__avatars___36-8n",broadcastCardViewersRating:"broadcast-card-viewers__broadcastCardViewersRating___V4NNA"}},"./src/pieces/feed/broadcast-card-viewers.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./node_modules/framer-motion/dist/framer-motion.es.js"),c=n("./node_modules/react/index.js"),l=n.n(c),u=n("./node_modules/classnames/index.js"),d=n.n(u),_=n("./src/pieces/base/user-snippet.tsx"),m=n("./src/pieces/base/avatar.tsx"),g=n("./src/pieces/feed/broadcast-card-viewers.scss"),b=n.n(g),p=n("./src/pieces/feed/live-indicator.tsx"),f=n("./node_modules/lodash/cond.js"),h=n.n(f),v=(n("./node_modules/bows/bows.js")("Replay-indicator"),h()([[function(e){return"small"===e.size},function(){return l.a.createElement("svg",{viewBox:"0 0 64 32",width:60,height:30,overflow:"visible"},l.a.createElement("path",{d:"M0 0H64V32H0V0Z",fill:"#464657"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 14C40.3431 14 39 15.3431 39 17C39 18.6569 40.3431 20 42 20C43.6569 20 45 18.6569 45 17C45 15.3431 43.6569 14 42 14ZM45 21.0004C45.0002 21.5525 45.4478 22 46 22C46.5523 22 47 21.5523 47 21V17C47 14.2386 44.7614 12 42 12C39.2386 12 37 14.2386 37 17C37 19.7614 39.2386 22 42 22C43.1256 22 44.1643 21.6281 45 21.0004Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35 8C35.5523 8 36 8.44772 36 9V21C36 21.5523 35.5523 22 35 22C34.4477 22 34 21.5523 34 21V9C34 8.44772 34.4477 8 35 8Z",fill:"white"}),l.a.createElement("path",{d:"M49 12C49.5523 12 50 12.4477 50 13V17.0002C50 18.657 51.3431 20.0002 53 20.0002C54.6569 20.0002 56 18.657 56 17.0002L56 13C56 12.4477 56.4477 12 57 12C57.5523 12 58 12.4477 58 13L58 17.0002L58 22.5002C58 25.2616 55.7615 27.5001 53 27.5001C52.4477 27.5001 52 27.0524 52 26.5001C52 25.9478 52.4477 25.5001 53 25.5001C54.6569 25.5001 56 24.157 56 22.5002L56 21.0005C55.1644 21.6282 54.1256 22.0002 53 22.0002C50.2385 22.0002 48 19.7616 48 17.0002V13C48 12.4477 48.4477 12 49 12Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 14C26.3431 14 25 15.3431 25 17C25 18.6569 26.3431 20 28 20C29.6569 20 31 18.6569 31 17C31 15.3431 29.6569 14 28 14ZM25 21.0004C25.8357 21.6281 26.8744 22 28 22C30.7614 22 33 19.7614 33 17C33 14.2386 30.7614 12 28 12C25.2386 12 23 14.2386 23 17V25C23 25.5523 23.4477 26 24 26C24.5523 26 25 25.5523 25 25V21.0004Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4645 13.4645C14.4021 12.5268 15.6739 12 17 12C18.3261 12 19.5979 12.5268 20.5355 13.4645C21.4732 14.4021 22 15.6739 22 17C22 17.5523 21.5523 18 21 18H14.1705C14.2532 18.2347 14.3652 18.4595 14.5048 18.6687C14.8345 19.1625 15.3032 19.5474 15.8516 19.7747C16.4001 20.0019 17.0037 20.0613 17.5859 19.9454C18.1682 19.8294 18.7029 19.5433 19.1225 19.1233C19.5128 18.7325 20.146 18.7322 20.5367 19.1225C20.9275 19.5128 20.9278 20.146 20.5375 20.5367C19.8382 21.2368 18.947 21.7136 17.9765 21.9069C17.0061 22.1001 16.0002 22.0011 15.086 21.6223C14.1719 21.2436 13.3908 20.6021 12.8414 19.7791C12.2921 18.9563 11.9993 17.9889 12 16.9996C12.0002 15.6738 12.527 14.402 13.4645 13.4645ZM14.1716 16H19.8284C19.6807 15.5821 19.4407 15.1981 19.1213 14.8787C18.5587 14.3161 17.7956 14 17 14C16.2044 14 15.4413 14.3161 14.8787 14.8787C14.5593 15.1981 14.3193 15.5821 14.1716 16Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 14C10.2043 14 9.44129 14.3161 8.87868 14.8787C8.31607 15.4413 8 16.2043 8 17V21C8 21.5523 7.55228 22 7 22C6.44772 22 6 21.5523 6 21V17C6 15.6739 6.52678 14.4021 7.46446 13.4645C8.40215 12.5268 9.67392 12 11 12C11.5523 12 12 12.4477 12 13C12 13.5523 11.5523 14 11 14Z",fill:"white"}))}],[function(e){return"medium"===e.size},function(){return l.a.createElement("svg",{viewBox:"0 0 64 32",width:64,height:32},l.a.createElement("path",{d:"M0 0H64V32H0V0Z",fill:"#464657"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 14C40.3431 14 39 15.3431 39 17C39 18.6569 40.3431 20 42 20C43.6569 20 45 18.6569 45 17C45 15.3431 43.6569 14 42 14ZM45 21.0004C45.0002 21.5525 45.4478 22 46 22C46.5523 22 47 21.5523 47 21V17C47 14.2386 44.7614 12 42 12C39.2386 12 37 14.2386 37 17C37 19.7614 39.2386 22 42 22C43.1256 22 44.1643 21.6281 45 21.0004Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35 8C35.5523 8 36 8.44772 36 9V21C36 21.5523 35.5523 22 35 22C34.4477 22 34 21.5523 34 21V9C34 8.44772 34.4477 8 35 8Z",fill:"white"}),l.a.createElement("path",{d:"M49 12C49.5523 12 50 12.4477 50 13V17.0002C50 18.657 51.3431 20.0002 53 20.0002C54.6569 20.0002 56 18.657 56 17.0002L56 13C56 12.4477 56.4477 12 57 12C57.5523 12 58 12.4477 58 13L58 17.0002L58 22.5002C58 25.2616 55.7615 27.5001 53 27.5001C52.4477 27.5001 52 27.0524 52 26.5001C52 25.9478 52.4477 25.5001 53 25.5001C54.6569 25.5001 56 24.157 56 22.5002L56 21.0005C55.1644 21.6282 54.1256 22.0002 53 22.0002C50.2385 22.0002 48 19.7616 48 17.0002V13C48 12.4477 48.4477 12 49 12Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 14C26.3431 14 25 15.3431 25 17C25 18.6569 26.3431 20 28 20C29.6569 20 31 18.6569 31 17C31 15.3431 29.6569 14 28 14ZM25 21.0004C25.8357 21.6281 26.8744 22 28 22C30.7614 22 33 19.7614 33 17C33 14.2386 30.7614 12 28 12C25.2386 12 23 14.2386 23 17V25C23 25.5523 23.4477 26 24 26C24.5523 26 25 25.5523 25 25V21.0004Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4645 13.4645C14.4021 12.5268 15.6739 12 17 12C18.3261 12 19.5979 12.5268 20.5355 13.4645C21.4732 14.4021 22 15.6739 22 17C22 17.5523 21.5523 18 21 18H14.1705C14.2532 18.2347 14.3652 18.4595 14.5048 18.6687C14.8345 19.1625 15.3032 19.5474 15.8516 19.7747C16.4001 20.0019 17.0037 20.0613 17.5859 19.9454C18.1682 19.8294 18.7029 19.5433 19.1225 19.1233C19.5128 18.7325 20.146 18.7322 20.5367 19.1225C20.9275 19.5128 20.9278 20.146 20.5375 20.5367C19.8382 21.2368 18.947 21.7136 17.9765 21.9069C17.0061 22.1001 16.0002 22.0011 15.086 21.6223C14.1719 21.2436 13.3908 20.6021 12.8414 19.7791C12.2921 18.9563 11.9993 17.9889 12 16.9996C12.0002 15.6738 12.527 14.402 13.4645 13.4645ZM14.1716 16H19.8284C19.6807 15.5821 19.4407 15.1981 19.1213 14.8787C18.5587 14.3161 17.7956 14 17 14C16.2044 14 15.4413 14.3161 14.8787 14.8787C14.5593 15.1981 14.3193 15.5821 14.1716 16Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 14C10.2043 14 9.44129 14.3161 8.87868 14.8787C8.31607 15.4413 8 16.2043 8 17V21C8 21.5523 7.55228 22 7 22C6.44772 22 6 21.5523 6 21V17C6 15.6739 6.52678 14.4021 7.46446 13.4645C8.40215 12.5268 9.67392 12 11 12C11.5523 12 12 12.4477 12 13C12 13.5523 11.5523 14 11 14Z",fill:"white"}))}],[function(e){return"large"===e.size},function(){return l.a.createElement("svg",{viewBox:"0 0 72 40",width:72,height:40},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 19C44.3431 19 43 20.3431 43 22C43 23.6569 44.3431 25 46 25C47.6569 25 49 23.6569 49 22C49 20.3431 47.6569 19 46 19ZM49 26.0004C49.0002 26.5525 49.4478 27 50 27C50.5523 27 51 26.5523 51 26V22C51 19.2386 48.7614 17 46 17C43.2386 17 41 19.2386 41 22C41 24.7614 43.2386 27 46 27C47.1256 27 48.1643 26.6281 49 26.0004Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 13C39.5523 13 40 13.4477 40 14V26C40 26.5523 39.5523 27 39 27C38.4477 27 38 26.5523 38 26V14C38 13.4477 38.4477 13 39 13Z",fill:"white"}),l.a.createElement("path",{d:"M53 17C53.5523 17 54 17.4477 54 18V22.0002C54 23.657 55.3431 25.0002 57 25.0002C58.6569 25.0002 60 23.657 60 22.0002L60 18C60 17.4477 60.4477 17 61 17C61.5523 17 62 17.4477 62 18L62 22.0002L62 27.5002C62 30.2616 59.7615 32.5001 57 32.5001C56.4477 32.5001 56 32.0524 56 31.5001C56 30.9478 56.4477 30.5001 57 30.5001C58.6569 30.5001 60 29.157 60 27.5002L60 26.0005C59.1644 26.6282 58.1256 27.0002 57 27.0002C54.2385 27.0002 52 24.7616 52 22.0002V18C52 17.4477 52.4477 17 53 17Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 19C30.3431 19 29 20.3431 29 22C29 23.6569 30.3431 25 32 25C33.6569 25 35 23.6569 35 22C35 20.3431 33.6569 19 32 19ZM29 26.0004C29.8357 26.6281 30.8744 27 32 27C34.7614 27 37 24.7614 37 22C37 19.2386 34.7614 17 32 17C29.2386 17 27 19.2386 27 22V30C27 30.5523 27.4477 31 28 31C28.5523 31 29 30.5523 29 30V26.0004Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4645 18.4645C18.4021 17.5268 19.6739 17 21 17C22.3261 17 23.5979 17.5268 24.5355 18.4645C25.4732 19.4021 26 20.6739 26 22C26 22.5523 25.5523 23 25 23H18.1705C18.2532 23.2347 18.3652 23.4595 18.5048 23.6687C18.8345 24.1625 19.3032 24.5474 19.8516 24.7747C20.4001 25.0019 21.0037 25.0613 21.5859 24.9454C22.1682 24.8294 22.7029 24.5433 23.1225 24.1233C23.5128 23.7325 24.146 23.7322 24.5367 24.1225C24.9275 24.5128 24.9278 25.146 24.5375 25.5367C23.8382 26.2368 22.947 26.7136 21.9765 26.9069C21.0061 27.1001 20.0002 27.0011 19.086 26.6223C18.1719 26.2436 17.3908 25.6021 16.8414 24.7791C16.2921 23.9563 15.9993 22.9889 16 21.9996C16 21.9997 16 21.9995 16 21.9996C16.0002 20.6738 16.527 19.402 17.4645 18.4645ZM18.1716 21H23.8284C23.6807 20.5821 23.4407 20.1981 23.1213 19.8787C22.5587 19.3161 21.7956 19 21 19C20.2044 19 19.4413 19.3161 18.8787 19.8787C18.5593 20.1981 18.3193 20.5821 18.1716 21ZM16 21.9996C16 21.9997 16 21.9995 16 21.9996Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 19C14.2043 19 13.4413 19.3161 12.8787 19.8787C12.3161 20.4413 12 21.2043 12 22V26C12 26.5523 11.5523 27 11 27C10.4477 27 10 26.5523 10 26V22C10 20.6739 10.5268 19.4021 11.4645 18.4645C12.4021 17.5268 13.6739 17 15 17C15.5523 17 16 17.4477 16 18C16 18.5523 15.5523 19 15 19Z",fill:"white"}))}],[function(e){return"xLarge"===e.size},function(){return l.a.createElement("svg",{viewBox:"0 0 104 56",width:104,height:56},l.a.createElement("path",{d:"M0 0H108V56H0V0Z",fill:"#464657"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69 26C66.5147 26 64.5 28.0147 64.5 30.5C64.5 32.9853 66.5147 35 69 35C71.4853 35 73.5 32.9853 73.5 30.5C73.5 28.0147 71.4853 26 69 26ZM73.5 36.5005C73.5003 37.3287 74.1717 38 75 38C75.8284 38 76.5 37.3284 76.5 36.5V30.5C76.5 26.3579 73.1421 23 69 23C64.8579 23 61.5 26.3579 61.5 30.5C61.5 34.6421 64.8579 38 69 38C70.6884 38 72.2465 37.4421 73.5 36.5005Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.5 17C59.3284 17 60 17.6716 60 18.5V36.5C60 37.3284 59.3284 38 58.5 38C57.6716 38 57 37.3284 57 36.5V18.5C57 17.6716 57.6716 17 58.5 17Z",fill:"white"}),l.a.createElement("path",{d:"M79.5 23C80.3284 23 81 23.6716 81 24.5V30.5002C81 32.9855 83.0146 35.0002 85.5 35.0002C87.9853 35.0002 90 32.9855 90 30.5002L90 24.5C90 23.6716 90.6715 23 91.5 23C92.3284 23 93 23.6716 93 24.5L93 30.5002L93 38.7503C93 42.8924 89.6422 46.2501 85.5 46.2501C84.6716 46.2501 84 45.5785 84 44.7501C84 43.9217 84.6716 43.2501 85.5 43.2501C87.9854 43.2501 90 41.2355 90 38.7502L90 36.5008C88.7465 37.4423 87.1884 38.0002 85.5 38.0002C81.3578 38.0002 78 34.6423 78 30.5002V24.5C78 23.6716 78.6716 23 79.5 23Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48 26C45.5147 26 43.5 28.0147 43.5 30.5C43.5 32.9853 45.5147 35 48 35C50.4853 35 52.5 32.9853 52.5 30.5C52.5 28.0147 50.4853 26 48 26ZM43.5 36.5005C44.7535 37.4421 46.3116 38 48 38C52.1421 38 55.5 34.6421 55.5 30.5C55.5 26.3579 52.1421 23 48 23C43.8579 23 40.5 26.3579 40.5 30.5V42.5C40.5 43.3284 41.1716 44 42 44C42.8284 44 43.5 43.3284 43.5 42.5V36.5005Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.1967 25.1967C27.6032 23.7902 29.5109 23 31.5 23C33.4891 23 35.3968 23.7902 36.8033 25.1967C38.2098 26.6032 39 28.5109 39 30.5C39 31.3284 38.3284 32 37.5 32H27.2557C27.3797 32.3521 27.5478 32.6893 27.7573 33.0031C28.2517 33.7438 28.9547 34.3211 29.7774 34.662C30.6001 35.0029 31.5055 35.092 32.3789 34.9181C33.2523 34.7441 34.0544 34.315 34.6837 33.6849C35.2692 33.0988 36.219 33.0983 36.8051 33.6837C37.3912 34.2692 37.3917 35.219 36.8062 35.8051C35.7573 36.8551 34.4204 37.5704 32.9648 37.8603C31.5092 38.1502 30.0002 38.0016 28.6291 37.4335C27.2579 36.8653 26.0861 35.9031 25.2621 34.6687C24.4382 33.4344 23.9989 31.9834 24 30.4994C24.0003 28.5107 24.7905 26.6029 26.1967 25.1967ZM27.2574 29H35.7426C35.521 28.3731 35.1611 27.7971 34.682 27.318C33.8381 26.4741 32.6935 26 31.5 26C30.3065 26 29.1619 26.4741 28.318 27.318C27.8389 27.7971 27.479 28.3731 27.2574 29Z",fill:"white"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.5 26C21.3065 26 20.1619 26.4741 19.318 27.318C18.4741 28.1619 18 29.3065 18 30.5V36.5C18 37.3284 17.3284 38 16.5 38C15.6716 38 15 37.3284 15 36.5V30.5C15 28.5109 15.7902 26.6032 17.1967 25.1967C18.6032 23.7902 20.5109 23 22.5 23C23.3284 23 24 23.6716 24 24.5C24 25.3284 23.3284 26 22.5 26Z",fill:"white"}))}]])),w=n("./src/pieces/base/seventeen-plus-rating.tsx"),C=n("./src/pieces/base/constants.js"),y=(n("./node_modules/bows/bows.js")("Broadcast-card-viewers"),{type:"spring",stiffness:200,damping:30}),j={initial:{x:"50%"},variants:{hover:{x:"0%"}},transition:y},O={initial:{x:"0%",width:"100%"},variants:{hover:function(e){return{x:e.x,maxWidth:e.maxWidth,width:"unset"}}},transition:y},S={initial:{x:"-100%"},variants:{hover:{x:"0%"}},transition:y},E=function(e){var t=e.user;return l.a.createElement(_.a,{user:t,size:"large",darkTheme:!0,hideAvatar:!0,hideFollowButton:!0,hideBadge:!0,linkToProfileInNewTab:!0})};t.a=function(e){var t,n,a,i,u=e.badge,_=e.viewers,g=e.viewersCount,f=e.size,h=e.isExplicit,y=Object(c.useCallback)(function(){var e=h?-40:0;return{x:"medium"===f?32:36,maxWidth:e+="medium"===f?185:337}},[f,h]),x=Object(c.useCallback)(function(){var e=h?-40:0;return{x:"medium"===f?50:55,maxWidth:e+="medium"===f?150:200}},[f,h]),k=function(){return"doubleExtraLarge"===f?"xLarge":f};switch(!0){case"xLarge"!==f&&1===g:return l.a.createElement("div",{className:b.a.broadcastCardViewers},l.a.createElement(s.b.div,r()({},O,{custom:y(),className:d()((t={},o()(t,b.a.usernameWrapper,!0),o()(t,b.a.usernameReplay,u===C.Zd),t))}),l.a.createElement(s.b.div,r()({},S,{className:b.a.username}),l.a.createElement(E,{user:_[0]})),h&&l.a.createElement(w.a,{className:b.a.broadcastCardViewersRating,size:k()})),l.a.createElement("div",{className:d()((n={},o()(n,b.a.avatarWrapper,!0),o()(n,b.a.avatarReplay,u===C.Zd),n))},l.a.createElement(s.b.div,r()({},j,{className:b.a.redesign_avatar}),l.a.createElement(m.a,{linkToProfileInNewTab:!0,user:_[0],size:"small"}))));case"xLarge"!==f&&g>=2:return l.a.createElement("div",{className:b.a.broadcastCardViewers},l.a.createElement(s.b.div,r()({},O,{custom:x(),className:d()((a={},o()(a,b.a.usernameWrapper,!0),o()(a,b.a.usernameReplay,u===C.Zd),a))}),l.a.createElement(s.b.div,r()({},S,{className:b.a.username}),l.a.createElement(E,{user:_[0]}),l.a.createElement("div",{className:b.a.counter},"+\xa0",g-1)),h&&l.a.createElement(w.a,{className:b.a.broadcastCardViewersRating,size:k()})),l.a.createElement("div",{className:d()((i={},o()(i,b.a.avatarWrapper,!0),o()(i,b.a.avatarReplay,u===C.Zd),i))},l.a.createElement("div",{className:b.a.avatars},l.a.createElement(m.a,{linkToProfileInNewTab:!0,user:_[0],size:"small"}),l.a.createElement(m.a,{linkToProfileInNewTab:!0,user:_[1],size:"small"}))));default:return l.a.createElement("div",{className:b.a.broadcastCardLive},u===C.Yd&&l.a.createElement(p.a,{size:k()}),u===C.Zd&&l.a.createElement(v,{size:k()}),h&&l.a.createElement(w.a,{size:k()}))}}},"./src/pieces/feed/broadcast-card.scss":function(e,t,n){e.exports={broadcastCard:"broadcast-card__broadcastCard___1aozh",medium:"broadcast-card__medium___26a_f",large:"broadcast-card__large___3ifvw",doubleExtraLarge:"broadcast-card__doubleExtraLarge___ftAiZ",xLarge:"broadcast-card__xLarge___1e8kz",broadcastCardContent:"broadcast-card__broadcastCardContent___Q_Z80",broadcastCardViewers:"broadcast-card__broadcastCardViewers___1EQS1",isReplay:"broadcast-card__isReplay___13I9r",broadcastCardLiveIndicatorForSmallWindow:"broadcast-card__broadcastCardLiveIndicatorForSmallWindow___rvn89",broadcastCardBody:"broadcast-card__broadcastCardBody___2HzQ6",broadcastCardActions:"broadcast-card__broadcastCardActions___kJ4sv",snapshotWrapper:"broadcast-card__snapshotWrapper___2M_MU",gameSnapshot:"broadcast-card__gameSnapshot___18JGT",broadcastCardGradient:"broadcast-card__broadcastCardGradient___6DFoN",huge:"broadcast-card__huge___2_5xQ",broadcastCardCreatorLockup:"broadcast-card__broadcastCardCreatorLockup___Y_jZp"}},"./src/pieces/feed/broadcast-card.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n("./node_modules/react-router/es/index.js"),l=n("./node_modules/framer-motion/dist/framer-motion.es.js"),u=n("./node_modules/lodash/cond.js"),d=n.n(u),_=n("./node_modules/classnames/index.js"),m=n.n(_),g=n("./node_modules/react-truncate/lib/Truncate.js"),b=n("./node_modules/react-intersection-observer/react-intersection-observer.esm.js"),p=n("./src/pieces/base/create-image-url.js"),f=n("./src/pieces/feed/broadcast-card-viewers.tsx"),h=n("./src/pieces/base/user-snippet.tsx"),v=n("./src/pieces/current-user/stage-actions-menu.tsx"),w=n("./src/pieces/base/constants.js"),C=n("./src/pieces/feed/live-indicator.tsx"),y=n("./src/pieces/base/seventeen-plus-rating.tsx"),j=n("./src/pieces/base/creator-lockup.tsx"),O=n("./src/pieces/feed/broadcast-card.scss"),S=n.n(O),E=(n("./node_modules/bows/bows.js")("Broadcast-card"),{auto:"webp",fit:"bounds",width:w.Hb}),x={type:"spring",stiffness:200,damping:30},k={hover:{scale:1.1},tap:{scale:1}},I={hover:{x:0}};t.a=function(t){var n,a,i=t.afterBodyClickHandler,u=t.afterFollowHandler,_=t.afterUnfollowHandler,O=t.afterViewportEntry,T=t.category,F=void 0===T?"":T,P=t.children,N=t.details,M=t.index,L=t.size,B=void 0===L?"large":L,A=t.showCardActions,D=t.showLiveBadge,U=t.showTitle,R=void 0===U||U,H=N.user,W=Object(s.useCallback)(d()([[function(e){return"medium"===e.size},function(e){return e.friendsWatching?0:-48}],[function(e){return"large"===e.size},function(e){return e.friendsWatching?0:-54}],[function(e){return"xLarge"===e.size},function(){return 0}],[function(e){return"doubleExtraLarge"===e.size},function(e){return e.friendsWatching?0:-73}]]),[B]),V=Object(s.useCallback)(function(e){return i(N,e,F)},[N,F,i]),z=Object(s.useCallback)(function(e){u&&u(N,e,F)},[N,F,u]),G=Object(s.useCallback)(function(e){_&&_(N,e,F)},[N,F,_]),q=Object(b.a)({threshold:1,triggerOnce:!0}),J=o()(q,3),Z=J[0],Y=J[1],Q=J[2];if(Object(s.useEffect)(function(){Y&&Q&&O&&O(N,Q,N.id)},[Y]),"LiveBroadcastCard"!==N.__typename)return e.createElement("div",{ref:Z},e.createElement(h.a,{user:H,darkTheme:!0,accentColor:M,linkToProfile:!0,afterBodyClickHandler:V,afterFollowHandler:z,afterUnfollowHandler:G}));var K=N.broadcast,X=K.ageRestriction,$=K.badge,ee=K.friendViewers,te=K.previewImagePath,ne=K.name,ae=K.totalFriendViewers,re=X===w.U;return e.createElement(l.b.div,{whileHover:"hover",whileTap:"tap",className:m()((n={},r()(n,S.a.broadcastCard,!0),r()(n,S.a["".concat(B)],B),n)),ref:Z},e.createElement("div",{className:S.a.broadcastCardContent},P?e.createElement("div",{className:S.a.snapshotWrapper,onClick:V},P):e.createElement(c.b,{to:"/".concat(H.username),onClick:V},e.createElement(l.b.div,{variants:k,transition:x,className:S.a.snapshotWrapper},e.createElement("img",{className:S.a.gameSnapshot,src:Object(p.c)("/defaults/default-lobby-image-v2.jpg",E),alt:""}),e.createElement("img",{className:S.a.gameSnapshot,src:Object(p.b)(te,E),alt:""}))),e.createElement("div",{className:S.a.broadcastCardGradient}),e.createElement(l.b.div,{initial:{x:D?0:W({size:B,friendsWatching:ae>0})},variants:I,transition:x,className:m()((a={},r()(a,S.a.broadcastCardViewers,!0),r()(a,S.a.isReplay,$===w.Zd),a))},e.createElement(f.a,{badge:$,viewers:ee,size:B,isExplicit:re,viewersCount:ae})),e.createElement("div",{className:S.a.broadcastCardActions},A&&e.createElement(v.a,{darkTheme:!0,entertainer:H,popoverSettings:{orientation:"belowLeft",horizontalOffset:15},size:"medium"===B?"tiny":B})),e.createElement("section",{className:S.a.broadcastCardBody},e.createElement("div",null,e.createElement("div",{className:S.a.broadcastCardLiveIndicatorForSmallWindow},e.createElement(C.a,{size:"small"}),re&&e.createElement(y.a,{size:"small"})),R&&e.createElement(g.a,{lines:"medium"===B?2:3},ne))),e.createElement("div",{className:S.a.broadcastCardCreatorLockup},e.createElement(j.a,{user:H,size:"medium"===B?"medium":"large",darkTheme:!0,afterFollowHandler:z,afterBodyClickHandler:V}))))}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/feed/broadcast-viewer-menu.scss":function(e,t,n){e.exports={broadcastViewerMenu:"broadcast-viewer-menu__broadcastViewerMenu___1CQhn",trigger:"broadcast-viewer-menu__trigger___3waIH",open:"broadcast-viewer-menu__open___3aajP",dropdownWrapper:"broadcast-viewer-menu__dropdownWrapper___yL5up",redesign_dropdown:"broadcast-viewer-menu__redesign_dropdown___xz1t5",redesign_darkTheme:"broadcast-viewer-menu__redesign_darkTheme___3dVlk",redesign_broadcastViewer:"broadcast-viewer-menu__redesign_broadcastViewer___1PG_4",broadcastViewerWithDarkTheme:"broadcast-viewer-menu__broadcastViewerWithDarkTheme___zQFnl broadcast-viewer-menu__redesign_broadcastViewer___1PG_4",broadcastViewers:"broadcast-viewer-menu__broadcastViewers___3apz6",broadcastViewersWithDarkTheme:"broadcast-viewer-menu__broadcastViewersWithDarkTheme___3BWnc broadcast-viewer-menu__broadcastViewers___3apz6",userSnippetContainer:"broadcast-viewer-menu__userSnippetContainer___3uf5E",socialHoverContent:"broadcast-viewer-menu__socialHoverContent___3XRaV",socialHoverViewers:"broadcast-viewer-menu__socialHoverViewers___3tvR8",keepOpen:"broadcast-viewer-menu__keepOpen___18ClA",liveBackground:"broadcast-viewer-menu__liveBackground___A2_cu",offAirBackground:"broadcast-viewer-menu__offAirBackground___1iFf_ broadcast-viewer-menu__liveBackground___A2_cu"}},"./src/pieces/feed/broadcast-viewers.scss":function(e,t,n){e.exports={broadcastViewers:"broadcast-viewers__broadcastViewers___3JHXM",avatar:"broadcast-viewers__avatar___3nR20",avatars:"broadcast-viewers__avatars___3Py7S broadcast-viewers__avatar___3nR20",broadcastLive:"broadcast-viewers__broadcastLive___TkqZ6 broadcast-viewers__broadcastViewers___3JHXM",username:"broadcast-viewers__username___2c6AF"}},"./src/pieces/feed/feed-loading-placeholder.scss":function(e,t,n){e.exports={navigationHeaderPlaceholder:"feed-loading-placeholder__navigationHeaderPlaceholder___3H9Yu",feedLoadingPlaceholder:"feed-loading-placeholder__feedLoadingPlaceholder___1M3ZX",shimmer:"feed-loading-placeholder__shimmer___3qND6",detailPageFeed:"feed-loading-placeholder__detailPageFeed___3oqTC",hero:"feed-loading-placeholder__hero___3ZA8E",feed:"feed-loading-placeholder__feed___1d0Nz",feedSection:"feed-loading-placeholder__feedSection___32t12",simpleCardListSection:"feed-loading-placeholder__simpleCardListSection___1zw5Z",feedSectionHeader:"feed-loading-placeholder__feedSectionHeader___2nGfb",small:"feed-loading-placeholder__small___csesO",medium:"feed-loading-placeholder__medium___3_6cO",feedItem:"feed-loading-placeholder__feedItem___zMRPA",feedItemInnerMedium:"feed-loading-placeholder__feedItemInnerMedium___2_tTq",feedItemInnerSmall:"feed-loading-placeholder__feedItemInnerSmall___Un9Gb",feedItemInnerBubble:"feed-loading-placeholder__feedItemInnerBubble___22Liu",placeHolderShimmer:"feed-loading-placeholder__placeHolderShimmer___3eLcm"}},"./src/pieces/feed/feed.reducer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return g}),n.d(t,"LoadLobbyContent",function(){return b}),n.d(t,"LoadDetailPageContent",function(){return p}),n.d(t,"UnloadLobby",function(){return f}),n.d(t,"TrackFollowClicked",function(){return h}),n.d(t,"TrackPageItemClicked",function(){return v}),n.d(t,"SetFeed",function(){return w}),n.d(t,"DismissLobbyWelcomeCard",function(){return C}),n.d(t,"AddRecentlyFollowedFeaturedUserCaid",function(){return y}),n.d(t,"MarkAvatarAsJustUpdated",function(){return j}),n.d(t,"LoadLobbyScheduledContent",function(){return O}),n.d(t,"SetBroadcastPreviewInViewport",function(){return S}),n.d(t,"SetShouldPauseBroadcastPreview",function(){return E}),n.d(t,"TrackClick",function(){return x}),n.d(t,"TrackImpression",function(){return k}),n.d(t,"TrackAnchorViewportEntrance",function(){return I}),n.d(t,"TrackAnchorFollow",function(){return T}),n.d(t,"TrackAnchorClick",function(){return F}),n.d(t,"TrackLobbyCardBodyClick",function(){return P}),n.d(t,"TrackFollowUserFromBroadcastCard",function(){return N}),n.d(t,"TrackBroadcastCardViewportEntrance",function(){return M}),n.d(t,"TrackBroadcastPreviewInViewport",function(){return L}),n.d(t,"TrackUnfollowUserFromBroadcastCard",function(){return B}),n.d(t,"TrackFPGViewportEntrance",function(){return A}),n.d(t,"TrackFPGFollow",function(){return D}),n.d(t,"TrackFPGClick",function(){return U}),n.d(t,"SetPauseBroadcastPreview",function(){return R}),n.d(t,"ReportScheduledContentListingsFailure",function(){return H}),n.d(t,"SetLobbyContent",function(){return W}),n.d(t,"selectLobbyContent",function(){return V}),n.d(t,"SetDetailContent",function(){return z}),n.d(t,"selectDetailContent",function(){return G}),n.d(t,"selectFeed",function(){return q}),n.d(t,"selectRecentlyFollowedUserCaids",function(){return J}),n.d(t,"selectLobbyWelcomeCardWasDismissed",function(){return Z}),n.d(t,"selectRecentlyUpdatedAvatar",function(){return Y}),n.d(t,"selectScheduledContentGroups",function(){return Q}),n.d(t,"selectScheduledContentForLobby",function(){return K}),n.d(t,"selectAnchorContentForLobby",function(){return X}),n.d(t,"selectBroadcastPreviewInViewport",function(){return $}),n.d(t,"selectShouldPauseBroadcastPreview",function(){return ee}),n.d(t,"selectScheduledContentListingsFailure",function(){return te});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=n.n(o),c=n("./node_modules/immutable/dist/immutable.js"),l=n.n(c),u=n("./node_modules/redux-actions/es/createAction.js"),d=n("./node_modules/redux-actions/es/handleActions.js"),_=n("./node_modules/reselect/lib/index.js"),m=n("./src/pieces/base/constants.js"),g=(n("./node_modules/bows/bows.js")("Feed.reducer"),"feed"),b=Object(u.a)("Load Lobby Content",function(e){return{credentials:e}}),p=Object(u.a)("Load Detail Page Content",function(e){return{cardId:e}}),f=Object(u.a)("Unload Lobby",function(){return null}),h=Object(u.a)("Track Follow Clicked",function(e){return e}),v=Object(u.a)("Track Page Item Clicked",function(e){return e}),w=Object(u.a)("Set Feed"),C=Object(u.a)("Dismiss Lobby Welcome Card",function(){return null}),y=Object(u.a)("Add Recently-Followed Featured User Caid",function(e){return e}),j=Object(u.a)("Mark Avatar As Just Updated",function(){return null}),O=Object(u.a)("Load Lobby Scheduled Content",function(){return null}),S=Object(u.a)("Set Broadcast Preview In Viewport",function(e){return e}),E=Object(u.a)("Set Should Pause Broadcast Preview",function(e){return e}),x=Object(u.a)("Track Click",function(e,t){return{itemDetails:e,eventDetails:t}}),k=Object(u.a)("Track Impression",function(e,t){return{itemDetails:e,entryDetails:t}}),I=Object(u.a)("Track Anchor Viewport Entrance",function(e,t,n,a){return{currentUserId:e,lobbyPayloadId:t,anchorDetails:n,entryDetails:a}}),T=Object(u.a)("Track Follow Anchor",function(e,t,n,a,r){return{currentUserId:e,lobbyPayloadId:t,anchorDetails:n,eventDetails:a,source:r}}),F=Object(u.a)("Track Anchor Card Click",function(e,t,n,a,r){return{currentUserId:e,lobbyPayloadId:t,anchorDetails:n,eventDetails:a,source:r}}),P=Object(u.a)("Track Lobby Card Body Click",function(e){return{currentUserId:e.currentUserId,lobbyPayloadId:e.lobbyPayloadId,cardDetails:e.cardDetails,eventDetails:e.eventDetails,category:e.category,source:e.source}}),N=Object(u.a)("Track Follow User From Broadcast Card",function(e){return{currentUserId:e.currentUserId,lobbyPayloadId:e.lobbyPayloadId,cardDetails:e.cardDetails,eventDetails:e.eventDetails,category:e.category,source:e.source}}),M=Object(u.a)("Track Broadcast Card Viewport Entrance",function(e){return{currentUserId:e.currentUserId,lobbyPayloadId:e.lobbyPayloadId,cardDetails:e.cardDetails,entryDetails:e.entryDetails,category:e.category,source:e.source}}),L=Object(u.a)("Track Stream Preview In Viewport",function(e){return e}),B=Object(u.a)("Track Unfollow User From Broadcast Card",function(e){return{currentUserId:e.currentUserId,lobbyPayloadId:e.lobbyPayloadId,cardDetails:e.cardDetails,eventDetails:e.eventDetails,category:e.category,source:e.source}}),A=Object(u.a)("Track FPG Viewport Entrance",function(e){return{currentUserId:e.currentUserId,lobbyPayloadId:e.lobbyPayloadId,fpgDetails:e.fpgDetails,entryDetails:e.entryDetails,displayOrder:e.displayOrder,source:e.source,category:e.category}}),D=Object(u.a)("Track Follow FPG User",function(e){return{currentUserId:e.currentUserId,lobbyPayloadId:e.lobbyPayloadId,fpgDetails:e.fpgDetails,eventDetails:e.eventDetails,displayOrder:e.displayOrder,source:e.source}}),U=Object(u.a)("Track FPG Username Click",function(e){return{currentUserId:e.currentUserId,lobbyPayloadId:e.lobbyPayloadId,fpgDetails:e.fpgDetails,eventDetails:e.eventDetails,displayOrder:e.displayOrder,source:e.source}}),R=Object(u.a)("Set Pause Broadcast Preview",function(e){return e}),H=Object(u.a)("Report Scheduled Content Listings Failure"),W=Object(u.a)("Set Lobby Content",function(e){return e}),V=Object(_.createSelector)(function(e){return e[g].get("lobbyContent")},function(e){return e.toJS()}),z=Object(u.a)("Set Detail Content",function(e){return e}),G=Object(_.createSelector)(function(e){return e[g].get("detailContent")},function(e){return e.toJS()}),q=Object(_.createSelector)(function(e){return e[g].get("feed")},function(e){return e&&e.toJS()}),J=Object(_.createSelector)(function(e){return e[g].get("recentlyFollowedUserCaids")},function(e){return e.toJS()}),Z=function(e){return e[g]&&e[g].get("lobbyWelcomeCardWasDismissed")},Y=function(e){return e[g].get("recentlyUpdatedAvatar")},Q=Object(_.createSelector)(function(e){return e[g].get("scheduledContentGroups")},function(e){return e&&e.toJS()}),K=Object(_.createSelector)(function(e){return e[g].get("scheduledContentGroups")},function(e){for(var t=[],n=e&&e.toJS(),a=0;n&&a<n.length&&t.length<m.ic;a++)t.push.apply(t,s()(n[a].slice(0,m.ic-t.length)));return t}),X=Object(_.createSelector)(function(e){return e[g].get("anchorContentListings")},function(e){var t=[],n=e&&e.toJS();return n&&t.push.apply(t,s()(n)),t}),$=function(e){return e[g].get("broadcastPreviewInViewport")},ee=function(e){return e[g].get("shouldPauseBroadcastPreview")},te=function(e){return e[g].get("scheduledContentListingsFailure")};t.default=Object(d.a)((a={},i()(a,w,function(e,t){var n=t.payload;return e.set("feed",l.a.fromJS(n))}),i()(a,y,function(e,t){var n=t.payload;return e.update("recentlyFollowedUserCaids",function(e){return e.push(n)})}),i()(a,j,function(e){return e.set("recentlyUpdatedAvatar",!0)}),i()(a,C,function(e){return e.set("lobbyWelcomeCardWasDismissed",!0)}),i()(a,f,function(e){return e.set("recentlyFollowedUserCaids",l.a.List()).set("recentlyUpdatedAvatar",!1)}),i()(a,E,function(e,t){var n=t.payload;return e.set("shouldPauseBroadcastPreview",n)}),i()(a,S,function(e,t){var n=t.payload;return e.set("broadcastPreviewInViewport",n)}),i()(a,E,function(e,t){var n=t.payload;return e.set("shouldPauseBroadcastPreview",n)}),i()(a,H,function(e){return e.set("scheduledContentListingsFailure",!0)}),i()(a,W,function(e,t){var n=t.payload,a=n.data,r=n.error,i=n.loading;return e.setIn(["lobbyContent","data"],l.a.fromJS(a)).setIn(["lobbyContent","loading"],i).setIn(["lobbyContent","error"],r)}),i()(a,z,function(e,t){var n=t.payload,a=n.data,r=n.error,i=n.loading;return e.setIn(["detailContent","data"],l.a.fromJS(a)).setIn(["detailContent","loading"],i).setIn(["detailContent","error"],r)}),a),l.a.fromJS({broadcastPreviewInViewport:null,feed:null,recentlyFollowedUserCaids:[],recentlyUpdatedAvatar:!1,lobbyWelcomeCardWasDismissed:!1,scheduledContentGroups:null,anchorContentListings:null,shouldPauseBroadcastPreview:null,scheduledContentListingsFailure:!1,lobbyContent:{data:{},error:null,loading:!0},detailContent:{data:{},error:null,loading:!0}}))},"./src/pieces/feed/live-indicator.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/lodash/cond.js"),o=n.n(i),s=(n("./node_modules/bows/bows.js")("Live-indicator"),o()([[function(e){return"small"===e.size},function(){return r.a.createElement("svg",{viewBox:"0 0 64 32",width:60,height:30,overflow:"visible"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{stroke:"#FFF",strokeWidth:2,fill:"none",d:"M0 0h64v32H0z"}),r.a.createElement("path",{d:"M24.143 13.429c.473 0 .857.384.857.857v6.857a.857.857 0 11-1.714 0v-6.857c0-.473.384-.857.857-.857zM19.857 10c.473 0 .857.384.857.857v10.286a.857.857 0 11-1.714 0V10.857c0-.473.384-.857.857-.857zm8.482 3.903L31 19.224l2.661-5.321a.857.857 0 111.535.766l-3.429 6.857-.007.013a.86.86 0 01-.043.074l.05-.087a.868.868 0 01-.384.384l-.027.013a.862.862 0 01-.052.021l.08-.034a.865.865 0 01-.501.082l.116.008a.856.856 0 01-.382-.09l-.04-.021a.858.858 0 01-.034-.02l.074.041a.867.867 0 01-.384-.384l-3.429-6.857a.858.858 0 011.535-.766zm12.09-.474a4.29 4.29 0 014.285 4.285.857.857 0 01-.75.85l-.107.007-5.852.002c.022.064.047.127.075.188l.022.047.011.024.022.043.077.141c.031.053.064.104.098.155l.11.146.021.026v.001l.041.048.033.038.037.04.022.024.007.006.052.053.029.027.032.03.041.037.018.016.062.052.018.014.041.032.017.013.044.032c.105.076.217.143.333.203l.05.024.035.017.005.002.011.005.07.03.08.032.079.029.003.001.034.011.032.01c.026.009.052.016.078.023l-.06-.017c.054.016.108.03.162.043l-.02-.004.052.011.041.009-.009-.002.01.002.015.003-.009-.002.01.003-.026-.006c.056.012.112.021.168.03l-.05-.008.054.007.006.001h-.002l.006.001.009.001.063.007-.054-.006.06.007.092.007.166.006c.687 0 1.332-.268 1.817-.754a.855.855 0 01.606-.25l.11.006a.858.858 0 01.497 1.456 4.255 4.255 0 01-2.786 1.25l-.244.006a4.29 4.29 0 01-4.286-4.286 4.29 4.29 0 014.285-4.285zm-.34 6.834l.022.003-.018-.002-.004-.001zm-.01 0h.008l-.004-.001h-.004zm-1.131-.448l-.036-.025c.039.028.078.055.119.082l-.083-.057zm-.824-.96l.025.048-.014-.028-.01-.02zm2.304-3.712c-1.117 0-2.07.716-2.424 1.714h4.85a2.578 2.578 0 00-2.24-1.708l-.186-.006zm-15.96-5.074a.99.99 0 01.283.18.885.885 0 01.18.282.719.719 0 01.069.326.901.901 0 01-.249.609.901.901 0 01-.608.248c-.052 0-.112-.008-.172-.017a.545.545 0 01-.154-.051.649.649 0 01-.154-.077l-.129-.103a.901.901 0 01-.248-.609c0-.111.025-.223.068-.326a.885.885 0 01.18-.282l.129-.103a.649.649 0 01.154-.077.545.545 0 01.154-.052.82.82 0 01.498.052z",fill:"#FFF"})))}],[function(e){return"medium"===e.size},function(){return r.a.createElement("svg",{width:64,height:32},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#1900FF",d:"M0 0h64v32H0z"}),r.a.createElement("path",{d:"M24.143 13.429c.473 0 .857.384.857.857v6.857a.857.857 0 11-1.714 0v-6.857c0-.473.384-.857.857-.857zM19.857 10c.473 0 .857.384.857.857v10.286a.857.857 0 11-1.714 0V10.857c0-.473.384-.857.857-.857zm8.482 3.903L31 19.224l2.661-5.321a.857.857 0 111.535.766l-3.429 6.857-.007.013a.86.86 0 01-.043.074l.05-.087a.868.868 0 01-.384.384l-.027.013a.862.862 0 01-.052.021l.08-.034a.865.865 0 01-.501.082l.116.008a.856.856 0 01-.382-.09l-.04-.021a.858.858 0 01-.034-.02l.074.041a.867.867 0 01-.384-.384l-3.429-6.857a.858.858 0 011.535-.766zm12.09-.474a4.29 4.29 0 014.285 4.285.857.857 0 01-.75.85l-.107.007-5.852.002c.022.064.047.127.075.188l.022.047.011.024.022.043.077.141c.031.053.064.104.098.155l.11.146.021.026v.001l.041.048.033.038.037.04.022.024.007.006.052.053.029.027.032.03.041.037.018.016.062.052.018.014.041.032.017.013.044.032c.105.076.217.143.333.203l.05.024.035.017.005.002.011.005.07.03.08.032.079.029.003.001.034.011.032.01c.026.009.052.016.078.023l-.06-.017c.054.016.108.03.162.043l-.02-.004.052.011.041.009-.009-.002.01.002.015.003-.009-.002.01.003-.026-.006c.056.012.112.021.168.03l-.05-.008.054.007.006.001h-.002l.006.001.009.001.063.007-.054-.006.06.007.092.007.166.006c.687 0 1.332-.268 1.817-.754a.855.855 0 01.606-.25l.11.006a.858.858 0 01.497 1.456 4.255 4.255 0 01-2.786 1.25l-.244.006a4.29 4.29 0 01-4.286-4.286 4.29 4.29 0 014.285-4.285zm-.34 6.834l.022.003-.018-.002-.004-.001zm-.01 0h.008l-.004-.001h-.004zm-1.131-.448l-.036-.025c.039.028.078.055.119.082l-.083-.057zm-.824-.96l.025.048-.014-.028-.01-.02zm2.304-3.712c-1.117 0-2.07.716-2.424 1.714h4.85a2.578 2.578 0 00-2.24-1.708l-.186-.006zm-15.96-5.074a.99.99 0 01.283.18.885.885 0 01.18.282.719.719 0 01.069.326.901.901 0 01-.249.609.901.901 0 01-.608.248c-.052 0-.112-.008-.172-.017a.545.545 0 01-.154-.051.649.649 0 01-.154-.077l-.129-.103a.901.901 0 01-.248-.609c0-.111.025-.223.068-.326a.885.885 0 01.18-.282l.129-.103a.649.649 0 01.154-.077.545.545 0 01.154-.052.82.82 0 01.498.052z",fill:"#FFF"})))}],[function(e){return"large"===e.size},function(){return r.a.createElement("svg",{width:72,height:40},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#1900FF",d:"M0 0h72v40H0z"}),r.a.createElement("path",{d:"M27 17a1 1 0 011 1v8a1 1 0 11-2 0v-8a1 1 0 011-1zm-5-4a1 1 0 011 1v12a1 1 0 11-2 0V14a1 1 0 011-1zm9.895 4.553l3.104 6.209 3.106-6.209a1 1 0 111.79.894l-4 8a1.094 1.094 0 01-.051.09l.051-.09a1.012 1.012 0 01-.448.448c-.102.05-.208.082-.315.096l-.013.002A.956.956 0 0135 27l-.07-.005-.045-.001a1 1 0 01-.005-.001l.12.007a1.002 1.002 0 01-.353-.064l-.019-.007a.868.868 0 01-.076-.034l-.016-.009a1.002 1.002 0 01-.018-.01l.034.019a1.015 1.015 0 01-.448-.448l-4-8a1.001 1.001 0 011.79-.894zM46 17c2.757 0 5 2.243 5 5a1 1 0 01-.883.993L50 23h-6.828a2.98 2.98 0 00.236.509l.083.134.008.013.027.04.007.009.041.058.049.066-.047-.063.055.073.001.001.002.003.005.006.018.022.022.027.011.014.001.001.047.055.007.008.05.056.021.023.005.005.004.004.04.042.033.032.023.023.012.01.045.043.019.017.052.046-.022-.02.023.021.045.037.019.016a3.02 3.02 0 00.433.293l.079.042.063.032.017.008.069.032.021.009.073.032.064.024-.065-.025.063.025.028.01.072.026.047.015.038.013.05.015.02.006.058.015.026.007.02.005.077.018.08.016.051.008.048.008.005.001.081.012.096.009.089.007L46 25c.802 0 1.555-.312 2.12-.879a.999.999 0 01.767-.291l.117.014a1.001 1.001 0 01.532 1.691 4.964 4.964 0 01-3.27 1.458L46 27a5.006 5.006 0 01-4.982-5.43l.023-.213A5.008 5.008 0 0146 17zm-.273 7.988h.01l-.009-.001h-.001zm-.198-.025l.02.003-.003-.001-.017-.002zm-.064-.01l.064.01-.031-.006-.033-.005zm-.242-.055l.03.008-.009-.003-.021-.005zm-.442-.157l.023.01-.008-.004-.015-.006zM46 19a3.006 3.006 0 00-2.83 2h5.659a3.007 3.007 0 00-2.635-1.994L46 19zm-18.62-5.92c.12.05.23.12.33.21.09.1.16.2.21.33.06.12.08.25.08.38 0 .26-.11.52-.29.71-.19.18-.45.29-.71.29-.06 0-.13-.01-.2-.02a.636.636 0 01-.18-.06.757.757 0 01-.18-.09l-.15-.12c-.18-.19-.29-.45-.29-.71 0-.13.03-.26.08-.38.05-.13.12-.23.21-.33l.15-.12c.06-.04.12-.07.18-.09.06-.03.12-.05.18-.06.2-.04.4-.02.58.06z",fill:"#FFF"})))}],[function(e){return"xLarge"===e.size},function(){return r.a.createElement("svg",{width:104,height:56},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#1900FF",d:"M0 0h104v56H0z"}),r.a.createElement("path",{d:"M 36.143 20 c 0.63 0 1.143 0.512 1.143 1.143 v 13.714 a 1.143 1.143 0 1 1 -2.286 0 V 21.143 c 0 -0.631 0.512 -1.143 1.143 -1.143 z m 5.714 4.571 c 0.631 0 1.143 0.512 1.143 1.143 v 9.143 a 1.143 1.143 0 1 1 -2.286 0 v -9.143 c 0 -0.63 0.512 -1.143 1.143 -1.143 z m 21.714 0 a 5.72 5.72 0 0 1 5.715 5.715 c 0 0.589 -0.445 1.074 -1.019 1.136 l -0.124 0.007 h -7.804 l 0.044 0.118 l 0.049 0.116 l 0.015 0.034 l 0.023 0.05 l 0.023 0.047 l -0.013 -0.025 l 0.018 0.036 l 0.038 0.073 l 0.012 0.023 l 0.022 0.041 l 0.014 0.026 l 0.001 0.002 l 0.051 0.086 l -0.05 -0.085 c 0.029 0.05 0.059 0.1 0.09 0.148 l 0.004 0.008 l 0.027 0.041 l 0.02 0.029 l 0.003 0.005 l 0.049 0.07 l 0.052 0.072 l 0.023 0.03 l 0.022 0.028 l 0.003 0.004 l 0.014 0.018 l 0.01 0.012 l 0.033 0.04 l 0.006 0.007 l 0.001 0.001 l 0.013 0.016 c 0.031 0.037 0.063 0.073 0.096 0.108 l 0.01 0.012 l 0.002 0.002 l 0.047 0.05 l 0.062 0.06 l 0.021 0.021 l -0.011 -0.01 l 0.01 0.01 l 0.038 0.035 l 0.011 0.011 l 0.01 0.009 l 0.061 0.055 l 0.002 0.002 l 0.06 0.05 l 0.013 0.012 l 0.033 0.027 l -0.032 -0.027 l 0.074 0.06 c 0.042 0.034 0.085 0.066 0.129 0.097 l -0.065 -0.048 l 0.067 0.049 l 0.076 0.052 l -0.043 -0.029 l 0.042 0.029 l 0.005 0.003 l 0.009 0.006 l 0.063 0.04 l 0.061 0.038 l -0.058 -0.036 l 0.058 0.036 l 0.056 0.034 l -0.04 -0.025 l 0.152 0.087 l 0.158 0.078 l 0.083 0.037 l 0.038 0.016 l 0.015 0.006 l 0.145 0.056 l 0.18 0.06 l 0.053 0.015 l -0.027 -0.009 l 0.164 0.044 c 0.192 0.045 0.391 0.075 0.594 0.086 l 0.193 0.005 c 0.917 0 1.778 -0.356 2.423 -1.004 a 1.14 1.14 0 0 1 0.81 -0.335 l 0.125 0.007 a 1.144 1.144 0 0 1 0.684 1.944 a 5.673 5.673 0 0 1 -3.756 1.667 L 63.57 36 a 5.72 5.72 0 0 1 -5.677 -6.365 l 0.028 -0.212 a 5.723 5.723 0 0 1 5.65 -4.852 z m -16.12 0.632 L 51 32.301 l 3.549 -7.098 a 1.143 1.143 0 1 1 2.045 1.022 l -4.571 9.143 l -0.007 0.012 a 1.145 1.145 0 0 1 -0.414 0.449 l -0.028 0.016 a 0.973 0.973 0 0 1 -0.063 0.035 l -0.017 0.008 l -0.066 0.029 l 0.083 -0.037 a 1.155 1.155 0 0 1 -0.252 0.09 l -0.012 0.003 a 1.148 1.148 0 0 1 -0.758 -0.093 l -0.063 -0.035 a 1.144 1.144 0 0 1 -0.028 -0.016 l 0.091 0.051 a 1.157 1.157 0 0 1 -0.512 -0.512 l -4.571 -9.143 a 1.144 1.144 0 0 1 2.045 -1.022 z m 16.12 1.654 c -1.49 0 -2.76 0.956 -3.233 2.286 h 6.466 a 3.437 3.437 0 0 0 -3.04 -2.28 l -0.193 -0.006 z m -21.28 -6.766 c 0.138 0.058 0.263 0.138 0.378 0.24 c 0.102 0.115 0.182 0.229 0.24 0.378 a 0.958 0.958 0 0 1 0.091 0.434 c 0 0.297 -0.126 0.594 -0.331 0.811 a 1.202 1.202 0 0 1 -0.812 0.332 c -0.068 0 -0.148 -0.012 -0.228 -0.023 a 0.726 0.726 0 0 1 -0.206 -0.069 a 0.865 0.865 0 0 1 -0.206 -0.103 l -0.171 -0.137 a 1.202 1.202 0 0 1 -0.332 -0.811 c 0 -0.149 0.035 -0.297 0.092 -0.434 a 1.18 1.18 0 0 1 0.24 -0.378 l 0.171 -0.137 a 0.865 0.865 0 0 1 0.206 -0.103 a 0.726 0.726 0 0 1 0.206 -0.068 c 0.228 -0.046 0.457 -0.023 0.662 0.068 z",fill:"#FFF"})))}]]));t.a=s},"./src/pieces/footer/base-footer.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/classnames/index.js"),o=n.n(i),s=n("./src/pieces/footer/footer.scss"),c=n.n(s);n("./node_modules/bows/bows.js")("Base-footer");t.a=function(t){var n=r()({},t);return e.createElement("div",{className:o()(c.a.redesign_footer,n.className),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave},n.center&&e.createElement("div",{className:o()(n.centerClassName||c.a.redesign_footerCenter)},n.center),n.below&&e.createElement("div",{className:o()(n.belowClassName||c.a.redesign_footerBelow)},n.below))}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/footer/footer-email-verification-nag.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/reselect/lib/index.js"),c=n("./node_modules/classnames/index.js"),l=n.n(c),u=n("./src/pieces/authentication/authentication.reducer.js"),d=n("./src/pieces/current-user/current-user.reducer.js"),_=n("./src/pieces/stage/stage.reducer.js"),m=n("./src/pieces/footer/footer-nag.scss"),g=n.n(m),b=(n("./node_modules/bows/bows.js")("Footer-email-verification-nag"),Object(i.a)(Object(o.b)(Object(s.createStructuredSelector)({currentUser:d.selectCurrentUser,entertainer:_.selectEntertainer,isOwnStage:_.selectIsCurrentUserOnOwnStage,verificationNagClicked:u.selectEmailVerificationNagClicked}),{ResendVerificationEmailFromNag:u.ResendVerificationEmailFromNag})));t.a=b(function(t){var n,a=t.currentUser,i=t.entertainer,o=t.isOwnStage,s=t.verificationNagClicked,c=t.ResendVerificationEmailFromNag;return a&&e.createElement("div",{className:l()((n={},r()(n,g.a.redesign_footerNag,!0),r()(n,g.a.redesign_footerNagStage,!!i),n))},e.createElement("div",{className:g.a.redesign_mainSection},s?e.createElement("span",{className:g.a.redesign_message,"data-private":!0},"Email sent to ",a.email):e.createElement(e.Fragment,null,e.createElement("span",{className:g.a.redesign_message},i&&!o?"Confirm your account to chat with ".concat(i.username," and friends"):"Confirm your account to chat, follow, and broadcast"),e.createElement("button",{className:g.a.redesign_resend,onClick:c,disabled:s},"resend confirmation email"))))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/footer/footer-mobile-nag.scss":function(e,t,n){e.exports={lowerOpenApp:"footer-mobile-nag__lowerOpenApp___D4gDi",lowerOpenAppLink:"footer-mobile-nag__lowerOpenAppLink___1Gf3D",footerBarMobile:"footer-mobile-nag__footerBarMobile___1G87w",contentLocked:"footer-mobile-nag__contentLocked___2IS-L",message:"footer-mobile-nag__message___3Woe8",mobileAppButtonContainer:"footer-mobile-nag__mobileAppButtonContainer___2Xul_",buttonText:"footer-mobile-nag__buttonText___2SBu9",buttonIcon:"footer-mobile-nag__buttonIcon___29Ukn",nextArrowFill:"footer-mobile-nag__nextArrowFill___2ZJrh",hideNag:"footer-mobile-nag__hideNag___2xFeX",showNag:"footer-mobile-nag__showNag___I2Hy2",contentLockedOverlay:"footer-mobile-nag__contentLockedOverlay___1FVVz",closeIcon:"footer-mobile-nag__closeIcon___iWkKl",avatarContainer:"footer-mobile-nag__avatarContainer___2Vh2B",avatar:"footer-mobile-nag__avatar___3t1Ib",broadcasterInfo:"footer-mobile-nag__broadcasterInfo___3qlFA",broadcasterUsername:"footer-mobile-nag__broadcasterUsername___1_rYW",broadcasterName:"footer-mobile-nag__broadcasterName___1KSuP"}},"./src/pieces/footer/footer-mobile-nag.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n.n(s),l=n("./node_modules/recompose/dist/Recompose.esm.js"),u=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/reselect/lib/index.js"),_=n("./node_modules/lodash/throttle.js"),m=n.n(_),g=n("./src/pieces/web-broadcast/web-broadcast.reducer.js"),b=n("./src/pieces/stage/stage.reducer.js"),p=n("./src/pieces/footer/footer.reducer.js"),f=n("./src/pieces/footer/footer-mobile-nag.scss"),h=n.n(f),v=n("./src/pieces/current-user/current-user.reducer.js"),w=n("./src/pieces/authentication/authentication.reducer.js"),C=n("./src/pieces/video/video.reducer.js"),y=n("./src/pieces/base/create-deep-link.ts"),j=n("./node_modules/idx/lib/idx.js"),O=n.n(j),S=n("./src/pieces/base/constants.js"),E=n("./node_modules/classnames/index.js"),x=n.n(E),k=n("./src/pieces/base/close-icon.tsx"),I=n("./src/pieces/base/create-image-url.js"),T=n("./src/pieces/base/badge.tsx"),F=n("./src/pieces/base/banner-message.tsx"),P=(n("./node_modules/bows/bows.js")("Footer-mobile-nag"),Object(l.a)(Object(u.b)(Object(d.createStructuredSelector)({currentUser:v.selectCurrentUser,video:C.selectVideo,entertainer:b.selectEntertainer,stageTitle:b.selectStageTitle,broadcastPreviewImagePath:b.selectBroadcastPreviewImagePath,isLive:g.selectIsWebBroadcastLive,showBanner:p.selectShowBanner,bannerTriggerDetails:p.selectBannerTriggerDetails,isAuthenticated:w.selectIsAuthenticated,paywallIsUnlocked:C.selectUnlockPaywallIsUnlocked,hasPaywall:C.selectHasPaywall}),{SendStageShareReaction:b.SendStageShareReaction,SetReactionFrameContent:b.SetReactionFrameContent,SetShowBanner:p.SetShowBanner,setBannerTriggerDetails:p.setBannerTriggerDetails,AnimateFooter:p.AnimateFooter})));t.a=P(function(e){var t,n=e.currentUser,a=e.entertainer,i=e.stageTitle,l=e.broadcastPreviewImagePath,u=e.isLive,d=e.showBanner,_=e.bannerTriggerDetails,g=e.SetShowBanner,b=e.setBannerTriggerDetails,p=e.AnimateFooter,f=e.params,v=e.source,w=e.video,C=e.isAuthenticated,j=e.hasPaywall,E=e.paywallIsUnlocked,P=Object(s.useState)(""),N=o()(P,2),M=N[0],L=N[1],B=Object(s.useMemo)(function(){return O()(f,function(e){return e.username})||""},[f.username]),A=Object(s.useMemo)(function(){return O()(f,function(e){return e.id})||""},[f.id]),D=localStorage.getItem(S.H),U=D&&JSON.parse(D),R=w?w.user:a,H=Object(s.useState)(!1),W=o()(H,2),V=W[0],z=(W[1],v===S.Kd?"MobileWeb_Video":v===S.Bd?"MobileWeb_Tag":v===S.Ed?"MobileWeb_Profile":v===S.Id?"MobileWeb_Stage":"MobileWeb"),G=U?U.utm_creative_name:"",q=U?U.utm_campaign||z:"",J=U?U.utm_source||U.utm_channel||"mobile_web_preview":"",Z=Object(s.useState)(!1),Y=o()(Z,2),Q=Y[0],K=Y[1],X="GET THE APP",$=m()(function(e){p({triggerType:e,entertainerUsername:B})},6048e5);var ee=Object(s.useRef)(null);function te(){document.body.scrollTop>2500&&!d&&$(S.o.SCROLL)}function ne(e){e.target.scrollTop>500&&!d&&$(S.o.COMMENT_SCROLL)}Object(s.useEffect)(function(){g(!1)},[v]),Object(s.useEffect)(function(){d&&(V&&(document.body.style.position="fixed",document.body.style.top="-".concat(window.scrollY,"px")),null!==ee.current&&window.clearTimeout(ee.current),function(){if(!(window.innerWidth>window.innerHeight)){var e={modal_name:V?"content_lock_get_app_button":"download_app_button",screen_name:v||null,button_text:X,button_trigger:_.triggerType};window.mParticle&&window.mParticle.logEvent("modal_view",window.mParticle.EventType.Other,e)}}())},[d]),Object(s.useEffect)(function(){function e(){window.innerWidth>window.innerHeight?K(!1):K(!0)}return v!==S.Id&&v!==S.Kd&&(ee.current=window.setTimeout(function(){g(!0),b({triggerType:S.o.TIMEOUT,entertainerUsername:B})},function(){switch(v){case S.Id:case S.Kd:return 3e4;default:return 6e3}}())),window.addEventListener("orientationchange",e),function(){document.removeEventListener("scroll",te),null!==ee.current&&window.clearTimeout(ee.current),document.removeEventListener("orientationchange",e)}},[]),Object(s.useEffect)(function(){var e=document.getElementById("vodCommentScrollableArea");e&&C&&e.addEventListener("scroll",ne);var t=Object(y.a)({entertainerUsername:B,currentUserUsername:n?n.username:"",currentUserCaid:n?n.caid:"",canonical_url:v===S.Kd?"https://www.caffeine.tv/".concat(B,"/video/").concat(A):v===S.Bd?"https://www.caffeine.tv/tag/".concat(f.id):v===S.Ed?"https://www.caffeine.tv/".concat(f.username,"/profile"):v===S.Id?"https://www.caffeine.tv/".concat(f.username):"https://www.caffeine.tv/browse",autoFollow:!1,isLive:u,creative_name:G,channel:J,campaign:q,feature:"mobile_web_preview",stageTitle:i,broadcastPreviewImagePath:l});L(t)},[n,l,i,a,v,u,J,q,w]);var ae=R?Object(I.c)(R.avatarImagePath,{auto:"webp",fit:"crop",width:120,height:120,enable:"upscale"}):"";if(Object(s.useEffect)(function(){if(v===S.Id||v===S.Kd||v===S.Jd){var e=document.getElementById("root");return e&&(e.style.overflow="hidden",e.style.overscrollBehavior="none",document.body.style.overflow="hidden",document.body.style.overscrollBehavior="none"),function(){e&&(e.style.overflow="",e.style.overscrollBehavior="auto",document.body.style.overflow="",document.body.style.overscrollBehavior="auto")}}},[v]),(v===S.Id||v===S.Kd||v===S.Jd)&&j&&!E){var re=document.getElementById("gradient-limit");return c.a.createElement("div",{style:{height:window.innerHeight-(re?re.getBoundingClientRect().bottom:0)+10},className:h.a.lowerOpenApp},c.a.createElement("a",{onClick:function(){var e={modal_name:"lower_getapp_button",screen_name:v||null,button_text:"unlock_in_the_app"};window.mParticle&&window.mParticle.logEvent("modal_action",window.mParticle.EventType.Other,e),window.rdt&&window.rdt("track","Custom",{customEventName:"unlock_video_button_click"})},className:h.a.lowerOpenAppLink,href:M},"UNLOCK IN THE APP"))}if(v===S.Id||v===S.Kd||v===S.Jd){var ie=document.getElementById("gradient-limit");return c.a.createElement("div",{style:{height:window.innerHeight-(ie?ie.getBoundingClientRect().bottom:0)+10},className:h.a.lowerOpenApp},c.a.createElement("a",{onClick:function(){var e={modal_name:"lower_getapp_button",screen_name:v||null,button_text:"open_in_the_app"};window.mParticle&&window.mParticle.logEvent("modal_action",window.mParticle.EventType.Other,e)},className:h.a.lowerOpenAppLink,href:M},"OPEN IN THE APP"))}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:x()(r()({},h.a.contentLockedOverlay,V&&d))}),c.a.createElement("div",{id:"footer-mobile-nag",className:x()((t={},r()(t,h.a.footerBarMobile,!0),r()(t,h.a.hideNag,!0),r()(t,h.a.showNag,d&&!V&&!Q||d&&V),r()(t,h.a.contentLocked,V),t))},R&&V&&c.a.createElement("div",{className:h.a.broadcasterInfo},c.a.createElement("img",{className:x()(h.a.avatar,"is-rounded"),src:ae}),c.a.createElement("span",{className:h.a.broadcasterUsername},R.username,c.a.createElement(T.a,{badge:R.badge})),c.a.createElement("span",{className:h.a.broadcasterName},R.name)),c.a.createElement("div",{className:x()(h.a.message,r()({},h.a.contentLocked,V))},c.a.createElement(c.a.Fragment,null,c.a.createElement(F.a,{bannerTriggerDetails:_,isAuthenticated:C,source:v}))),!V&&c.a.createElement("div",{className:h.a.closeIcon,onClick:function(){g(!1),V&&(document.body.style.position="",document.body.style.top=""),ee.current=window.setTimeout(function(){g(!0)},S.Ac)}},c.a.createElement(k.a,{darkTheme:!0,width:"32px",height:"32px"})),c.a.createElement("a",{className:h.a.mobileAppButtonContainer,href:M,onClick:function(){var e={modal_name:V?"content_lock_get_app_button":"download_app_button",screen_name:v||null,button_text:X,button_trigger:_.triggerType};window.mParticle&&window.mParticle.logEvent("modal_action",window.mParticle.EventType.Other,e),window.rdt&&window.rdt("track","Custom",{customEventName:"download_app_button_click"})}},c.a.createElement("span",{className:h.a.buttonText},X),c.a.createElement("div",{className:h.a.buttonIcon},c.a.createElement("svg",{width:"60",height:"24",viewBox:"0 0 60 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M59.0607 13.0607C59.6464 12.4749 59.6464 11.5251 59.0607 10.9393L49.5147 1.3934C48.9289 0.807612 47.9792 0.807612 47.3934 1.3934C46.8076 1.97918 46.8076 2.92893 47.3934 3.51472L55.8787 12L47.3934 20.4853C46.8076 21.0711 46.8076 22.0208 47.3934 22.6066C47.9792 23.1924 48.9289 23.1924 49.5147 22.6066L59.0607 13.0607ZM0 13.5H58V10.5H0V13.5Z",fill:"white"}))))))})},"./src/pieces/footer/footer-nag.scss":function(e,t,n){e.exports={redesign_footerBar:"footer-nag__redesign_footerBar___2N2MP",redesign_footerNag:"footer-nag__redesign_footerNag___3u4PC",redesign_footerNagStage:"footer-nag__redesign_footerNagStage___2aKA2",redesign_emailAddress:"footer-nag__redesign_emailAddress___1-bw3",redesign_mainSection:"footer-nag__redesign_mainSection___2RYHx",redesign_message:"footer-nag__redesign_message___3iWaA",redesign_sideSection:"footer-nag__redesign_sideSection___1P5pK",redesign_resend:"footer-nag__redesign_resend___1aJ4c buttons__redesign_highlightedButtonWithHoverEffect___GMSLO buttons__redesign_button___ZSYNe",redesign_uploadAvatar:"footer-nag__redesign_uploadAvatar___3mqAw buttons__redesign_darkButtonWithHoverEffect___38D41 buttons__redesign_button___ZSYNe",redesign_enableNotifications:"footer-nag__redesign_enableNotifications___l1H2c buttons__redesign_darkButtonWithHoverEffect___38D41 buttons__redesign_button___ZSYNe",redesign_disableUploadAvatar:"footer-nag__redesign_disableUploadAvatar___2IJqB buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",redesign_disableNotifications:"footer-nag__redesign_disableNotifications___2Eolt buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i"}},"./src/pieces/footer/footer-nag.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/lodash/cond.js"),s=n.n(o),c=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/reselect/lib/index.js"),u=n("./src/pieces/current-user/current-user.reducer.js"),d=n("./src/pieces/authentication/authentication.reducer.js"),_=n("./src/pieces/stage/stage.reducer.js"),m=n("./src/pieces/footer/footer-email-verification-nag.tsx"),g=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),b=n.n(g),p=n("./node_modules/classnames/index.js"),f=n.n(p),h=n("./src/pieces/base/close-icon.tsx"),v=n("./src/pieces/push-notification/push-notification.reducer.js"),w=n("./src/pieces/footer/footer-nag.scss"),C=n.n(w),y=(n("./node_modules/bows/bows.js")("Footer-push-notification-nag"),Object(i.a)(Object(c.b)(Object(l.createStructuredSelector)({entertainer:_.selectEntertainer,isOwnStage:_.selectIsCurrentUserOnOwnStage}),{SubscribeToPushNotificationsFromNag:v.SubscribeToPushNotificationsFromNag,DismissPushNotificationsNagBar:v.DismissPushNotificationsNagBar}))(function(e){var t,n=e.SubscribeToPushNotificationsFromNag,a=void 0===n?function(){return null}:n,i=e.DismissPushNotificationsNagBar,o=void 0===i?function(){return null}:i,s=e.entertainer,c=e.isOwnStage;return r.a.createElement("div",{className:f()((t={},b()(t,C.a.redesign_footerNag,!0),b()(t,C.a.redesign_footerNagStage,!!s),t))},r.a.createElement("div",{className:C.a.redesign_sideSection}),r.a.createElement("div",{className:C.a.redesign_mainSection},r.a.createElement("span",{className:C.a.redesign_message},"Don't miss when ",s&&!c?s.username:"someone"," is LIVE"),r.a.createElement("button",{onClick:a,className:C.a.redesign_enableNotifications},"turn on notifications")),r.a.createElement("div",{className:C.a.redesign_sideSection},r.a.createElement("button",{onClick:o,className:C.a.redesign_disableNotifications},r.a.createElement(h.a,null))))})),j=n("./src/pieces/footer/footer-upload-avatar-nag.tsx"),O=n("./src/pieces/footer/footer-sign-up-nag.tsx"),S=(n("./node_modules/bows/bows.js")("Footer-nag"),Object(i.a)(Object(c.b)(Object(l.createStructuredSelector)({isAnonymous:d.selectIsAnonymous,pushNagIsInitialized:u.selectPushNotificationNagIsInitialized,showEmailNag:u.selectCurrentUserEmailUnverified,showPushNag:u.selectPushNotificationNagShouldBeShown,showUploadAvatarNag:u.selectUploadAvatarNagShouldBeShown,userDismissedNagBar:u.selectNagBarWasUserDismissed,isOwnStage:_.selectIsCurrentUserOnOwnStage}),{})));t.a=S(function(e){var t=e.isAnonymous,n=e.pushNagIsInitialized,a=e.showEmailNag,i=void 0!==a&&a,o=e.showPushNag,c=void 0!==o&&o,l=e.showUploadAvatarNag,u=void 0!==l&&l,d=e.userDismissedNagBar,_=void 0!==d&&d,g=e.isOwnStage,b=void 0!==g&&g,p=s()([[function(){return t},function(){return r.a.createElement(O.a,null)}],[function(){return i},function(){return r.a.createElement(m.a,null)}],[function(){return _},function(){return null}],[function(){return!n},function(){return null}],[function(){return c&&!b},function(){return r.a.createElement(y,null)}],[function(){return u},function(){return r.a.createElement(j.a,null)}]]);return r.a.createElement("div",{className:C.a.redesign_footerBar},p({}))})},"./src/pieces/footer/footer-sign-up-nag.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/reselect/lib/index.js"),c=n("./node_modules/classnames/index.js"),l=n.n(c),u=n("./src/pieces/authentication/sign-up-button.tsx"),d=n("./src/pieces/web-broadcast/web-broadcast.reducer.js"),_=n("./src/pieces/stage/stage.reducer.js"),m=n("./src/pieces/footer/footer-nag.scss"),g=n.n(m),b=(n("./node_modules/bows/bows.js")("Footer-sign-up-nag"),Object(i.a)(Object(o.b)(Object(s.createStructuredSelector)({entertainer:_.selectEntertainer,isLive:d.selectIsWebBroadcastLive}),{})));t.a=b(function(t){var n,a=t.entertainer?"Join the conversation with ".concat(t.entertainer.username):"Follow, react, and start your show";return e.createElement("div",{className:l()((n={},r()(n,g.a.redesign_footerNag,!0),r()(n,g.a.redesign_footerNagStage,!!t.entertainer),n))},e.createElement("div",{className:g.a.redesign_mainSection},e.createElement("span",{className:g.a.redesign_message},a),e.createElement(u.a,null)))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/footer/footer-upload-avatar-nag.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/reselect/lib/index.js"),c=n("./node_modules/classnames/index.js"),l=n.n(c),u=n("./src/pieces/feed/feed.reducer.ts"),d=n("./src/pieces/current-user/current-user.reducer.js"),_=n("./src/pieces/stage/stage.reducer.js"),m=n("./src/pieces/profile/avatar-upload.js"),g=n("./src/pieces/base/close-icon.tsx"),b=n("./src/pieces/footer/footer-nag.scss"),p=n.n(b),f=(n("./node_modules/bows/bows.js")("Footer-upload-avatar-nag"),Object(i.a)(Object(o.b)(Object(s.createStructuredSelector)({currentUser:d.selectCurrentUser,entertainer:_.selectEntertainer}),{MarkAvatarAsJustUpdated:u.MarkAvatarAsJustUpdated,DismissUploadAvatarAndHideNagBar:d.DismissUploadAvatarAndHideNagBar})));t.a=f(function(t){var n,a=t.currentUser,i=t.entertainer,o=void 0===i?null:i,s=t.MarkAvatarAsJustUpdated,c=t.DismissUploadAvatarAndHideNagBar;return a&&e.createElement("div",{className:l()((n={},r()(n,p.a.redesign_footerNag,!0),r()(n,p.a.redesign_footerNagStage,!!o),n))},e.createElement("div",{className:p.a.redesign_sideSection}),e.createElement("div",{className:p.a.redesign_mainSection},e.createElement("span",{className:p.a.redesign_message},"Show your true colors"),e.createElement(m.a,{user:a,hideEditLabel:!0},e.createElement("button",{className:p.a.redesign_uploadAvatar,onClick:s,role:"presentation"},"Add a profile picture"))),e.createElement("div",{className:p.a.redesign_sideSection},e.createElement("button",{onClick:c,className:p.a.redesign_disableUploadAvatar},e.createElement(g.a,null))))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/footer/footer.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return d}),n.d(t,"SetShowBanner",function(){return _}),n.d(t,"setBannerTriggerDetails",function(){return m}),n.d(t,"AnimateFooter",function(){return g}),n.d(t,"selectShowBanner",function(){return b}),n.d(t,"selectBannerTriggerDetails",function(){return p});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/immutable/dist/immutable.js"),s=n.n(o),c=n("./node_modules/redux-actions/es/createAction.js"),l=n("./node_modules/redux-actions/es/handleActions.js"),u=n("./node_modules/reselect/lib/index.js"),d=(n("./node_modules/bows/bows.js")("Footer.reducer"),"footer"),_=Object(c.a)("Set Footer Show Banner",function(e){return e}),m=Object(c.a)("Set Banner Trigger Details",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),g=Object(c.a)("Animate Footer",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),b=function(e){return e[d].get("showBanner")},p=Object(u.createSelector)(function(e){return e[d].get("bannerTriggerDetails")},function(e){return e?e.toJS():{}});t.default=Object(l.a)((a={},i()(a,_,function(e,t){var n=t.payload;return e.set("showBanner",n)}),i()(a,m,function(e,t){var n=t.payload;return e.set("bannerTriggerDetails",s.a.fromJS(n))}),a),s.a.fromJS({showBanner:!1,bannerTriggerDetails:{}}))},"./src/pieces/footer/footer.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return _});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/index.js"),o=n("./node_modules/redux-saga/es/effects.js"),s=n("./src/pieces/base/saga-utilities.js"),c=n("./src/pieces/footer/footer.reducer.js"),l=r.a.mark(d),u=r.a.mark(_);n("./node_modules/bows/bows.js")("Footer.sagas");function d(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.i)(c.selectShowBanner);case 2:if(t.sent){t.next=8;break}return t.next=6,Object(o.a)([Object(o.g)(Object(c.SetShowBanner)(!0)),Object(o.g)(Object(c.setBannerTriggerDetails)(e))]);case 6:t.next=14;break;case 8:return t.next=10,Object(o.a)([Object(o.g)(Object(c.SetShowBanner)(!1)),Object(o.g)(Object(c.setBannerTriggerDetails)(""))]);case 10:return t.next=12,Object(i.e)(300);case 12:return t.next=14,Object(o.a)([Object(o.g)(Object(c.SetShowBanner)(!0)),Object(o.g)(Object(c.setBannerTriggerDetails)(e))]);case 14:case"end":return t.stop()}},l)}function _(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.h)(c.AnimateFooter,d);case 2:case"end":return e.stop()}},u)}},"./src/pieces/footer/footer.scss":function(e,t,n){e.exports={footer:"footer__footer___24MqH",row:"footer__row___1soW6",col:"footer__col___sIPCn",logo:"footer__logo___28RCJ",statement:"footer__statement___DOvpW",bottom:"footer__bottom___1VZpt",social:"footer__social___2dWcx",light:"footer__light___2aOXL",col2:"footer__col2___2waeC",clearfix:"footer__clearfix___2yLUl",bottomLeft:"footer__bottomLeft___2L43X",bottomLeftRow:"footer__bottomLeftRow___3UAbD",doNotSell:"footer__doNotSell___3axYD"}},"./src/pieces/footer/footer.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./src/pieces/base/icons/icon.tsx"),u=(n("./node_modules/bows/bows.js")("Icon-footer-logo"),function(){return o.a.createElement(l.a,null,o.a.createElement("svg",{width:138,height:24,viewBox:"0 0 138 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.7519 9.3781C83.7519 8.6989 83.2081 8.14835 82.5373 8.14835H79.1024C79.6038 6.71701 80.9539 5.68886 82.5373 5.68886C83.2081 5.68886 83.7519 5.13832 83.7519 4.45912C83.7519 3.77991 83.2081 3.22937 82.5373 3.22937C79.6045 3.22937 77.1507 5.34515 76.5864 8.14835H72.422C72.9234 6.71701 74.2735 5.68886 75.8569 5.68886C76.5278 5.68886 77.0715 5.13832 77.0715 4.45912C77.0715 3.77991 76.5278 3.22937 75.8569 3.22937C72.5082 3.22937 69.7838 5.98769 69.7838 9.3781V19.2161C69.7838 19.8953 70.3276 20.4458 70.9985 20.4458C71.6693 20.4458 72.2131 19.8953 72.2131 19.2161V10.6078H76.4642V19.2161C76.4642 19.8953 77.008 20.4458 77.6788 20.4458C78.3497 20.4458 78.8935 19.8953 78.8935 19.2161V10.6078H82.5373C83.2081 10.6078 83.7519 10.0573 83.7519 9.3781ZM52.8533 12.4127C52.2272 11.1162 50.9717 10.3108 49.5768 10.3108C47.5571 10.3108 45.9139 12.0158 45.9139 14.1114C45.9139 16.2071 47.5571 17.912 49.5768 17.912C50.9717 17.912 52.2272 17.1066 52.8533 15.8101C53.1553 15.1846 53.8889 14.9314 54.4918 15.245C55.0947 15.5583 55.3385 16.3196 55.0365 16.9451C53.9939 19.1044 51.9018 20.4458 49.5768 20.4458C46.2106 20.4458 43.4719 17.6042 43.4719 14.1114C43.4719 10.6187 46.2106 7.77707 49.5768 7.77707C51.9018 7.77707 53.9939 9.11845 55.0365 11.2778C55.3385 11.9033 55.0947 12.6645 54.4918 12.9779C53.8889 13.2912 53.1553 13.0382 52.8533 12.4127ZM58.3495 14.1114C58.3495 16.207 60.0545 17.912 62.1501 17.912C64.2458 17.912 65.9507 16.207 65.9507 14.1114C65.9507 12.0158 64.2458 10.3108 62.1501 10.3108C60.0545 10.3108 58.3495 12.0158 58.3495 14.1114ZM55.8158 14.1114C55.8158 10.6187 58.6574 7.77707 62.1502 7.77707C65.6429 7.77707 68.4845 10.6187 68.4845 14.1114V19.1789C68.4845 19.8786 67.9174 20.4458 67.2176 20.4458C66.5179 20.4458 65.9508 19.8786 65.9508 19.1789V19.1754C64.8914 19.9725 63.5751 20.4458 62.1502 20.4458C58.6574 20.4458 55.8158 17.6042 55.8158 14.1114ZM97.3951 7.77707C96.6776 7.77707 96.0958 8.34423 96.0958 9.04394V19.1789C96.0958 19.8786 96.6776 20.4458 97.3951 20.4458C98.1127 20.4458 98.6945 19.8786 98.6945 19.1789V9.04394C98.6945 8.34423 98.1127 7.77707 97.3951 7.77707ZM99.9938 14.1114C99.9938 10.6187 102.835 7.77707 106.328 7.77707C109.821 7.77707 112.663 10.6187 112.663 14.1114V19.1789C112.663 19.8786 112.095 20.4458 111.396 20.4458C110.696 20.4458 110.129 19.8786 110.129 19.1789V14.1114C110.129 12.0158 108.424 10.3108 106.328 10.3108C104.233 10.3108 102.528 12.0158 102.528 14.1114V19.1789C102.528 19.8786 101.96 20.4458 101.261 20.4458C100.561 20.4458 99.9938 19.8786 99.9938 19.1789V14.1114ZM85.5283 12.8445C86.0512 11.3698 87.46 10.3108 89.1118 10.3108C90.7634 10.3108 92.1724 11.3698 92.6953 12.8445H85.5283ZM89.1118 7.77707C85.619 7.77707 82.7774 10.6187 82.7774 14.1114C82.7774 17.6042 85.619 20.4458 89.1118 20.4458C90.8037 20.4458 92.3945 19.7869 93.5908 18.5904C94.0855 18.0957 94.0855 17.2936 93.5908 16.7989C93.096 16.304 92.2939 16.3041 91.7992 16.7989C91.0813 17.5167 90.127 17.912 89.1118 17.912C87.4602 17.912 86.052 16.8529 85.529 15.3783H94.1792C94.8789 15.3783 95.4461 14.8111 95.4461 14.1114C95.4461 10.6187 92.6045 7.77707 89.1118 7.77707ZM119.647 10.3108C117.995 10.3108 116.586 11.3698 116.063 12.8445H123.23C122.707 11.3698 121.298 10.3108 119.647 10.3108ZM113.312 14.1114C113.312 10.6187 116.154 7.77707 119.647 7.77707C123.139 7.77707 125.981 10.6187 125.981 14.1114C125.981 14.8111 125.414 15.3783 124.714 15.3783H116.064C116.587 16.8529 117.995 17.912 119.647 17.912C120.662 17.912 121.616 17.5167 122.334 16.7989C122.829 16.3041 123.631 16.304 124.126 16.7989C124.62 17.2936 124.62 18.0957 124.126 18.5904C122.929 19.7869 121.339 20.4458 119.647 20.4458C116.154 20.4458 113.312 17.6042 113.312 14.1114ZM97.3951 4.52876C98.1128 4.52876 98.6945 5.11055 98.6945 5.82812C98.6945 6.54569 98.1128 7.12747 97.3951 7.12747C96.6775 7.12747 96.0958 6.54569 96.0958 5.82812C96.0958 5.11055 96.6775 4.52876 97.3951 4.52876Z",fill:"white"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M130.969 6.37544H129.341V4.74674C129.341 4.4469 129.098 4.20386 128.798 4.20386C128.498 4.20386 128.255 4.4469 128.255 4.74674V6.91835V11.2615C128.255 11.5613 128.498 11.8044 128.798 11.8044C129.098 11.8044 129.341 11.5613 129.341 11.2615V7.46123H130.969C131.269 7.46123 131.512 7.21816 131.512 6.91835C131.512 6.61851 131.269 6.37544 130.969 6.37544",fill:"white"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M134.987 11.606C134.988 11.6039 134.99 11.6019 134.992 11.5998C135.006 11.5813 135.02 11.5619 135.032 11.5418C135.033 11.54 135.034 11.5381 135.035 11.5363C135.041 11.5257 135.047 11.5149 135.053 11.504L137.224 7.16105C137.358 6.89288 137.25 6.56677 136.981 6.43269C136.713 6.29857 136.387 6.4073 136.253 6.67547L134.567 10.0475L132.881 6.67547C132.747 6.4073 132.421 6.29867 132.153 6.43269C131.884 6.56677 131.776 6.89288 131.91 7.16105L134.081 11.5039C134.087 11.5149 134.093 11.5257 134.099 11.5363C134.1 11.5381 134.101 11.54 134.102 11.5418C134.114 11.5619 134.128 11.5812 134.142 11.5997C134.144 11.6019 134.146 11.604 134.148 11.6061C134.154 11.6136 134.16 11.6209 134.167 11.628C134.168 11.6295 134.169 11.631 134.171 11.6325C134.178 11.6405 134.186 11.6483 134.194 11.6559C134.196 11.6581 134.199 11.6602 134.201 11.6623C134.207 11.6678 134.213 11.6732 134.22 11.6785C134.222 11.6808 134.225 11.6831 134.228 11.6853C134.236 11.6919 134.245 11.6984 134.253 11.7046C134.255 11.7061 134.258 11.7074 134.26 11.7088C134.267 11.7136 134.274 11.7182 134.281 11.7227C134.284 11.7249 134.288 11.7271 134.292 11.7293C134.298 11.7329 134.304 11.7364 134.311 11.7398C134.314 11.7417 134.318 11.7436 134.321 11.7454C134.322 11.7459 134.323 11.7465 134.324 11.747C134.331 11.7502 134.337 11.753 134.343 11.7558C134.346 11.7572 134.349 11.7587 134.352 11.7601C134.363 11.7648 134.374 11.7691 134.386 11.7731C134.386 11.7732 134.386 11.7732 134.386 11.7733C134.397 11.7772 134.408 11.7807 134.42 11.7839C134.421 11.7843 134.423 11.7847 134.424 11.7852C134.434 11.7878 134.444 11.7903 134.454 11.7924C134.456 11.7929 134.458 11.7933 134.46 11.7937C134.47 11.7956 134.48 11.7973 134.489 11.7987C134.492 11.799 134.494 11.7994 134.496 11.7997C134.506 11.801 134.516 11.802 134.526 11.8027C134.528 11.8029 134.53 11.8031 134.532 11.8032C134.543 11.804 134.555 11.8045 134.567 11.8045C134.567 11.8045 134.567 11.8045 134.567 11.8045C134.567 11.8045 134.567 11.8045 134.567 11.8045C134.579 11.8045 134.591 11.804 134.602 11.8032C134.604 11.8031 134.606 11.8029 134.608 11.8027C134.618 11.802 134.628 11.801 134.638 11.7997C134.64 11.7994 134.642 11.799 134.645 11.7987C134.654 11.7973 134.664 11.7956 134.674 11.7937C134.676 11.7933 134.678 11.7928 134.68 11.7924C134.69 11.7903 134.7 11.7878 134.71 11.7852C134.711 11.7847 134.713 11.7843 134.715 11.7839C134.726 11.7807 134.737 11.7772 134.748 11.7732C134.748 11.7732 134.748 11.7732 134.748 11.7731C134.76 11.7691 134.771 11.7648 134.782 11.76C134.785 11.7588 134.787 11.7575 134.79 11.7562C134.797 11.7532 134.803 11.7503 134.81 11.747C134.811 11.7465 134.812 11.7459 134.813 11.7453C134.816 11.7436 134.82 11.7418 134.823 11.7401C134.83 11.7365 134.836 11.7329 134.843 11.7291C134.846 11.727 134.85 11.725 134.853 11.7228C134.861 11.7181 134.868 11.7133 134.875 11.7083C134.877 11.7071 134.879 11.706 134.881 11.7047C134.89 11.6984 134.898 11.6918 134.907 11.6851C134.909 11.683 134.912 11.6809 134.914 11.6788C134.921 11.6733 134.927 11.6677 134.933 11.662C134.936 11.66 134.938 11.6581 134.94 11.6561C134.948 11.6484 134.956 11.6405 134.964 11.6324C134.965 11.6311 134.966 11.6297 134.967 11.6283C134.974 11.6211 134.98 11.6136 134.987 11.606",fill:"white"})))}),d=(n("./node_modules/bows/bows.js")("Icon-footer-instagram"),function(e){var t=e.size;return o.a.createElement(l.a,null,o.a.createElement("svg",{viewBox:"0 0 25 25",width:t,height:t},o.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},o.a.createElement("path",{d:"M12.4960813.0078869c-3.39374995 0-3.81929559.01438493-5.15213289.07519842C6.01388889.14375 5.10550595.35500992 4.31066468.66393849c-.82172619.31929564-1.51860119.74657738-2.21334325 1.44126984C1.40262897 2.7999504.97534723 3.4968254.65605159 4.31855159c-.30892857.79484127-.5201885 1.7032242-.58085318 3.03328373C.01438492 8.68467262 0 9.11021825 0 12.5039683c0 3.3937004.01438492 3.819246.07519841 5.1520833.06066468 1.3300595.2719246 2.2384424.58085318 3.0332837.31929563.8217262.74657738 1.5186012 1.44126984 2.2133433.69474206.6946924 1.39161706 1.1219742 2.21334325 1.4413194.79484127.308879 1.70322421.5201389 3.03328373.5808036C8.67678571 24.9856151 9.10233135 25 12.4960813 25c3.3937004 0 3.8192461-.0143849 5.1520834-.0751984 1.3300595-.0606647 2.2384424-.2719246 3.0332837-.5808036.8217262-.3193452 1.5186012-.746627 2.2133433-1.4413194.6946924-.6947421 1.1219742-1.3916171 1.4413194-2.2133433.308879-.7948413.5201389-1.7032242.5808036-3.0332837.0608135-1.3328373.0751984-1.7583829.0751984-5.1520833 0-3.39375005-.0143849-3.81929568-.0751984-5.15213298-.0606647-1.33005953-.2719246-2.23844246-.5808036-3.03328373-.3193452-.82172619-.746627-1.51860119-1.4413194-2.21334326-.6947421-.69469246-1.3916171-1.1219742-2.2133433-1.44126984C19.8866071.35500992 18.9782242.14375 17.6481647.08308532 16.3153274.02227182 15.8897817.0078869 12.4960813.0078869zm0 2.2515377c3.3365576 0 3.7317957.01274802 5.0494544.07286707 1.2183532.05555555 1.8800099.25912698 2.3203373.43025793.5832837.22668651.9995536.49747024 1.4368056.93477183.4373016.43725198.7080853.85352182.9347718 1.43680555.1711309.44032739.3747024 1.10198413.4302579 2.32033731.0601191 1.31765873.0728671 1.71289682.0728671 5.04950401 0 3.3365575-.012748 3.7317956-.0728671 5.0494543-.0555555 1.2183532-.259127 1.8800099-.4302579 2.3203373-.2266865.5832838-.4974702.9995536-.9347718 1.4368056-.437252.4373016-.8535219.7080853-1.4368056.9347718-.4403274.171131-1.1019841.3747024-2.3203373.4302579-1.3174603.0601191-1.7126488.0728671-5.0494544.0728671-3.33685511 0-3.731994-.012748-5.04950392-.0728671-1.21835317-.0555555-1.88000992-.2591269-2.3203373-.4302579-.58328373-.2266865-.99955357-.4974702-1.43680556-.9347718-.43725198-.437252-.70808531-.8535218-.93477182-1.4368056-.17113095-.4403274-.37470238-1.1019841-.43025794-2.3203373-.06011905-1.3176587-.07286706-1.7128968-.07286706-5.0494543 0-3.33660719.01274801-3.73184528.07286706-5.04950401.05555556-1.21835318.25912699-1.88000992.43025794-2.32033731.22668651-.58328373.49747024-.99955357.93477182-1.43680555.43725199-.43730159.85352183-.70808532 1.43680556-.93477183.44032738-.17113095 1.10198413-.37470238 2.3203373-.43025793 1.31765873-.06011905 1.71289683-.07286707 5.04950392-.07286707z"}),o.a.createElement("path",{d:"M12.5000253 16.7502115c-2.3473633 0-4.25023682-1.9028735-4.25023682-4.2501862 0-2.3473633 1.90287352-4.25023682 4.25023682-4.25023682 2.3473127 0 4.2501862 1.90287352 4.2501862 4.25023682 0 2.3473127-1.9028735 4.2501862-4.2501862 4.2501862zm0-10.79783055c-3.6161987 0-6.54764435 2.93144565-6.54764435 6.54764435 0 3.6161481 2.93144565 6.5475937 6.54764435 6.5475937 3.6161481 0 6.5475937-2.9314456 6.5475937-6.5475937 0-3.6161987-2.9314456-6.54764435-6.5475937-6.54764435zM20.8333333 5.65478652c0 .82185998-.6662598 1.48807062-1.4881198 1.48807062-.8218108 0-1.4880706-.66621064-1.4880706-1.48807062s.6662598-1.48811985 1.4880706-1.48811985c.82186 0 1.4881198.66625987 1.4881198 1.48811985"}))))}),_=(n("./node_modules/bows/bows.js")("Icon-footer-facebook"),function(e){var t=e.size;return o.a.createElement(l.a,null,o.a.createElement("svg",{viewBox:"0 0 25 25",width:t,height:t},o.a.createElement("path",{d:"M25 12.576392C25 5.630637 19.403564 0 12.5 0S0 5.630637 0 12.576392C0 18.853632 4.571069 24.056525 10.546875 25v-8.788245H7.373047v-3.635363h3.173828V9.805655c0-3.151958 1.866162-4.893002 4.721436-4.893002 1.367602 0 2.798095.245633 2.798095.245633v3.094971h-1.57622c-1.552808 0-2.037061.969438-2.037061 1.964005v2.35913h3.466797l-.554199 3.635363h-2.912598V25C20.428931 24.056525 25 18.853632 25 12.576392",fill:"currentColor",fillRule:"evenodd"})))}),m=(n("./node_modules/bows/bows.js")("Icon-footer-twitter"),function(e){var t=e.size;return o.a.createElement(l.a,null,o.a.createElement("svg",{viewBox:"0 0 25 20",width:t,height:t},o.a.createElement("path",{d:"M7.8623 20c9.4344 0 14.5936-7.693845 14.5936-14.365335 0-.218626-.0045-.436268-.0147-.652728C23.4426 4.26936 24.3132 3.380189 25 2.367776c-.9191.401815-1.9081.672711-2.9456.794771 1.059-.624871 1.872-1.613954 2.2554-2.792822-.9912.578311-2.0885.998927-3.2568 1.225428C20.1171.613846 18.7841 0 17.3091 0c-2.8328 0-5.1299 2.26117-5.1299 5.048578 0 .396303.0451.781482.133 1.151207C8.0495 5.988837 4.2695 3.979663 1.74.924706c-.4409.745947-.6946 1.61297-.6946 2.537578 0 1.751765.9055 3.298094 2.2824 4.202719-.8412-.025495-1.6317-.253078-2.323-.631663-.0012.021065-.0012.042229-.0012.064377 0 2.445541 1.7683 4.486903 4.115 4.949847-.4307.115367-.8841.177578-1.3521.177578-.3304 0-.6518-.032188-.9642-.091053.653 2.005926 2.5464 3.465631 4.7916 3.506778-1.7558 1.354182-3.9672 2.161159-6.3703 2.161159-.4139 0-.8221-.023231-1.2236-.06989C2.2701 19.164083 4.9653 20 7.8623 20",fill:"currentColor",fillRule:"evenodd"})))}),g=(n("./node_modules/bows/bows.js")("Icon-footer-youtube"),function(e){var t=e.size;return o.a.createElement(l.a,null,o.a.createElement("svg",{viewBox:"0 0 26 20",width:t,height:t},o.a.createElement("path",{d:"M10.3409091 14.0097661V5.99023387l6.7954545 4.00991933-6.7954545 4.0096129zm15.11575-10.54285481c-.299-1.1678871-1.1800455-2.08754839-2.2986364-2.39966935C21.1304659.5 13 .5 13 .5s-8.13046591 0-10.15802273.56724194C1.72338636 1.3793629.84234091 2.29902419.54334091 3.46691129 0 5.58357258 0 10 0 10s0 4.4162742.5433409 6.5330887c.299 1.1678871 1.18004546 2.0875484 2.29863637 2.3998226C4.86953409 19.5 13 19.5 13 19.5s8.1304659 0 10.1580227-.5670887c1.1185909-.3122742 1.9996364-1.2319355 2.2986364-2.3998226C26 14.4162742 26 10 26 10s0-4.41642742-.5433409-6.53308871z",fill:"currentColor",fillRule:"evenodd"})))}),b=(n("./node_modules/bows/bows.js")("Icon-footer-tiktok"),function(e){var t=e.size;return o.a.createElement(l.a,null,o.a.createElement("svg",{enableBackground:"new 0 0 25 29",viewBox:"0 0 25 29",width:.86*t,height:t},o.a.createElement("path",{d:"m18.73 11.27v.3c0 2.73.08 5.46-.03 8.18-.15 3.76-1.99 6.54-5.37 8.15-3.3 1.57-6.54 1.22-9.51-.9-2.3-1.64-3.58-3.94-3.82-6.76-.37-4.44 2.3-8.41 6.54-9.77.9-.29 1.83-.43 2.78-.42.5 0 .86.33.87.83.01 1.5.01 3.01 0 4.51 0 .5-.36.81-.89.83-1.73.07-3.04 1.34-3.15 3.06-.08 1.3.72 2.58 1.93 3.09 1.24.53 2.69.23 3.59-.73.61-.66.89-1.43.89-2.33 0-6.05 0-12.1-.01-18.15 0-.62.38-1.05 1.04-1.03 1.38.03 2.76.01 4.14.01.69 0 .99.29 1.01.97.09 2.41 1.63 4.43 3.93 5.1.46.13.95.18 1.43.22.62.05.94.36.94.99v4.23c0 .64-.36.99-.99.97-1.81-.04-3.54-.44-5.15-1.28-.05-.02-.09-.03-.17-.07zm4.62-.31c0-.98 0-1.87-.01-2.77 0-.05-.08-.11-.14-.14-.05-.03-.13-.02-.2-.03-2.83-.58-4.72-2.23-5.64-4.97-.13-.39-.19-.8-.29-1.21-.94 0-1.88 0-2.84 0v.32 17.16c0 .82-.17 1.6-.54 2.33-1.09 2.16-3.7 3.21-5.98 2.39-2.35-.85-3.73-3.31-3.14-5.7.48-1.96 1.75-3.19 3.71-3.69.15-.04.22-.08.22-.26-.01-.81 0-1.63 0-2.44 0-.05-.01-.11-.02-.18-.1.01-.2.01-.29.02-2.24.37-4.03 1.49-5.28 3.39-1.95 2.96-1.66 6.69.69 9.38 2.53 2.89 7.05 3.42 10.15 1.17 2.17-1.57 3.28-3.72 3.29-6.4.01-3.16 0-6.32 0-9.47 0-.37.12-.68.46-.86.33-.17.65-.1.95.11.88.63 1.84 1.11 2.88 1.4.66.18 1.32.3 2.02.45z",fill:"#a1a1a1"})))}),p=n("./src/pieces/footer/footer.scss"),f=n.n(p),h=(n("./node_modules/bows/bows.js")("Footer"),function(e){return o.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children)});t.a=function(e){var t,n=e.darkTheme;return o.a.createElement("div",{className:c()((t={},r()(t,f.a.footer,!0),r()(t,f.a.light,!n),t))},o.a.createElement("div",{className:f.a.row},o.a.createElement("div",{className:f.a.col},o.a.createElement("a",{href:"/",className:f.a.logo},o.a.createElement(u,null))),o.a.createElement("div",{className:f.a.col2},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"/"},"Home")),o.a.createElement("li",null,o.a.createElement("a",{href:"/about.html"},"About Us")),o.a.createElement("li",null,o.a.createElement("a",{href:"/battlerap.html"},"Battle Rap")),o.a.createElement("li",null,o.a.createElement("a",{href:"/broadcasting.html"},"Broadcasting"))),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"/careers.html"},"Careers")),o.a.createElement("li",null,o.a.createElement("a",{href:"/rules.html"},"Community Rules")),o.a.createElement("li",null,o.a.createElement("a",{href:"/newsroom.html"},"Newsroom")),o.a.createElement("li",null,o.a.createElement("a",{href:"/blog/engineering/index.html"},"Engineering Blog"))),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"/privacy.html"},"Privacy Policy")),o.a.createElement("li",null,o.a.createElement("a",{href:"/tos.html"},"Terms of Service")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://link.caffeine.tv/help",target:"_blank",rel:"noopener noreferrer"},"Help"))),o.a.createElement("div",{className:"clearfix"})),o.a.createElement("div",{className:"clearfix"})),o.a.createElement("div",{className:f.a.bottom},o.a.createElement("div",{className:f.a.bottomLeft},o.a.createElement("div",{className:f.a.bottomLeftRow},o.a.createElement("div",null,"Copyright \xa9 ",(new Date).getFullYear()," Caffeine All rights reserved."),o.a.createElement("a",{href:"/cookie.html",className:f.a.doNotSell},"Do Not Sell My Information"))),o.a.createElement("div",{className:f.a.social},o.a.createElement(h,{href:"https://www.tiktok.com/@caffeinetv"},o.a.createElement(b,{size:25})),o.a.createElement(h,{href:"https://www.instagram.com/caffeine/"},o.a.createElement(d,{size:25})),o.a.createElement(h,{href:"https://www.facebook.com/caffeine/"},o.a.createElement(_,{size:25})),o.a.createElement(h,{href:"https://twitter.com/caffeine/"},o.a.createElement(m,{size:25})),o.a.createElement(h,{href:"https://www.youtube.com/caffeinetv/"},o.a.createElement(g,{size:25})))))}},"./src/pieces/header/base-header.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./src/pieces/base/outline-logo-wordmark.tsx"),u=n("./src/pieces/authentication/authentication.reducer.js"),d=n("./node_modules/reselect/lib/index.js"),_=n("./src/pieces/header/notifications-menu.tsx"),m=n("./src/pieces/header/current-user-menu.tsx"),g=n("./src/pieces/header/header.scss"),b=n.n(g),p=n("./src/pieces/header/broadcasting-link.tsx"),f=n("./src/pieces/current-user/current-user.reducer.js"),h=(n("./node_modules/bows/bows.js")("Base-header"),Object(i.a)(Object(o.b)(Object(d.createStructuredSelector)({isAuthenticated:u.selectIsAuthenticated,currentUserStageIsLive:f.selectCurrentUserStageIsLive}))));t.a=h(function(t){var n=t.darkTheme,a=void 0!==n&&n,i=t.isHidden,o=void 0!==i&&i,s=r()(t,["darkTheme","isHidden"]);return e.createElement("div",{className:c()(b.a.redesign_header,s.className),onMouseEnter:s.onMouseEnter,onMouseLeave:s.onMouseLeave,style:s.style},e.createElement("div",{className:a?b.a.redesign_segmentsWithDarkTheme:b.a.redesign_segments},e.createElement("div",{className:c()(s.leftClassName||b.a.redesign_headerLeft)},s.left||e.createElement("a",{href:o?"":"/",className:b.a.redesign_headerLeftContent},e.createElement(l.a,null))),e.createElement("div",{className:c()(s.centerClassName||b.a.redesign_headerCenter)},s.center||s.isAuthenticated&&e.createElement(e.Fragment,null,e.createElement("div",{className:b.a.redesign_mainItem},e.createElement(_.a,null)),e.createElement("div",{className:b.a.redesign_mainItem},e.createElement(m.a,null)))),e.createElement("div",{className:c()(s.rightClassName||b.a.redesign_headerRight,s.currentUserStageIsLive&&b.a.redesign_headerRightBroadcasting)},s.right||e.createElement("div",{className:b.a.redesign_headerRightContent},e.createElement(p.a,{disabled:o})))),s.below&&e.createElement("div",{className:b.a.redesign_headerBelow},s.below))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/header/broadcast-icon.scss":function(e,t,n){e.exports={broadcastIcon:"broadcast-icon__broadcastIcon___3wuKk",broadcastIconPath:"broadcast-icon__broadcastIconPath___rHXK2",redesign_broadcastIcon:"broadcast-icon__redesign_broadcastIcon___3JwjW"}},"./src/pieces/header/broadcast-icon.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./src/pieces/base/icons/icon.tsx"),c=n("./src/pieces/header/broadcast-icon.scss"),l=n.n(c);n("./node_modules/bows/bows.js")("Broadcast-icon");t.a=function(e){return o.a.createElement(s.a,null,o.a.createElement("svg",r()({viewBox:"0 0 160 56",className:l.a.redesign_broadcastIcon},e),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M140.5 21v14l-7-7 7-7zm-14 0a7 7 0 016.996 6.76l.004.24a7 7 0 11-14 0 7 7 0 017-7z",strokeWidth:2,strokeLinejoin:"round",stroke:"#9696be"}),o.a.createElement("path",{fill:"#9696be",d:"M15.142 19c.59 0 1.074.445 1.136 1.018l.007.125v4.6a5.66 5.66 0 013.429-1.172 5.72 5.72 0 015.714 5.714A5.721 5.721 0 0119.714 35a5.721 5.721 0 01-5.71-5.496L14 29.285v-9.142c0-.632.511-1.143 1.142-1.143zm53.143 0c.59 0 1.074.445 1.136 1.018l.007.125v9.142A5.721 5.721 0 0163.714 35 5.721 5.721 0 0158 29.285a5.72 5.72 0 015.714-5.714c1.2 0 2.301.385 3.22 1.021l.208.151v-4.6c0-.632.512-1.143 1.143-1.143zm38.287 0c.589 0 1.073.445 1.135 1.018l.007.125v3.428h3.429a1.143 1.143 0 01.124 2.28l-.124.006h-3.43v8a1.142 1.142 0 01-2.279.124l-.006-.124V20.143c0-.632.512-1.143 1.144-1.143zm-30.287 4.57a5.685 5.685 0 015.11 3.16 1.144 1.144 0 01-2.044 1.023 3.413 3.413 0 00-3.066-1.896 3.433 3.433 0 00-3.429 3.429 3.432 3.432 0 003.43 3.428 3.41 3.41 0 003.065-1.896 1.142 1.142 0 112.044 1.024A5.684 5.684 0 0176.285 35a5.72 5.72 0 01-5.714-5.714 5.721 5.721 0 015.714-5.715zm-25.143.001a5.72 5.72 0 015.71 5.495l.004.219v4.572a1.142 1.142 0 01-2.278.124l-.007-.124v-.029A5.66 5.66 0 0151.142 35a5.721 5.721 0 01-5.714-5.715 5.72 5.72 0 015.714-5.714zm37.143 0a5.72 5.72 0 015.71 5.495l.004.219v4.572a1.143 1.143 0 01-2.278.124l-.007-.124v-.029A5.662 5.662 0 0188.285 35a5.722 5.722 0 01-5.714-5.715 5.72 5.72 0 015.714-5.714zm-49.714 0a5.72 5.72 0 015.714 5.714A5.721 5.721 0 0138.571 35a5.721 5.721 0 01-5.714-5.715 5.72 5.72 0 015.714-5.714zm-6.286 0a1.143 1.143 0 010 2.286 3.433 3.433 0 00-3.424 3.24l-.005.188v4.572a1.142 1.142 0 01-2.278.124l-.007-.124v-4.572a5.72 5.72 0 015.714-5.714zm70.858 0a1.143 1.143 0 010 2.286H98.57c-.63 0-1.144.513-1.144 1.143s.513 1.143 1.144 1.143h2.285a3.432 3.432 0 013.43 3.428 3.433 3.433 0 01-3.43 3.429h-4.57a1.143 1.143 0 010-2.286h4.57a1.143 1.143 0 000-2.285h-2.284a3.433 3.433 0 01-3.43-3.43 3.433 3.433 0 013.43-3.428zm-52 2.286a3.432 3.432 0 00-3.429 3.428 3.432 3.432 0 003.428 3.429 3.433 3.433 0 003.43-3.429 3.432 3.432 0 00-3.43-3.428zm37.142 0a3.432 3.432 0 00-3.429 3.428 3.433 3.433 0 003.43 3.429 3.433 3.433 0 003.428-3.429 3.432 3.432 0 00-3.429-3.428zm-68.571 0a3.432 3.432 0 00-3.429 3.428 3.433 3.433 0 003.429 3.429 3.432 3.432 0 003.428-3.429 3.432 3.432 0 00-3.428-3.428zm18.857 0a3.432 3.432 0 00-3.428 3.428 3.432 3.432 0 003.428 3.429A3.433 3.433 0 0042 29.285a3.432 3.432 0 00-3.429-3.428zm25.143 0a3.432 3.432 0 00-3.429 3.428 3.433 3.433 0 003.429 3.429 3.432 3.432 0 003.428-3.429 3.432 3.432 0 00-3.428-3.428z"}))))}},"./src/pieces/header/broadcasting-icon.scss":function(e,t,n){e.exports={redesign_broadcastingIcon:"broadcasting-icon__redesign_broadcastingIcon___26ox1"}},"./src/pieces/header/broadcasting-link.scss":function(e,t,n){e.exports={redesign_broadcastIcon:"broadcasting-link__redesign_broadcastIcon___biZFb",redesign_broadcastingIcon:"broadcasting-link__redesign_broadcastingIcon___2nK3V"}},"./src/pieces/header/broadcasting-link.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/reselect/lib/index.js"),c=n("./node_modules/react-router/es/index.js"),l=n("./src/pieces/current-user/current-user.reducer.js"),u=n("./src/pieces/stage/stage.reducer.js"),d=n("./src/pieces/authentication/authentication.reducer.js"),_=n("./src/pieces/header/broadcast-icon.tsx"),m=n("./src/pieces/header/broadcasting-link.scss"),g=n.n(m),b=n("./node_modules/@babel/runtime/helpers/extends.js"),p=n.n(b),f=n("./src/pieces/base/icons/icon.tsx"),h=n("./src/pieces/header/broadcasting-icon.scss"),v=n.n(h),w=(n("./node_modules/bows/bows.js")("Broadcasting-icon"),function(e){return r.a.createElement(f.a,null,r.a.createElement("svg",p()({viewBox:"0 0 160 56",className:v.a.redesign_broadcastingIcon},e),r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M135.28 23.631c3.08 0 5.6 2.479 5.716 5.568l.004.221v5.79a5.799 5.799 0 01-1.92 4.316 5.652 5.652 0 01-3.8 1.474 1.152 1.152 0 01-1.146-1.158c0-.638.513-1.157 1.146-1.157 1.83 0 3.33-1.456 3.427-3.284l.005-.19v-1.188c-.959.735-2.14 1.188-3.432 1.188-3.155 0-5.722-2.597-5.722-5.79 0-3.192 2.567-5.79 5.722-5.79zm-58.924 0l.24.006c2.083.087 3.935 1.294 4.875 3.194a1.162 1.162 0 01-.51 1.554 1.136 1.136 0 01-.349.11l-.119.012a1.144 1.144 0 01-1.068-.638 3.412 3.412 0 00-3.07-1.921l-.187.005c-1.734.095-3.129 1.497-3.238 3.247a3.483 3.483 0 001.545 3.125l.15.094c.444.264.953.43 1.496.467l.235.008a3.411 3.411 0 003.07-1.92c.208-.42.633-.656 1.067-.639l.12.011a1.162 1.162 0 01.86 1.665c-.942 1.901-2.794 3.109-4.876 3.195l-.241.005a5.654 5.654 0 01-3.667-1.348l-.154-.136a5.807 5.807 0 01-1.894-4.572c.138-3.07 2.648-5.523 5.715-5.523zm26.887 0c.632 0 1.144.52 1.144 1.158 0 .597-.446 1.09-1.02 1.152l-.124.007h-4.576c-.632 0-1.145.52-1.145 1.158 0 .595.447 1.087 1.02 1.15l.125.007h2.288c1.893 0 3.432 1.558 3.432 3.474 0 1.851-1.438 3.37-3.244 3.47l-.188.004h-4.577a1.152 1.152 0 01-1.144-1.158c0-.597.447-1.09 1.02-1.152l.124-.007h4.577c.631 0 1.144-.519 1.144-1.157 0-.596-.447-1.088-1.02-1.151l-.124-.007h-2.288c-1.893 0-3.433-1.558-3.433-3.473 0-1.852 1.439-3.37 3.245-3.469l.188-.005h4.576zm3.433-4.63c.59 0 1.075.45 1.137 1.03l.007.127v3.474h3.432c.632 0 1.145.518 1.145 1.158 0 .596-.447 1.088-1.02 1.151l-.125.007h-3.432v8.105c0 .597-.446 1.089-1.02 1.151l-.124.007a1.15 1.15 0 01-1.138-1.032l-.007-.126V20.158c0-.64.513-1.157 1.145-1.157zm8.01 4.63c.589 0 1.075.453 1.137 1.033l.006.126v9.263c0 .64-.512 1.158-1.144 1.158a1.15 1.15 0 01-1.138-1.032l-.007-.126V24.79c0-.64.512-1.158 1.145-1.158zm8.008 0c3.08 0 5.6 2.478 5.716 5.568l.005.222v4.632c0 .64-.513 1.158-1.145 1.158a1.15 1.15 0 01-1.137-1.032l-.007-.126v-4.632c0-1.915-1.539-3.473-3.432-3.473-1.83 0-3.33 1.456-3.428 3.283l-.005.19v4.632a1.15 1.15 0 01-1.144 1.158 1.15 1.15 0 01-1.138-1.032l-.006-.126v-4.632c0-3.193 2.567-5.79 5.721-5.79zm-90.388 0l.125.007c.573.063 1.02.555 1.02 1.151 0 .64-.513 1.16-1.145 1.16-1.83 0-3.33 1.455-3.428 3.282l-.005.19v4.633c0 .595-.445 1.087-1.018 1.15l-.125.007a1.15 1.15 0 01-1.138-1.031l-.006-.126V29.42c0-3.191 2.565-5.789 5.72-5.789zM15.143 19l.125.007c.533.058.955.486 1.013 1.025l.007.126v4.66c.959-.733 2.139-1.187 3.432-1.187 3.008 0 5.48 2.362 5.704 5.348l.008.126c.006.105.009.21.009.316 0 3.119-2.448 5.669-5.501 5.786l-.22.004a5.717 5.717 0 01-.662-.039l-.09-.011a5.63 5.63 0 01-.118-.017l-.113-.019a5.612 5.612 0 01-1.124-.321l-.079-.033a5.582 5.582 0 01-1.1-.613l-.088-.064a6.171 6.171 0 01-.244-.191l-.085-.072-.087-.077a5.115 5.115 0 01-.144-.134l-.038-.037-.038-.037a6.675 6.675 0 01-.165-.171l-.038-.042a5.355 5.355 0 01-.093-.105l-.059-.069a5.195 5.195 0 01-.08-.097l-.032-.04a5.806 5.806 0 01-.65-1.036l-.022-.045a5.325 5.325 0 01-.075-.161l-.014-.033a5.116 5.116 0 01-.057-.135l-.026-.065a5.343 5.343 0 01-.065-.175l-.01-.03a5.689 5.689 0 01-.118-.378l-.015-.059-.008-.028-.004-.017-.002-.006v-.001l-.002-.006-.006-.025-.002-.008-.003-.016v.004l-.015-.065a5.487 5.487 0 01-.043-.205l-.003-.014a5.89 5.89 0 01-.099-.875L14 29.42v-9.262c0-.64.512-1.158 1.143-1.158zm53.203 0l.125.007c.533.058.955.486 1.013 1.025l.007.126v9.263c0 3.119-2.448 5.669-5.502 5.786l-.219.004a5.632 5.632 0 01-2.645-.657l-.18-.1a5.805 5.805 0 01-2.879-5.474c.224-2.987 2.696-5.349 5.704-5.349l.276.007a5.615 5.615 0 012.93 1.015l.226.166v-4.66c0-.64.513-1.159 1.144-1.159zM38.6 23.631c3.008 0 5.48 2.362 5.704 5.348.01.147.016.294.016.442 0 3.119-2.448 5.669-5.501 5.786l-.22.004a5.632 5.632 0 01-2.644-.657l-.181-.1a5.805 5.805 0 01-2.886-5.349c.162-3.045 2.662-5.474 5.712-5.474zm55.325 4.408l.006.023.017.07a5.774 5.774 0 01.139 1.067l.004.221v4.634c0 .595-.446 1.087-1.02 1.15l-.125.007c-.59 0-1.074-.452-1.136-1.031l-.007-.126v-.03a5.646 5.646 0 01-3.158 1.18l-.275.007c-3.153 0-5.72-2.597-5.72-5.79 0-.148.005-.295.016-.44.224-2.988 2.697-5.35 5.704-5.35a5.716 5.716 0 01.665.04l.053.006a5.63 5.63 0 01.367.059l.133.027.07.016a5.607 5.607 0 01.56.162l.046.016a5.586 5.586 0 01.679.293l.096.05a5.513 5.513 0 01.524.32l.098.068a6.049 6.049 0 01.651.54 7.384 7.384 0 01.135.135l.087.092a4.46 4.46 0 01.248.284 5.143 5.143 0 01.205.267l.047.065.075.11a8.48 8.48 0 01.148.232 5.686 5.686 0 01.432.875l.026.07c.068.18.128.365.179.553v.006l.008.031.005.02.004.014.001.005.011.044.002.008zm-74.204-2.09l-.188.004c-1.743.096-3.145 1.514-3.24 3.278l-.005.179v.01l.008.231c.05.763.344 1.46.803 2.01a3.414 3.414 0 002.414 1.227l.208.007c1.894 0 3.432-1.559 3.432-3.475l-.002-.124c-.065-1.857-1.578-3.348-3.43-3.348zm115.56 0c-1.894 0-3.433 1.558-3.433 3.471 0 1.916 1.54 3.475 3.433 3.475 1.893 0 3.432-1.559 3.432-3.475 0-1.913-1.54-3.472-3.432-3.472zm-96.681 0l-.188.004c-1.744.096-3.145 1.514-3.239 3.278l-.003.079-.002.048-.001.052v.01l.008.231c.05.763.344 1.46.803 2.01a3.412 3.412 0 002.413 1.227l.209.007c1.893 0 3.433-1.559 3.433-3.475l-.003-.124c-.065-1.857-1.579-3.348-3.43-3.348zm12.585 0l-.188.004c-1.743.096-3.144 1.514-3.239 3.278l-.003.079-.001.048-.001.062.008.231c.05.763.343 1.46.803 2.01a3.413 3.413 0 002.413 1.227l.208.007c1.893 0 3.433-1.559 3.433-3.475l-.002-.124c-.066-1.857-1.58-3.348-3.43-3.348zm12.586 0l-.188.004c-1.744.096-3.145 1.514-3.24 3.278l-.003.079-.001.048-.001.062.008.231c.05.763.343 1.46.803 2.01a3.414 3.414 0 002.414 1.227l.208.007c1.892 0 3.432-1.559 3.432-3.475v-.062c-.034-1.886-1.56-3.41-3.432-3.41zm24.6 0l-.189.004c-1.744.096-3.145 1.514-3.24 3.278l-.003.079-.001.048-.001.062.008.231c.05.763.343 1.46.803 2.01a3.414 3.414 0 002.414 1.227l.208.007c1.893 0 3.433-1.559 3.433-3.475v-.062c-.034-1.886-1.56-3.41-3.433-3.41zM114.684 19c.632 0 1.144.519 1.144 1.158 0 .639-.512 1.157-1.144 1.157a1.152 1.152 0 01-1.145-1.157c0-.64.512-1.158 1.145-1.158zM56.74 28.04l-.001-.008.007.031.017.07a5.774 5.774 0 01.138 1.05l.005.24v4.632c0 .595-.446 1.087-1.019 1.15l-.125.007a1.15 1.15 0 01-1.137-1.031l-.007-.126v-.03l-.209.152a5.614 5.614 0 01-2.948 1.028l-.276.007a5.632 5.632 0 01-2.645-.657l-.18-.1a5.805 5.805 0 01-2.879-5.474c.224-2.987 2.696-5.349 5.704-5.349a5.716 5.716 0 01.998.088l.088.017a5.587 5.587 0 01.762.205l.048.017.12.044.046.018.115.047.129.055a5.41 5.41 0 01.182.086l.1.05a5.962 5.962 0 01.43.246l.067.043.108.072a5.47 5.47 0 01.56.436l.1.09.089.084.059.057a5.155 5.155 0 01.263.28l.092.106.07.085.065.08.04.053a5.27 5.27 0 01.133.181l.075.11a8.478 8.478 0 01.148.232 5.758 5.758 0 01.432.875l.026.07a5.652 5.652 0 01.179.553l.001.006.016.065.002.006-.001-.001.001.002.002.006v.002l-.001-.002.011.044z",fill:"#000"}))))}),C=(n("./node_modules/bows/bows.js")("Broadcasting-link"),Object(i.a)(Object(o.b)(Object(s.createStructuredSelector)({user:l.selectCurrentUser,entertainer:u.selectEntertainer,isAuthenticated:d.selectIsAuthenticated,currentUserStageIsLive:l.selectCurrentUserStageIsLive}),{TrackSignInButtonClick:d.TrackSignInButtonClick})));t.a=C(function(e){var t=e.entertainer,n=e.user,a=e.isAuthenticated,i=e.currentUserStageIsLive,o=e.disabled,s=void 0!==o&&o,l=a?n&&n.username:t&&t.username||"browse";return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(c.b,{to:"/".concat(l,"/broadcast"),disabled:s},i?r.a.createElement("div",{className:g.a.redesign_broadcastingIcon},r.a.createElement(w,null)):r.a.createElement("div",{className:g.a.redesign_broadcastIcon},r.a.createElement(_.a,null))):r.a.createElement("div",{className:g.a.redesign_trigger},r.a.createElement(c.b,{className:g.a.redesign_loginLink,onClick:d.TrackSignInButtonClick,to:"/".concat(l,"/sign-in"),disabled:s},r.a.createElement(_.a,null))))})},"./src/pieces/header/current-user-menu.scss":function(e,t,n){e.exports={currentUserMenu:"current-user-menu__currentUserMenu___gRdqT",trigger:"current-user-menu__trigger___2Lr4e header__menuTrigger___1JOju buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",profileContainer:"current-user-menu__profileContainer___2I8mH",userWalletContainer:"current-user-menu__userWalletContainer___19lHu",actionsSection:"current-user-menu__actionsSection___30AbR",actionsSectionWithDarkTheme:"current-user-menu__actionsSectionWithDarkTheme___wnqmj current-user-menu__actionsSection___30AbR",action:"current-user-menu__action___KowRb buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",actionWithDarkTheme:"current-user-menu__actionWithDarkTheme___1rzR4 buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",redesign_currentUserMenu:"current-user-menu__redesign_currentUserMenu___3JbL7",redesign_triggerIcon:"current-user-menu__redesign_triggerIcon___agdYw",redesign_trigger:"current-user-menu__redesign_trigger___1CWuc",redesign_open:"current-user-menu__redesign_open___1qsmu",redesign_dropdown:"current-user-menu__redesign_dropdown___3f4eV",redesign_profileContainer:"current-user-menu__redesign_profileContainer___S1ZBD",redesign_name:"current-user-menu__redesign_name___1dP8l",redesign_username:"current-user-menu__redesign_username___1VAdz",redesign_usernameArrow:"current-user-menu__redesign_usernameArrow___4_1FV",redesign_followers:"current-user-menu__redesign_followers___vqny-",redesign_userWalletContainer:"current-user-menu__redesign_userWalletContainer___2kNO4",redesign_actionsSection:"current-user-menu__redesign_actionsSection___1WXn_",redesign_disabledLink:"current-user-menu__redesign_disabledLink___3KwTU",signOutButton:"current-user-menu__signOutButton___LreHl"}},"./src/pieces/header/current-user-menu.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n.n(s),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./node_modules/recompose/dist/Recompose.esm.js"),_=n("./node_modules/react-redux/es/index.js"),m=n("./node_modules/reselect/lib/index.js"),g=n("./node_modules/react-router/es/index.js"),b=n("./src/pieces/authentication/authentication.reducer.js"),p=n("./src/pieces/current-user/current-user.reducer.js"),f=n("./src/pieces/base/avatar.tsx"),h=n("./src/pieces/base/user-snippet.tsx"),v=n("./src/pieces/payment/digital-currency.tsx"),w=n("./src/pieces/payment/user-wallet.scss"),C=n.n(w),y=(n("./node_modules/bows/bows.js")("User-wallet"),function(e){var t,n=e.wallet,a=e.displayGoldInColumn,i=e.darkTheme;return c.a.createElement("div",{className:u()((t={},r()(t,C.a.redesign_userWallet,!0),r()(t,C.a.redesign_darkTheme,i),r()(t,C.a.redesign_displayAsColumn,a),t))},c.a.createElement("div",{className:a?C.a.redesign_columnarGoldContainer:C.a.redesign_goldContainer},c.a.createElement("div",{className:C.a.redesign_count},c.a.createElement(v.a,{size:"medium",type:"gold",amount:n.gold,amountClassName:C.a.redesign_amountText})),c.a.createElement("div",{className:C.a.redesign_label},"gold")),c.a.createElement("div",{className:C.a.redesign_creditsContainer},c.a.createElement("div",{className:C.a.redesign_creditsAmount},c.a.createElement("div",{className:C.a.redesign_count},c.a.createElement(v.a,{size:"medium",type:"credit",amount:n.credits,amountClassName:C.a.redesign_amountText})),c.a.createElement("div",{className:C.a.redesign_label},"available")),c.a.createElement("div",{className:C.a.redesign_creditsAmount},c.a.createElement("div",{className:C.a.redesign_count},c.a.createElement(v.a,{size:"medium",type:"credit",amount:n.cumulativeCredits,amountClassName:C.a.redesign_amountText})),c.a.createElement("div",{className:C.a.redesign_label},"lifetime"))))}),j=n("./src/pieces/header/current-user-menu.scss"),O=n.n(j),S=(n("./node_modules/bows/bows.js")("Current-user-menu"),Object(d.a)(Object(_.b)(Object(m.createStructuredSelector)({user:p.selectCurrentUser,wallet:p.selectCurrentUserWallet,currentUserStageIsLive:p.selectCurrentUserStageIsLive}),{SignOutUser:b.SignOutUser,FetchCurrentUserWallet:p.FetchCurrentUserWallet}),g.e));t.a=S(function(e){var t,n,a=e.user,i=e.wallet,l=e.currentUserStageIsLive,d=e.SignOutUser,_=e.darkTheme,m=e.location.pathname,b=e.FetchCurrentUserWallet,p=Object(s.useState)(!1),v=o()(p,2),w=v[0],C=v[1],j=l&&m.includes("".concat(a.username,"/broadcast")),S=Object(s.useRef)(null),E=Object(s.useRef)(function(){return null}),x=Object(s.useCallback)(function(e){S.current&&e.target&&!S.current.contains(e.target)&&C(!1)},[S.current,w]),k=Object(s.useCallback)(function(){!w&&b(),C(!w)},[C,w]);Object(s.useEffect)(function(){return S.current&&w?(E.current=x,document.addEventListener("click",E.current)):document.removeEventListener("click",E.current),function(){return document.removeEventListener("click",E.current)}},[S.current,w]);var I=Object(s.useCallback)(function(){C(!1)},[]);return a?c.a.createElement("div",{className:u()((t={},r()(t,O.a.redesign_currentUserMenu,!0),r()(t,O.a.redesign_open,w),t))},c.a.createElement("div",{onClick:k,className:O.a.redesign_trigger},c.a.createElement("div",{className:O.a.redesign_triggerIcon},c.a.createElement(f.a,{user:a,size:"large"}))),c.a.createElement("div",{className:u()((n={},r()(n,O.a.redesign_dropdown,!0),r()(n,O.a.redesign_open,w),n)),ref:S},c.a.createElement("div",{className:O.a.redesign_profileContainer},a&&(j?c.a.createElement("div",{className:O.a.redesign_disabledLink},c.a.createElement(h.a,{user:a,hideAvatar:!0,hideFollowButton:!0,hideBadge:!0})):c.a.createElement(g.b,{to:"/".concat(a.username),onClick:I},c.a.createElement("div",{className:O.a.redesign_name},a.name),c.a.createElement("div",{className:O.a.redesign_username},c.a.createElement(h.a,{user:a,hideAvatar:!0,hideFollowButton:!0,hideBadge:!0}),c.a.createElement("svg",{className:O.a.redesign_usernameArrow,width:"1em",height:"1em",viewBox:"0 0 9 7"},c.a.createElement("path",{d:"M6.831 3L4.82.988a.5.5 0 11.707-.707L8.355 3.11c.102.101.15.236.146.37a.501.501 0 01-.181.404L5.527 6.677a.5.5 0 11-.707-.707L6.79 4H.5a.5.5 0 010-1h6.331z",fill:"currentColor",fillRule:"nonzero"}))))),i&&c.a.createElement("div",{className:O.a.redesign_userWalletContainer},c.a.createElement(g.b,{to:"/settings/gold",onClick:I},c.a.createElement(y,{darkTheme:_,wallet:i,displayGoldInColumn:!0})))),c.a.createElement("div",null,c.a.createElement("div",{className:O.a.redesign_actionsSection},j?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:O.a.redesign_disabledLink},"edit profile & settings"),c.a.createElement("div",{className:O.a.redesign_disabledLink},"view transactions")):c.a.createElement(c.a.Fragment,null,c.a.createElement(g.b,{to:"/settings",onClick:I},"edit profile & settings"),c.a.createElement(g.b,{to:"/settings/history",onClick:I},"view transactions"))),c.a.createElement("div",{className:O.a.redesign_actionsSection},c.a.createElement(g.b,{to:"/about.html",target:"_blank"},"about"),c.a.createElement(g.b,{to:"/broadcasting.html",target:"_blank"},"broadcasting"),c.a.createElement(g.b,{to:"/tos.html",target:"_blank"},"rules + legal"),c.a.createElement(g.b,{to:"https://link.caffeine.tv/help",target:"_blank"},"help"),c.a.createElement("button",{onClick:d,className:O.a.signOutButton},"sign out"))))):null})},"./src/pieces/header/header.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return s}),n.d(t,"SetSearchInputQuery",function(){return c}),n.d(t,"selectSearchInputQuery",function(){return l});var a=n("./node_modules/immutable/dist/immutable.js"),r=n.n(a),i=n("./node_modules/redux-actions/es/createAction.js"),o=n("./node_modules/redux-actions/es/handleActions.js"),s=(n("./node_modules/bows/bows.js")("Header.reducer"),"header"),c=Object(i.a)("Set Header Search Input Query"),l=function(e){return e[s].get("searchInputQuery")};t.default=Object(o.a)(new Map([[[c],function(e,t){var n=t.payload;return e.set("searchInputQuery",n)}]]),r.a.Map({searchInputQuery:""}))},"./src/pieces/header/header.scss":function(e,t,n){e.exports={header:"header__header___3pajh",segments:"header__segments___Jk3_W",segmentsWithDarkTheme:"header__segmentsWithDarkTheme___3WEk1 header__segments___Jk3_W",third:"header__third___SRP9Z",half:"header__half___2feCo",stageLeftHeader:"header__stageLeftHeader___1_37w",stageRightHeader:"header__stageRightHeader___1TGUh",stageCenterHeader:"header__stageCenterHeader___c5izk",segment:"header__segment___2uPDK",centerSegment:"header__centerSegment___I4WD0 header__segment___2uPDK",leftSegment:"header__leftSegment___2XqAW header__segment___2uPDK",rightSegment:"header__rightSegment___27VlF header__segment___2uPDK",mainItem:"header__mainItem___1cwpk",menuTriggerContainer:"header__menuTriggerContainer___3MM32",menuTrigger:"header__menuTrigger___1JOju buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",menuTriggerWithDarkTheme:"header__menuTriggerWithDarkTheme___18oQu buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",signInMessage:"header__signInMessage___1T6CR",stageHeader:"header__stageHeader___Ln78k",isHidden:"header__isHidden___q0y9f","slide-out":"header__slide-out___7qq6S",isVisible:"header__isVisible___1uUxU","slide-in":"header__slide-in___3tuQY",broadcastName:"header__broadcastName___1dZdl",followButtonContainer:"header__followButtonContainer___2kWf6",greeting:"header__greeting___1_Sfy",broadcastActionLiveText:"header__broadcastActionLiveText___Csica",broadcastAction:"header__broadcastAction___2onOn",below:"header__below___1pKOZ",redesign_header:"header__redesign_header___2usis",redesign_segments:"header__redesign_segments___1NkYn",redesign_segmentsWithDarkTheme:"header__redesign_segmentsWithDarkTheme___1ke8P header__segments___Jk3_W",redesign_headerLeft:"header__redesign_headerLeft___145vY",redesign_headerLeftContent:"header__redesign_headerLeftContent___1z24T",redesign_headerUpcomingLink:"header__redesign_headerUpcomingLink___3DA5x",redesign_headerUpcomingLinkDarkMode:"header__redesign_headerUpcomingLinkDarkMode___3s_9U header__redesign_headerUpcomingLink___3DA5x",redesign_headerRight:"header__redesign_headerRight___Us-Ww",redesign_headerRightBroadcasting:"header__redesign_headerRightBroadcasting___3lIKL",redesign_headerRightContent:"header__redesign_headerRightContent___3N1s-",redesign_headerCenter:"header__redesign_headerCenter___1wKlH",redesign_headerCenterStage:"header__redesign_headerCenterStage___RD08F",redesign_headerBelow:"header__redesign_headerBelow___1aZl_",redesign_dropdownMenuItem:"header__redesign_dropdownMenuItem___2jleh"}},"./src/pieces/header/mobile-header-banner.scss":function(e,t,n){e.exports={videoHeaderMobileContainer:"mobile-header-banner__videoHeaderMobileContainer___2Y-Bf",glow:"mobile-header-banner__glow___2Nq2o",brand:"mobile-header-banner__brand___11Fl5",OpenAppButton:"mobile-header-banner__OpenAppButton___2kgaH",OpenAppButtonText:"mobile-header-banner__OpenAppButtonText___3TLkd",hamburger:"mobile-header-banner__hamburger___2tLOg",headerMobileNavOpen:"mobile-header-banner__headerMobileNavOpen___15pIt",mobileNav:"mobile-header-banner__mobileNav___2n469",get_the_app_link:"mobile-header-banner__get_the_app_link___l3Y1O",separator:"mobile-header-banner__separator___2UeBT",bottomLink:"mobile-header-banner__bottomLink___2pcdX",copyright:"mobile-header-banner__copyright___2z0Ql"}},"./src/pieces/header/mobile-header-banner.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/idx/lib/idx.js"),c=n.n(s),l=n("./node_modules/react/index.js"),u=n.n(l),d=n("./node_modules/react-redux/es/index.js"),_=n("./node_modules/recompose/dist/Recompose.esm.js"),m=n("./node_modules/reselect/lib/index.js"),g=n("./src/pieces/base/path.js"),b=n("./src/pieces/base/constants.js"),p=n("./src/pieces/authentication/authentication.reducer.js"),f=n("./src/pieces/current-user/current-user.reducer.js"),h=n("./src/pieces/base/create-deep-link.ts"),v=n("./src/pieces/stage/stage.reducer.js"),w=n("./src/pieces/web-broadcast/web-broadcast.reducer.js"),C=n("./node_modules/classnames/index.js"),y=n.n(C),j=(n("./node_modules/bows/bows.js")("Logo-icon"),function(){return l.createElement("svg",{width:91,height:18,viewBox:"0 0 91 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.1124 6.49214C39.1124 5.84249 38.5923 5.31591 37.9507 5.31591H34.6652C35.1448 3.94684 36.4362 2.96343 37.9507 2.96343C38.5923 2.96343 39.1124 2.43685 39.1124 1.7872C39.1124 1.13755 38.5923 0.610962 37.9507 0.610962C35.1454 0.610962 32.7985 2.63468 32.2588 5.31591H28.2755C28.7551 3.94684 30.0465 2.96343 31.561 2.96343C32.2026 2.96343 32.7227 2.43685 32.7227 1.7872C32.7227 1.13755 32.2026 0.610962 31.561 0.610962C28.358 0.610962 25.7522 3.24926 25.7522 6.49214V15.902C25.7522 16.5517 26.2723 17.0783 26.9139 17.0783C27.5556 17.0783 28.0757 16.5517 28.0757 15.902V7.66838H32.1419V15.902C32.1419 16.5517 32.662 17.0783 33.3036 17.0783C33.9453 17.0783 34.4654 16.5517 34.4654 15.902V7.66838H37.9507C38.5923 7.66838 39.1124 7.14179 39.1124 6.49214ZM9.55834 9.39471C8.95945 8.15464 7.75862 7.38427 6.42436 7.38427C4.49253 7.38427 2.92083 9.01505 2.92083 11.0195C2.92083 13.024 4.49253 14.6547 6.42436 14.6547C7.75862 14.6547 8.95945 13.8844 9.55834 12.6443C9.84716 12.046 10.5489 11.8038 11.1255 12.1037C11.7022 12.4035 11.9354 13.1316 11.6465 13.7299C10.6492 15.7952 8.64822 17.0782 6.42436 17.0782C3.20462 17.0782 0.585144 14.3603 0.585144 11.0195C0.585144 7.67872 3.20462 4.96078 6.42436 4.96078C8.64822 4.96078 10.6492 6.24379 11.6465 8.30913C11.9354 8.90743 11.7022 9.63554 11.1255 9.9353C10.5489 10.235 9.84716 9.99301 9.55834 9.39471ZM14.8154 11.0195C14.8154 13.0239 16.4462 14.6547 18.4506 14.6547C20.4551 14.6547 22.0858 13.0239 22.0858 11.0195C22.0858 9.01501 20.4551 7.38422 18.4506 7.38422C16.4462 7.38422 14.8154 9.01501 14.8154 11.0195ZM12.3919 11.0195C12.3919 7.67872 15.1099 4.96078 18.4506 4.96078C21.7914 4.96078 24.5094 7.67872 24.5094 11.0195V15.8665C24.5094 16.5357 23.9669 17.0782 23.2976 17.0782C22.6284 17.0782 22.0859 16.5357 22.0859 15.8665V15.8632C21.0726 16.6256 19.8135 17.0782 18.4506 17.0782C15.1099 17.0782 12.3919 14.3603 12.3919 11.0195ZM52.162 4.96078C51.4756 4.96078 50.9192 5.50326 50.9192 6.17252V15.8665C50.9192 16.5357 51.4756 17.0782 52.162 17.0782C52.8483 17.0782 53.4048 16.5357 53.4048 15.8665V6.17252C53.4048 5.50326 52.8483 4.96078 52.162 4.96078ZM54.6476 11.0195C54.6476 7.67872 57.3656 4.96078 60.7064 4.96078C64.0471 4.96078 66.7651 7.67872 66.7651 11.0195V15.8665C66.7651 16.5357 66.2225 17.0782 65.5533 17.0782C64.8841 17.0782 64.3416 16.5357 64.3416 15.8665V11.0195C64.3416 9.01505 62.7108 7.38427 60.7064 7.38427C58.7019 7.38427 57.0711 9.01505 57.0711 11.0195V15.8665C57.0711 16.5357 56.5286 17.0782 55.8594 17.0782C55.1902 17.0782 54.6476 16.5357 54.6476 15.8665V11.0195ZM40.8115 9.80771C41.3116 8.39717 42.6592 7.38422 44.239 7.38422C45.8188 7.38422 47.1665 8.39717 47.6666 9.80771H40.8115ZM44.239 4.96078C40.8982 4.96078 38.1803 7.67872 38.1803 11.0195C38.1803 14.3603 40.8982 17.0782 44.239 17.0782C45.8574 17.0782 47.3789 16.448 48.5232 15.3036C48.9963 14.8304 48.9963 14.0632 48.5232 13.59C48.0499 13.1167 47.2827 13.1168 46.8095 13.59C46.1229 14.2766 45.2101 14.6547 44.239 14.6547C42.6593 14.6547 41.3124 13.6416 40.8122 12.2313H49.086C49.7552 12.2313 50.2978 11.6888 50.2978 11.0195C50.2978 7.67872 47.5798 4.96078 44.239 4.96078ZM73.4453 7.38422C71.8655 7.38422 70.5179 8.39717 70.0177 9.80771H76.8729C76.3727 8.39717 75.025 7.38422 73.4453 7.38422ZM67.3865 11.0195C67.3865 7.67872 70.1045 4.96078 73.4452 4.96078C76.786 4.96078 79.504 7.67872 79.504 11.0195C79.504 11.6888 78.9614 12.2313 78.2922 12.2313H70.0184C70.5186 13.6416 71.8655 14.6547 73.4452 14.6547C74.4163 14.6547 75.3291 14.2766 76.0157 13.59C76.4889 13.1168 77.2561 13.1167 77.7294 13.59C78.2026 14.0632 78.2026 14.8304 77.7294 15.3036C76.5851 16.448 75.0636 17.0782 73.4452 17.0782C70.1045 17.0782 67.3865 14.3603 67.3865 11.0195ZM52.162 1.85382C52.8484 1.85382 53.4048 2.41029 53.4048 3.09663C53.4048 3.78298 52.8484 4.33945 52.162 4.33945C51.4756 4.33945 50.9192 3.78298 50.9192 3.09663C50.9192 2.41029 51.4756 1.85382 52.162 1.85382Z",fill:"white"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.2753 3.62018H82.7175V2.06235C82.7175 1.77556 82.485 1.54309 82.1982 1.54309C81.9114 1.54309 81.6789 1.77556 81.6789 2.06235V4.13946V8.29367C81.6789 8.58044 81.9114 8.81293 82.1982 8.81293C82.485 8.81293 82.7175 8.58044 82.7175 8.29367V4.65873H84.2753C84.5621 4.65873 84.7946 4.42623 84.7946 4.13946C84.7946 3.85267 84.5621 3.62018 84.2753 3.62018",fill:"white"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88.1177 8.62327C88.1193 8.6213 88.121 8.61931 88.1225 8.61732C88.1366 8.59962 88.1494 8.58107 88.161 8.56185C88.1621 8.56011 88.1631 8.55835 88.1641 8.55657C88.1701 8.54644 88.1758 8.53618 88.181 8.5257L90.258 4.37173C90.3863 4.11523 90.2823 3.80331 90.0258 3.67507C89.7692 3.54678 89.4573 3.65078 89.3291 3.90728L87.7164 7.13261L86.1038 3.90728C85.9756 3.65078 85.6637 3.54687 85.4071 3.67507C85.1506 3.80331 85.0466 4.11523 85.1749 4.37173L87.2518 8.52563C87.2571 8.53615 87.2627 8.54644 87.2687 8.55657C87.2697 8.55835 87.2708 8.56011 87.2719 8.56187C87.2834 8.58105 87.2962 8.59955 87.3102 8.61722C87.3119 8.61931 87.3136 8.62135 87.3153 8.62341C87.3211 8.63051 87.3271 8.63748 87.3334 8.6443C87.3347 8.64573 87.3359 8.64721 87.3372 8.64864C87.3444 8.65628 87.3519 8.66373 87.3595 8.671C87.3618 8.67309 87.364 8.67508 87.3663 8.67712C87.3721 8.68242 87.378 8.68758 87.3841 8.69262C87.3866 8.6948 87.3892 8.69698 87.3919 8.69909C87.3998 8.70544 87.408 8.71165 87.4163 8.71756C87.4183 8.71897 87.4204 8.72026 87.4224 8.72162C87.429 8.72617 87.4358 8.7306 87.4426 8.73486C87.4461 8.73702 87.4497 8.73911 87.4532 8.74117C87.4591 8.74464 87.4651 8.74797 87.4712 8.75123C87.4745 8.75303 87.4779 8.75489 87.4813 8.7566C87.4823 8.75711 87.4832 8.75767 87.4842 8.75817C87.4902 8.76117 87.4963 8.76384 87.5023 8.76658C87.5052 8.7679 87.5081 8.76935 87.5111 8.77064C87.5216 8.77516 87.5322 8.77931 87.5428 8.78311C87.543 8.78318 87.5432 8.78323 87.5433 8.78328C87.554 8.78705 87.5646 8.79038 87.5753 8.7934C87.5769 8.79383 87.5784 8.7942 87.5799 8.79462C87.5894 8.7972 87.5989 8.79955 87.6084 8.80156C87.6104 8.80201 87.6124 8.80238 87.6144 8.80278C87.6236 8.80463 87.6328 8.80623 87.6421 8.80756C87.6443 8.80789 87.6464 8.80822 87.6486 8.8085C87.6581 8.80977 87.6676 8.81073 87.677 8.81143C87.6789 8.8116 87.6808 8.81181 87.6827 8.81192C87.6938 8.81265 87.7049 8.8131 87.716 8.8131C87.7161 8.8131 87.7163 8.8131 87.7164 8.8131C87.7166 8.8131 87.7167 8.8131 87.7168 8.8131C87.7279 8.8131 87.739 8.81265 87.7502 8.81192C87.752 8.81181 87.7539 8.8116 87.7558 8.81143C87.7653 8.81073 87.7747 8.80977 87.7842 8.8085C87.7864 8.80822 87.7886 8.80789 87.7908 8.80756C87.8 8.80623 87.8091 8.80463 87.8183 8.8028C87.8204 8.80238 87.8224 8.80198 87.8245 8.80154C87.834 8.79952 87.8434 8.7972 87.8529 8.79465C87.8544 8.79422 87.856 8.79383 87.8575 8.7934C87.8683 8.79036 87.879 8.787 87.8897 8.78323C87.8897 8.78318 87.8899 8.78316 87.89 8.78314C87.9006 8.77931 87.9113 8.77516 87.9219 8.77059C87.9245 8.76944 87.9271 8.76813 87.9297 8.76696C87.936 8.7641 87.9424 8.76131 87.9486 8.75817C87.9497 8.75763 87.9507 8.75704 87.9518 8.7565C87.955 8.75489 87.9581 8.75315 87.9612 8.75149C87.9676 8.74809 87.9738 8.74462 87.98 8.74098C87.9833 8.73901 87.9866 8.73707 87.99 8.73503C87.9972 8.73053 88.0043 8.72591 88.0112 8.72113C88.0129 8.71995 88.0147 8.71888 88.0164 8.71768C88.0249 8.71168 88.0331 8.70537 88.0411 8.69895C88.0436 8.69696 88.046 8.69489 88.0485 8.69288C88.0548 8.68767 88.0609 8.68233 88.0669 8.67684C88.069 8.67494 88.0711 8.67309 88.0731 8.67114C88.0809 8.66381 88.0885 8.65626 88.0957 8.64852C88.0969 8.64723 88.098 8.64589 88.0992 8.64463C88.1056 8.63767 88.1117 8.63054 88.1177 8.62327",fill:"white"}))}),O=(n("./node_modules/bows/bows.js")("Glow"),function(e){e.className;return l.createElement("svg",{width:"798",height:"195",viewBox:"0 0 375 92",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",{clipPath:"url(#clip0_419_32)"},l.createElement("rect",{x:"-443",y:"-146",width:"896",height:"272.5",fill:"black"}),l.createElement("rect",{x:"-443",y:"-146",width:"896",height:"272.5",fill:"url(#paint0_radial_419_32)"}),l.createElement("rect",{width:"375",height:"92",fill:"url(#paint1_linear_419_32)"}),l.createElement("rect",{width:"375",height:"92",fill:"url(#paint2_linear_419_32)"})),l.createElement("defs",null,l.createElement("radialGradient",{id:"paint0_radial_419_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5 -9.75) rotate(90) scale(136.25 448)"},l.createElement("stop",{stopColor:"#0000FF"}),l.createElement("stop",{offset:"0.150835",stopColor:"#0000FF",stopOpacity:"0.75"}),l.createElement("stop",{offset:"0.27879",stopColor:"#0000FF",stopOpacity:"0.5"}),l.createElement("stop",{offset:"0.389183",stopColor:"#0000FF",stopOpacity:"0.38"}),l.createElement("stop",{offset:"0.510417",stopColor:"#0000FF",stopOpacity:"0.25"}),l.createElement("stop",{offset:"0.65625",stopColor:"#0000FF",stopOpacity:"0.13"}),l.createElement("stop",{offset:"0.755208",stopColor:"#0000FF",stopOpacity:"0.05"}),l.createElement("stop",{offset:"0.838542",stopColor:"#0000FF",stopOpacity:"0.03"}),l.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),l.createElement("linearGradient",{id:"paint1_linear_419_32",x1:"187.5",y1:"0",x2:"187.5",y2:"92",gradientUnits:"userSpaceOnUse"},l.createElement("stop",{offset:"0.755208",stopOpacity:"0"}),l.createElement("stop",{offset:"1"})),l.createElement("linearGradient",{id:"paint2_linear_419_32",x1:"0",y1:"46",x2:"375",y2:"46",gradientUnits:"userSpaceOnUse"},l.createElement("stop",{offset:"0.755208",stopOpacity:"0"}),l.createElement("stop",{offset:"1"})),l.createElement("clipPath",{id:"clip0_419_32"},l.createElement("rect",{width:"375",height:"92",fill:"white"}))))}),S=n("./src/pieces/header/mobile-header-banner.scss"),E=n.n(S),x=(n("./node_modules/bows/bows.js")("Mobile-header-banner"),Object(_.a)(Object(d.b)(Object(m.createStructuredSelector)({currentUser:f.selectCurrentUser,entertainer:v.selectEntertainer,stageTitle:v.selectStageTitle,broadcastPreviewImagePath:v.selectBroadcastPreviewImagePath,isLive:w.selectIsWebBroadcastLive}),{ShowAuthenticationWallWithMultiPaths:p.ShowAuthenticationWallWithMultiPaths,setAuthBannerTriggerDetails:p.setBannerTriggerDetails,SignOutUser:p.SignOutUser}))),k=function(e){var t=e.currentUser,n=e.deepLinkUrl,a=e.SignOutUser,r=e.source;return u.a.createElement("nav",null,u.a.createElement("a",{href:"/"},"Home"),u.a.createElement("a",{href:"/about.html"},"About Us"),u.a.createElement("a",{href:"/careers.html"},"Careers"),u.a.createElement("a",{href:"/broadcasting.html"},"Creators"),u.a.createElement("a",{href:"/broadcasting/caster.html"},"Caster Program"),u.a.createElement("a",{href:"/creators/partners.html"},"Partner Program"),u.a.createElement("a",{href:"/newsroom.html"},"Newsroom"),u.a.createElement("a",{href:"https://link.caffeine.tv/help"},"Help"),t?u.a.createElement("button",{className:E.a.get_the_app_link,onClick:function(){return function(e){var t={modal_name:"sign_out_button_menu",screen_name:e||null,button_text:"Sign out"};window.mParticle&&window.mParticle.logEvent("modal_action",window.mParticle.EventType.Other,t),a()}(r)}},"Sign Out"):u.a.createElement("a",{className:E.a.get_the_app_link,href:n,onClick:function(){return function(e){var t={modal_name:"get_app_link_menu",screen_name:e||null,button_text:"Get App"};window.mParticle&&window.mParticle.logEvent("modal_action",window.mParticle.EventType.Other,t),a()}(r)}},"Get App"),u.a.createElement("hr",{className:E.a.separator}),u.a.createElement("span",{className:E.a.bottomLink},u.a.createElement("a",{href:"/privacy.html"},"Privacy Policy")),u.a.createElement("span",{className:E.a.bottomLink},u.a.createElement("a",{href:"/tos.html"},"Terms of Service")),u.a.createElement("span",{className:E.a.bottomLink},u.a.createElement("a",{href:"/cookie.html"},"Do Not Sell My Information")),u.a.createElement("p",{className:E.a.copyright},"Copyright \xa9 ",(new Date).getFullYear()," Caffeine All rights reserved."))};t.a=x(function(e){var t=e.currentUser,n=e.entertainer,a=e.stageTitle,i=e.isLive,s=e.broadcastPreviewImagePath,d=e.params,_=e.SignOutUser,m=e.setAuthBannerTriggerDetails,p=e.ShowAuthenticationWallWithMultiPaths,f=Object(g.a)().source,v=u.a.useState("#0"),w=o()(v,2),C=w[0],S=w[1],x=u.a.useMemo(function(){return c()(d,function(e){return e.username})||"#0"},[d.username]),I=u.a.useMemo(function(){return c()(d,function(e){return e.id})||""},[d.id]),T=localStorage.getItem(b.H),F=T&&JSON.parse(T),P=f===b.Kd?"MobileWeb_Video":f===b.Bd?"MobileWeb_Tag":f===b.Ed?"MobileWeb_Profile":f===b.Id?"MobileWeb_Stage":"MobileWeb",N=F?F.utm_creative_name:"",M=F?F.utm_campaign||P:"",L=F?F.utm_source||F.utm_channel||"mobile_web_preview":"",B=u.a.useState(!1),A=o()(B,2),D=A[0],U=A[1],R=function(e){var t={modal_name:"sign_out_button_menu",screen_name:e||null,button_text:"Sign out"};window.mParticle&&window.mParticle.logEvent("modal_view",window.mParticle.EventType.Other,t)};function H(){var e={modal_name:"open_app_button_header",screen_name:f||null,button_text:"Open App"};window.mParticle&&window.mParticle.logEvent("modal_action",window.mParticle.EventType.Other,e)}Object(l.useEffect)(function(){var e=Object(h.a)({entertainerUsername:x,currentUserUsername:t?t.username:"",currentUserCaid:t?t.caid:"",canonical_url:f===b.Kd?"https://www.caffeine.tv/".concat(x,"/video/").concat(I):f===b.Bd?"https://www.caffeine.tv/tag/".concat(d.id):f===b.Ed?"https://www.caffeine.tv/".concat(d.username,"/profile"):f===b.Id?"https://www.caffeine.tv/".concat(d.username):"https://www.caffeine.tv/browse",autoFollow:!1,isLive:i,channel:L,campaign:M,creative_name:N,feature:"mobile_web_preview",stageTitle:a,broadcastPreviewImagePath:s});S(e)},[t,s,a,n,f,i,L,M]),Object(l.useEffect)(function(){D?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")},[D]),u.a.useEffect(function(){D?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")},[D]);var W="/"===location.pathname,V=location.pathname.includes("/tag/");return u.a.createElement("div",{className:y()(r()({},E.a.headerMobileNavOpen,D))},u.a.createElement("div",{className:E.a.videoHeaderMobileContainer},u.a.createElement("div",{className:E.a.glow},u.a.createElement(O,null)),u.a.createElement("a",{className:E.a.brand,href:"/"},u.a.createElement(j,null)),W||V?u.a.createElement("a",{onClick:function(){return H()},className:E.a.OpenAppButton,href:C},u.a.createElement("span",{className:E.a.OpenAppButtonText},"Get App")):t?u.a.createElement("a",{onClick:function(){return H()},className:E.a.OpenAppButton,href:C},u.a.createElement("span",{className:E.a.OpenAppButtonText},"Get App")):u.a.createElement("button",{className:E.a.OpenAppButton,onClick:function(){return function(){var e={modal_name:"sign_in_button",screen_name:f||null,button_text:"Sign In"};window.mParticle&&window.mParticle.logEvent("modal_action",window.mParticle.EventType.Other,e),m({triggerType:b.o.TIMEOUT,entertainerUsername:x});var t=location.pathname.replace(/\/$/,"");p({authenticationWallRootPath:t,isLogin:!1})}()}},u.a.createElement("span",{className:E.a.OpenAppButtonText},"Sign in")),u.a.createElement("button",{type:"button",className:E.a.hamburger,onClick:function(){D?(U(!1),R(f)):U(!0)}},u.a.createElement("span",null),u.a.createElement("span",null),u.a.createElement("span",null))),u.a.createElement("div",{className:E.a.mobileNav},u.a.createElement(k,{deepLinkUrl:C,currentUser:t,SignOutUser:_,source:f})))})},"./src/pieces/header/mobile-header.tsx":function(e,t,n){"use strict";(function(e){var a=n("./src/pieces/header/mobile-header-banner.tsx"),r=n("./src/pieces/hooks/useDeviceDetect.ts"),i=n("./src/pieces/header/stage-header.tsx");n("./node_modules/bows/bows.js")("Mobile-header");t.a=function(t){var n=Object(r.a)();return e.createElement(e.Fragment,null,n?e.createElement(a.a,t):e.createElement(i.a,null))}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/header/notifications-menu.scss":function(e,t,n){e.exports={notificationsMenu:"notifications-menu__notificationsMenu___3hFaU",trigger:"notifications-menu__trigger___2yua1 header__menuTrigger___1JOju buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",triggerWithDarkTheme:"notifications-menu__triggerWithDarkTheme___ISMhE header__menuTriggerWithDarkTheme___18oQu buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",header:"notifications-menu__header___1TPIj",headerWithDarkTheme:"notifications-menu__headerWithDarkTheme___1OSBL notifications-menu__header___1TPIj",recentNotifications:"notifications-menu__recentNotifications___qttEa",recentNotificationsWithDarkTheme:"notifications-menu__recentNotificationsWithDarkTheme___3E7rg notifications-menu__recentNotifications___qttEa",recentNotification:"notifications-menu__recentNotification___1ylun",userSnippetContainer:"notifications-menu__userSnippetContainer___2Toq1",message:"notifications-menu__message___Etqgr",unreadIndicatorContainer:"notifications-menu__unreadIndicatorContainer___1dHs6",unreadIndicator:"notifications-menu__unreadIndicator___1fDKA",creditsContainer:"notifications-menu__creditsContainer___2JQRH",credits:"notifications-menu__credits___TmOCl",creditsWithDarkTheme:"notifications-menu__creditsWithDarkTheme___3m6iC notifications-menu__credits___TmOCl",transactionContainer:"notifications-menu__transactionContainer___16lPC",digitalItemContainer:"notifications-menu__digitalItemContainer___1Goj2",deletedAccount:"notifications-menu__deletedAccount___1R8VF",deletedAccountWithDarkTheme:"notifications-menu__deletedAccountWithDarkTheme___2hq2z notifications-menu__deletedAccount___1R8VF",subText:"notifications-menu__subText___EpzAD",userSnippet:"notifications-menu__userSnippet___Ieo33",redesign_notificationsMenu:"notifications-menu__redesign_notificationsMenu___3xVvh",redesign_triggerIcon:"notifications-menu__redesign_triggerIcon___bU4RY",redesign_trigger:"notifications-menu__redesign_trigger___1sz8K",redesign_open:"notifications-menu__redesign_open___39n4J",redesign_dropdownWrapper:"notifications-menu__redesign_dropdownWrapper___1suGG",redesign_dropdown:"notifications-menu__redesign_dropdown___E0MIW",redesign_recentNotification:"notifications-menu__redesign_recentNotification___297xc",redesign_digitalItemContainer:"notifications-menu__redesign_digitalItemContainer___3Umwp",redesign_userSnippetContainer:"notifications-menu__redesign_userSnippetContainer___3i3Ny",redesign_transactionContainer:"notifications-menu__redesign_transactionContainer___1Bjgf",redesign_unreadIndicator:"notifications-menu__redesign_unreadIndicator___19B6M",redesign_notificationsPlaceholder:"notifications-menu__redesign_notificationsPlaceholder___1H8vE",redesign_notificationsPlaceholderUnread:"notifications-menu__redesign_notificationsPlaceholderUnread___38cy8",redesign_message:"notifications-menu__redesign_message___2M-Ha"}},"./src/pieces/header/notifications-menu.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./node_modules/react/index.js"),u=n.n(l),d=n("./node_modules/react-redux/es/index.js"),_=n("./node_modules/recompose/dist/Recompose.esm.js"),m=n("./node_modules/reselect/lib/index.js"),g=n("./node_modules/idx/lib/idx.js"),b=n.n(g),p=n("./src/pieces/base/constants.js"),f=n("./src/pieces/analytics/analytics-events.ts"),h=n("./src/pieces/payment/digital-currency.tsx"),v=n("./src/pieces/current-user/current-user.reducer.js"),w=n("./src/pieces/users/users.reducer.js"),C=n("./src/pieces/payment/digital-item-stack.js"),y=n("./src/pieces/base/user-snippet.tsx"),j=n("./node_modules/framer-motion/dist/framer-motion.es.js"),O=(n("./node_modules/bows/bows.js")("Notifications-icon"),function(e){var t=e.hasUnreadNotifications,n={duration:0},a={circle:{initial:{scale:0,transition:n},active:{scale:1}},mask:{initial:{x:13,y:7,scale:1,transition:n},active:{scale:[1,1.4,1],transition:{ease:["easeInOut","easeOut"],times:[0,.3,1],duration:.6}}},outer:{initial:{scale:1,transition:n},active:{scale:[1,1.2,1],transition:{ease:["easeInOut","easeInOut"],duration:.4}}}},r=e.darkTheme?"#2e2e30":"#eae9f0";return l.createElement(j.b.svg,{animate:t?"active":"initial",height:40,width:40,viewBox:"0 0 40 40",overflow:"visible"},l.createElement("defs",null,l.createElement("mask",{id:"notificationIcon_mask1",fill:"white"},l.createElement(j.b.circle,{variants:a.circle,initial:a.circle.initial,fill:"white",r:21,cy:20,cx:20}),l.createElement(j.b.g,{initial:a.mask.initial,variants:a.mask},l.createElement("path",{transform:"translate(13 7)",d:"M 13.929 1 L 4.691 6.333 L 0.073 9 L 5.615 15.4 L 0.073 25 L 9.31 19.667 L 13.929 17 L 8.386 10.601 Z",fill:"black"})))),l.createElement(j.b.g,{id:"notificationIcon_wrapper",variants:a.outer,initial:a.outer.initial},l.createElement("circle",{id:"notificationIcon_background",fill:r,r:20,cy:20,cx:20}),l.createElement("g",{transform:"translate(13, 7)"},l.createElement("path",{id:"notificationIcon_backgroundBolt",x:"5",y:16,d:"M 13.929 1 L 4.691 6.333 L 0.073 9 L 5.615 15.4 L 0.073 25 L 9.31 19.667 L 13.929 17 L 8.386 10.601 Z",fill:"#9193b6"})),l.createElement(j.b.circle,{initial:a.circle.initial,variants:a.circle,id:"notificationIcon_tealBoltPassthrough",r:20,cy:20,cx:20,fill:"#000000"}),l.createElement("rect",{id:"notificationIcon_maskBackground",x:-5,y:-5,width:50,height:50,fill:"#00FFFF",mask:"url(#notificationIcon_mask1)"})))}),S=n("./src/pieces/header/notifications-menu.scss"),E=n.n(S),x=(n("./node_modules/bows/bows.js")("Notifications-menu"),Object(_.a)(Object(d.b)(Object(m.createStructuredSelector)({unreadNotificationCount:v.selectUnreadNotificationCount,recentNotifications:v.selectRecentNotifications,notificationsHaveBeenChecked:v.selectNotificationsHaveBeenChecked,currentUserCaid:v.selectCurrentUserId}),{UpdateNotificationsLastReadTime:v.UpdateNotificationsLastReadTime,SetUnreadNotificationCount:v.SetUnreadNotificationCount,TrackCreatorFollow:w.TrackCreatorFollow,TrackCreatorUnfollow:w.TrackCreatorUnfollow}))),k=function(e){var t=e.darkTheme,n=e.follower,a=e.isUnread,r=e.afterFollowHandler,i=e.afterUnfollowHandler,o=Object(l.useCallback)(function(e){return r(e,n)},[n,r]),s=Object(l.useCallback)(function(e){return i(e,n)},[n,i]);return u.a.createElement("div",{className:E.a.redesign_recentNotification},u.a.createElement("div",{className:E.a.redesign_unreadIndicatorContainer},a&&u.a.createElement("div",{className:E.a.redesign_unreadIndicator})),u.a.createElement("div",{className:E.a.redesign_userSnippetContainer},u.a.createElement(y.a,{size:"large",user:n,linkToProfileInNewTab:!0,darkTheme:t,isFullWidth:!0,subText:"started following you",afterFollowHandler:o,afterUnfollowHandler:s})))},I=function(e){var t=e.darkTheme,n=e.isUnread,a=e.transaction,r=e.afterFollowHandler,i=(e.afterUnfollowHandler,Object(l.useCallback)(function(e){return a.sender&&r(e,a.sender)},[a.sender])),o=Object(l.useCallback)(function(e){return a.sender&&r(e,a.sender)},[a.sender]);return u.a.createElement("div",{className:E.a.redesign_recentNotification},u.a.createElement("div",{className:E.a.redesign_unreadIndicatorContainer},n&&u.a.createElement("div",{className:E.a.redesign_unreadIndicator})),u.a.createElement("div",{className:E.a.redesign_transactionContainer},a.sender?u.a.createElement(y.a,{size:"large",user:a.sender,linkToProfileInNewTab:!0,darkTheme:t,allowMultilineWrapping:!0,showIsLive:!0,hideFollowButton:!0,isFullWidth:!0,subText:"sent you ".concat(a.quantity," ").concat(1===a.quantity?a.name:a.pluralName),afterFollowHandler:i,afterUnfollowHandler:o}):u.a.createElement("div",{className:E.a.redesign_userSnippet},u.a.createElement("div",{className:t?E.a.redesign_deletedAccountWithDarkTheme:E.a.redesign_deletedAccount},"Deleted Account"),u.a.createElement("div",{className:E.a.redesign_subText},"sent ".concat(a.quantity," ").concat(1===a.quantity?a.name:a.pluralName))),u.a.createElement("div",{className:E.a.redesign_digitalItemContainer},u.a.createElement(C.a,{darkTheme:t,itemAssetPath:b()(a,function(e){return e.assets.staticImagePath}),name:a.name,pluralName:a.pluralName,quantity:a.quantity}),u.a.createElement("div",{className:E.a.redesign_creditsContainer},u.a.createElement("div",{className:t?E.a.redesign_creditsWithDarkTheme:E.a.redesign_credits},u.a.createElement(h.a,{size:"medium",type:"credit",amount:a.value}))))))};t.a=x(function(e){var t,n,a=Object(l.useState)(!1),i=o()(a,2),s=i[0],d=i[1],_=Object(l.useRef)(null),m=Object(l.useRef)(function(){return null}),g=Object(l.useCallback)(function(t,n){e.TrackCreatorFollow({currentUserId:e.currentUserCaid,creatorDetails:n,eventDetails:t,type:p.Cc.ACTIVITY,source:Object(f.b)(window.location.pathname)})},[e.TrackCreatorFollow,e.currentUserCaid,window.location.pathname]),b=Object(l.useCallback)(function(t,n){e.TrackCreatorUnfollow({currentUserId:e.currentUserCaid,creatorDetails:n,eventDetails:t,type:p.Cc.ACTIVITY,source:Object(f.b)(window.location.pathname)})},[e.TrackCreatorUnfollow,e.currentUserCaid,window.location.pathname]),h=Object(l.useCallback)(function(t){_.current&&t.target&&!_.current.contains(t.target)&&(e.SetUnreadNotificationCount(0),document.removeEventListener("click",m.current),d(!1))},[_.current,s]),v=Object(l.useCallback)(function(){d(!s)},[d,s]);return Object(l.useEffect)(function(){_.current&&s&&(e.UpdateNotificationsLastReadTime(),m.current=h,document.addEventListener("click",m.current))},[s]),u.a.createElement("div",{className:c()((t={},r()(t,E.a.redesign_notificationsMenu,!0),r()(t,E.a.redesign_open,s),t))},u.a.createElement("div",{onClick:v,className:E.a.redesign_trigger},u.a.createElement("div",{className:E.a.redesign_triggerIcon},u.a.createElement(O,{hasUnreadNotifications:e.unreadNotificationCount>0&&!e.notificationsHaveBeenChecked,darkTheme:e.darkTheme}))),u.a.createElement("div",{className:c()((n={},r()(n,E.a.redesign_dropdownWrapper,!0),r()(n,E.a.redesign_open,s),n)),ref:_},u.a.createElement("div",{className:E.a.redesign_dropdown},u.a.createElement("div",{className:E.a.redesign_recentNotifications},e.recentNotifications&&u.a.createElement(u.a.Fragment,null,e.recentNotifications.map(function(t,n){var a=n<e.unreadNotificationCount;switch(t.type){case"Follow":return u.a.createElement(k,{key:"notification-".concat(n),follower:t.user,isUnread:a,darkTheme:!1,afterFollowHandler:g,afterUnfollowHandler:b});case"ReceiveDigitalItem":return u.a.createElement(I,{key:"notification-".concat(n),transaction:t.transaction,isUnread:a,darkTheme:!1,afterFollowHandler:g,afterUnfollowHandler:b});default:return null}}),e.unreadNotificationCount>p.jc&&u.a.createElement("div",{className:E.a.redesign_message},"and ",e.unreadNotificationCount-p.jc," more."),0===e.recentNotifications.length&&u.a.createElement("div",{className:E.a.redesign_message},"no new activity"))))))})},"./src/pieces/header/quick-search-results.scss":function(e,t,n){e.exports={quickSearchResults:"quick-search-results__quickSearchResults___I0cYr",sectionHeader:"quick-search-results__sectionHeader___3Yqjm",result:"quick-search-results__result___jTcaZ",redesign_quickSearchResults:"quick-search-results__redesign_quickSearchResults___cr3XY",redesign_focused:"quick-search-results__redesign_focused___2gyJ4",redesign_open:"quick-search-results__redesign_open___iEKvT",redesign_result:"quick-search-results__redesign_result___P4ZKe",redesign_result_follow:"quick-search-results__redesign_result_follow___2v5co",redesign_recommended:"quick-search-results__redesign_recommended___2Fppl",redesign_recommendedTitle:"quick-search-results__redesign_recommendedTitle___23SFK",redesign_recommendedCards:"quick-search-results__redesign_recommendedCards___3ygf1",redesign_recommendedCardWrapper:"quick-search-results__redesign_recommendedCardWrapper___3jqZl",scrollMenuArrow:"quick-search-results__scrollMenuArrow___2ZjfW",watchNextMenuItem:"quick-search-results__watchNextMenuItem___2jdUy",disabledArrow:"quick-search-results__disabledArrow___1ju-H",watchNextMenuWrapper:"quick-search-results__watchNextMenuWrapper___29swI",quickSearchResultsWithDarkTheme:"quick-search-results__quickSearchResultsWithDarkTheme___2dOur quick-search-results__quickSearchResults___I0cYr"}},"./src/pieces/header/search-icon.scss":function(e,t,n){e.exports={searchIcon:"search-icon__searchIcon___aSR74",redesign_searchIcon:"search-icon__redesign_searchIcon___tWmhg"}},"./src/pieces/header/search-input.scss":function(e,t,n){e.exports={inputFieldWrapper:"search-input__inputFieldWrapper___3Ds9P",inputFieldWrapperWithDarkTheme:"search-input__inputFieldWrapperWithDarkTheme___11KX0 search-input__inputFieldWrapper___3Ds9P",input:"search-input__input___CvP0r forms__textInput___1Vogp forms__inputBase___3O5UR",inputWithDarkTheme:"search-input__inputWithDarkTheme___1-RyL forms__textInputWithDarkTheme___3W9Q_ forms__textInput___1Vogp forms__inputBase___3O5UR",clearButtonContainer:"search-input__clearButtonContainer___2b2di",clearButton:"search-input__clearButton___YGoom buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",clearButtonWithDarkTheme:"search-input__clearButtonWithDarkTheme___3rMnI buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",suggestedFriendsTitle:"search-input__suggestedFriendsTitle___2S0BQ",redesign_searchInput:"search-input__redesign_searchInput___1tlq6",redesign_inputLabel:"search-input__redesign_inputLabel___2kC1_",redesign_input:"search-input__redesign_input___11xHW",redesign_inputDarkTheme:"search-input__redesign_inputDarkTheme___3F23F search-input__redesign_input___11xHW",redesign_clearButtonContainer:"search-input__redesign_clearButtonContainer___lo-Aa",redesign_clearButton:"search-input__redesign_clearButton___3M_HO",redesign_searchIcon:"search-input__redesign_searchIcon___1n3xL",redesign_focusedMenu:"search-input__redesign_focusedMenu___2gfrL",redesign_menuIcons:"search-input__redesign_menuIcons___2syA-",redesign_focused:"search-input__redesign_focused___1i0c0",redesign_menuItem:"search-input__redesign_menuItem___2JBIX",disabled:"search-input__disabled___1jiOH"}},"./src/pieces/header/search-input.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n.n(s),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/recompose/dist/Recompose.esm.js"),d=n("./node_modules/reselect/lib/index.js"),_=n("./node_modules/classnames/index.js"),m=n.n(_),g=n("./node_modules/lodash.debounce/index.js"),b=n.n(g),p=n("./src/pieces/base/recompose-extras.js"),f=n("./src/pieces/analytics/analytics-events.ts"),h=n("./src/pieces/base/icons/icon.tsx"),v=n("./src/pieces/header/search-icon.scss"),w=n.n(v),C=(n("./node_modules/bows/bows.js")("Search-icon"),function(){return c.a.createElement(h.a,null,c.a.createElement("svg",{viewBox:"0 0 18 24",className:w.a.redesign_searchIcon},c.a.createElement("path",{d:"M1.965 8.441a6.573 6.573 0 016.566-6.565 6.573 6.573 0 016.565 6.565 6.573 6.573 0 01-6.565 6.565 6.573 6.573 0 01-6.566-6.565m15.82 14.152l-4.254-7.367c2.083-1.54 3.44-4.003 3.44-6.785C16.972 3.787 13.187 0 8.532 0 3.877 0 .09 3.787.09 8.441c0 4.654 3.787 8.441 8.44 8.441a8.405 8.405 0 003.38-.71l4.25 7.359a.936.936 0 001.28.343.936.936 0 00.344-1.28",fillRule:"evenodd"})))}),y=n("./node_modules/@babel/runtime/helpers/extends.js"),j=n.n(y),O=(n("./node_modules/bows/bows.js")("Clear-icon"),function(e){return c.a.createElement(h.a,null,c.a.createElement("svg",j()({viewBox:"0 0 18 18"},e),c.a.createElement("g",{transform:"translate(-1 -1)",fillRule:"evenodd"},c.a.createElement("rect",{transform:"rotate(45 10 10)",x:9,y:-2,width:2,height:24,rx:1}),c.a.createElement("rect",{transform:"scale(-1 1) rotate(45 0 -14.142)",x:9,y:-2,width:2,height:24,rx:1}))))}),S=n("./src/pieces/header/notifications-menu.tsx"),E=n("./src/pieces/header/current-user-menu.tsx"),x=n("./src/pieces/search/search.reducer.js"),k=n("./src/pieces/users/users.reducer.js"),I=n("./src/pieces/current-user/current-user.reducer.js"),T=n("./src/pieces/header/search-input.scss"),F=n.n(T),P=n("./node_modules/react-router/es/index.js"),N=n("./src/pieces/base/user-snippet.tsx"),M=n("./src/pieces/users/follow-button.tsx"),L=n("./src/pieces/header/quick-search-results.scss"),B=n.n(L),A=(n("./node_modules/bows/bows.js")("Quick-search-results"),function(e){var t,n=e.results,a=e.focused,i=e.tabIndexRef,o=e.onResultSelected,l=e.afterFollowHandler,u=e.afterUnfollowHandler,d=Object(s.useCallback)(o,[o]),_=Object(s.useCallback)(function(e){return e.stopPropagation()},[]);return c.a.createElement("div",{className:m()((t={},r()(t,B.a.quickSearchResultsWithDarkTheme,!0),r()(t,B.a.redesign_quickSearchResults,!0),r()(t,B.a.redesign_open,a&&!!n.length),r()(t,B.a.redesign_focused,a),t))},c.a.createElement("a",{ref:i,tabIndex:50}),a&&!!n.length&&n.map(function(e,t){return c.a.createElement("div",{className:B.a.redesign_result,key:e.caid},c.a.createElement(P.b,{onClick:d,to:"/".concat(e.username),tabIndex:t+50+1,rel:"noopener noreferrer"},c.a.createElement(N.a,{user:e,size:"huge",hideFollowButton:!0}),c.a.createElement("span",{className:B.a.redesign_result_follow,onClick:_},c.a.createElement(M.a,{caid:e.caid,afterFollowHandler:function(t){return l(t,e)},afterUnfollowHandler:function(t){return u(t,e)}}))))}))}),D=n("./src/pieces/header/header.reducer.js"),U=n("./src/pieces/feed/feed.reducer.ts"),R=n("./src/pieces/authentication/authentication.reducer.js"),H=n("./src/pieces/base/constants.js"),W=n("./src/pieces/authentication/authentication-guard.tsx"),V=n("./src/pieces/authentication/sign-up-button.scss"),z=n.n(V),G=(n("./node_modules/bows/bows.js")("Log-in-button"),Object(u.a)(Object(l.b)(null,{TrackSignInButtonClick:R.TrackSignInButtonClick}),P.e)(function(e){var t=e.TrackSignInButtonClick,n=e.location.pathname.replace(H.j,"").replace(/^\/$/,"/lobby");return c.a.createElement(W.a,{isLogin:!0},c.a.createElement(P.b,{className:z.a.redesign_loginLink,onClick:t,to:"".concat(n,"/sign-in")},c.a.createElement("button",{className:z.a.redesign_signUpButton},"log in")))})),q=(n("./node_modules/bows/bows.js")("Search-input"),b()(function(e,t){return t(e)},300)),J=Object(u.a)(Object(l.b)(Object(d.createStructuredSelector)({query:D.selectSearchInputQuery,results:x.selectSearchResults,suggestedFriends:I.selectSuggestedFriends,feed:U.selectFeed,isAuthenticated:R.selectIsAuthenticated,userSessionType:R.selectUserSessionType,currentUser:I.selectCurrentUser}),{SetSearchInputQuery:D.SetSearchInputQuery,Search:x.Search,ClearSearchResults:x.ClearSearchResults,FetchSuggestedFriends:I.FetchSuggestedFriends,TrackCreatorFollow:k.TrackCreatorFollow,TrackCreatorUnfollow:k.TrackCreatorUnfollow}),Object(u.d)({handleClear:function(e){return function(t){t&&t.stopPropagation(),e.SetSearchInputQuery(""),q.cancel(),e.ClearSearchResults()}},handleChange:function(e){return function(t){var n=t.target.value;e.SetSearchInputQuery(n),n?q({sort:"BROADCASTING_FIRST",query:n},e.Search):(q.cancel(),e.ClearSearchResults())}}}),Object(p.c)(function(e){return e.handleClear()}));t.a=J(function(e){var t,n=Object(s.useState)(!1),a=o()(n,2),i=a[0],l=a[1],u=Object(s.useRef)(null),d=Object(s.useRef)(null),_=Object(s.useCallback)(function(){document.removeEventListener("click",g)},[]),g=Object(s.useCallback)(function(e){d.current&&!d.current.contains(e.target)&&i&&l(!1)},[d.current,i]),b=Object(s.useCallback)(function(){l(!1),e.handleClear()},[i]);Object(s.useEffect)(function(){return d.current&&i?document.addEventListener("click",g):_(),function(){return _()}},[d.current,i]);var p=Object(s.useCallback)(function(t,n){e.TrackCreatorFollow({currentUserId:e.currentUser.caid,creatorDetails:n,eventDetails:t,type:H.Cc.SEARCH,source:Object(f.b)(window.location.pathname)})},[e.TrackCreatorFollow,e.currentUser]),h=Object(s.useCallback)(function(t,n){e.TrackCreatorUnfollow({currentUserId:e.currentUser.caid,creatorDetails:n,eventDetails:t,type:H.Cc.SEARCH,source:Object(f.b)(window.location.pathname)})},[e.TrackCreatorUnfollow,e.currentUser,window.location.pathname]),v=i?c.a.createElement("div",{className:F.a.redesign_clearButtonContainer},c.a.createElement("button",{className:F.a.redesign_clearButton,onClick:e.handleClear,tabIndex:-1},c.a.createElement(O,null))):c.a.createElement("div",{className:F.a.redesign_menuIcons,onClick:function(e){return e.stopPropagation()}},c.a.createElement("div",{className:F.a.redesign_menuItem},c.a.createElement(S.a,{darkTheme:e.darkTheme})),c.a.createElement("div",{className:F.a.redesign_menuItem},c.a.createElement(E.a,null))),w=i?c.a.createElement("div",{className:F.a.redesign_clearButtonContainer},c.a.createElement("button",{className:F.a.redesign_clearButton,onClick:e.handleClear,tabIndex:-1},c.a.createElement(O,null))):c.a.createElement("div",{className:F.a.redesign_menuIcons},c.a.createElement(G,null));return c.a.createElement("div",{className:m()((t={},r()(t,F.a.redesign_searchInput,!0),r()(t,F.a.disabled,e.disabled),t))},c.a.createElement("label",{className:F.a.redesign_inputLabel,ref:d},c.a.createElement("div",{className:F.a.redesign_searchIcon},c.a.createElement(C,null)),c.a.createElement("input",{type:"text",className:e.darkTheme?F.a.redesign_inputDarkTheme:F.a.redesign_input,onChange:e.handleChange,onFocus:function(t){(!e.suggestedFriends||0==e.suggestedFriends.length)&&e.FetchSuggestedFriends(),t.target.placeholder=e.placeholder||"",l(!0)},onKeyDown:function(e){"Tab"===e.key&&u.current&&u.current.focus()},value:e.query,onBlur:function(e){return e.target.placeholder=""},autoComplete:"off",name:"search"}),e.query&&e.query.length?c.a.createElement(A,{results:e.results,focused:i,tabIndexRef:u,onResultSelected:b,afterFollowHandler:p,afterUnfollowHandler:h}):c.a.createElement("div",null,c.a.createElement(A,{results:e.suggestedFriends?e.suggestedFriends:[],focused:i,tabIndexRef:u,onResultSelected:b,afterFollowHandler:p,afterUnfollowHandler:h}))),!e.userSessionType&&c.a.createElement("div",{className:F.a.redesign_menuIcons}),e.userSessionType&&e.isAuthenticated&&e.currentUser&&v,e.userSessionType&&!e.isAuthenticated&&w)})},"./src/pieces/header/stage-header.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/recompose/dist/Recompose.esm.js"),c=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./src/pieces/base/constants.js"),_=n("./src/pieces/stage/stage.reducer.js"),m=n("./src/pieces/stage-director/stage-director.reducer.js"),g=n("./src/pieces/authentication/authentication.reducer.js"),b=n("./src/pieces/current-user/current-user.reducer.js"),p=n("./src/pieces/base/outline-logo-wordmark.tsx"),f=(n("./node_modules/bows/bows.js")("Outline-logo"),function(e){var t=e.color,n=void 0===t?"#000000":t,a=e.strokeWidth,r=void 0===a?.2:a,i=e.width,s=void 0===i?38:i;return o.a.createElement("svg",{viewBox:"0 0 38 34",width:s},o.a.createElement("g",{fill:n,stroke:n,strokeWidth:r},o.a.createElement("path",{d:"M28.427 22.444l7.282-4.206-7.282 12.617v-8.411zm-6.533 3.773l5.087 5.876H11.718l10.176-5.876zm-12.32-7.115v11.753L1.941 17.633l7.631 1.469zm0-7.546L2.29 15.762 9.573 3.145v8.411zm6.532-3.773L11.02 1.907h15.263L16.106 7.783zm12.32 7.115V3.145l7.632 13.222-7.631-1.469zm0 6.499v-5.576l7.242 1.394-7.241 4.182zm-.906 1.57v8.364l-4.827-5.576 4.827-2.788zm-10.083-2.352l9.257 1.783-4.924 2.843-.002.001-.003.002-10.5 6.064 6.172-10.693zm-6.957-1.888v-.004-5.689l6.172 7.128-6.172 10.693V18.727zm-.907-6.124v5.576l-7.24-1.394 7.24-4.182zm.907-1.57V2.669l4.827 5.576-4.827 2.788zm10.083 2.352l-9.257-1.783 4.93-2.846h0l.003-.002 10.496-6.062-6.172 10.693zm6.957 1.888V20.966l-6.171-7.128L27.52 3.145v12.128zm-10.075 4.42l-6.22-7.183 9.33 1.796 6.22 7.184-9.33-1.796zm19.952-2.647l.002-.01v-.014a.45.45 0 0 0 0-.02l.001-.011v-.014a.44.44 0 0 0-.002-.017l-.001-.013-.002-.014a.687.687 0 0 0-.003-.016l-.002-.014-.004-.013a.512.512 0 0 0-.004-.015l-.004-.015-.004-.012a.547.547 0 0 0-.006-.016l-.006-.014a.256.256 0 0 0-.013-.026.35.35 0 0 0-.007-.014l-.003-.005-8.973-15.546c0-.002-.002-.003-.003-.004a.569.569 0 0 0-.018-.03l-.007-.008-.01-.014-.01-.012-.008-.01-.011-.01a.46.46 0 0 0-.01-.011l-.012-.01-.01-.01a.396.396 0 0 0-.012-.01l-.013-.01-.009-.006a.473.473 0 0 0-.014-.01l-.015-.009-.004-.002-.004-.002-.016-.009-.015-.007-.01-.005-.016-.006a.384.384 0 0 0-.014-.006l-.012-.004-.015-.004a.639.639 0 0 0-.014-.004l-.015-.004-.013-.002a.494.494 0 0 0-.015-.003l-.017-.002-.011-.001A.415.415 0 0 0 27.978 1H10.006l-.019.002h-.01l-.016.003a.517.517 0 0 0-.017.003l-.012.002-.015.004a.416.416 0 0 0-.015.004l-.013.003-.014.005a.447.447 0 0 0-.014.006l-.013.005-.013.006a.427.427 0 0 0-.015.007l-.012.006-.01.007a.556.556 0 0 0-.017.01l-.011.007-.009.006a.484.484 0 0 0-.016.013l-.011.008-.004.004-.004.003a.459.459 0 0 0-.025.024l-.008.009a.37.37 0 0 0-.046.06.45.45 0 0 0-.01.015l-.003.005L.661 16.773l-.003.005a.539.539 0 0 0-.015.03l-.006.012a.431.431 0 0 0-.028.09v.004l-.002.005-.002.014a.426.426 0 0 0-.002.02l-.002.011v.033l-.001.012v.013l.002.018.001.013.002.014.003.016.002.014.004.013.004.015.004.015.004.011.006.017.006.014.005.01.008.016.007.014.003.005 8.973 15.546.002.004a.43.43 0 0 0 .021.032l.01.014.005.006a.44.44 0 0 0 .03.033l.005.006.008.008.018.015.014.012.01.008a.448.448 0 0 0 .01.007l.023.015.01.006H9.8l.005.004c.015.008.031.016.047.022l.003.001.005.002c.014.006.028.01.043.015l.016.004a.492.492 0 0 0 .036.007l.018.003.044.003H27.976l.04-.002.01-.001.012-.002a.435.435 0 0 0 .021-.003l.017-.004.012-.003s0 0 0 0l.012-.003.018-.006a.452.452 0 0 0 .022-.008l.006-.002a.436.436 0 0 0 .033-.016l.015-.007.005-.003.017-.01.016-.011.01-.007.01-.009.014-.01.004-.004.01-.01.003-.002.01-.009.006-.006.014-.016.015-.017s0 0 0 0l.004-.005.01-.014a.494.494 0 0 0 .022-.033l.002-.004 8.969-15.538v-.001l.004-.007c.002-.002.002-.005.004-.006a.45.45 0 0 0 .02-.044c.003-.006.006-.01.008-.017l.003-.009a.492.492 0 0 0 .006-.017l.004-.013.002-.01a.365.365 0 0 0 .005-.02l.001-.005v-.006l.003-.013a.432.432 0 0 0 .002-.02h0z"})))}),h=n("./src/pieces/header/base-header.tsx"),v=n("./src/pieces/header/search-input.tsx"),w=n("./src/pieces/header/header.scss"),C=n.n(w),y=(n("./node_modules/bows/bows.js")("Stage-header"),Object(s.a)(Object(c.b)(function(e){return{currentUserStageIsLive:Object(b.selectCurrentUserStageIsLive)(e),entertainer:Object(_.selectEntertainer)(e),hasFollowedWatchers:Object(_.selectFollowedWatchers)(e).length>0,isAuthenticated:Object(g.selectIsAuthenticated)(e),isCurrentUserOnOwnStage:Object(_.selectIsCurrentUserOnOwnStage)(e),isLiveAsStageWatcher:Object(_.selectIsLiveAndModeIsStageWatcher)(e),isVisible:Object(_.selectHeaderIsVisible)(e),initialStreamHasLoaded:Object(_.selectInitialStreamHasLoaded)(e),stageBroadcastContainerAspectRatio:Object(_.selectStageBroadcastContainerAspectRatio)(e),stageMode:Object(_.selectStageMode)(e),trailerUrl:Object(m.selectStageDirectorTrailerUrl)(e)}},{HideStageHeader:_.HideStageHeader,ShowStageHeader:_.ShowStageHeader,HideStageHeaderImmediately:_.MakeStageHeaderInvisible})));t.a=y(function(e){var t=e.stageMode===d.ue&&!e.isLiveAsStageWatcher&&!e.trailerUrl,n=e.stageMode===d.ue&&!1===e.isLiveAsStageWatcher&&!!e.trailerUrl,a=e.stageMode===d.ne&&!e.currentUserStageIsLive,s=e.stageMode===d.ne&&e.currentUserStageIsLive,c=e.stageMode===d.ue&&e.isCurrentUserOnOwnStage&&e.currentUserStageIsLive,l=e.stageMode===d.ue&&!e.isCurrentUserOnOwnStage&&e.isLiveAsStageWatcher,_=e.hasFollowedWatchers&&(t||n||l),m=t||[d.qe,d.me,d.oe,d.re,d.se,d.pe,d.te].includes(e.stageMode),g=a||l||n,b=Object(i.useState)(null),w=r()(b,2),y=w[0],j=w[1],O=Object(i.useCallback)(function(){y&&(clearTimeout(y),j(null),e.ShowStageHeader()),(g||m)&&e.ShowStageHeader()},[y,g,m,e.ShowStageHeader]),S=Object(i.useCallback)(function(){if(e.isVisible&&!m)if(c){var t=setTimeout(function(){e.HideStageHeader(),j(null)},1e3);j(t)}else e.HideStageHeader()},[m,c,e.isVisible,e.HideStageHeader]);Object(i.useEffect)(function(){m?e.ShowStageHeader():m||e.HideStageHeader()},[m]),Object(i.useEffect)(function(){s&&e.HideStageHeaderImmediately()},[s,e.HideStageHeaderImmediately]);var E=Object(i.useCallback)(function(){c&&e.ShowStageHeader()},[c,e.ShowStageHeader]);return o.a.createElement(h.a,{onMouseEnter:O,onMouseLeave:S,className:u()(C.a.stageHeader,e.isVisible?C.a.isVisible:C.a.isHidden),style:e.stageBroadcastContainerAspectRatio?{"--redesign_aspect-ratio":e.stageBroadcastContainerAspectRatio}:null,isHidden:!e.isVisible,left:o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:s?"":"/",className:C.a.redesign_headerLeftContent,onMouseEnter:E},_?o.a.createElement(f,{color:"#fff"}):o.a.createElement(p.a,{size:"medium"}))),center:o.a.createElement(v.a,{placeholder:"search for people",darkTheme:!0,disabled:!e.isVisible}),centerClassName:C.a.redesign_headerCenterStage})})},"./src/pieces/home/homepage-graphics.scss":function(e,t,n){e.exports={homepageGraphics:"homepage-graphics__homepageGraphics___HkGTg",graphicAndDetails:"homepage-graphics__graphicAndDetails___1Ik8t",isActive:"homepage-graphics__isActive___11KtH",details:"homepage-graphics__details___2aClF",detailsBroadcasterName:"homepage-graphics__detailsBroadcasterName___1tTDD"}},"./src/pieces/home/landing-frame.scss":function(e,t,n){e.exports={homeFrame:"landing-frame__homeFrame___1oUPZ",homeFrameWIthMinimalTheme:"landing-frame__homeFrameWIthMinimalTheme___1zCCA landing-frame__homeFrame___1oUPZ",homeFrameContent:"landing-frame__homeFrameContent___3SLte",homepageGraphicsContainer:"landing-frame__homepageGraphicsContainer___3E_qu",homepageGraphicsSpacer:"landing-frame__homepageGraphicsSpacer___1O3xV",mainContent:"landing-frame__mainContent___3Lk9K",body:"landing-frame__body___XqvwA",footer:"landing-frame__footer___2mP_g",wordMarkContainer:"landing-frame__wordMarkContainer___3Xtr5",wordmark:"landing-frame__wordmark___my6N8",tagline:"landing-frame__tagline___3XbyJ"}},"./src/pieces/home/landing.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return s}),n.d(t,"TrackHomepageView",function(){return c});var a=n("./node_modules/immutable/dist/immutable.js"),r=n.n(a),i=n("./node_modules/redux-actions/es/createAction.js"),o=n("./node_modules/redux-actions/es/handleActions.js"),s=(n("./node_modules/bows/bows.js")("Landing.reducer"),"landing"),c=Object(i.a)("Track Homepage View");t.default=Object(o.a)(new Map([]),r.a.Map({}))},"./src/pieces/home/landing.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return _});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/react-router-redux/lib/index.js"),o=n("./node_modules/redux-saga/es/effects.js"),s=n("./src/pieces/authentication/authentication.sagas.js"),c=n("./src/pieces/home/landing.reducer.js"),l=r.a.mark(d),u=r.a.mark(_);n("./node_modules/bows/bows.js")("Landing.sagas");function d(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.g)(Object(c.TrackHomepageView)());case 2:case"end":return e.stop()}},l)}function _(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.m)(i.LOCATION_CHANGE,r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("/"!==t.payload.pathname){e.next=7;break}return e.next=4,Object(o.b)(s.isAnonymous);case 4:if(!e.sent){e.next=7;break}return e.next=7,Object(o.b)(d);case 7:case"end":return e.stop()}},e)}));case 2:case"end":return e.stop()}},u)}},"./src/pieces/hooks/useDeviceDetect.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i);n("./node_modules/bows/bows.js")("UseDeviceDetect");function s(){var e=o.a.useState(!1),t=r()(e,2),n=t[0],a=t[1];return o.a.useEffect(function(){var e="undefined"===typeof window.navigator?"":navigator.userAgent,t=!/android/i.test(e)&&0===navigator.platform.indexOf("Linux a")&&"ontouchstart"in document.documentElement,n=/mobi|silk|android|playbook|ipad|ipod|iphone/i.test(e)||t;a(n)},[]),n}},"./src/pieces/hooks/usePrevious.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("./node_modules/react/index.js");n("./node_modules/bows/bows.js")("UsePrevious");function r(e){var t=Object(a.useRef)();return Object(a.useEffect)(function(){t.current=e}),t.current}},"./src/pieces/lobby/carousel.scss":function(e,t,n){e.exports={relativeContainer:"carousel__relativeContainer___1P1fp",containerSingle:"carousel__containerSingle___YUu9w",container:"carousel__container___1aFS5 carousel__containerSingle___YUu9w",fillerChild:"carousel__fillerChild___1BodX",buttonsSingle:"carousel__buttonsSingle___11imZ",small:"carousel__small___1SG0b",medium:"carousel__medium___3ADp0",large:"carousel__large___383z4",previous:"carousel__previous___wv-Pa",next:"carousel__next___3xsCZ",buttonsSinglePrevious:"carousel__buttonsSinglePrevious___2-Qyw carousel__buttonsSingle___11imZ",buttonsSingleNext:"carousel__buttonsSingleNext___9fRw7 carousel__buttonsSingle___11imZ",buttons:"carousel__buttons___3JOev carousel__buttonsSingle___11imZ"}},"./src/pieces/lobby/detail-page.graphql":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"detailPage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"detailPage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clusters"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cardLists"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasMore"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LiveBroadcastCardList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxLargeCardDisplayCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayOrder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"caid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCaster"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVerified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFollowing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stageID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gameImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ageRestriction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"friendViewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"caid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCaster"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVerified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalFriendViewers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentId"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CategoryCardList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overlayImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayOrder"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorCardList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayOrder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"caid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCaster"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFollowing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVerified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1573}};n.loc.source={body:"# Write your query or mutation here\nquery detailPage($cardId: ID!) {\n  detailPage(cardId: $cardId) {\n    id\n    name\n    clusters {\n      name\n      type\n      cardLists {\n        hasMore\n        ... on LiveBroadcastCardList {\n          id\n          name\n          maxLargeCardDisplayCount\n          cards {\n            id\n            displayOrder\n            user {\n              username\n              caid\n              avatarImagePath\n              isCaster\n              isVerified\n              isFollowing\n              badge\n            }\n            broadcast {\n              id\n              stageID\n              name\n              previewImagePath\n              gameImagePath\n              ageRestriction\n              friendViewers {\n                caid\n                username\n                avatarImagePath\n                isCaster\n                isVerified\n                badge\n              }\n              totalFriendViewers\n              contentId\n            }\n          }\n        }\n        ... on CategoryCardList {\n          id\n          name\n          cards {\n            id\n            name\n            backgroundImagePath\n            overlayImagePath\n            displayOrder\n          }\n        }\n        ... on CreatorCardList {\n          id\n          cards {\n            id\n            displayOrder\n            user {\n              caid\n              username\n              avatarImagePath\n              isCaster\n              isFollowing\n              isVerified\n              badge\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.detailPage=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;for(i.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=r(e,t);a&&n.definitions.push(a)}),n}(n,"detailPage")},"./src/pieces/lobby/lobby-browse-frame-mobile.scss":function(e,t,n){e.exports={feedFrame:"lobby-browse-frame-mobile__feedFrame___K0UWN",feedSection:"lobby-browse-frame-mobile__feedSection___3jUNw",simpleCardListSection:"lobby-browse-frame-mobile__simpleCardListSection___1q5hB",feedItem:"lobby-browse-frame-mobile__feedItem___3uGoe",feed:"lobby-browse-frame-mobile__feed___23wVo",lastFeed:"lobby-browse-frame-mobile__lastFeed___1kOLG",followBrowseContainer:"lobby-browse-frame-mobile__followBrowseContainer___1JuJB",followBrowseTab:"lobby-browse-frame-mobile__followBrowseTab___2Lvxx",followBrowseTabInactive:"lobby-browse-frame-mobile__followBrowseTabInactive___26trw",tagButtonContainer:"lobby-browse-frame-mobile__tagButtonContainer___3uORq",tagButton:"lobby-browse-frame-mobile__tagButton___xcf6t",feedSectionHeader:"lobby-browse-frame-mobile__feedSectionHeader___2o7rq",small:"lobby-browse-frame-mobile__small___2GR6W",medium:"lobby-browse-frame-mobile__medium___1y1Vn",large:"lobby-browse-frame-mobile__large___2AVDi",heroHeader:"lobby-browse-frame-mobile__heroHeader___2pPjg lobby-browse-frame-mobile__feedSectionHeader___2o7rq",mobileColumn:"lobby-browse-frame-mobile__mobileColumn___utqvQ",showThree:"lobby-browse-frame-mobile__showThree___1ZlIS",infiniteScrollChild:"lobby-browse-frame-mobile__infiniteScrollChild___1iZ-I",videosTitle:"lobby-browse-frame-mobile__videosTitle___3TRnm",videosTitleMobile:"lobby-browse-frame-mobile__videosTitleMobile___1_Uu6",featuredActivityContainer:"lobby-browse-frame-mobile__featuredActivityContainer___3RYzH",lobbyActivitiesContainer:"lobby-browse-frame-mobile__lobbyActivitiesContainer___rYpnB"}},"./src/pieces/lobby/lobby-browse-frame.scss":function(e,t,n){e.exports={feedFrame:"lobby-browse-frame__feedFrame___3Xh-m",feedSection:"lobby-browse-frame__feedSection___2UDn9",simpleCardListSection:"lobby-browse-frame__simpleCardListSection___2uxN9",feedItem:"lobby-browse-frame__feedItem___19eKX",feed:"lobby-browse-frame__feed___ARODh",categoriesContainer:"lobby-browse-frame__categoriesContainer___2_ElZ",lastFeed:"lobby-browse-frame__lastFeed___2L_Ik",followBrowseContainer:"lobby-browse-frame__followBrowseContainer___1-OHK",followBrowseTab:"lobby-browse-frame__followBrowseTab___2MOcF",followBrowseTabInactive:"lobby-browse-frame__followBrowseTabInactive___1u1D8",tagButtonContainer:"lobby-browse-frame__tagButtonContainer___15JMA",tagButton:"lobby-browse-frame__tagButton___3Wjb5",feedSectionHeader:"lobby-browse-frame__feedSectionHeader___1RHr6",small:"lobby-browse-frame__small___30rZD",medium:"lobby-browse-frame__medium___27y97",large:"lobby-browse-frame__large___3iKm6",heroHeader:"lobby-browse-frame__heroHeader___3CiW4 lobby-browse-frame__feedSectionHeader___1RHr6"}},"./src/pieces/lobby/lobby-following-frame.scss":function(e,t,n){e.exports={feedFrame:"lobby-following-frame__feedFrame___34ht8",feedSection:"lobby-following-frame__feedSection___QhS1v",simpleCardListSection:"lobby-following-frame__simpleCardListSection___33vbI",feedItem:"lobby-following-frame__feedItem___3C9kU",feed:"lobby-following-frame__feed___1_Gci",categoriesContainer:"lobby-following-frame__categoriesContainer___37coW",lastFeed:"lobby-following-frame__lastFeed___171em",followBrowseContainer:"lobby-following-frame__followBrowseContainer___2Fvnz",followBrowseTab:"lobby-following-frame__followBrowseTab___2yPr0",followBrowseTabInactive:"lobby-following-frame__followBrowseTabInactive___3xl2i",tagButtonContainer:"lobby-following-frame__tagButtonContainer___16UIh",tagButton:"lobby-following-frame__tagButton___2A40a",feedSectionHeader:"lobby-following-frame__feedSectionHeader___17xc3",small:"lobby-following-frame__small___2702d",medium:"lobby-following-frame__medium___uJhnu",large:"lobby-following-frame__large___37Kmw",heroHeader:"lobby-following-frame__heroHeader___lqhRu lobby-following-frame__feedSectionHeader___17xc3",followingTab:"lobby-following-frame__followingTab___2tkqi"}},"./src/pieces/lobby/lobby-footer.scss":function(e,t,n){e.exports={footerNag:"lobby-footer__footerNag___380dC"}},"./src/pieces/lobby/lobby-footer.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/react-redux/es/index.js"),o=n("./src/pieces/base/constants.js"),s=n("./src/pieces/footer/base-footer.tsx"),c=n("./src/pieces/footer/footer.tsx"),l=n("./src/pieces/footer/footer-nag.tsx"),u=n("./src/pieces/footer/footer-mobile-nag.tsx"),d=n("./src/pieces/hooks/useDeviceDetect.ts"),_=n("./src/pieces/lobby/lobby-footer.scss"),m=n.n(_),g=(n("./node_modules/bows/bows.js")("Lobby-footer"),Object(i.b)(null,{}));t.a=g(function(t){var n=Object(d.a)();return e.createElement(s.a,{center:n?null:e.createElement(c.a,{darkTheme:!0}),below:n?e.createElement(u.a,r()({},t,{source:o.Dd})):e.createElement("div",{className:m.a.footerNag},e.createElement(l.a,null))})})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/lobby/lobby-header.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/react-router/es/index.js"),r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./src/pieces/header/base-header.tsx"),s=n("./src/pieces/base/outline-logo-wordmark.tsx"),c=n("./src/pieces/header/search-input.tsx"),l=n("./src/pieces/header/header.scss"),u=n.n(l),d=(n("./node_modules/bows/bows.js")("Lobby-header"),Object(i.a)(a.e,Object(r.b)()));t.a=d(function(t){return e.createElement(o.a,{left:e.createElement(e.Fragment,null,e.createElement("a",{href:"/",className:u.a.redesign_headerLeftContent},e.createElement(s.a,{size:"medium"}))),center:e.createElement(c.a,{darkTheme:!0,placeholder:"search for people to watch"})})})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/lobby/lobby.graphql":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Lobby"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Page"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lobby"},arguments:[{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clusters"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cardLists"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasMore"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LiveBroadcastCardList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxLargeCardDisplayCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayOrder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"caid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCaster"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVerified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFollowing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stageID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gameImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ageRestriction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"friendViewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"caid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCaster"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVerified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalFriendViewers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentId"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CategoryCardList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overlayImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayOrder"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorCardList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayOrder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"caid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarImagePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCaster"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFollowing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVerified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1523}};n.loc.source={body:"query Lobby($page: Page!) {\n  lobby(page: $page) {\n    id\n    name\n    clusters {\n      name\n      type\n      cardLists {\n        hasMore\n        ... on LiveBroadcastCardList {\n          id\n          name\n          maxLargeCardDisplayCount\n          cards {\n            id\n            displayOrder\n            user {\n              username\n              caid\n              avatarImagePath\n              isCaster\n              isVerified\n              isFollowing\n              badge\n            }\n            broadcast {\n              id\n              stageID\n              name\n              previewImagePath\n              gameImagePath\n              ageRestriction\n              friendViewers {\n                caid\n                username\n                avatarImagePath\n                isCaster\n                isVerified\n                badge\n              }\n              totalFriendViewers\n              contentId\n            }\n          }\n        }\n        ... on CategoryCardList {\n          id\n          name\n          cards {\n            id\n            name\n            backgroundImagePath\n            overlayImagePath\n            displayOrder\n          }\n        }\n        ... on CreatorCardList {\n          id\n          cards {\n            id\n            displayOrder\n            user {\n              caid\n              username\n              avatarImagePath\n              isCaster\n              isFollowing\n              isVerified\n              badge\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Lobby=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;for(i.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=r(e,t);a&&n.definitions.push(a)}),n}(n,"Lobby")},"./src/pieces/lobby/lobby.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return d}),n.d(t,"LoadLobbyBrowse",function(){return _}),n.d(t,"LoadLobbyBrowseContent",function(){return m}),n.d(t,"UnloadLobbyBrowse",function(){return g}),n.d(t,"LoadLobbyFollowing",function(){return b}),n.d(t,"UnloadLobbyFollowing",function(){return p}),n.d(t,"LoadLobbyFollowingContent",function(){return f}),n.d(t,"SetLobbyBrowseContent",function(){return h}),n.d(t,"SetLobbyFollowingContent",function(){return v}),n.d(t,"selectLobbyBrowseContent",function(){return w}),n.d(t,"selectLobbyFollowingContent",function(){return C});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/immutable/dist/immutable.js"),s=n.n(o),c=n("./node_modules/redux-actions/es/createAction.js"),l=n("./node_modules/redux-actions/es/handleActions.js"),u=n("./node_modules/reselect/lib/index.js"),d=(n("./node_modules/bows/bows.js")("Lobby.reducer"),"lobby"),_=Object(c.a)("Load Lobby Browse",function(){return null}),m=Object(c.a)("Load Lobby Browse Content",function(){return null}),g=Object(c.a)("Unload Lobby Browse",function(){return null}),b=Object(c.a)("Load Lobby Following",function(){return null}),p=Object(c.a)("Unload Lobby Following",function(){return null}),f=Object(c.a)("Load Lobby Following Content",function(){return null}),h=Object(c.a)("Set Lobby Browse Content",function(e){return e}),v=Object(c.a)("Set Lobby Following Content",function(e){return e}),w=Object(u.createSelector)(function(e){return e[d].get("lobbyBrowseContent")},function(e){return e.toJS()}),C=Object(u.createSelector)(function(e){return e[d].get("lobbyFollowingContent")},function(e){return e.toJS()});t.default=Object(l.a)((a={},i()(a,h,function(e,t){var n=t.payload,a=n.data,r=n.error,i=n.loading;return e.setIn(["lobbyBrowseContent","data"],s.a.fromJS(a)).setIn(["lobbyBrowseContent","loading"],i).setIn(["lobbyBrowseContent","error"],r)}),i()(a,v,function(e,t){var n=t.payload,a=n.data,r=n.error,i=n.loading;return e.setIn(["lobbyFollowingContent","data"],s.a.fromJS(a)).setIn(["lobbyFollowingContent","loading"],i).setIn(["lobbyFollowingContent","error"],r)}),a),s.a.fromJS({lobbyBrowseContent:{data:{},error:null,loading:!0},lobbyFollowingContent:{data:{},error:null,loading:!0}}))},"./src/pieces/lobby/lobby.sagas.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/redux-saga/es/effects.js"),c=n("./src/pieces/authentication/authentication.reducer.js"),l=n("./src/pieces/lobby/lobby.reducer.js"),u=n("./src/pieces/base/saga-utilities.js"),d=(n("./node_modules/@babel/runtime/helpers/defineProperty.js"),n("./src/pieces/base/api/api-helpers.js")),_=n("./src/pieces/base/constants.js");n("./node_modules/js-base64/base64.mjs"),n("./node_modules/bows/bows.js")("Attribution-helpers");var m=r.a.mark(b),g=r.a.mark(p);n("./node_modules/bows/bows.js")("Lobby.api");function b(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.c)("".concat(_.Wd,"/lobby/browse"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},m)}function p(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.c)("".concat(_.Vd,"/lobby/following"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},g)}var f=n("./src/pieces/feature-configuration/feature-configuration.sagas.js"),h=n("./src/pieces/current-user/current-user.reducer.js");n.d(t,"default",function(){return F});var v=r.a.mark(x),w=r.a.mark(k),C=r.a.mark(I),y=r.a.mark(T),j=r.a.mark(F),O=n("./node_modules/bows/bows.js")("Lobby.sagas"),S="true"===localStorage.getItem(_.Fb),E=localStorage.getItem(_.I);function x(){var e,t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(s.b)(b);case 3:if(!(e=a.sent)){a.next=11;break}return a.next=7,Object(s.g)(Object(l.SetLobbyBrowseContent)({data:e,error:null,loading:!1}));case 7:return a.next=9,Object(s.g)(Object(h.LoadRecentNotifications)());case 9:a.next=15;break;case 11:return t=o()(e.errors,1),n=t[0].message,O("Lobby endpoint encountered an error for lobby request",n),a.next=15,Object(s.g)(Object(l.SetLobbyBrowseContent)({data:{},error:n,loading:!1}));case 15:a.next=22;break;case 17:return a.prev=17,a.t0=a.catch(0),O("Lobby endpoint threw an exception for lobby request",a.t0),a.next=22,Object(s.g)(Object(l.SetLobbyBrowseContent)({data:{},error:a.t0,loading:!1}));case 22:case"end":return a.stop()}},v,null,[[0,17]])}function k(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.b)(f.waitForFeatureConfiguration);case 2:return t.next=4,Object(s.g)(Object(l.SetLobbyBrowseContent)({data:{},error:!1,loading:!0}));case 4:return e={screen_name:_.Dd,canonical_path:window.location.pathname,web_presentation:S?_.of:_.nf,experiment_group:"CONTENTLOCK_".concat(E)},window.mParticle&&window.mParticle.logEvent("screen_view",window.mParticle.EventType.Other,e),t.next=8,Object(s.i)(c.selectBouncerDialogIsActive);case 8:if(t.sent){t.next=12;break}return t.next=12,Object(s.g)(Object(l.LoadLobbyBrowseContent)());case 12:case"end":return t.stop()}},w)}function I(){var e,t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(s.b)(p);case 3:if(!(e=a.sent)){a.next=11;break}return a.next=7,Object(s.g)(Object(l.SetLobbyFollowingContent)({data:e,error:null,loading:!1}));case 7:return a.next=9,Object(s.g)(Object(h.LoadRecentNotifications)());case 9:a.next=15;break;case 11:return t=o()(e.errors,1),n=t[0].message,O("Lobby endpoint encountered an error for lobby request",n),a.next=15,Object(s.g)(Object(l.SetLobbyFollowingContent)({data:{},error:n,loading:!1}));case 15:a.next=22;break;case 17:return a.prev=17,a.t0=a.catch(0),O("Lobby endpoint threw an exception for lobby request",a.t0),a.next=22,Object(s.g)(Object(l.SetLobbyFollowingContent)({data:{},error:a.t0,loading:!1}));case 22:case"end":return a.stop()}},C,null,[[0,17]])}function T(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.b)(f.waitForFeatureConfiguration);case 2:return t.next=4,Object(s.g)(Object(l.SetLobbyFollowingContent)({data:{},error:!1,loading:!0}));case 4:return e={screen_name:_.Dd,canonical_path:window.location.pathname,web_presentation:S?_.of:_.nf,experiment_group:"CONTENTLOCK_".concat(E)},window.mParticle&&window.mParticle.logEvent("screen_view",window.mParticle.EventType.Other,e),t.next=8,Object(s.i)(c.selectBouncerDialogIsActive);case 8:if(t.sent){t.next=12;break}return t.next=12,Object(s.g)(Object(l.LoadLobbyFollowingContent)());case 12:case"end":return t.stop()}},y)}function F(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.h)(l.LoadLobbyBrowse,k);case 2:return e.next=4,Object(u.h)(l.LoadLobbyBrowseContent,x);case 4:return e.next=6,Object(u.h)(l.LoadLobbyFollowing,T);case 6:return e.next=8,Object(u.h)(l.LoadLobbyFollowingContent,I);case 8:case"end":return e.stop()}},j)}},"./src/pieces/monitoring/monitoring.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return r});var a=n("./node_modules/redux-actions/es/handleActions.js"),r=(n("./node_modules/bows/bows.js")("Monitoring.reducer"),"monitoring");t.default=Object(a.a)({},e.fromJS({}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/monitoring/monitoring.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return v});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/raven-js/src/singleton.js"),o=n.n(i),s=n("./node_modules/redux-saga/es/effects.js"),c=n("./src/pieces/base/saga-utilities.js"),l=n("./src/pieces/base/api/users.api.js"),u=n("./src/pieces/authentication/authentication.reducer.js"),d=n("./src/pieces/store/get-environment.js"),_=n("./src/pieces/feature-configuration/feature-configuration.sagas.js"),m=n("./src/pieces/feature-configuration/feature-configuration.reducer.js"),g=r.a.mark(f),b=r.a.mark(h),p=r.a.mark(v);n("./node_modules/bows/bows.js")("Monitoring.sagas");function f(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.caid,a.next=3,Object(s.b)(l.j,t);case 3:if(n=a.sent,o.a.setUserContext({email:n.email,id:t}),!Object(d.c)()&&!Object(d.d)()){a.next=11;break}return a.next=8,Object(s.b)(_.waitForFeatureConfiguration);case 8:return a.next=10,Object(s.i)(m.selectWebVideoPropsStatus);case 10:a.sent;case 11:case"end":return a.stop()}},g)}function h(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=e.anonymousUserId,o.a.setUserContext({id:t});case 2:case"end":return n.stop()}},b)}function v(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.h)(u.StartAuthenticatedSession,f);case 2:return e.next=4,Object(c.h)(u.StartAnonymousSession,h);case 4:case"end":return e.stop()}},p)}},"./src/pieces/payment/back-arrow-icon.js":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./src/pieces/base/icons/icon.js");n("./node_modules/bows/bows.js")("Back-arrow-icon");t.a=function(){return r.a.createElement(i.a,null,r.a.createElement("svg",{width:"10",height:"18",viewBox:"0 0 10 18"},r.a.createElement("path",{d:"M9,18l-9-9,9-9,1,1-8,8,8,8Z"})))}},"./src/pieces/payment/bank-account-frame.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/reselect/lib/index.js"),c=n("./node_modules/classnames/index.js"),l=n.n(c),u=n("./src/pieces/base/recompose-extras.js"),d=n("./src/pieces/base/constants.js"),_=n("./src/pieces/payment/tipalti.reducer.js"),m=n("./src/pieces/base/create-image-url.js"),g=n("./src/pieces/payment/bank-account-frame.scss"),b=n.n(g),p=(n("./node_modules/bows/bows.js")("Bank-account-frame"),Object(m.c)("/defaults/tipalti-spinner.gif")),f=Object(i.a)(Object(o.b)(Object(s.createStructuredSelector)({tipaltiUrl:_.selectTipaltiUrl,tipaltiFrameIsLoaded:_.selectTipaltiFrameIsLoaded}),{LoadTipaltiFrame:_.LoadTipaltiFrame,UnloadTipaltiFrame:_.UnloadTipaltiFrame,MarkTipaltiFrameAsLoaded:_.MarkTipaltiFrameAsLoaded}),Object(u.b)(function(e){e.LoadTipaltiFrame()}),Object(u.c)(function(e){e.UnloadTipaltiFrame()}));t.a=f(function(t){var n;return e.createElement("div",{className:b.a.bankAccount},t.tipaltiUrl&&e.createElement("iframe",{onLoad:t.MarkTipaltiFrameAsLoaded,frameBorder:"0",title:"tipalti",src:"".concat(t.tipaltiUrl,"&redirectto=").concat(d.Te),className:l()((n={},r()(n,b.a.tipaltiFrame,!0),r()(n,b.a.isLoaded,t.tipaltiFrameIsLoaded),n))}),!t.tipaltiFrameIsLoaded&&e.createElement("div",{className:b.a.loader},e.createElement("img",{alt:"loading",src:p})))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/payment/bank-account-frame.scss":function(e,t,n){e.exports={bankAccount:"bank-account-frame__bankAccount___3u2_S",loader:"bank-account-frame__loader___3CReG",tipaltiFrame:"bank-account-frame__tipaltiFrame___3X2v2",isLoaded:"bank-account-frame__isLoaded___13Hev"}},"./src/pieces/payment/cash-out-helpers.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});n("./node_modules/bows/bows.js")("Cash-out-helpers");var a=function(e,t){return Math.round(e*t.toUsdCents)},r=function(e,t){return Math.round(e*t.fromCredits)},i=function(e,t){var n=Math.floor(t.maxCashOutQuantity*t.fromCredits);return Math.min(e,n)},o=function(e,t){return function(e,t){return e/t.fromCredits*t.toUsdCents}(i(e,t),t)},s=function(e,t){var n=i(e,t);return Math.floor(n/t.fromCredits)}},"./src/pieces/payment/cash-out.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return c}),n.d(t,"SetCashOutMethodName",function(){return _}),n.d(t,"MarkTipaltiFlowAsComplete",function(){return m}),n.d(t,"MarkTipaltiFlowSuccessScreenAsLoaded",function(){return g}),n.d(t,"ResetTipaltiFlowSuccessScreenLoad",function(){return b}),n.d(t,"LoadCashOut",function(){return p}),n.d(t,"MarkUserCanCashOut",function(){return f}),n.d(t,"ReportCashOutIsLoaded",function(){return h}),n.d(t,"SetCashOutExchangeRate",function(){return v}),n.d(t,"SetCashOutLimitDisplayMessage",function(){return w}),n.d(t,"SetCashOutQuantity",function(){return C}),n.d(t,"SetCashOutStep",function(){return y}),n.d(t,"RequestCashOut",function(){return j}),n.d(t,"selectCashOutMethodName",function(){return O}),n.d(t,"selectCanCashOut",function(){return S}),n.d(t,"selectCashOutStep",function(){return E}),n.d(t,"selectCashOutExchangeRate",function(){return x}),n.d(t,"selectCashOutLimitDisplayMessage",function(){return k}),n.d(t,"selectCashOutQuantity",function(){return I}),n.d(t,"selectTipaltiFlowEndLoaded",function(){return T});var a=n("./node_modules/immutable/dist/immutable.js"),r=n.n(a),i=n("./node_modules/redux-actions/es/createAction.js"),o=n("./node_modules/redux-actions/es/handleActions.js"),s=n("./node_modules/reselect/lib/index.js"),c=(n("./node_modules/bows/bows.js")("Cash-out.reducer"),"cashOut"),l="Payable",u="NotPayable",d="Loading",_=Object(i.a)("Set Cash Out Method Name",function(e){return e}),m=Object(i.a)("Mark Tipalti Flow As Complete"),g=Object(i.a)("Mark Tipalti Flow Success Screen As Loaded"),b=Object(i.a)("Reset Tipalti Flow Success Screen Load"),p=Object(i.a)("Load Cash Out"),f=Object(i.a)("Mark User Can Cash Out"),h=Object(i.a)("Report Cash Out Is Loaded"),v=Object(i.a)("Set Cash Out Exchange Rate",function(e){return e}),w=Object(i.a)("Set Cash Out Limit Display Message",function(e){return e}),C=Object(i.a)("Set Cash Out Quantity",function(e){return e}),y=Object(i.a)("Set Cash Out Step",function(e){return e}),j=Object(i.a)("Request Cash Out",function(e,t){return{cashOutId:e,quantity:t}}),O=function(e){return e[c].get("cashOutMethodName")},S=function(e){return e[c].get("canCashOut")},E=function(e){return e[c].get("cashOutStep")},x=Object(s.createSelector)(function(e){return e[c].get("exchangeRate")},function(e){return e&&e.toJS()}),k=Object(s.createSelector)(function(e){return e[c].get("limitDisplayMessage")},function(e){return e&&e.toJS()}),I=function(e){return e[c].get("cashOutQuantity")},T=function(e){return e[c].get("tipaltiFlowEndLoaded")};t.default=Object(o.a)(new Map([[p,function(e){return e.set("cashOutStep",d).set("limitDisplayMessage",null).set("cashOutQuantity",0)}],[_,function(e,t){var n=t.payload;return e.set("cashOutMethodName",n)}],[h,function(e){return e.set("cashOutStep",l)}],[j,function(e){return e.set("cashOutStep",d)}],[f,function(e){return e.set("canCashOut",!0)}],[v,function(e,t){var n=t.payload;return e.set("exchangeRate",r.a.fromJS(n))}],[w,function(e,t){var n=t.payload;return e.set("limitDisplayMessage",r.a.fromJS(n)).set("cashOutStep",u)}],[C,function(e,t){var n=t.payload;return e.set("cashOutQuantity",n)}],[y,function(e,t){var n=t.payload;return e.set("cashOutStep",n)}],[g,function(e){return e.set("tipaltiFlowEndLoaded",!0)}],[b,function(e){return e.set("tipaltiFlowEndLoaded",!1)}]]),r.a.fromJS({cashOutMethodName:null,cashOutStep:d,canCashOut:!1,exchangeRate:null,cashOutQuantity:0,limitDisplayMessage:null,tipaltiFlowEndLoaded:!1}))},"./src/pieces/payment/cash-out.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"refreshCashOutPaymentMethod",function(){return v}),n.d(t,"default",function(){return j});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/idx/lib/idx.js"),o=n.n(i),s=n("./node_modules/redux-saga/es/effects.js"),c=n("./src/pieces/base/constants.js"),l=n("./src/pieces/base/saga-utilities.js"),u=n("./src/pieces/base/api/payments.api.js"),d=n("./src/pieces/payment/cash-out.reducer.js"),_=n("./src/pieces/payment/digital-items.reducer.js"),m=r.a.mark(v),g=r.a.mark(w),b=r.a.mark(C),p=r.a.mark(y),f=r.a.mark(j),h=(n("./node_modules/bows/bows.js")("Cash-out.sagas"),{Payable:"Payable",NotPayable:"NotPayable",Loading:"Loading",Select:"Select",Confirm:"Confirm",Submitted:"Submitted"});function v(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.b)(u.h);case 2:if(e=n.sent,t=e.exchangeRate,!e.isInMaintenanceMode){n.next=10;break}return n.next=8,Object(s.g)(Object(_.ActivateMaintenanceMode)());case 8:n.next=12;break;case 10:return n.next=12,Object(s.g)(Object(d.SetCashOutMethodName)(t.paymentMethod));case 12:case"end":return n.stop()}},m)}function w(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(u.g);case 2:return e.next=4,Object(s.g)(Object(d.MarkTipaltiFlowSuccessScreenAsLoaded)());case 4:case"end":return e.stop()}},g)}function C(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.b)(u.h);case 2:if(e=n.sent,t=e.exchangeRate,!e.isInMaintenanceMode){n.next=10;break}return n.next=8,Object(s.g)(Object(_.ActivateMaintenanceMode)());case 8:n.next=25;break;case 10:if(!o()(t,function(e){return e.isPayable})){n.next=13;break}return n.next=13,Object(s.g)(Object(d.MarkUserCanCashOut)());case 13:if(!o()(t,function(e){return e.maxCashOutQuantity})){n.next=16;break}return n.next=16,Object(s.g)(Object(d.SetCashOutQuantity)(t.maxCashOutQuantity));case 16:return n.next=18,Object(s.g)(Object(d.SetCashOutExchangeRate)(t));case 18:if(!o()(t,function(e){return e.limitDisplayMessage})){n.next=23;break}return n.next=21,Object(s.g)(Object(d.SetCashOutLimitDisplayMessage)(t.limitDisplayMessage));case 21:n.next=25;break;case 23:return n.next=25,Object(s.g)(Object(d.ReportCashOutIsLoaded)());case 25:case"end":return n.stop()}},b)}function y(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.cashOutId,n=e.quantity,a.prev=1,a.next=4,Object(s.b)(u.o,t,n);case 4:return a.next=6,Object(s.g)(Object(d.SetCashOutStep)(h.Submitted));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(1),a.next=12,Object(s.g)(Object(d.SetCashOutLimitDisplayMessage)({body:c.d}));case 12:case"end":return a.stop()}},p,null,[[1,8]])}function j(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.h)(d.MarkTipaltiFlowAsComplete,w);case 2:return e.next=4,Object(l.h)(d.LoadCashOut,C);case 4:return e.next=6,Object(l.h)(d.RequestCashOut,y);case 6:case"end":return e.stop()}},f)}},"./src/pieces/payment/cash-out.scss":function(e,t,n){e.exports={cashOut:"cash-out__cashOut___17p3Y",cashOutHeader:"cash-out__cashOutHeader___SKman",leftHeader:"cash-out__leftHeader___1KMFE",centerHeader:"cash-out__centerHeader___3iE3I gold-purchase-flow__redesign_tabText___TiWET",rightHeader:"cash-out__rightHeader___3E3m2",cashOutSuccessHeader:"cash-out__cashOutSuccessHeader___bwEbz cash-out__leftHeader___1KMFE gold-purchase-flow__redesign_tabText___TiWET",backButton:"cash-out__backButton___3ci2R buttons__svgOnlyButtonWithAlternateDarkTheme___1CQVP buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",cashOutBody:"cash-out__cashOutBody___3YUEf",cashOutAmountContainer:"cash-out__cashOutAmountContainer___12nsp",cashOutAmountText:"cash-out__cashOutAmountText___1taDS",cashOutEmphasis:"cash-out__cashOutEmphasis___2WgsY",sliderLabels:"cash-out__sliderLabels___17X8w",sliderMinimumLabel:"cash-out__sliderMinimumLabel___xBaIp",sliderMaximumLabel:"cash-out__sliderMaximumLabel___3-Ab_",sliderLabelTitle:"cash-out__sliderLabelTitle___3PF2d",cashOutLink:"cash-out__cashOutLink___2N8dr links__redesign_secondaryLink___IpckZ links__redesign_link___2bKIw",submitButtonContainer:"cash-out__submitButtonContainer___1T5_F",submitButton:"cash-out__submitButton___1-4WZ undefined",loadingContainer:"cash-out__loadingContainer___14DcL",contentSmall:"cash-out__contentSmall___6nfDN",contentMedium:"cash-out__contentMedium___3D9pE cash-out__contentSmall___6nfDN",contentLarge:"cash-out__contentLarge___NVt-i cash-out__contentSmall___6nfDN",closeButton:"cash-out__closeButton___t2ZvT buttons__unstyledButton___olg-i"}},"./src/pieces/payment/cash-out.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/react/index.js"),r=n("./node_modules/idx/lib/idx.js"),i=n.n(r),o=n("./node_modules/react-router/es/index.js"),s=n("./node_modules/recompose/dist/Recompose.esm.js"),c=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/reselect/lib/index.js"),u=n("./src/pieces/base/core.types.ts"),d=n("./src/pieces/base/constants.js"),_=n("./src/pieces/payment/cash-out-helpers.ts"),m=n("./src/pieces/payment/cash-out.reducer.js"),g=n("./src/pieces/current-user/current-user.reducer.js"),b=n("./src/pieces/payment/prettify-price.js"),p=n("./src/pieces/base/loading-indicator.js"),f=n("./src/pieces/payment/digital-currency.tsx"),h=n("./src/pieces/base/forms/slider.js"),v=n("./src/pieces/payment/back-arrow-icon.js"),w=n("./src/pieces/base/close-icon.tsx"),C=n("./src/pieces/payment/cash-out.scss"),y=n.n(C),j=(n("./node_modules/bows/bows.js")("Cash-out"),Object(s.a)(Object(c.b)(Object(l.createStructuredSelector)({canCashOut:m.selectCanCashOut,cashOutStep:m.selectCashOutStep,cashOutMethodName:m.selectCashOutMethodName,exchangeRate:m.selectCashOutExchangeRate,limitDisplayMessage:m.selectCashOutLimitDisplayMessage,wallet:g.selectCurrentUserWallet,currentQuantity:m.selectCashOutQuantity}),{LoadCashOut:m.LoadCashOut,SetCashOutQuantity:m.SetCashOutQuantity,SetCashOutStep:m.SetCashOutStep,RequestCashOut:m.RequestCashOut}))),O=function(t){var n=t.cashOutMethodName;return e.createElement(e.Fragment,null,e.createElement("div",{className:y.a.cashOutHeader},e.createElement("div",{className:y.a.centerHeader},"How to cash out")),n?e.createElement("div",{className:y.a.cashOutBody},"Your cash out method is currently processing."):e.createElement("div",{className:y.a.cashOutBody},"Converting credits to cash is easy. First, add an account to send your money to."),!n&&e.createElement("div",{className:y.a.submitButtonContainer},e.createElement(o.b,{className:y.a.submitButton,to:"/settings/cash-out-setup"},"Set Up Cash Out")))},S=function(t){var n=t.exchangeRate,r=t.wallet,i=t.SetCashOutStep,o=Object(a.useCallback)(function(){return i(u.c.Select)},[]);return e.createElement(e.Fragment,null,e.createElement("div",{className:y.a.cashOutHeader},e.createElement("div",{className:y.a.centerHeader},"Cash Out")),e.createElement("div",{className:y.a.cashOutBody},"You can cash out up to"," ",Object(b.a)(Object(_.b)(r.credits,n))," with"," ",n.paymentMethod,"."),e.createElement("div",{className:y.a.submitButtonContainer},e.createElement("button",{className:y.a.submitButton,onClick:o},"Continue")))},E=function(t){var n=t.currentQuantity,a=t.exchangeRate;return e.createElement("div",{className:y.a.cashOutAmountContainer},e.createElement("div",null,Object(b.a)(Object(_.d)(n,a))),e.createElement("div",{className:y.a.cashOutAmountText},"for"),e.createElement(f.a,{type:"credit",size:"medium",amount:Object(_.c)(n,a)}))},x=function(){return e.createElement("div",null,"The amount shown is before fees.",e.createElement("br",null),e.createElement(o.b,{className:y.a.cashOutLink,to:"https://link.caffeine.tv/help-cash-out",target:"_blank"},"Learn more"))},k=function(t){var n=t.currentQuantity,r=t.exchangeRate,i=t.wallet,o=t.SetCashOutStep,s=t.SetCashOutQuantity,c=Object(a.useCallback)(function(){return o(u.c.Payable)},[]),l=Object(a.useCallback)(function(){return o(u.c.Confirm)},[]),d=Object(a.useCallback)(function(e){return s(parseInt(e.target.value,10))},[]);return e.createElement(e.Fragment,null,e.createElement("div",{className:y.a.cashOutHeader},e.createElement("div",{className:y.a.leftHeader},e.createElement("button",{className:y.a.backButton,onClick:c},e.createElement(v.a,null))),e.createElement("div",{className:y.a.centerHeader},"Select An Amount"),e.createElement("div",{className:y.a.rightHeader})),e.createElement("div",{className:y.a.cashOutBody},e.createElement(E,{currentQuantity:n,exchangeRate:r}),e.createElement(h.a,{name:"cashOutSlider",min:r.minCashOutQuantity,max:Object(_.a)(i.credits,r),value:n,onChange:d}),e.createElement("div",{className:y.a.sliderLabels},e.createElement("div",{className:y.a.sliderMinimumLabel},e.createElement("div",{className:y.a.sliderLabelTitle},"Min"),e.createElement("div",null,Object(b.a)(Object(_.d)(r.minCashOutQuantity,r)))),e.createElement("div",{className:y.a.sliderMaximumLabel},e.createElement("div",{className:y.a.sliderLabelTitle},"Max"),e.createElement("div",null,Object(b.a)(Object(_.d)(Object(_.a)(i.credits,r),r))))),e.createElement(x,null)),e.createElement("div",{className:y.a.submitButtonContainer},e.createElement("button",{className:y.a.submitButton,onClick:l},"Continue")))},I=function(t){var n=t.currentQuantity,r=t.exchangeRate,i=t.RequestCashOut,o=t.SetCashOutStep,s=Object(a.useCallback)(function(){return o(u.c.Select)},[]),c=Object(a.useCallback)(function(){i(r.id,n)},[r.id,n]);return e.createElement(e.Fragment,null,e.createElement("div",{className:y.a.cashOutHeader},e.createElement("div",{className:y.a.leftHeader},e.createElement("button",{className:y.a.backButton,onClick:s},e.createElement(v.a,null))),e.createElement("div",{className:y.a.centerHeader},"Confirm Amount"),e.createElement("div",{className:y.a.rightHeader})),e.createElement("div",{className:y.a.cashOutBody},e.createElement(E,{currentQuantity:n,exchangeRate:r}),e.createElement(x,null)),e.createElement("div",{className:y.a.submitButtonContainer},e.createElement("button",{onClick:c,className:y.a.submitButton},"Confirm")))},T=function(t){var n=t.currentQuantity,a=t.exchangeRate;return e.createElement(e.Fragment,null,e.createElement("div",{className:y.a.cashOutHeader},e.createElement("div",{className:y.a.cashOutSuccessHeader},"done!")),e.createElement("div",{className:y.a.cashOutBody},e.createElement("span",{className:y.a.cashOutEmphasis},Object(b.a)(Object(_.d)(n,a)))," ","is on its way via"," ",e.createElement("span",{className:y.a.cashOutEmphasis},a.paymentMethod),"!"),e.createElement("div",{className:y.a.cashOutBody},"You will receive an email receipt as well as status updates. You can also see the status in"," ",e.createElement(o.b,{className:y.a.cashOutLink,to:"/settings/history"},"Transaction History"),"."))},F=function(t){var n=t.title,a=void 0===n?"Cash Out Error":n,r=t.body,i=void 0===r?d.d:r;return e.createElement(e.Fragment,null,e.createElement("div",{className:y.a.cashOutHeader},e.createElement("div",{className:y.a.centerHeader},a)),e.createElement("div",{className:y.a.cashOutBody},i))},P=function(){return e.createElement("div",{className:y.a.loadingContainer},e.createElement(p.a,{size:"medium"}))},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case u.c.Loading:case u.c.Confirm:case u.c.Select:return y.a.contentLarge;case u.c.Submitted:return y.a.contentMedium;case u.c.NotPayable:return y.a.contentSmall;default:return t?y.a.contentSmall:y.a.contentMedium}};t.a=j(function(t){return Object(a.useEffect)(function(){t.LoadCashOut()},[]),e.createElement("div",{className:y.a.cashOut},e.createElement("div",{className:N(t.cashOutStep,t.canCashOut)},t.cashOutStep===u.c.Loading?e.createElement(P,null):t.cashOutStep===u.c.NotPayable?e.createElement(F,{title:i()(t,function(e){return e.limitDisplayMessage.title}),body:i()(t,function(e){return e.limitDisplayMessage.body})}):t.cashOutStep==u.c.Submitted?e.createElement(T,t):t.cashOutStep===u.c.Confirm?e.createElement(I,t):t.cashOutStep===u.c.Select?e.createElement(k,t):t.canCashOut?e.createElement(S,t):e.createElement(O,{cashOutMethodName:t.cashOutMethodName})),e.createElement("button",{onClick:t.onRequestClose,className:y.a.closeButton},e.createElement(w.a,{darkTheme:!0,size:"medium"})))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/payment/credit-card-svgs.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a);n("./node_modules/bows/bows.js")("Credit-card-svgs");t.a=function(e){var t=e.className,n=e.active;return r.a.createElement("div",{className:t},r.a.createElement("svg",{style:{filter:"grayScale(".concat("visa"===n?0:1,")")},viewBox:"0 0 780 500"},r.a.createElement("path",{d:"M293.2 348.73l33.359-195.76h53.358l-33.384 195.76H293.2zm246.11-191.54c-10.569-3.966-27.135-8.222-47.821-8.222-52.726 0-89.863 26.551-90.181 64.604-.297 28.129 26.515 43.822 46.754 53.185 20.771 9.598 27.752 15.716 27.652 24.283-.133 13.123-16.586 19.115-31.924 19.115-21.355 0-32.701-2.967-50.225-10.273l-6.878-3.111-7.487 43.822c12.463 5.467 35.508 10.199 59.438 10.445 56.09 0 92.502-26.248 92.916-66.885.199-22.27-14.016-39.215-44.801-53.188-18.65-9.056-30.072-15.099-29.951-24.269 0-8.137 9.668-16.838 30.56-16.838 17.446-.271 30.088 3.534 39.936 7.5l4.781 2.259 7.231-42.427m137.31-4.223h-41.23c-12.772 0-22.332 3.486-27.94 16.234l-79.245 179.4h56.031s9.159-24.121 11.231-29.418c6.123 0 60.555.084 68.336.084 1.596 6.854 6.492 29.334 6.492 29.334h49.512l-43.187-195.64zm-65.417 126.41c4.414-11.279 21.26-54.724 21.26-54.724-.314.521 4.381-11.334 7.074-18.684l3.606 16.878s10.217 46.729 12.353 56.527h-44.293v.003zm-363.3-126.41l-52.239 133.5-5.565-27.129c-9.726-31.274-40.025-65.157-73.898-82.12l47.767 171.2 56.455-.063 84.004-195.39-56.524-.001",fill:"#0E4595"}),r.a.createElement("path",{d:"M146.92 152.96H60.879l-.682 4.073c66.939 16.204 111.23 55.363 129.62 102.42l-18.709-89.96c-3.229-12.396-12.597-16.096-24.186-16.528",fill:"#F2AE14"})),r.a.createElement("svg",{style:{filter:"grayScale(".concat("mastercard"===n?0:1,")")},viewBox:"0 0 780 500"},r.a.createElement("path",{d:"M449.01 250c0 99.143-80.371 179.5-179.51 179.5S90 349.139 90 250c0-99.133 80.362-179.5 179.5-179.5 99.137 0 179.51 80.371 179.51 179.5",fill:"#D9222A"}),r.a.createElement("path",{d:"M510.49 70.496c-46.379 0-88.643 17.596-120.5 46.467a182.443 182.443 0 00-18.125 18.996h36.267a182.049 182.049 0 0113.685 19.012h-63.635a179.132 179.132 0 00-10.342 19.008h84.313a179.278 179.278 0 017.601 19.004h-99.513a177.252 177.252 0 00-5.217 19.008h109.94a180.388 180.388 0 014.042 38.008c0 19.935-3.254 39.112-9.254 57.021h-99.513a177.287 177.287 0 007.596 19.008h84.316a179.424 179.424 0 01-10.347 19.013h-63.625a181.2 181.2 0 0013.685 18.996h36.259a179.35 179.35 0 01-18.13 19.013c31.857 28.866 74.117 46.454 120.5 46.454 99.139 0 179.51-80.361 179.51-179.5 0-99.129-80.371-179.5-179.51-179.5",fill:"#EE9F2D"}),r.a.createElement("path",{d:"M666.07 350.06c0-3.199 2.592-5.801 5.796-5.801s5.796 2.602 5.796 5.801-2.592 5.801-5.796 5.801-5.796-2.602-5.796-5.801zm5.796 4.408a4.41 4.41 0 004.408-4.408 4.405 4.405 0 00-4.402-4.404h-.006a4.398 4.398 0 00-4.404 4.391v.014a4.404 4.404 0 004.4 4.408l.004-.001zm-.783-1.86h-1.187v-5.096h2.149c.45 0 .908 0 1.305.254.413.279.646.771.646 1.279 0 .571-.338 1.104-.884 1.312l.938 2.25h-1.315l-.779-2.017h-.871l-.002 2.018zm0-2.89h.658c.246 0 .505.021.726-.1.195-.125.296-.359.296-.584a.638.638 0 00-.288-.518c-.207-.129-.536-.101-.758-.101h-.634v1.303zm-443.5-80.063c-2.046-.238-2.945-.301-4.35-.301-11.046 0-16.638 3.787-16.638 11.268 0 4.611 2.729 7.545 6.987 7.545 7.939 0 13.659-7.559 14.001-18.512zm14.171 32.996h-16.146l.371-7.676c-4.926 6.065-11.496 8.949-20.426 8.949-10.563 0-17.804-8.25-17.804-20.229 0-18.024 12.596-28.541 34.217-28.541 2.208 0 5.042.199 7.941.57.604-2.441.763-3.488.763-4.801 0-4.908-3.396-6.737-12.5-6.737-9.533-.108-17.396 2.271-20.625 3.333.204-1.229 2.7-16.659 2.7-16.659 9.712-2.846 16.116-3.917 23.325-3.917 16.732 0 25.596 7.513 25.579 21.712.033 3.805-.597 8.5-1.579 14.671-1.691 10.734-5.32 33.721-5.816 39.325zm-62.158 0h-19.487l11.162-69.997-24.925 69.997h-13.279l-1.642-69.597-11.733 69.597H101.45l15.237-91.056h28.021l1.7 50.968 17.092-50.968h31.167l-15.071 91.056m354.97-32.996c-2.037-.238-2.941-.301-4.342-.301-11.041 0-16.634 3.787-16.634 11.268 0 4.611 2.726 7.545 6.983 7.545 7.94 0 13.664-7.559 13.993-18.512zm14.184 32.996h-16.146l.366-7.676c-4.926 6.065-11.5 8.949-20.422 8.949-10.565 0-17.8-8.25-17.8-20.229 0-18.024 12.588-28.541 34.213-28.541 2.208 0 5.037.199 7.934.57.604-2.441.763-3.488.763-4.801 0-4.908-3.392-6.737-12.496-6.737-9.533-.108-17.387 2.271-20.629 3.333.204-1.229 2.709-16.659 2.709-16.659 9.712-2.846 16.112-3.917 23.313-3.917 16.74 0 25.604 7.513 25.587 21.712.032 3.805-.597 8.5-1.579 14.671-1.684 10.734-5.321 33.721-5.813 39.325zm-220.39-1.125c-5.333 1.679-9.491 2.398-14 2.398-9.962 0-15.399-5.725-15.399-16.267-.142-3.271 1.433-11.88 2.671-19.737 1.125-6.917 8.449-50.529 8.449-50.529h19.371l-2.263 11.208h11.699l-2.642 17.796h-11.742c-2.25 14.083-5.454 31.625-5.491 33.95 0 3.816 2.037 5.483 6.671 5.483 2.221 0 3.94-.227 5.254-.7l-2.578 16.398m59.392-.6c-6.654 2.034-13.075 3.017-19.879 3-21.684-.021-32.987-11.346-32.987-33.032 0-25.313 14.38-43.947 33.899-43.947 15.971 0 26.171 10.433 26.171 26.796 0 5.429-.7 10.729-2.388 18.212h-38.574c-1.305 10.741 5.57 15.217 16.837 15.217 6.935 0 13.188-1.429 20.142-4.663l-3.221 18.417zm-10.888-43.9c.107-1.543 2.055-13.217-9.013-13.217-6.171 0-10.583 4.704-12.38 13.217h21.393zm-123.42-5.017c0 9.367 4.542 15.826 14.842 20.676 7.892 3.709 9.112 4.81 9.112 8.17 0 4.617-3.479 6.701-11.191 6.701-5.813 0-11.221-.908-17.458-2.922 0 0-2.563 16.321-2.68 17.102 4.43.967 8.38 1.861 20.279 2.19 20.563 0 30.059-7.829 30.059-24.75 0-10.175-3.976-16.146-13.737-20.634-8.171-3.75-9.108-4.587-9.108-8.045 0-4.004 3.237-6.046 9.537-6.046 3.825 0 9.05.408 14 1.112l2.775-17.175c-5.046-.8-12.696-1.442-17.15-1.442-21.801.001-29.347 11.388-29.28 25.063m229.09-23.116c5.412 0 10.458 1.421 17.412 4.921l3.188-19.763c-2.854-1.121-12.904-7.7-21.417-7.7-13.041 0-24.065 6.471-31.82 17.15-11.309-3.746-15.958 3.825-21.657 11.367l-5.063 1.179c.383-2.483.729-4.95.612-7.446h-17.896c-2.445 22.917-6.778 46.128-10.171 69.075l-.884 4.976h19.496c3.254-21.143 5.037-34.68 6.121-43.842l7.341-4.084c1.097-4.078 4.529-5.458 11.417-5.291a82.974 82.974 0 00-1.383 15.184c0 24.225 13.07 39.308 34.05 39.308 5.404 0 10.041-.712 17.221-2.658l3.43-20.759c-6.458 3.181-11.759 4.677-16.559 4.677-11.329 0-18.184-8.363-18.184-22.185 0-20.051 10.196-34.109 24.746-34.109"}),r.a.createElement("path",{d:"M185.21 297.24h-19.491l11.171-69.988-24.926 69.988h-13.283l-1.642-69.588-11.733 69.588h-18.241l15.237-91.042h28.021l.788 56.362 18.904-56.362h30.267L185.21 297.24",fill:"#fff"}),r.a.createElement("path",{d:"M647.52 211.6l-4.321 26.309c-5.329-7.013-11.054-12.088-18.612-12.088-9.833 0-18.783 7.455-24.642 18.425-8.158-1.692-16.597-4.563-16.597-4.563l-.004.067c.658-6.134.921-9.875.862-11.146h-17.9c-2.438 22.917-6.771 46.128-10.157 69.075l-.893 4.976h19.492c2.633-17.096 4.648-31.291 6.133-42.551 6.658-6.016 9.992-11.266 16.721-10.916-2.979 7.205-4.725 15.503-4.725 24.017 0 18.513 9.366 30.725 23.533 30.725 7.142 0 12.621-2.462 17.967-8.171l-.913 6.884h18.435l14.842-91.042-19.221-.001zm-24.371 73.941c-6.634 0-9.983-4.908-9.983-14.596 0-14.555 6.271-24.875 15.112-24.875 6.695 0 10.32 5.104 10.32 14.509.001 14.679-6.37 24.962-15.449 24.962z"}),r.a.createElement("path",{d:"M233.19 264.26c-2.042-.236-2.946-.299-4.346-.299-11.046 0-16.634 3.787-16.634 11.266 0 4.604 2.729 7.547 6.979 7.547 7.947-.001 13.668-7.559 14.001-18.514zm14.178 32.984h-16.146l.367-7.663c-4.921 6.054-11.5 8.95-20.421 8.95-10.567 0-17.805-8.25-17.805-20.229 0-18.032 12.592-28.542 34.217-28.542 2.208 0 5.042.2 7.938.571.604-2.441.763-3.487.763-4.808 0-4.909-3.392-6.729-12.496-6.729-9.537-.108-17.396 2.271-20.629 3.321.204-1.225 2.7-16.637 2.7-16.637 9.708-2.858 16.12-3.929 23.32-3.929 16.737 0 25.604 7.517 25.588 21.704.029 3.821-.604 8.513-1.584 14.675-1.687 10.724-5.319 33.724-5.812 39.316zm261.38-88.592l-3.191 19.767c-6.95-3.496-12-4.92-17.407-4.92-14.551 0-24.75 14.058-24.75 34.106 0 13.821 6.857 22.181 18.184 22.181 4.8 0 10.096-1.492 16.554-4.675l-3.421 20.75c-7.184 1.957-11.816 2.67-17.225 2.67-20.977 0-34.051-15.084-34.051-39.309 0-32.55 18.059-55.3 43.888-55.3 8.507.001 18.561 3.609 21.419 4.73m31.443 55.608c-2.041-.236-2.941-.299-4.347-.299-11.041 0-16.633 3.787-16.633 11.266 0 4.604 2.729 7.547 6.983 7.547 7.938-.001 13.663-7.559 13.997-18.514zm14.178 32.984h-16.15l.371-7.663c-4.925 6.054-11.5 8.95-20.421 8.95-10.563 0-17.804-8.25-17.804-20.229 0-18.032 12.596-28.542 34.212-28.542 2.213 0 5.042.2 7.941.571.601-2.441.763-3.487.763-4.808 0-4.909-3.393-6.729-12.495-6.729-9.533-.108-17.396 2.271-20.63 3.321.204-1.225 2.704-16.637 2.704-16.637 9.709-2.858 16.116-3.929 23.316-3.929 16.741 0 25.604 7.517 25.583 21.704.033 3.821-.596 8.513-1.579 14.675-1.682 10.724-5.323 33.724-5.811 39.316zm-220.39-1.121c-5.338 1.679-9.496 2.408-14 2.408-9.962 0-15.399-5.726-15.399-16.268-.138-3.279 1.438-11.88 2.675-19.736 1.12-6.926 8.445-50.534 8.445-50.534h19.368l-2.26 11.212h9.941l-2.646 17.788h-9.975c-2.25 14.092-5.463 31.62-5.496 33.95 0 3.83 2.041 5.482 6.671 5.482 2.221 0 3.938-.216 5.254-.691l-2.578 16.389m59.391-.592c-6.65 2.033-13.079 3.012-19.879 3-21.685-.021-32.987-11.346-32.987-33.033 0-25.321 14.379-43.95 33.899-43.95 15.971 0 26.171 10.429 26.171 26.8 0 5.434-.7 10.733-2.384 18.212h-38.574c-1.306 10.741 5.569 15.222 16.837 15.222 6.93 0 13.188-1.435 20.138-4.677l-3.221 18.426zm-10.891-43.912c.116-1.538 2.06-13.217-9.013-13.217-6.167 0-10.579 4.717-12.375 13.217h21.388zm-123.42-5.005c0 9.367 4.542 15.818 14.842 20.675 7.892 3.709 9.112 4.812 9.112 8.172 0 4.616-3.483 6.699-11.188 6.699-5.816 0-11.225-.908-17.467-2.921 0 0-2.554 16.321-2.671 17.101 4.421.967 8.375 1.85 20.275 2.191 20.566 0 30.059-7.829 30.059-24.746 0-10.18-3.971-16.15-13.737-20.637-8.167-3.759-9.113-4.584-9.113-8.046 0-4 3.246-6.059 9.542-6.059 3.821 0 9.046.421 14.004 1.125l2.771-17.179c-5.042-.8-12.692-1.441-17.146-1.441-21.804 0-29.346 11.379-29.283 25.066m398.45 50.63h-18.438l.917-6.893c-5.347 5.717-10.825 8.18-17.968 8.18-14.166 0-23.528-12.213-23.528-30.726 0-24.63 14.521-45.392 31.708-45.392 7.559 0 13.279 3.087 18.604 10.096l4.325-26.308h19.221l-14.841 91.043zm-28.746-17.109c9.075 0 15.45-10.283 15.45-24.953 0-9.405-3.629-14.509-10.325-14.509-8.837 0-15.115 10.315-15.115 24.875-.001 9.686 3.357 14.587 9.99 14.587zm-56.842-56.929c-2.441 22.917-6.773 46.13-10.162 69.063l-.892 4.976h19.491c6.972-45.275 8.658-54.117 19.588-53.009 1.742-9.267 4.982-17.383 7.399-21.479-8.163-1.7-12.721 2.913-18.688 11.675.471-3.788 1.333-7.467 1.162-11.225l-17.898-.001m-160.42 0c-2.446 22.917-6.779 46.13-10.167 69.063l-.888 4.976h19.5c6.963-45.275 8.646-54.117 19.57-53.009 1.75-9.267 4.991-17.383 7.399-21.479-8.154-1.7-12.717 2.913-18.679 11.675.471-3.788 1.324-7.467 1.162-11.225l-17.897-.001m254.57 68.241a5.792 5.792 0 015.784-5.799h.012a5.79 5.79 0 015.796 5.783v.016a5.799 5.799 0 01-5.796 5.797 5.799 5.799 0 01-5.796-5.797zm5.796 4.405a4.4 4.4 0 004.403-4.399v-.004a4.403 4.403 0 00-4.399-4.408h-.004a4.41 4.41 0 00-4.408 4.408 4.408 4.408 0 004.408 4.403zm-.784-1.871h-1.188v-5.082h2.153c.446 0 .909.009 1.296.254.417.283.654.767.654 1.274 0 .575-.337 1.112-.888 1.317l.941 2.236h-1.32l-.779-2.009h-.87l.001 2.01zm0-2.879h.653c.246 0 .513.019.729-.1.196-.125.296-.361.296-.588a.668.668 0 00-.287-.523c-.204-.117-.542-.084-.763-.084h-.629l.001 1.295z",fill:"#fff"})),r.a.createElement("svg",{style:{filter:"grayScale(".concat("amex"===n?0:1,")")},viewBox:"0 0 780 500"},r.a.createElement("path",{d:"M575.61 145.11l-15.092 35.039h30.266L575.61 145.11zm-174.15 21.713c2.845-1.422 4.52-4.515 4.52-8.356 0-3.764-1.76-6.49-4.604-7.771-2.591-1.42-6.577-1.584-10.399-1.584h-27v19.523h26.638c4.266.001 7.831-.059 10.845-1.812zM55.49 145.11l-14.921 35.039h29.932L55.49 145.11zm694.7 224.47h-42.344v-18.852h42.173c4.181 0 7.109-.525 8.872-2.178 1.667-1.473 2.609-3.555 2.592-5.732 0-2.562-1.062-4.596-2.68-5.813-1.588-1.342-3.907-1.953-7.726-1.953-20.588-.67-46.273.609-46.273-27.211 0-12.75 8.451-26.172 31.461-26.172h43.677v-17.492h-40.58c-12.246 0-21.144 2.81-27.443 7.181v-7.181h-60.022c-9.597 0-20.863 2.279-26.191 7.181v-7.181h-107.19v7.181c-8.529-5.897-22.925-7.181-29.565-7.181h-70.702v7.181c-6.747-6.262-21.758-7.181-30.902-7.181H308.22l-18.104 18.775-16.959-18.775h-118.2v122.68h115.97l18.655-19.076 17.575 19.076 71.484.06v-28.859h7.03c9.484.146 20.67-.223 30.542-4.311v33.106h58.962v-31.976h2.844c3.628 0 3.988.146 3.988 3.621v28.348h179.12c11.372 0 23.26-2.786 29.841-7.853v7.853h56.817c11.822 0 23.369-1.588 32.154-5.653V358.34c-5.324 7.462-15.707 11.245-29.751 11.245zm-363.58-28.967h-27.36v29.488h-42.618l-27-29.102-28.058 29.102H174.72v-87.914h88.19l26.976 28.818 27.89-28.818h70.064c17.401 0 36.952 4.617 36.952 28.963 0 24.422-19.016 29.463-38.182 29.463zm131.56-3.986c3.097 4.291 3.544 8.297 3.634 16.047v17.428h-22.016v-10.998c0-5.289.533-13.121-3.544-17.209-3.2-3.148-8.086-3.9-16.088-3.9h-23.432v32.107h-22.031v-87.914h50.62c11.105 0 19.188.473 26.384 4.148 6.92 4.006 11.275 9.494 11.275 19.523-.002 14.031-9.769 21.189-15.541 23.389 4.878 1.725 8.866 4.818 10.739 7.379zm90.575-36.258h-51.346v15.982h50.091v17.938h-50.091v17.492l51.346.078v18.242h-73.182v-87.914h73.182v18.182zm56.344 69.731h-42.705v-18.852h42.535c4.16 0 7.109-.527 8.957-2.178 1.507-1.359 2.591-3.336 2.591-5.73 0-2.564-1.174-4.598-2.676-5.818-1.678-1.34-3.993-1.947-7.809-1.947-20.506-.674-46.186.605-46.186-27.213 0-12.752 8.363-26.174 31.35-26.174h43.96v18.709h-40.225c-3.987 0-6.579.146-8.783 1.592-2.405 1.424-3.295 3.535-3.295 6.322 0 3.316 2.04 5.574 4.797 6.549 2.314.771 4.797.996 8.533.996l11.805.309c11.899.273 20.073 2.25 25.04 7.068 4.266 4.232 6.559 9.578 6.559 18.625-.002 18.913-12.335 27.742-34.448 27.742zm-170.06-68.313c-2.649-1.508-6.559-1.588-10.461-1.588h-27.001v19.744h26.64c4.265 0 7.892-.145 10.822-1.812 2.842-1.646 4.543-4.678 4.543-8.438s-1.701-6.482-4.543-7.906zm244.99-1.59c-3.988 0-6.641.145-8.873 1.588-2.314 1.426-3.202 3.537-3.202 6.326 0 3.314 1.953 5.572 4.794 6.549 2.315.771 4.796.996 8.448.996l11.887.303c11.99.285 19.998 2.262 24.879 7.08.889.668 1.423 1.42 2.034 2.174v-25.014h-39.965l-.002-.002zm-352.65 0h-28.59v22.391h28.336c8.424 0 13.663-4.006 13.667-11.611-.004-7.688-5.497-10.78-13.413-10.78zm-190.81 0v15.984h48.136v17.938h-48.136v17.49h53.909l25.047-25.791-23.983-25.621h-54.973zm140.77 61.479v-70.482l-33.664 34.674 33.664 35.808zm-138.93-141.15v15.148h183.19l-.085-32.046h3.545c2.483.083 3.205.302 3.205 4.229v27.818h94.748v-7.461c7.642 3.924 19.527 7.461 35.168 7.461h39.86l8.531-19.522h18.913l8.342 19.522h76.811v-18.544l11.629 18.543h61.555v-122.58h-60.915v14.477l-8.53-14.477h-62.507v14.477l-7.833-14.477h-84.434c-14.135 0-26.555 1.89-36.591 7.158v-7.158h-58.268v7.158c-6.387-5.43-15.089-7.158-24.762-7.158h-212.87l-14.282 31.662-14.668-31.662H91.104v14.477l-7.367-14.477h-57.18L.004 171.378v46.621l39.264-87.894h32.579l37.29 83.217v-83.217h35.789l28.695 59.625 26.362-59.625h36.507v87.894h-22.475l-.082-68.837-31.796 68.837h-19.252l-31.877-68.898v68.898h-44.6l-8.425-19.605H32.329l-8.512 19.605H.003v17.682h37.466l8.447-19.523H64.83l8.425 19.523h73.713v-14.927l6.579 14.989h38.266l6.58-15.214zm288.67-80.176c7.085-7.015 18.188-10.25 33.298-10.25h21.227v18.833h-20.782c-7.998 0-12.521 1.14-16.871 5.208-3.74 3.7-6.304 10.696-6.304 19.908 0 9.417 1.955 16.206 6.028 20.641 3.376 3.478 9.513 4.533 15.283 4.533h9.851l30.902-69.12h32.853l37.124 83.134v-83.133h33.386l38.543 61.213v-61.213h22.46v87.891h-31.072l-41.562-65.968v65.968h-44.656l-8.532-19.605h-45.55l-8.278 19.605h-25.66c-10.657 0-24.151-2.258-31.793-9.722-7.707-7.462-11.713-17.571-11.713-33.553-.004-13.037 2.389-24.953 11.818-34.37zm-45.101-10.249h22.372v87.894h-22.372v-87.894zm-100.87 0h50.432c11.203 0 19.464.285 26.553 4.21 6.936 3.926 11.095 9.658 11.095 19.46 0 14.015-9.763 21.254-15.448 23.429 4.796 1.75 8.896 4.841 10.849 7.401 3.096 4.372 3.629 8.277 3.629 16.126v17.267h-22.115l-.083-11.084c0-5.29.528-12.896-3.461-17.122-3.203-3.09-8.088-3.763-15.983-3.763h-23.538v31.97h-21.927l-.003-87.894zm-88.393 0h73.249v18.303h-51.32v15.843h50.088v18.017h-50.088v17.553h51.32v18.177h-73.249v-87.893z",fill:"#2557D6"})),r.a.createElement("svg",{style:{filter:"grayScale(".concat("discover"===n?0:1,")")},viewBox:"0 0 780 500"},r.a.createElement("path",{d:"M409.41 197.26c30.938 0 56.02 23.58 56.02 52.709v.033c0 29.129-25.082 52.742-56.02 52.742-30.941 0-56.022-23.613-56.022-52.742v-.033c0-29.129 25.081-52.709 56.022-52.709z",fill:"#F47216"}),r.a.createElement("path",{d:"M321.43 197.94c8.836 0 16.247 1.785 25.27 6.09v22.753c-8.544-7.863-15.955-11.154-25.757-11.154-19.265 0-34.413 15.015-34.413 34.051 0 20.074 14.681 34.195 35.368 34.195 9.312 0 16.586-3.12 24.802-10.856v22.764c-9.343 4.142-16.912 5.775-25.757 5.775-31.277 0-55.581-22.597-55.581-51.736-.002-28.83 24.949-51.882 56.068-51.882zm-97.113.626c11.546 0 22.109 3.721 30.942 10.994l-10.748 13.248c-5.351-5.646-10.411-8.027-16.563-8.027-8.854 0-15.301 4.744-15.301 10.988 0 5.354 3.618 8.188 15.944 12.481 23.364 8.043 30.289 15.176 30.289 30.926 0 19.193-14.976 32.554-36.319 32.554-15.631 0-26.993-5.795-36.457-18.871l13.268-12.03c4.73 8.608 12.622 13.223 22.42 13.223 9.163 0 15.947-5.95 15.947-13.983 0-4.164-2.056-7.733-6.158-10.258-2.066-1.195-6.158-2.978-14.199-5.646-19.292-6.538-25.91-13.527-25.91-27.186-.001-16.227 14.213-28.413 32.845-28.413zm234.72 1.729h22.436l28.084 66.592 28.447-66.592h22.267l-45.493 101.69h-11.054l-44.687-101.69zm-301.21.152h20.541v99.143h-20.541v-99.143zm411.73 0h58.253v16.799h-37.726v22.006h36.336v16.791h-36.336v26.762h37.726v16.785h-58.253v-99.143zm115.59 57.377c15.471-2.965 23.983-12.926 23.983-28.105 0-18.562-13.575-29.271-37.266-29.271H641.41v99.144h20.516v-39.83h2.681l28.43 39.828h25.26l-33.15-41.766zm-17.218-11.736h-6.002v-30.025h6.326c12.791 0 19.744 5.049 19.744 14.697.002 9.967-6.951 15.328-20.068 15.328zm-576.09-45.641H61.69v99.143h29.992c15.946 0 27.465-3.543 37.573-11.445 12.014-9.359 19.117-23.467 19.117-38.057.001-29.259-23.221-49.641-56.533-49.641zm23.997 74.479c-6.454 5.484-14.837 7.879-28.108 7.879h-5.514v-65.559h5.513c13.271 0 21.323 2.238 28.108 8.018 7.104 5.956 11.377 15.184 11.377 24.682.001 9.513-4.273 19.024-11.376 24.98z"})),r.a.createElement("svg",{style:{filter:"grayScale(".concat("diners"===n?0:1,")")},viewBox:"0 0 780 500"},r.a.createElement("path",{d:"M599.93 251.45c0-99.416-82.979-168.13-173.9-168.1h-78.241c-92.003-.033-167.73 68.705-167.73 168.1 0 90.931 75.729 165.64 167.73 165.2h78.241c90.913.437 173.9-74.293 173.9-165.2z",fill:"#0079BE"}),r.a.createElement("path",{d:"M348.28 97.432c-84.069.026-152.19 68.308-152.22 152.58.021 84.258 68.145 152.53 152.22 152.56 84.088-.025 152.23-68.301 152.24-152.56-.011-84.274-68.15-152.55-152.24-152.58z",fill:"#fff"}),r.a.createElement("path",{d:"M252.07 249.6c.08-41.18 25.747-76.296 61.94-90.25v180.48c-36.193-13.946-61.861-49.044-61.94-90.229zm131 90.275v-180.52c36.208 13.921 61.915 49.057 61.98 90.256-.066 41.212-25.772 76.322-61.98 90.269z",fill:"#0079BE"})))}},"./src/pieces/payment/credit-card.scss":function(e,t,n){e.exports={creditCard:"credit-card__creditCard___1btA3",content:"credit-card__content___2YCzc",smallContent:"credit-card__smallContent___281ul credit-card__content___2YCzc",header:"credit-card__header___26MDb cash-out__cashOutHeader___SKman",leftHeader:"credit-card__leftHeader___1Tbx4 cash-out__leftHeader___1KMFE",centerHeader:"credit-card__centerHeader___qw1rd cash-out__centerHeader___3iE3I gold-purchase-flow__redesign_tabText___TiWET",rightHeader:"credit-card__rightHeader___3NTRD cash-out__rightHeader___3E3m2",backButton:"credit-card__backButton___hRw1z buttons__svgOnlyButtonWithAlternateDarkTheme___1CQVP buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",message:"credit-card__message___1YkFl",errorMessage:"credit-card__errorMessage___osQF6 credit-card__message___1YkFl",closeButton:"credit-card__closeButton___2SJPh buttons__unstyledButton___olg-i"}},"./src/pieces/payment/credit-card.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/reselect/lib/index.js"),c=n("./src/pieces/base/constants.js"),l=n("./src/pieces/payment/stripe.reducer.js"),u=n("./src/pieces/payment/back-arrow-icon.js"),d=n("./src/pieces/payment/stripe-credit-card-form.tsx"),_=n("./src/pieces/base/close-icon.tsx"),m=n("./src/pieces/payment/credit-card.scss"),g=n.n(m),b=(n("./node_modules/bows/bows.js")("Credit-card"),Object(i.a)(Object(o.b)(Object(s.createStructuredSelector)({creditCardFormError:l.selectCreditCardFormError,creditCardFormStep:l.selectCreditCardFormStep}),{ResetStripeForm:l.ResetStripeForm}))),p=function(e){var t=e.creditCardFormError,n=e.handleBackClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g.a.header},r.a.createElement("div",{className:g.a.leftHeader},r.a.createElement("button",{className:g.a.backButton,onClick:n},r.a.createElement(u.a,null))),r.a.createElement("div",{className:g.a.centerHeader},"Error"),r.a.createElement("div",{className:g.a.rightHeader})),r.a.createElement("div",{className:g.a.errorMessage},t||c.d))};t.a=b(function(e){var t=e.creditCardFormError,n=e.creditCardFormStep,i=e.ResetStripeForm,o=e.onRequestClose;Object(a.useEffect)(function(){return i},[]);var s="JustCompleted"===n,c="Failure"===n;return r.a.createElement("div",{className:g.a.creditCard},r.a.createElement("div",{className:s||c?g.a.smallContent:g.a.content},s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g.a.header},r.a.createElement("div",{className:g.a.centerHeader},"done!")),r.a.createElement("div",{className:g.a.message},"Credit card successfully added.")):c?r.a.createElement(p,{creditCardFormError:t,handleBackClick:i}):r.a.createElement("div",null,r.a.createElement("div",{className:g.a.header},r.a.createElement("div",{className:g.a.centerHeader},"Add Credit Card")),r.a.createElement(d.a,{darkTheme:!0}))),r.a.createElement("button",{onClick:o,className:g.a.closeButton},r.a.createElement(_.a,{darkTheme:!0,size:"medium"})))})},"./src/pieces/payment/currency-symbol.scss":function(e,t,n){e.exports={currencySymbol:"currency-symbol__currencySymbol___T4mk5",tiny:"currency-symbol__tiny___2CREe",small:"currency-symbol__small___2DbpD",medium:"currency-symbol__medium___LGKTZ",large:"currency-symbol__large___ycy4p",xlarge:"currency-symbol__xlarge___OCTYM",credit:"currency-symbol__credit___jvEDg",gold:"currency-symbol__gold___3gkXM",redesign_credit:"currency-symbol__redesign_credit___2xIc7",redesign_gold:"currency-symbol__redesign_gold___1C2pQ",redesign_currencySymbol:"currency-symbol__redesign_currencySymbol___kNemA"}},"./src/pieces/payment/currency-symbol.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/classnames/index.js"),o=n.n(i),s=n("./node_modules/lodash/cond.js"),c=n.n(s),l=n("./src/pieces/payment/currency-symbol.scss"),u=n.n(l),d=(n("./node_modules/bows/bows.js")("Currency-symbol"),c()([[function(e){return"medium"==e.size},function(e){var t=e.size,n=e.type;return r.a.createElement("svg",{className:o()(u.a.redesign_currencySymbol,u.a[t],u.a["redesign_".concat(n)]),viewBox:"0 0 12 12"},r.a.createElement("g",{fillRule:"evenodd"},r.a.createElement("path",{d:"M6 0a6 6 0 110 12A6 6 0 016 0zm0 .5a5.5 5.5 0 100 11 5.5 5.5 0 000-11z"}),r.a.createElement("circle",{cx:6,cy:6,r:4.5})))}],[function(e){return"large"==e.size},function(e){var t=e.size,n=e.type;return r.a.createElement("svg",{className:o()(u.a.redesign_currencySymbol,u.a[t],u.a["redesign_".concat(n)]),viewBox:"0 0 16 16"},r.a.createElement("g",{fillRule:"evenodd"},r.a.createElement("path",{d:"M8 0a8 8 0 110 16A8 8 0 018 0zm0 .667a7.333 7.333 0 100 14.666A7.333 7.333 0 008 .667z"}),r.a.createElement("circle",{cx:8,cy:8,r:6})))}]]));t.a=d},"./src/pieces/payment/digital-currency.scss":function(e,t,n){e.exports={digitalCurrency:"digital-currency__digitalCurrency___uK_uK",currencyAmount:"digital-currency__currencyAmount___s77Ki",tiny:"digital-currency__tiny___1oLJL",small:"digital-currency__small___3bAB9",medium:"digital-currency__medium___12oQv",large:"digital-currency__large___3Zc2A",redesign_digitalCurrency:"digital-currency__redesign_digitalCurrency___1pkFY",redesign_digitalCurrencyAmountFirst:"digital-currency__redesign_digitalCurrencyAmountFirst___2sKDf",redesign_digitalCurrencyAmountLast:"digital-currency__redesign_digitalCurrencyAmountLast___LqPyy",redesign_currencyAmountFirst:"digital-currency__redesign_currencyAmountFirst___bGLlj",redesign_currencyAmountLast:"digital-currency__redesign_currencyAmountLast___2L_WS"}},"./src/pieces/payment/digital-currency.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./src/pieces/payment/digital-currency.scss"),u=n.n(l),d=n("./src/pieces/payment/currency-symbol.tsx");n("./node_modules/bows/bows.js")("Digital-currency");t.a=function(e){var t,n=e.type,a=void 0===n?"gold":n,i=e.size,s=void 0===i?"medium":i,l=e.displayAmountFirst,_=void 0!==l&&l,m=e.amount,g=e.amountClassName;e.dudleyComponentName,"".concat(a[0].toUpperCase()).concat(a.slice(1));return o.a.createElement("div",{className:c()(u.a.redesign_digitalCurrency,u.a[s],(t={},r()(t,u.a.redesign_digitalCurrencyAmountFirst,_),r()(t,u.a.redesign_digitalCurrencyAmountLast,!_),t))},_?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:c()(u.a.redesign_currencyAmountFirst,g)},m.toLocaleString()),o.a.createElement(d.a,{size:s,type:a})):o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{size:s,type:a}),o.a.createElement("div",{className:c()(u.a.redesign_currencyAmountLast,g)},m.toLocaleString())))}},"./src/pieces/payment/digital-item-chooser.scss":function(e,t,n){e.exports={digitalItemChooser:"digital-item-chooser__digitalItemChooser___CiBwZ",digitalItemChooserHeader:"digital-item-chooser__digitalItemChooserHeader___hyVXT",buyGoldButton:"digital-item-chooser__buyGoldButton___1n7yj buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",userWallet:"digital-item-chooser__userWallet___1rehP",leftWalletSection:"digital-item-chooser__leftWalletSection___2F9dK",rightWalletSection:"digital-item-chooser__rightWalletSection___3EVti",centerSection:"digital-item-chooser__centerSection___k3-MQ",digitalItemCategories:"digital-item-chooser__digitalItemCategories___1RnCx",digitalItemCategory:"digital-item-chooser__digitalItemCategory___RB9QW buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",active:"digital-item-chooser__active___L6MJI",digitalItemsList:"digital-item-chooser__digitalItemsList___1Q_wc",digitalItemsListContent:"digital-item-chooser__digitalItemsListContent___6n6UM",digitalItem:"digital-item-chooser__digitalItem___g6jXQ buttons__unstyledButton___olg-i",digitalItemPreview:"digital-item-chooser__digitalItemPreview___1tpfb",digitalItemName:"digital-item-chooser__digitalItemName___10rzC",goldCostContainer:"digital-item-chooser__goldCostContainer___3vzR_",maintenanceModeMessage:"digital-item-chooser__maintenanceModeMessage___3mu-x maintenance-mode__maintenanceModeMessage___-MjFa",loadingMessageContainer:"digital-item-chooser__loadingMessageContainer___qhha9",redesign_scrollMenuWrapper:"digital-item-chooser__redesign_scrollMenuWrapper___K_ETT",redesign_scrollMenuOuter:"digital-item-chooser__redesign_scrollMenuOuter___2Ofey",redesign_scrollMenuInner:"digital-item-chooser__redesign_scrollMenuInner___1kiHu",redesign_digitalItem:"digital-item-chooser__redesign_digitalItem___vid_H buttons__unstyledButton___olg-i",redesign_goldCostContainer:"digital-item-chooser__redesign_goldCostContainer___2pfZy",redesign_scrollMenuArrowButtonWrapper:"digital-item-chooser__redesign_scrollMenuArrowButtonWrapper___1HpRq",redesign_scrollMenuArrowButton:"digital-item-chooser__redesign_scrollMenuArrowButton___2EXCs buttons__unstyledButton___olg-i",redesign_shadow:"digital-item-chooser__redesign_shadow___M8e0a",redesign_shadowLeft:"digital-item-chooser__redesign_shadowLeft___35RyP digital-item-chooser__redesign_shadow___M8e0a",redesign_shadowRight:"digital-item-chooser__redesign_shadowRight___1uS_2 digital-item-chooser__redesign_shadow___M8e0a",redesign_scrollMenuArrow:"digital-item-chooser__redesign_scrollMenuArrow___2WsUg",redesign_scrollMenuArrowDisabled:"digital-item-chooser__redesign_scrollMenuArrowDisabled___1Vz2F",redesign_paginationWrapper:"digital-item-chooser__redesign_paginationWrapper___2S1_B",redesign_paginationDot:"digital-item-chooser__redesign_paginationDot___Tnu7A",redesign_digitalItemChooserContainer:"digital-item-chooser__redesign_digitalItemChooserContainer___54KBE",redesign_digitalItemChooser:"digital-item-chooser__redesign_digitalItemChooser___1gUPL",redesign_digitalItemBox:"digital-item-chooser__redesign_digitalItemBox___6Ssb-",redesign_digitalItemChooserHeader:"digital-item-chooser__redesign_digitalItemChooserHeader___3yyz-",redesign_leftHeaderSection:"digital-item-chooser__redesign_leftHeaderSection___11U0A",redesign_centerHeaderSection:"digital-item-chooser__redesign_centerHeaderSection___P1WRb",redesign_rightHeaderSection:"digital-item-chooser__redesign_rightHeaderSection___1Qm_V",redesign_buyGoldSection:"digital-item-chooser__redesign_buyGoldSection___2koJS",redesign_buyGoldText:"digital-item-chooser__redesign_buyGoldText___2a0P4",redesign_walletBuyGoldButton:"digital-item-chooser__redesign_walletBuyGoldButton___2mkKB",redesign_digitalItemPreview:"digital-item-chooser__redesign_digitalItemPreview____DK6L",redesign_rightWalletSection:"digital-item-chooser__redesign_rightWalletSection___iHjdn",redesign_modalContent:"digital-item-chooser__redesign_modalContent___3NnbZ",redesign_modalOverlay:"digital-item-chooser__redesign_modalOverlay___34l1Z"}},"./src/pieces/payment/digital-item-chooser.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(s),l=n("./node_modules/recompose/dist/Recompose.esm.js"),u=n("./node_modules/lodash.clamp/index.js"),d=n.n(u),_=n("./node_modules/react-redux/es/index.js"),m=n("./node_modules/reselect/lib/index.js"),g=n("./node_modules/react/index.js"),b=n("./node_modules/framer-motion/dist/framer-motion.es.js"),p=n("./src/pieces/base/window-resize-tracker.js"),f=n("./node_modules/react-modal/lib/index.js"),h=n.n(f),v=n("./node_modules/idx/lib/idx.js"),w=n.n(v),C=n("./node_modules/classnames/index.js"),y=n.n(C),j=n("./src/pieces/base/create-image-url.js"),O=n("./src/pieces/payment/digital-items.reducer.js"),S=n("./src/pieces/current-user/current-user.reducer.js"),E=n("./src/pieces/base/loading-indicator.js"),x=n("./src/pieces/payment/digital-currency.tsx"),k=n("./src/pieces/payment/gold-purchase-flow.tsx"),I=n("./src/pieces/payment/digital-item-failure-message.tsx"),T=n("./src/pieces/stage/reactions/reaction-box.tsx"),F=n("./src/pieces/payment/digital-item-purchase.tsx"),P=n("./src/pieces/payment/digital-item-chooser.scss"),N=n.n(P);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}n("./node_modules/bows/bows.js")("Digital-item-chooser");var L=Object(l.a)(Object(_.b)(Object(m.createStructuredSelector)({isInMaintenanceMode:O.selectIsInMaintenanceMode,digitalItems:O.selectDigitalItems,digitalItemCategories:O.selectDigitalItemCategories,digitalItemPickerStep:O.selectDigitalItemPickerStep,goldPurchaseFlowStep:O.selectGoldPurchaseFlowStep,chosenDigitalItemCategoryId:O.selectChosenDigitalItemCategoryId,wallet:S.selectCurrentUserWallet}),{InitializeDigitalItemPicker:O.InitializeDigitalItemPicker,PurchaseGoldFromBrowsingStep:O.PurchaseGoldFromBrowsingStep,ChooseDigitalItemCategory:O.ChooseDigitalItemCategory,ChooseDigitalItem:O.ChooseDigitalItem,ReturnToBrowsingStep:O.ReturnToBrowsingStep,FetchCurrentUserWallet:S.FetchCurrentUserWallet,TrackPropTrayImpression:O.TrackPropTrayImpression})),B={initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{type:"spring",velocity:100,damping:15}},A={initial:{y:"100%"},animate:{y:"0%"},exit:{y:"120%",transition:{type:"spring"}},transition:{type:"spring",velocity:100,damping:15}},D={initial:{x:"150%"},animate:{x:"0%"},exit:{x:"150%"},transition:{type:"spring",velocity:100,damping:15}},U={initial:{y:"-200%",opacity:1},animate:{y:"0%",opacity:1},exit:{y:"-200%",opacity:0},transition:{type:"spring",velocity:100,damping:15}},R={initial:{y:"-200%"},animate:{y:"0%"},exit:{y:"-200%"}},H={auto:"webp",fit:"bounds",width:56,height:56},W=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){c()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},H,{dpr:2}),V=function(){return e.createElement("div",{className:N.a.loadingMessageContainer},e.createElement(E.a,{size:"medium",darkTheme:!0}))},z=function(t){var n=t.wallet,a=t.PurchaseGoldFromBrowsingStep,i=t.goldPurchaseFlowStep,s=Object(g.useState)(!1),c=o()(s,2),l=c[0],u=c[1],d=Object(g.useCallback)(function(){a()},[a]);return Object(g.useEffect)(function(){l||"Success"!==i||(u(!0),setTimeout(function(){return u(!1)},5e3))},[i,u,l]),e.createElement("div",{className:N.a.redesign_digitalItemChooserHeader},e.createElement("div",{className:N.a.redesign_leftHeaderSection}),e.createElement(b.b.div,r()({},U,{className:N.a.redesign_centerHeaderSection}),e.createElement(b.a,{exitBeforeEnter:!0},l?e.createElement(b.b.span,r()({},R,{key:"thankyou"}),"Thank you for your purchase!"):e.createElement(b.b.span,r()({},R,{key:"default"}),"give props"))),e.createElement("div",{className:N.a.redesign_rightHeaderSection},e.createElement(b.b.button,r()({},D,{className:N.a.redesign_buyGoldSection,onClick:d}),e.createElement("div",{className:N.a.redesign_buyGoldText},"buy gold"),n&&e.createElement(e.Fragment,null,e.createElement("div",{className:N.a.redesign_walletBuyGoldButton},e.createElement(x.a,{size:"medium",type:"gold",amount:n.gold})),e.createElement("div",{className:N.a.redesign_walletBuyGoldButton},e.createElement(x.a,{size:"medium",type:"credit",amount:n.credits}))))))},G=function(t){var n=t.page,a=t.total,r=t.handlePaginate;return e.createElement("div",{className:N.a.redesign_paginationWrapper},Array(a).fill(null).map(function(t,a){return e.createElement(b.b.svg,{key:a,viewBox:"0 0 10 10",animate:{fill:a+1===n?"#00FFFF":"#9696be"},whileHover:{fill:a+1!==n?"#dcdcdc":"#00FFFF"},whileTap:{scale:a+1!==n?.8:1},fill:"#9696be",role:"button",className:N.a.redesign_paginationDot,onClick:function(){return r(a+1)}},e.createElement("circle",{cx:5,cy:5,r:5}))}))},q=function(t){var n,a=t.isRight,r=void 0!==a&&a,i=t.page,o=t.total,s=r?i===o:1===i;return e.createElement(b.b.div,{whileTap:{scale:.99},className:y()((n={},c()(n,N.a.redesign_scrollMenuArrow,!0),c()(n,N.a.redesign_scrollMenuArrowDisabled,s),n))},e.createElement("svg",{width:21,height:49},e.createElement("g",{fillRule:"evenodd"},r?e.createElement("path",{d:"M20.5 24.75a4 4 0 10-8 0 4 4 0 008 0M8.5 4.75a4 4 0 10-8 0 4 4 0 008 0M8.5 44.75a4 4 0 10-8 0 4 4 0 008 0M14.5 34.75a4 4 0 10-8 0 4 4 0 008 0M14.5 14.75a4 4 0 10-8 0 4 4 0 008 0"}):e.createElement("path",{d:"M.5 24.75a4 4 0 118 0 4 4 0 01-8 0M12.5 4.75a4 4 0 118 0 4 4 0 01-8 0M12.5 44.75a4 4 0 118 0 4 4 0 01-8 0M6.5 34.75a4 4 0 118 0 4 4 0 01-8 0M6.5 14.75a4 4 0 118 0 4 4 0 01-8 0"}))))},J=function(t){var n=t.digitalItems,a=t.chosenDigitalItemCategoryId,r=t.ChooseDigitalItem,i=Object(g.useState)(window.innerWidth),s=o()(i,2),c=s[0],l=s[1],u=Object(g.useState)(1),_=o()(u,2),m=_[0],f=_[1],h=Object(g.useState)(2),v=o()(h,2),C=v[0],y=v[1],O=Object(g.useState)(0),S=o()(O,2),E=S[0],k=S[1],I=Object(b.d)(0),T=(m-1)*(-1*c+100),F=100*n.length*-1+c-50,P=Object(g.useCallback)(function(e){f("number"===typeof e?e:e?m<C?m+1:m:m>1?m-1:m)},[m,C]),M=Object(g.useCallback)(function(e){I.set(d()(I.get()-(e.deltaX+e.deltaY)/2,F,0))},[]),L=Object(g.useCallback)(function(e){return function(){Date.now()-E>500&&r(e)}},[E]);return Object(g.useEffect)(function(){var e=function(e){var t=e.width;l(t)},t=function(e){37!==e.keyCode&&39!==e.keyCode||P(39===e.keyCode)};return window.addEventListener("keydown",t),p.a.addEventListener(e),function(){p.a.removeEventListener(e),window.removeEventListener("keydown",t)}},[P]),Object(g.useEffect)(function(){m>C&&f(C);var e=Math.ceil(100*n.length/(c-100));y(e)},[c,n,m,C]),e.createElement("div",{className:N.a.redesign_scrollMenuWrapper},e.createElement("div",{className:N.a.redesign_scrollMenuOuter,onWheel:M},e.createElement(b.b.div,{drag:"x",dragConstraints:{left:F,right:0},onDragEnd:function(){return k(Date.now())},initial:{x:0},animate:{x:m!==C?T:F},style:{x:I},transition:{type:"spring",stiffness:100,damping:20},className:N.a.redesign_scrollMenuInner},n.filter(function(e){return!a||e.categoryId===a}).map(function(t){return e.createElement("button",{className:N.a.redesign_digitalItem,key:t.id,onClick:L(t)},e.createElement("img",{className:N.a.redesign_digitalItemPreview,alt:t.name,src:"".concat(Object(j.a)(w()(t,function(e){return e.staticImagePath}),H)),srcSet:"".concat(Object(j.a)(w()(t,function(e){return e.staticImagePath}),W)," 2x")}),e.createElement("div",{className:N.a.redesign_goldCostContainer},e.createElement(x.a,{size:"medium",type:"gold",amount:t.goldCost})))}))),e.createElement("div",{className:N.a.redesign_scrollMenuArrowButtonWrapper},e.createElement("button",{className:N.a.redesign_scrollMenuArrowButton,onClick:function(){return P(!1)}},e.createElement(q,{page:m,total:C})),e.createElement("button",{className:N.a.redesign_scrollMenuArrowButton,onClick:function(){return P(!0)}},e.createElement(q,{page:m,total:C,isRight:!0}))),e.createElement("div",{className:N.a.redesign_shadowLeft}),e.createElement("div",{className:N.a.redesign_shadowRight}),e.createElement(G,{page:m,total:C,handlePaginate:P}))};t.a=L(function(t){var n=t.FetchCurrentUserWallet,a=t.PurchaseGoldFromBrowsingStep,i=t.ReturnToBrowsingStep,o=t.InitializeDigitalItemPicker,s=t.digitalItemPickerStep,c=t.goldPurchaseFlowStep,l=t.show,u=t.wallet,d=t.digitalItems,_=t.isInMaintenanceMode,m=t.TrackPropTrayImpression;return Object(g.useEffect)(function(){o()},[]),Object(g.useEffect)(function(){l&&(n(),o(),m())},[l]),_?e.createElement("div",{className:N.a.digitalItemChooser},e.createElement("div",{className:N.a.maintenanceModeMessage},"Digital Items are offline for maintenance.",e.createElement("br",null),"Check back soon.")):e.createElement(e.Fragment,null,e.createElement(b.a,null,l&&e.createElement("div",{className:N.a.redesign_digitalItemChooserContainer},e.createElement(z,{wallet:u,PurchaseGoldFromBrowsingStep:a,goldPurchaseFlowStep:c}),e.createElement(b.b.div,r()({},B,{className:N.a.redesign_digitalItemChooser}),d.length?e.createElement(J,t):e.createElement(V,null)))),e.createElement("div",{className:"digital-item-reaction-box",style:{pointerEvents:"Finalizing"===s?"all":"none",zIndex:2}},e.createElement(b.a,null,"Finalizing"===s&&e.createElement("div",{className:N.a.redesign_digitalItemChooserContainer},e.createElement(b.b.div,r()({className:N.a.redesign_digitalItemBox},A),e.createElement(T.a,{className:N.a.redesign_digitalItemBox,height:205,strokeColor:"#00fffd"}),e.createElement(F.a,{showSubmitButton:!1}))))),e.createElement(h.a,{isOpen:"BuyingGoldFromBrowsing"===s||"BuyingGoldFromFinalizing"===s,className:N.a.redesign_modalContent,overlayClassName:N.a.redesign_modalOverlay,onRequestClose:i},e.createElement(k.a,{successButtonMessage:"Browse Items",successButtonAction:i,onRequestClose:i,darkTheme:!0})),e.createElement(I.a,null))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/payment/digital-item-failure-message.scss":function(e,t,n){e.exports={modalContent:"digital-item-failure-message__modalContent___k_PsV",modalOverlay:"digital-item-failure-message__modalOverlay___XZ_hj",digitalItemFailureContainer:"digital-item-failure-message__digitalItemFailureContainer___3pFCm",digitalItemFailureMessage:"digital-item-failure-message__digitalItemFailureMessage___2mGdA popover__failedFlowMessage___2YrdQ",digitalItemFailureMessageTitle:"digital-item-failure-message__digitalItemFailureMessageTitle___3_nIW popover__failedFlowHeaderWithDarkTheme___2Ngsu popover__failedFlowHeader___2fTNi",digitalItemFailureMessageBody:"digital-item-failure-message__digitalItemFailureMessageBody___2AyCb",earmarkedBox:"digital-item-failure-message__earmarkedBox___3bbTX",closeButton:"digital-item-failure-message__closeButton___1DSQO buttons__unstyledButton___olg-i"}},"./src/pieces/payment/digital-item-failure-message.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/react/index.js"),r=n("./node_modules/recompose/dist/Recompose.esm.js"),i=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/reselect/lib/index.js"),s=n("./node_modules/react-modal/lib/index.js"),c=n.n(s),l=n("./node_modules/idx/lib/idx.js"),u=n.n(l),d=n("./src/pieces/base/constants.js"),_=n("./src/pieces/payment/digital-items.reducer.js"),m=n("./src/pieces/stage/stage.reducer.js"),g=n("./src/pieces/stage/stage.types.ts"),b=n("./src/pieces/base/close-icon.tsx"),p=n("./src/pieces/payment/digital-item-failure-message.scss"),f=n.n(p),h=(n("./node_modules/bows/bows.js")("Digital-item-failure-message"),Object(r.a)(Object(i.b)(Object(o.createStructuredSelector)({digitalItemPickerError:_.selectDigitalItemPickerError,digitalItemPickerStep:_.selectDigitalItemPickerStep}),{ReturnToBrowsingStep:_.ReturnToBrowsingStep,SetReactionFrameContent:m.SetReactionFrameContent})));t.a=h(function(t){var n=t.digitalItemPickerError,r=t.digitalItemPickerStep,i=t.ReturnToBrowsingStep,o=t.SetReactionFrameContent,s=Object(a.useCallback)(function(){i(),o(g.b.Gift)},[]);return e.createElement(c.a,{isOpen:"Failure"===r,className:f.a.modalContent,overlayClassName:f.a.modalOverlay,onRequestClose:s},e.createElement("div",{className:f.a.digitalItemFailureContainer},e.createElement("svg",{viewBox:"0 0 720 298",className:f.a.earmarkedBox},e.createElement("path",{fillRule:"nonzero",d:"M 0 0 L 665 0 L 720 50 L720 298 L 0 298 Z"})),e.createElement("div",{className:f.a.digitalItemFailureMessage},e.createElement("div",{className:f.a.digitalItemFailureMessageTitle},"Error"),e.createElement("div",{className:f.a.digitalItemFailureMessageBody},u()(n,function(e){return e.body})||d.d)),e.createElement("button",{onClick:s,className:f.a.closeButton},e.createElement(b.a,{darkTheme:!0,size:"medium"}))))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/payment/digital-item-picker.scss":function(e,t,n){e.exports={digitalItemPicker:"digital-item-picker__digitalItemPicker___171V9",digitalItemsPickerButton:"digital-item-picker__digitalItemsPickerButton___DnCce buttons__unstyledButton___olg-i",buyGoldButton:"digital-item-picker__buyGoldButton___2xmLC buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",digitalItemsPickerButtonInMaintenanceMode:"digital-item-picker__digitalItemsPickerButtonInMaintenanceMode___2sYdL digital-item-picker__digitalItemsPickerButton___DnCce buttons__unstyledButton___olg-i",loadingMessageContainer:"digital-item-picker__loadingMessageContainer___2Omqq",digitalItemFailureMessage:"digital-item-picker__digitalItemFailureMessage___3JXbI popover__failedFlowMessage___2YrdQ",digitalItemFailureMessageTitle:"digital-item-picker__digitalItemFailureMessageTitle___3ho2W popover__failedFlowHeaderWithDarkTheme___2Ngsu popover__failedFlowHeader___2fTNi",digitalItemFailureMessageBody:"digital-item-picker__digitalItemFailureMessageBody___eQTQC",redesign_digitalItemsPickerButton:"digital-item-picker__redesign_digitalItemsPickerButton___2ANcv buttons__unstyledButton___olg-i",redesign_cancelButton:"digital-item-picker__redesign_cancelButton___Z1-_B",redesign_giveButton:"digital-item-picker__redesign_giveButton___20HkF",badging:"digital-item-picker__badging___3N1F7",redesign_digitalItemsPickerButtonHls:"digital-item-picker__redesign_digitalItemsPickerButtonHls___wEPrG digital-item-picker__redesign_digitalItemsPickerButton___2ANcv buttons__unstyledButton___olg-i",giveButton:"digital-item-picker__giveButton___106sl"}},"./src/pieces/payment/digital-item-purchase.scss":function(e,t,n){e.exports={backButton:"digital-item-purchase__backButton___2ZCao buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",digitalItemPurchase:"digital-item-purchase__digitalItemPurchase___4LHur",buyGoldButton:"digital-item-purchase__buyGoldButton___cc1-E buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",userWallet:"digital-item-purchase__userWallet___32BGj",leftWalletSection:"digital-item-purchase__leftWalletSection___Nw4vA",rightWalletSection:"digital-item-purchase__rightWalletSection___PqZjh",digitalItemHeader:"digital-item-purchase__digitalItemHeader___2OOo-",itemPreviewContainer:"digital-item-purchase__itemPreviewContainer___330fl",itemPreview:"digital-item-purchase__itemPreview___103-R",digitalItemName:"digital-item-purchase__digitalItemName___tIW1U",digitalItemQuantityContainer:"digital-item-purchase__digitalItemQuantityContainer___3VA42",goldCostContainer:"digital-item-purchase__goldCostContainer___1o5WR",digitalItemQuantity:"digital-item-purchase__digitalItemQuantity___2iiRj",digitalItemQuantityArrowContainer:"digital-item-purchase__digitalItemQuantityArrowContainer___1jy9q",incrementDigitalItemQuantityButton:"digital-item-purchase__incrementDigitalItemQuantityButton___12dNy buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",decrementDigitalItemQuantityButton:"digital-item-purchase__decrementDigitalItemQuantityButton___3-9NN buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",digitalItemMessageInputContainer:"digital-item-purchase__digitalItemMessageInputContainer___1Aezd",digitalItemMessageInput:"digital-item-purchase__digitalItemMessageInput___4DoSI",avatarContainer:"digital-item-purchase__avatarContainer___-Qlca",inputField:"digital-item-purchase__inputField___17tSq forms__textInputWithDarkTheme___3W9Q_ forms__textInput___1Vogp forms__inputBase___3O5UR",submitButton:"digital-item-purchase__submitButton___25FlV buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",digitalItemQuantityInput:"digital-item-purchase__digitalItemQuantityInput___3tUET forms__textInputWithDarkTheme___3W9Q_ forms__textInput___1Vogp forms__inputBase___3O5UR",redesign_digitalItemPurchase:"digital-item-purchase__redesign_digitalItemPurchase___2wnET",redesign_digitalItemHeader:"digital-item-purchase__redesign_digitalItemHeader___1AH7U",redesign_closeButton:"digital-item-purchase__redesign_closeButton___1x0w8 buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",redesign_itemPreview:"digital-item-purchase__redesign_itemPreview___2G1Si",redesign_digitalItemQuantityContainer:"digital-item-purchase__redesign_digitalItemQuantityContainer___16c4T",redesign_digitalItemQuantity:"digital-item-purchase__redesign_digitalItemQuantity___3JE7C",redesign_digitalItemSpacer:"digital-item-purchase__redesign_digitalItemSpacer___1y3DR",redesign_digitalItemNameContainer:"digital-item-purchase__redesign_digitalItemNameContainer___1fY0F",redesign_incrementDigitalItemQuantityButton:"digital-item-purchase__redesign_incrementDigitalItemQuantityButton___94bRP buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",redesign_decrementDigitalItemQuantityButton:"digital-item-purchase__redesign_decrementDigitalItemQuantityButton___2uKbq buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",redesign_digitalItemQuantityInput:"digital-item-purchase__redesign_digitalItemQuantityInput___12Bob forms__textInputWithDarkTheme___3W9Q_ forms__textInput___1Vogp forms__inputBase___3O5UR",redesign_digitalItemName:"digital-item-purchase__redesign_digitalItemName___hHHej",redesign_goldCostContainer:"digital-item-purchase__redesign_goldCostContainer___8IA7C"}},"./src/pieces/payment/digital-item-purchase.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/recompose/dist/Recompose.esm.js"),c=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/reselect/lib/index.js"),u=n("./node_modules/idx/lib/idx.js"),d=n.n(u),_=n("./src/pieces/base/constants.js"),m=n("./src/pieces/payment/digital-items.reducer.js"),g=n("./src/pieces/stage/reactions/reaction-up-arrow.tsx"),b=n("./src/pieces/payment/digital-currency.tsx"),p=n("./src/pieces/payment/digital-item-purchase.scss"),f=n.n(p),h=n("./src/pieces/base/create-image-url.js"),v=n("./src/pieces/base/close-icon.tsx");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}n("./node_modules/bows/bows.js")("Digital-item-purchase");var C={auto:"webp",fit:"bounds",width:90,height:90},y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},C,{dpr:2}),j=Object(s.a)(Object(c.b)(Object(l.createStructuredSelector)({chosenDigitalItem:m.selectChosenDigitalItem,digitalItemQuantity:m.selectDigitalItemQuantity,digitalItemMessage:m.selectDigitalItemMessage}),{SetDigitalItemQuantity:m.SetDigitalItemQuantity,IncrementDigitalItemQuantity:m.IncrementDigitalItemQuantity,DecrementDigitalItemQuantity:m.DecrementDigitalItemQuantity,ReturnToBrowsingStep:m.ReturnToBrowsingStep}));t.a=j(function(e){var t=e.chosenDigitalItem,n=e.digitalItemQuantity,a=e.SetDigitalItemQuantity,r=e.DecrementDigitalItemQuantity,s=e.IncrementDigitalItemQuantity,c=e.ReturnToBrowsingStep,l=Object(i.useCallback)(function(){return null==n||n<_.gc},[n]),u=Object(i.useCallback)(function(){return null!=n&&n>1},[n]),m=Object(i.useCallback)(function(){return null!=n?t.goldCost*n:t.goldCost},[n,t]),p=Object(i.useCallback)(function(e){var t=parseInt(e.target.value,10),n=Number.isInteger(t)&&t>0?Math.min(t,_.gc):1;a(n)},[]),w=Object(i.useCallback)(function(e){var t=parseInt(e.target.value,10),n=Number.isInteger(t)&&t>0?Math.min(t,_.gc):1;a(n)},[]);return o.a.createElement("div",{className:f.a.redesign_digitalItemPurchase},o.a.createElement("div",{className:f.a.redesign_digitalItemHeader},o.a.createElement("img",{className:f.a.redesign_itemPreview,alt:t.name,src:"".concat(Object(h.a)(d()(t,function(e){return e.staticImagePath}),C)),srcSet:"".concat(Object(h.a)(d()(t,function(e){return e.staticImagePath}),y)," 2x")}),o.a.createElement("button",{className:f.a.redesign_closeButton,onClick:c},o.a.createElement(v.a,{size:"small"}))),o.a.createElement("div",{className:f.a.redesign_digitalItemQuantityContainer},o.a.createElement("div",{className:f.a.redesign_digitalItemQuantity},o.a.createElement("button",{onClick:s,disabled:!l(),className:f.a.redesign_incrementDigitalItemQuantityButton},o.a.createElement(g.a,{hasStem:!1})),o.a.createElement("input",{type:"number",value:null!=n?n:"",className:f.a.redesign_digitalItemQuantityInput,onChange:p,onBlur:w,min:1,max:_.gc}),o.a.createElement("button",{onClick:r,disabled:!u(),className:f.a.redesign_decrementDigitalItemQuantityButton},o.a.createElement(g.a,{hasStem:!1}))),o.a.createElement("div",{className:f.a.redesign_digitalItemNameContainer},o.a.createElement("div",{className:f.a.redesign_digitalItemName},1===n?t.name:t.pluralName),o.a.createElement("div",{className:f.a.redesign_goldCostContainer},o.a.createElement(b.a,{size:"medium",type:"gold",amount:m()}))),o.a.createElement("div",{className:f.a.redesign_digitalItemSpacer})))})},"./src/pieces/payment/digital-item-stack.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./src/pieces/base/create-image-url.js"),c=n("./src/pieces/payment/digital-item-stack.scss"),l=n.n(c);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}n("./node_modules/bows/bows.js")("Digital-item-stack");var d={auto:"webp",fit:"bounds",width:32,height:32},_=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},d,{dpr:2});t.a=function(e){return o.a.createElement("div",{className:l.a.digitalItemStack},o.a.createElement("img",{alt:1===e.quantity?"1 ".concat(e.name):"".concat(e.quantity," ").concat(e.pluralName),className:l.a.digitalItemImage,src:"".concat(Object(s.a)(e.itemAssetPath,d)),srcSet:"".concat(Object(s.a)(e.itemAssetPath,_)," 2x")}),e.quantity>1?o.a.createElement("div",{className:e.darkTheme?l.a.quantityWithDarkTheme:l.a.quantity},"x".concat(e.quantity)):null)}},"./src/pieces/payment/digital-item-stack.scss":function(e,t,n){e.exports={digitalItemStack:"digital-item-stack__digitalItemStack___3-DBv",digitalItemImage:"digital-item-stack__digitalItemImage___MXRPF",quantity:"digital-item-stack__quantity___3ejlL",quantityWithDarkTheme:"digital-item-stack__quantityWithDarkTheme___39i4S digital-item-stack__quantity___3ejlL"}},"./src/pieces/payment/digital-items.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return l}),n.d(t,"LoadGoldBundlePurchaseFlow",function(){return u}),n.d(t,"UnloadGoldBundlePurchaseFlow",function(){return d}),n.d(t,"ReportGoldPurchaseLimitExceeded",function(){return _}),n.d(t,"SetGoldBundleLimitDisplayMessage",function(){return m}),n.d(t,"InitializeGoldBundles",function(){return g}),n.d(t,"ChooseGoldBundle",function(){return b}),n.d(t,"ClearChosenGoldBundle",function(){return p}),n.d(t,"SetPaymentType",function(){return f}),n.d(t,"ReportGoldPurchaseSuccess",function(){return h}),n.d(t,"ReportGoldPurchaseFailure",function(){return v}),n.d(t,"PurchaseGoldBundleWithStripe",function(){return w}),n.d(t,"PurchaseGoldBundleWithCredits",function(){return C}),n.d(t,"PurchaseGoldBundleWithStripeUsingNewCreditCard",function(){return y}),n.d(t,"InitializeDigitalItemPicker",function(){return j}),n.d(t,"SetDigitalItemCategories",function(){return O}),n.d(t,"SetDigitalItems",function(){return S}),n.d(t,"ChooseDigitalItemCategory",function(){return E}),n.d(t,"ChooseDigitalItem",function(){return x}),n.d(t,"ClearChosenDigitalItem",function(){return k}),n.d(t,"PurchaseGoldFromFinalizingStep",function(){return I}),n.d(t,"PurchaseGoldFromBrowsingStep",function(){return T}),n.d(t,"ReturnToFinalizingStep",function(){return F}),n.d(t,"ReturnToBrowsingStep",function(){return P}),n.d(t,"SetDigitalItemMessage",function(){return N}),n.d(t,"SetDigitalItemQuantity",function(){return M}),n.d(t,"IncrementDigitalItemQuantity",function(){return L}),n.d(t,"DecrementDigitalItemQuantity",function(){return B}),n.d(t,"SendDigitalItem",function(){return A}),n.d(t,"BuyPPVShowItem",function(){return D}),n.d(t,"BuyTicket",function(){return U}),n.d(t,"StartURLTVLinkFlow",function(){return R}),n.d(t,"SetUserURLTVEntitlementState",function(){return H}),n.d(t,"SetAccountLinkFlowStep",function(){return W}),n.d(t,"TriggerLinkAccount",function(){return V}),n.d(t,"TriggerLinkAccountVerifyEmail",function(){return z}),n.d(t,"ReportDigitalItemSentSuccessfully",function(){return G}),n.d(t,"ReportDigitalItemPickerFailure",function(){return q}),n.d(t,"ReportAccountLinkFailure",function(){return J}),n.d(t,"ActivateMaintenanceMode",function(){return Z}),n.d(t,"DeactivateMaintenanceMode",function(){return Y}),n.d(t,"SetViewingGiftMenu",function(){return Q}),n.d(t,"SetDigitalItemPickerStep",function(){return K}),n.d(t,"TrackPropTrayImpression",function(){return X}),n.d(t,"TrackGoldPurchaseModalImpression",function(){return $}),n.d(t,"TrackGoldPurchaseClicked",function(){return ee}),n.d(t,"selectAllGoldBundles",function(){return te}),n.d(t,"selectGoldBundlesPurchasableWithStripe",function(){return ne}),n.d(t,"selectRecyclables",function(){return ae}),n.d(t,"selectChosenGoldBundle",function(){return re}),n.d(t,"selectGoldPurchaseLimitIsExceeded",function(){return ie}),n.d(t,"selectGoldBundleLimitDisplayMessage",function(){return oe}),n.d(t,"selectPaymentType",function(){return se}),n.d(t,"selectGoldPurchaseFlowError",function(){return ce}),n.d(t,"selectGoldPurchaseFlowStep",function(){return le}),n.d(t,"selectDigitalItemPickerStep",function(){return ue}),n.d(t,"selectDigitalItemCategories",function(){return de}),n.d(t,"selectDigitalItems",function(){return _e}),n.d(t,"selectChosenDigitalItemCategoryId",function(){return me}),n.d(t,"selectChosenDigitalItem",function(){return ge}),n.d(t,"selectDigitalItemMessage",function(){return be}),n.d(t,"selectDigitalItemQuantity",function(){return pe}),n.d(t,"selectDigitalItemPickerError",function(){return fe}),n.d(t,"selectIsInMaintenanceMode",function(){return he}),n.d(t,"selectViewingGiftMenu",function(){return ve}),n.d(t,"selectUserEntitlementState",function(){return we}),n.d(t,"selectAccountLinkFlowStep",function(){return Ce}),n.d(t,"selectAccountLinkFlowError",function(){return ye});var a=n("./node_modules/immutable/dist/immutable.js"),r=n.n(a),i=n("./node_modules/redux-actions/es/createAction.js"),o=n("./node_modules/redux-actions/es/handleActions.js"),s=n("./node_modules/reselect/lib/index.js"),c=n("./src/pieces/base/constants.js"),l=(n("./node_modules/bows/bows.js")("Digital-items.reducer"),"digitalItems"),u=Object(i.a)("Load Gold Bundle Purchase Flow",function(e){return e}),d=Object(i.a)("Unload Gold Bundle Purchase Flow",function(){return null}),_=Object(i.a)("Report Gold Purchase Limit Exceeded"),m=Object(i.a)("Set Gold Bundle Limit Display Message",function(e){return e}),g=Object(i.a)("Initialize Gold Bundles",function(e){return e}),b=Object(i.a)("Choose Gold Bundle",function(e){return e}),p=Object(i.a)("Clear Chosen Gold Bundle",function(){return null}),f=Object(i.a)("Set Payment Type",function(e){return e}),h=Object(i.a)("Report Gold Purchase Success",function(){return null}),v=Object(i.a)("Report Gold Purchase Failure",function(e){return e}),w=Object(i.a)("Purchase Gold Bundle With Stripe",function(e,t){return{goldBundle:e,purchaseOptions:t}}),C=Object(i.a)("Purchase Gold Bundle With Credits",function(e){return e}),y=Object(i.a)("Purchase Gold Bundle With Stripe Using New Credit Card",function(e,t,n,a){return{chosenBundle:e,stripe:t,fullName:n,saveCreditCard:a}}),j=Object(i.a)("Initialize Digital Item Picker"),O=Object(i.a)("Set Digital Item Categories",function(e){return e}),S=Object(i.a)("Set Digital Items",function(e){return e}),E=Object(i.a)("Choose Digital Item Category",function(e){return e}),x=Object(i.a)("Choose Digital Item",function(e){return e}),k=Object(i.a)("Clear Chosen Digital Item",function(){return null}),I=Object(i.a)("Purchase Gold From Finalizing Step",function(){return null}),T=Object(i.a)("Purchase Gold From Browsing Step",function(){return null}),F=Object(i.a)("Return to Finalizing Step",function(){return null}),P=Object(i.a)("Return To Browsing Step",function(){return null}),N=Object(i.a)("Set Digital Item Message",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}),M=Object(i.a)("Set Digital Item Quantity",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e}),L=Object(i.a)("Increment Digital Item Quantity",function(){return null}),B=Object(i.a)("Decrement Digital Item Quantity",function(){return null}),A=Object(i.a)("Send Digital Item",function(e,t,n,a,r,i){return{digitalItemId:e,entertainerId:t,goldCost:n,quantity:a,message:r,activityId:i}}),D=Object(i.a)("Buy PPV Show Item",function(e,t,n,a,r,i){return{digitalItemId:e,entertainerId:t,goldCost:n,quantity:a,message:r,activityId:i}}),U=Object(i.a)("Buy Ticket",function(e,t,n,a){return{priceId:e,goldCost:t,quantity:n,activityId:a}}),R=Object(i.a)("Start URLTV Link Flow",function(){return null}),H=Object(i.a)("Set User URLTV EntitlementState",function(e){return e}),W=Object(i.a)("Set Account Link Flow Step",function(e){return e}),V=Object(i.a)("Trigger Link Account",function(e,t){return{email:e,otp:t}}),z=Object(i.a)("Trigger Link Account Verify Email Address",function(e){return e}),G=Object(i.a)("Set Digital Item Sent"),q=Object(i.a)("ReportDigitalItemPickerFailureFailure",function(e){return e}),J=Object(i.a)("Report Account Link Failure",function(e){return e}),Z=Object(i.a)("Activate Maintenance Mode",function(){return null}),Y=Object(i.a)("Deactivate Maintenance Mode",function(){return null}),Q=Object(i.a)("Set Viewing Gift Menu",function(e){return e}),K=Object(i.a)("Set Digital Item Picker Step",function(e){return e}),X=Object(i.a)("Track Prop Tray Impression"),$=Object(i.a)("Track Gold Purchase Modal Impression"),ee=Object(i.a)("Track Gold Purchase Clicked",function(e){return e}),te=Object(s.createSelector)(function(e){return e[l].get("goldBundles")},function(e){return e&&e.toJS()}),ne=Object(s.createSelector)(te,function(e){return e&&e.filter(function(e){return e.usingStripe})}),ae=Object(s.createSelector)(te,function(e){return e&&e.filter(function(e){return e.usingCredits})}),re=Object(s.createSelector)(function(e){return e[l].get("chosenGoldBundle")},function(e){return e&&e.toJS()}),ie=function(e){return e[l].get("goldPurchaseLimitIsExceeded")},oe=function(e){return e[l].get("goldBundleLimitDisplayMessage")},se=function(e){return e[l].get("paymentType")},ce=Object(s.createSelector)(function(e){return e[l].get("goldPurchaseFlowError")},function(e){return e&&e.toJS()}),le=function(e){return e[l].get("goldPurchaseFlowStep")},ue=function(e){return e[l].get("digitalItemPickerStep")},de=Object(s.createSelector)(function(e){return e[l].get("digitalItemCategories")},function(e){return e&&e.toJS()}),_e=Object(s.createSelector)(function(e){return e[l].get("digitalItems")},function(e){return e&&e.toJS()}),me=function(e){return e[l].get("chosenDigitalItemCategory")},ge=Object(s.createSelector)(function(e){return e[l].get("chosenDigitalItem")},function(e){return e&&e.toJS()}),be=function(e){return e[l].get("message")},pe=function(e){return e[l].get("digitalItemQuantity")},fe=Object(s.createSelector)(function(e){return e[l].get("digitalItemPickerError")},function(e){return e&&e.toJS()}),he=function(e){return e[l].get("isInMaintenanceMode")},ve=function(e){return e[l].get("viewingGiftMenu")},we=function(e){return e[l].get("userURLTVEntitlementState")},Ce=function(e){return e[l].get("accountLinkFlowStep")},ye=function(e){return e[l].get("accountLinkFlowError")};t.default=Object(o.a)(new Map([[g,function(e,t){var n=t.payload;return e.set("goldBundles",r.a.fromJS(n)).set("goldPurchaseFlowStep","Browsing")}],[_,function(e){return e.set("goldPurchaseLimitIsExceeded",!0)}],[m,function(e,t){var n=t.payload;return e.set("goldBundleLimitDisplayMessage",n)}],[b,function(e,t){var n=t.payload;return e.set("chosenGoldBundle",r.a.fromJS(n))}],[p,function(e){return e.set("chosenGoldBundle",null)}],[f,function(e,t){var n=t.payload;return e.set("paymentType",n)}],[w,function(e){return e.set("goldPurchaseFlowStep","Processing")}],[C,function(e){return e.set("goldPurchaseFlowStep","Processing")}],[h,function(e){return e.set("goldPurchaseFlowStep","Success")}],[u,function(e,t){var n=t.payload;return e.set("goldPurchaseFlowStep","Processing").set("paymentType",n)}],[v,function(e,t){var n=t.payload;return e.set("goldPurchaseFlowStep","Failure").set("goldPurchaseFlowError",r.a.fromJS(n))}],[d,function(e){return e.set("chosenGoldBundle",null).set("goldPurchaseFlowStep","NotStarted").set("paymentType","CreditCard").set("goldPurchaseLimitIsExceeded",!1).set("goldPurchaseFlowError",null).set("goldBundleLimitDisplayMessage","")}],[T,function(e){return e.set("digitalItemPickerStep","BuyingGoldFromBrowsing")}],[I,function(e){return e.set("digitalItemPickerStep","BuyingGoldFromFinalizing")}],[F,function(e){return e.set("digitalItemPickerStep","Finalizing")}],[P,function(e){return e.set("digitalItemPickerStep","Browsing")}],[j,function(e){return e.set("digitalItemPickerStep","Browsing").set("digitalItemPickerError",null)}],[O,function(e,t){var n=t.payload;return e.set("digitalItemCategories",r.a.fromJS(n))}],[S,function(e,t){var n=t.payload;return e.set("digitalItems",r.a.fromJS(n))}],[E,function(e,t){var n=t.payload;return e.set("chosenDigitalItemCategory",n)}],[x,function(e,t){var n=t.payload;return e.set("chosenDigitalItem",r.a.fromJS(n)).set("digitalItemPickerStep","Finalizing")}],[k,function(e){return e.set("chosenDigitalItem",null).set("digitalItemQuantity",1).set("message","").set("digitalItemPickerStep","Browsing")}],[N,function(e,t){var n=t.payload;return e.set("message",n.slice(0,c.hc))}],[M,function(e,t){var n=t.payload;return e.set("digitalItemQuantity",n)}],[L,function(e){return e.set("digitalItemQuantity",e.get("digitalItemQuantity")+1)}],[B,function(e){return e.set("digitalItemQuantity",e.get("digitalItemQuantity")-1)}],[A,function(e){return e.set("digitalItemPickerStep","Sending")}],[G,function(e){return e.set("digitalItemQuantity",1).set("message","").set("digitalItemPickerStep","Browsing")}],[q,function(e,t){var n=t.payload;return e.set("digitalItemPickerStep","Failure").set("digitalItemPickerError",r.a.fromJS(n))}],[Z,function(e){return e.set("isInMaintenanceMode",!0)}],[Y,function(e){return e.set("isInMaintenanceMode",!1)}],[Q,function(e,t){var n=t.payload;return e.set("viewingGiftMenu",n).set("digitalItemPickerStep","Browsing")}],[K,function(e,t){var n=t.payload;return e.set("digitalItemPickerStep",n)}],[W,function(e,t){var n=t.payload;return e.set("accountLinkFlowStep",n)}],[H,function(e,t){var n=t.payload;return e.set("userURLTVEntitlementState",n)}],[J,function(e,t){var n=t.payload;return e.set("accountLinkFlowStep","Failure").set("accountLinkFlowError",r.a.fromJS(n))}]]),r.a.fromJS({goldBundles:[],goldPurchaseFlowError:null,digitalItemPickerError:null,goldPurchaseLimitIsExceeded:!1,goldBundleLimitDisplayMessage:"",chosenGoldBundle:null,goldPurchaseFlowStep:"NotStarted",paymentType:"CreditCard",digitalItemPickerStep:"Browsing",digitalItemCategories:[],digitalItems:[],chosenDigitalItemCategory:null,chosenDigitalItem:null,message:"",digitalItemQuantity:1,isInMaintenanceMode:!1,viewingGiftMenu:!1,userURLTVEntitlementState:null,accountLinkFlowStep:"",accountLinkFlowError:null}))},"./src/pieces/payment/digital-items.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return he});var a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/regenerator/index.js"),c=n.n(s),l=n("./node_modules/idx/lib/idx.js"),u=n.n(l),d=n("./node_modules/redux-saga/es/index.js"),_=n("./node_modules/redux-saga/es/effects.js"),m=n("./node_modules/lodash/sortBy.js"),g=n.n(m),b=n("./src/pieces/base/saga-utilities.js"),p=n("./src/pieces/base/error-reporting.js"),f=n("./src/pieces/base/api/payments.api.js"),h=n("./src/pieces/current-user/current-user.reducer.js"),v=n("./src/pieces/authentication/authentication.reducer.js"),w=n("./src/pieces/base/popover/popover.reducer.js"),C=n("./src/pieces/stage/stage.reducer.js"),y=n("./src/pieces/stage/stage.sagas.js"),j=n("./src/pieces/payment/stripe.sagas.js"),O=n("./src/pieces/base/constants.js"),S=n("./src/pieces/stage/reactions/reaction.reducer.js"),E=n("./src/pieces/payment/digital-items.reducer.js"),x=(n("./src/pieces/stage-director/stage-director.reducer.js"),n("./src/pieces/base/simple-dialog/simple-dialog.reducer.js")),k=n("./src/pieces/base/path.js"),I=n("./src/pieces/settings/settings.reducer.js"),T=n("./src/pieces/video/video.reducer.js"),F=n("./src/pieces/analytics/analytics.reducer.js"),P=n("./src/pieces/base/api/account.api.js"),N=n("./src/pieces/authentication/auth.api.js"),M=n("./src/pieces/base/storage.js"),L=c.a.mark(ee),B=c.a.mark(te),A=c.a.mark(ne),D=c.a.mark(ae),U=c.a.mark(re),R=c.a.mark(ie),H=c.a.mark(oe),W=c.a.mark(se),V=c.a.mark(ce),z=c.a.mark(le),G=c.a.mark(ue),q=c.a.mark(de),J=c.a.mark(_e),Z=c.a.mark(me),Y=c.a.mark(ge),Q=c.a.mark(be),K=c.a.mark(pe),X=c.a.mark(fe),$=c.a.mark(he);n("./node_modules/bows/bows.js")("Digital-items.sagas");function ee(e,t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(_.b)(f.d,e,t);case 2:case"end":return n.stop()}},L)}function te(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(b.e)(E.ActivateMaintenanceMode);case 3:return t.next=6,Object(d.e)(O.hb);case 6:return t.next=8,Object(_.b)(f.k);case 8:if(e=t.sent,e.isInMaintenanceMode){t.next=14;break}return t.next=13,Object(_.g)(Object(E.DeactivateMaintenanceMode)());case 13:return t.abrupt("break",16);case 14:t.next=3;break;case 16:t.next=0;break;case 18:case"end":return t.stop()}},B)}function ne(){var e,t,n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(_.b)(f.k);case 2:if(e=r.sent,t=e.goldBundles,n=e.limits,!e.isInMaintenanceMode){r.next=9;break}return r.next=9,Object(_.g)(Object(E.ActivateMaintenanceMode)());case 9:if(null==(a=u()(n,function(e){return e.goldBundles.canPurchaseAtLeastOne}))||a){r.next=13;break}return r.next=13,Object(_.g)(Object(E.ReportGoldPurchaseLimitExceeded)());case 13:return r.next=15,Object(_.g)(Object(E.SetGoldBundleLimitDisplayMessage)(u()(n,function(e){return e.goldBundles.displayMessage.body})||""));case 15:return r.next=17,Object(_.g)(Object(E.InitializeGoldBundles)(g()(t,["amount"]).slice(0,9)));case 17:return r.next=19,Object(_.b)(j.refreshCreditCards);case 19:case"end":return r.stop()}},A)}function ae(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.type!==O.e){t.next=7;break}return t.next=3,Object(_.g)(Object(w.ClearPopovers)());case 3:return t.next=5,Object(_.g)(Object(v.ShowVerificationDialog)({body:"You must verify your account via email\nto purchase gold.",darkTheme:!0}));case 5:t.next=11;break;case 7:return t.next=9,Object(_.g)(Object(E.ReportGoldPurchaseFailure)(e.displayMessage));case 9:return t.next=11,Object(_.b)(p.b,e,{tags:{type:"GoldPurchaseFailure"}});case 11:case"end":return t.stop()}},D)}function re(e){var t,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.goldBundle,n=e.purchaseOptions,a.prev=1,a.next=4,Object(_.b)(ee,t.usingStripe.id,n);case 4:return a.next=6,Object(_.g)(Object(E.ReportGoldPurchaseSuccess)());case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(1),a.next=12,Object(_.b)(ae,a.t0);case 12:case"end":return a.stop()}},U,null,[[1,8]])}function ie(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_.b)(f.c,e.usingCredits.id);case 3:return t.next=5,Object(_.g)(Object(E.ReportGoldPurchaseSuccess)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(_.b)(ae,t.t0);case 11:case"end":return t.stop()}},R,null,[[0,7]])}function oe(e){var t,n,a,r,i,s;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.chosenBundle,n=e.stripe,a=e.fullName,r=e.saveCreditCard,c.prev=1,c.next=4,Object(_.b)(j.createCreditCard,n,a,r);case 4:if(!(i=c.sent).id){c.next=15;break}return s=o()({},r?"cardId":"tokenId",i.id),c.next=9,Object(_.b)(ee,t.usingStripe.id,s);case 9:return c.next=11,Object(_.g)(Object(E.ReportGoldPurchaseSuccess)());case 11:return c.next=13,Object(_.b)(j.refreshCreditCards);case 13:c.next=17;break;case 15:return c.next=17,Object(_.g)(Object(E.ReportGoldPurchaseFailure)({body:"card_error"===i.type?i.message:O.Ie}));case 17:c.next=23;break;case 19:return c.prev=19,c.t0=c.catch(1),c.next=23,Object(_.b)(ae,c.t0);case 23:case"end":return c.stop()}},H,null,[[1,19]])}function se(){var e,t,n,a,i,o;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(_.a)([Object(_.b)(f.j)]);case 2:if(e=s.sent,t=r()(e,1),n=t[0],a=n.digitalItemCategories,i=n.digitalItems,!n.isInMaintenanceMode){s.next=11;break}return s.next=11,Object(_.g)(Object(E.ActivateMaintenanceMode)());case 11:return s.next=13,Object(_.g)(Object(E.SetDigitalItemCategories)(g()(a,["score"])));case 13:return s.next=15,Object(_.g)(Object(E.SetDigitalItems)(g()(i,["score"])));case 15:return s.next=17,Object(_.i)(S.selectMessage);case 17:return o=s.sent,s.next=20,Object(_.g)(Object(E.SetDigitalItemMessage)(o));case 20:if(!a.length){s.next=23;break}return s.next=23,Object(_.g)(Object(E.ChooseDigitalItemCategory)(a[0].id));case 23:case"end":return s.stop()}},W)}function ce(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.b)(f.i);case 2:if(!(e=t.sent).maintenance){t.next=6;break}return t.next=6,Object(_.g)(Object(E.ActivateMaintenanceMode)());case 6:return t.next=8,Object(_.g)(Object(h.SetCurrentUserWallet)(e));case 8:case"end":return t.stop()}},V)}function le(e,t){var n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.i)(h.selectCurrentUserWallet);case 2:return n=a.sent,a.abrupt("return",n&&e*t<=n.gold);case 4:case"end":return a.stop()}},z)}function ue(e){var t,n,a,r,i,o,s;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.digitalItemId,n=e.entertainerId,a=e.goldCost,r=e.quantity,i=e.message,o=e.activityId,c.next=3,Object(_.b)(le,a,r);case 3:if(c.sent){c.next=14;break}return c.prev=4,c.next=7,Object(_.b)(ce);case 7:c.next=14;break;case 9:return c.prev=9,c.t0=c.catch(4),c.next=13,Object(_.g)(Object(E.PurchaseGoldFromFinalizingStep)());case 13:return c.abrupt("return",c.sent);case 14:return c.prev=14,c.next=17,Object(_.b)(le,a,r);case 17:if(!c.sent){c.next=38;break}return c.next=21,Object(_.b)(f.b,t,n,r,i,o);case 21:return s=c.sent,c.next=24,Object(_.g)(Object(C.SetReactionFrameContent)("Chat"));case 24:return c.next=26,Object(_.b)(y.processIncomingReaction,s);case 26:return c.next=28,Object(_.g)(Object(w.ClearPopovers)());case 28:return c.next=30,Object(_.g)(Object(S.SetMessage)(""));case 30:return c.next=32,Object(_.g)(Object(E.SetViewingGiftMenu)(!1));case 32:return c.next=34,Object(_.g)(Object(E.ReportDigitalItemSentSuccessfully)());case 34:return c.next=36,Object(_.g)(Object(h.FetchCurrentUserWallet)());case 36:c.next=42;break;case 38:return c.next=40,Object(_.g)(Object(E.PurchaseGoldFromFinalizingStep)());case 40:return c.next=42,Object(_.b)(j.refreshCreditCards);case 42:c.next=48;break;case 44:return c.prev=44,c.t1=c.catch(14),c.next=48,Object(_.g)(Object(E.ReportDigitalItemPickerFailure)(c.t1.displayMessage));case 48:case"end":return c.stop()}},G,null,[[4,9],[14,44]])}function de(e){var t,n,a,r,i,o,s;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.digitalItemId,e.entertainerId,n=e.goldCost,a=e.quantity,e.message,r=e.activityId,c.next=3,Object(_.b)(le,n,a);case 3:if(c.sent){c.next=14;break}return c.prev=4,c.next=7,Object(_.b)(ce);case 7:c.next=14;break;case 9:return c.prev=9,c.t0=c.catch(4),c.next=13,Object(_.g)(Object(E.PurchaseGoldFromFinalizingStep)());case 13:return c.abrupt("return",c.sent);case 14:return c.prev=14,c.next=17,Object(_.b)(le,n,a);case 17:if(i=c.sent,o=Object(k.a)(),s=o.currentPath,!i){c.next=33;break}return c.next=22,Object(_.b)(f.e,t,a);case 22:return c.next=24,Object(_.g)(Object(w.ClearPopovers)());case 24:return c.next=26,Object(_.g)(Object(h.FetchCurrentUserWallet)());case 26:return c.next=28,Object(_.g)(Object(x.HideTicketModal)());case 28:if(s!==O.Kd){c.next=31;break}return c.next=31,Object(_.g)(Object(T.LoadVideo)(r));case 31:c.next=50;break;case 33:return c.next=35,Object(_.i)(h.selectCurrentUserEmailUnverified);case 35:if(!c.sent){c.next=41;break}return c.next=39,Object(_.g)(Object(v.ShowVerificationDialog)({body:"You must verify your account via email\nto purchase gold.",darkTheme:!0}));case 39:c.next=50;break;case 41:if(s!==O.Kd){c.next=46;break}return c.next=44,Object(_.g)(Object(I.SetModalContent)(I.ModalContentEnum.BuyingGold));case 44:c.next=48;break;case 46:return c.next=48,Object(_.g)(Object(E.PurchaseGoldFromFinalizingStep)());case 48:return c.next=50,Object(_.b)(j.refreshCreditCards);case 50:c.next=56;break;case 52:return c.prev=52,c.t1=c.catch(14),c.next=56,Object(_.g)(Object(E.ReportDigitalItemPickerFailure)(c.t1&&c.t1.displayMessage));case 56:case"end":return c.stop()}},q,null,[[4,9],[14,52]])}function _e(e){var t,n,a,r,i,o,s,l,u,d;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.priceId,n=e.goldCost,a=e.quantity,r=e.activityId,c.next=3,Object(_.b)(le,n,a);case 3:if(c.sent){c.next=14;break}return c.prev=4,c.next=7,Object(_.b)(ce);case 7:c.next=14;break;case 9:return c.prev=9,c.t0=c.catch(4),c.next=13,Object(_.g)(Object(E.PurchaseGoldFromFinalizingStep)());case 13:return c.abrupt("return",c.sent);case 14:return c.prev=14,c.next=17,Object(_.b)(le,n,a);case 17:return i=c.sent,o=Object(k.a)(),s=o.currentPath,c.next=21,Object(_.i)(T.selectVideoOrLiveActivity);case 21:if(l=c.sent,!i){c.next=39;break}return c.next=25,Object(_.b)(f.f,t,a);case 25:return c.next=27,Object(_.g)(Object(w.ClearPopovers)());case 27:return c.next=29,Object(_.g)(Object(h.FetchCurrentUserWallet)());case 29:return c.next=31,Object(_.g)(Object(x.HideTicketModal)());case 31:if(s!==O.Kd){c.next=34;break}return c.next=34,Object(_.g)(Object(T.LoadVideo)(r));case 34:u="true"===localStorage.getItem(O.Fb),d={screen_name:s,canonical_path:window.location.pathname,price_id:t,status:"success",broadcaster_username:l.username,web_presentation:u?O.of:O.nf},window.mParticle.logEvent("unlock_ticket",window.mParticle.EventType.Other,d),c.next=56;break;case 39:return c.next=41,Object(_.i)(h.selectCurrentUserEmailUnverified);case 41:if(!c.sent){c.next=47;break}return c.next=45,Object(_.g)(Object(v.ShowVerificationDialog)({body:"You must verify your account via email\nto purchase gold.",darkTheme:!0}));case 45:c.next=56;break;case 47:if(s!==O.Kd){c.next=52;break}return c.next=50,Object(_.g)(Object(I.SetModalContent)(I.ModalContentEnum.BuyingGold));case 50:c.next=54;break;case 52:return c.next=54,Object(_.g)(Object(E.PurchaseGoldFromFinalizingStep)());case 54:return c.next=56,Object(_.b)(j.refreshCreditCards);case 56:c.next=62;break;case 58:return c.prev=58,c.t1=c.catch(14),c.next=62,Object(_.g)(Object(E.ReportDigitalItemPickerFailure)(c.t1&&c.t1.displayMessage));case 62:case"end":return c.stop()}},J,null,[[4,9],[14,58]])}function me(){var e,t,n,a,r,i,o,s;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Sb));case 2:return c.next=4,Object(_.b)(M.a.get,O.qd);case 4:return e=c.sent,c.next=7,Object(_.b)(N.d,e);case 7:return t=c.sent,n=t.credentials,c.next=11,Object(_.g)(Object(v.StartAuthenticatedSession)(n));case 11:return c.next=13,Object(_.b)(P.c,O.lb);case 13:return a=Object(k.a)(),r=a.currentPath,c.next=16,Object(_.i)(T.selectVideoOrLiveActivity);case 16:if(i=c.sent,r!==O.Kd){c.next=26;break}return c.next=20,Object(_.g)(Object(T.LoadVideo)(i.activityId));case 20:localStorage.removeItem(O.jb),o="activity-".concat(i.activityId),(s=document.getElementById(o))&&s.contentWindow.location.reload(!0),c.next=30;break;case 26:return c.next=28,Object(_.g)(Object(C.UnloadStage)());case 28:return c.next=30,Object(_.g)(Object(C.LoadStage)(i.username));case 30:case"end":return c.stop()}},Z)}function ge(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_.b)(P.c,O.lb);case 3:if("BAD_STANDING"!==(e=t.sent).accountStanding){t.next=9;break}return t.next=7,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Pb));case 7:t.next=17;break;case 9:if("EMAILS_MATCHING"!==e.condition){t.next=14;break}return t.next=12,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Qb));case 12:t.next=17;break;case 14:if("NO_MATCHING_EMAIL"!==e.condition){t.next=17;break}return t.next=17,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Rb));case 17:return t.next=19,Object(_.g)(Object(E.SetUserURLTVEntitlementState)(e));case 19:return t.next=21,Object(_.g)(Object(I.SetModalContent)(I.ModalContentEnum.LinkURLTVAccount));case 21:t.next=27;break;case 23:return t.prev=23,t.t0=t.catch(0),t.next=27,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Ob));case 27:case"end":return t.stop()}},Y,null,[[0,23]])}function be(e){var t,n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.email,n=e.otp,r.prev=1,r.next=4,Object(_.g)(Object(E.SetAccountLinkFlowStep)("Processing"));case 4:return r.next=6,Object(_.b)(P.e,O.lb,t,n);case 6:if("BAD_STANDING"!==(a=r.sent).accountStanding){r.next=12;break}return r.next=10,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Pb));case 10:r.next=24;break;case 12:if("ALREADY_LINKED"!==a.status){r.next=17;break}return r.next=15,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Nb));case 15:r.next=24;break;case 17:if("GOOD_STANDING"!==a.accountStanding||"LINKED"!==a.status){r.next=22;break}return r.next=20,Object(_.b)(me);case 20:r.next=24;break;case 22:return r.next=24,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Ob));case 24:r.next=30;break;case 26:return r.prev=26,r.t0=r.catch(1),r.next=30,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Ob));case 30:case"end":return r.stop()}},Q,null,[[1,26]])}function pe(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_.g)(Object(E.SetAccountLinkFlowStep)("Processing"));case 3:return n.next=5,Object(_.b)(P.d,e);case 5:if("EMAIL_VERIFICATION_PENDING"!==(t=n.sent).condition||"UNLINKED"!==t.status){n.next=11;break}return n.next=9,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Tb));case 9:n.next=13;break;case 11:return n.next=13,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Ob));case 13:n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(0),n.next=19,Object(_.g)(Object(E.SetAccountLinkFlowStep)(O.Ob));case 19:case"end":return n.stop()}},K,null,[[0,15]])}function fe(e){var t,n,a,r;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if("Processing"===e){i.next=6;break}return t=Object(k.a)(),n=t.currentPath,a=n===O.Kd?O.Ec.VOD:n===O.Id?O.Ec.STAGE:null,r={modal_name:e,screen_name:a,canonical_path:window.location.pathname},i.next=6,Object(_.g)(Object(F.LogModalView)(r));case 6:case"end":return i.stop()}},X)}function he(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.h)(E.LoadGoldBundlePurchaseFlow,ne);case 2:return e.next=4,Object(b.h)(E.PurchaseGoldBundleWithStripe,re);case 4:return e.next=6,Object(b.h)(E.PurchaseGoldBundleWithCredits,ie);case 6:return e.next=8,Object(b.h)(E.PurchaseGoldBundleWithStripeUsingNewCreditCard,oe);case 8:return e.next=10,Object(b.h)(E.InitializeDigitalItemPicker,se);case 10:return e.next=12,Object(b.h)(E.BuyPPVShowItem,de);case 12:return e.next=14,Object(b.h)(E.BuyTicket,_e);case 14:return e.next=16,Object(b.h)(E.SendDigitalItem,ue);case 16:return e.next=18,Object(b.h)(E.StartURLTVLinkFlow,ge);case 18:return e.next=20,Object(b.h)(E.TriggerLinkAccount,be);case 20:return e.next=22,Object(b.h)(E.TriggerLinkAccountVerifyEmail,pe);case 22:return e.next=24,Object(b.h)(E.SetAccountLinkFlowStep,fe);case 24:return e.next=26,Object(_.e)(te);case 26:case"end":return e.stop()}},$)}},"./src/pieces/payment/gold-purchase-flow.scss":function(e,t,n){e.exports={goldPurchaseFlow:"gold-purchase-flow__goldPurchaseFlow___2AFt4",bundlesContainer:"gold-purchase-flow__bundlesContainer___sA7Zc",header:"gold-purchase-flow__header___5FzC_ popover__popoverHeader___3oI32",goldHeader:"gold-purchase-flow__goldHeader___1WpVu",purchaseFailureContainer:"gold-purchase-flow__purchaseFailureContainer___3pady popover__failedFlowMessage___2YrdQ",sideHeaderSectionWithBackActionEnabled:"gold-purchase-flow__sideHeaderSectionWithBackActionEnabled___1eilT gold-purchase-flow__sideHeaderSection___1V42h",purchaseFailureHeader:"gold-purchase-flow__purchaseFailureHeader___20KsS popover__failedFlowHeader___2fTNi",purchaseFailureHeaderWithDarkTheme:"gold-purchase-flow__purchaseFailureHeaderWithDarkTheme___3uzvW popover__failedFlowHeaderWithDarkTheme___2Ngsu popover__failedFlowHeader___2fTNi",purchaseFailureMessage:"gold-purchase-flow__purchaseFailureMessage___33VNK",purchaseSuccessContainer:"gold-purchase-flow__purchaseSuccessContainer___1gYcf popover__successfulFlowCompletionMessage___QR3OC",purchaseSuccessContainerWithSuccessButton:"gold-purchase-flow__purchaseSuccessContainerWithSuccessButton___2ArOc gold-purchase-flow__purchaseSuccessContainer___1gYcf popover__successfulFlowCompletionMessage___QR3OC",purchaseSuccessHeader:"gold-purchase-flow__purchaseSuccessHeader___2aeHe popover__successfulFlowCompletionHeader___38Qwl",purchaseSuccessHeaderWithDarkTheme:"gold-purchase-flow__purchaseSuccessHeaderWithDarkTheme___3Ydu7 gold-purchase-flow__purchaseSuccessHeader___2aeHe popover__successfulFlowCompletionHeader___38Qwl",purchaseSuccessMessage:"gold-purchase-flow__purchaseSuccessMessage___CgncW",purchaseSuccessMessageWithSuccessButton:"gold-purchase-flow__purchaseSuccessMessageWithSuccessButton___2GTA5 gold-purchase-flow__purchaseSuccessMessage___CgncW",goldAvailableWithDarkTheme:"gold-purchase-flow__goldAvailableWithDarkTheme___2G8hG",paymentContainer:"gold-purchase-flow__paymentContainer___iJk3r",loadingContainer:"gold-purchase-flow__loadingContainer___CCIuC",paymentTypeSelector:"gold-purchase-flow__paymentTypeSelector___2qKKO",creditCardForm:"gold-purchase-flow__creditCardForm___1Ydqd",creditCardContainer:"gold-purchase-flow__creditCardContainer___618M2",creditContainer:"gold-purchase-flow__creditContainer___6poMt",creditCardContainerWithDarkTheme:"gold-purchase-flow__creditCardContainerWithDarkTheme___2Y2Yh gold-purchase-flow__creditCardContainer___618M2",creditContainerWithDarkTheme:"gold-purchase-flow__creditContainerWithDarkTheme___1eX2y gold-purchase-flow__creditCardContainer___618M2",paymentLabel:"gold-purchase-flow__paymentLabel___1MMPH forms__inputLabel___2SKFD",card:"gold-purchase-flow__card___A8JZK",bundleButton:"gold-purchase-flow__bundleButton___36DVy buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",bundleButtonWithDarkTheme:"gold-purchase-flow__bundleButtonWithDarkTheme___3P5Fj buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",bundleAmount:"gold-purchase-flow__bundleAmount___2v7rv",bundleAmountWithDarkTheme:"gold-purchase-flow__bundleAmountWithDarkTheme___i5Dvn gold-purchase-flow__bundleAmount___2v7rv",bundleCost:"gold-purchase-flow__bundleCost___QCI-b",goldPricing:"gold-purchase-flow__goldPricing___1J2TC",amountLabel:"gold-purchase-flow__amountLabel___-jexp",amountLabelWithDarkTheme:"gold-purchase-flow__amountLabelWithDarkTheme___R9U_5",remainingCredits:"gold-purchase-flow__remainingCredits___2HHeD",remainingCreditsContainer:"gold-purchase-flow__remainingCreditsContainer___3DsIM",button:"gold-purchase-flow__button___1oPLM buttons__buttonWithLinkStyle___3rIcr links__link___2NuBA",successButtonContainer:"gold-purchase-flow__successButtonContainer___39Lwx",successButtonContainerWithDarkTheme:"gold-purchase-flow__successButtonContainerWithDarkTheme___gKKbn gold-purchase-flow__successButtonContainer___39Lwx",submitButton:"gold-purchase-flow__submitButton___2cz_b buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",submitButtonWithDarkTheme:"gold-purchase-flow__submitButtonWithDarkTheme___3i9oy buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",backButton:"gold-purchase-flow__backButton___1ICOb buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",backButtonWithDarkTheme:"gold-purchase-flow__backButtonWithDarkTheme___1d9XI buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",sideHeaderSection:"gold-purchase-flow__sideHeaderSection___1V42h",centerHeaderSection:"gold-purchase-flow__centerHeaderSection___gh2Tr",maintenanceModeMessage:"gold-purchase-flow__maintenanceModeMessage___NQm1C maintenance-mode__maintenanceModeMessage___-MjFa",currencySymbolContainer:"gold-purchase-flow__currencySymbolContainer___27tTQ",goldBundleLimitDisplayMessage:"gold-purchase-flow__goldBundleLimitDisplayMessage___1NVHv",goldPurchaseLimitIsExceededMessage:"gold-purchase-flow__goldPurchaseLimitIsExceededMessage___ll1ds",buyGoldWithCreditsButton:"gold-purchase-flow__buyGoldWithCreditsButton___C4-u6 buttons__buttonWithHoverEffect___eFfj7 buttons__button___2Dz0z",headerTabs:"gold-purchase-flow__headerTabs___2occe",headerTab:"gold-purchase-flow__headerTab___2PikL buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",active:"gold-purchase-flow__active___16FpI",currencyHeaderContainer:"gold-purchase-flow__currencyHeaderContainer___3JVak",creditForGoldContainer:"gold-purchase-flow__creditForGoldContainer___3af_6",headerWithDarkTheme:"gold-purchase-flow__headerWithDarkTheme___1G2Ab popover__popoverHeaderWithDarkTheme___-RYw1 popover__popoverHeader___3oI32",redesign_goldPurchaseFlow:"gold-purchase-flow__redesign_goldPurchaseFlow___2prL3",redesign_isCreditCheckout:"gold-purchase-flow__redesign_isCreditCheckout___26o9v",redesign_mainEarmarkedBox:"gold-purchase-flow__redesign_mainEarmarkedBox___1GA7r",redesign_isStripeCheckout:"gold-purchase-flow__redesign_isStripeCheckout___1tZdF",redesign_header:"gold-purchase-flow__redesign_header___1it8X",redesign_goldPurchaseClose:"gold-purchase-flow__redesign_goldPurchaseClose___ZODSO buttons__unstyledButton___olg-i",redesign_tabs:"gold-purchase-flow__redesign_tabs___2RWHw",redesign_leftTabSection:"gold-purchase-flow__redesign_leftTabSection___3c5yW",redesign_centerTabSection:"gold-purchase-flow__redesign_centerTabSection___1U5MH",redesign_rightTabSection:"gold-purchase-flow__redesign_rightTabSection___1EgnA",redesign_leftTabSectionAlignLeft:"gold-purchase-flow__redesign_leftTabSectionAlignLeft___-eMxQ gold-purchase-flow__redesign_leftTabSection___3c5yW",redesign_tabText:"gold-purchase-flow__redesign_tabText___TiWET",redesign_headerBundleCost:"gold-purchase-flow__redesign_headerBundleCost___3eUxj",redesign_headerCurrencyPrefix:"gold-purchase-flow__redesign_headerCurrencyPrefix___3i7if",redesign_headerCurrency:"gold-purchase-flow__redesign_headerCurrency___3JCKI",redesign_togglePaymentType:"gold-purchase-flow__redesign_togglePaymentType___KALst",redesign_subHeader:"gold-purchase-flow__redesign_subHeader___2WuPK",redesign_subHeaderFormatted:"gold-purchase-flow__redesign_subHeaderFormatted___3vl6_ gold-purchase-flow__redesign_subHeader___2WuPK",redesign_subHeaderLink:"gold-purchase-flow__redesign_subHeaderLink___33UQZ links__redesign_secondaryLink___IpckZ links__redesign_link___2bKIw",redesign_bundlesContainer:"gold-purchase-flow__redesign_bundlesContainer___21wsQ",earmarkedBoxBundle:"gold-purchase-flow__earmarkedBoxBundle___24fvw",redesign_bundleButton:"gold-purchase-flow__redesign_bundleButton___1RmAy buttons__unstyledButton___olg-i",redesign_bundleButtonContent:"gold-purchase-flow__redesign_bundleButtonContent___2VYNT",redesign_bundleCost:"gold-purchase-flow__redesign_bundleCost___362LV",redesign_goldBundleLimitDisplayMessage:"gold-purchase-flow__redesign_goldBundleLimitDisplayMessage___2ar0w",redesign_backButton:"gold-purchase-flow__redesign_backButton___2Otqi buttons__svgOnlyButtonWithAlternateDarkTheme___1CQVP buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",redesign_creditContainer:"gold-purchase-flow__redesign_creditContainer___3eoDD",redesign_goldPricing:"gold-purchase-flow__redesign_goldPricing___3QnrY gold-purchase-flow__redesign_headerBundleCost___3eUxj",redesign_amountLabel:"gold-purchase-flow__redesign_amountLabel___21G0p",redesign_amountLabelCredits:"gold-purchase-flow__redesign_amountLabelCredits___1kZ-h",redesign_remainingCreditsContainer:"gold-purchase-flow__redesign_remainingCreditsContainer___2VWr9",redesign_remainingCredits:"gold-purchase-flow__redesign_remainingCredits___1lYIS",redesign_submitButton:"gold-purchase-flow__redesign_submitButton___25qCk",redesign_successMessage:"gold-purchase-flow__redesign_successMessage___fgqxy",redesign_maintenanceModeMessage:"gold-purchase-flow__redesign_maintenanceModeMessage___2tcna",redesign_currencySymbolContainer:"gold-purchase-flow__redesign_currencySymbolContainer___2ua3r"}},"./src/pieces/payment/gold-purchase-flow.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),c=n.n(s),l=n("./node_modules/react/index.js"),u=n.n(l),d=n("./node_modules/classnames/index.js"),_=n.n(d),m=n("./node_modules/framer-motion/dist/framer-motion.es.js"),g=n("./node_modules/idx/lib/idx.js"),b=n.n(g),p=n("./node_modules/recompose/dist/Recompose.esm.js"),f=n("./node_modules/react-redux/es/index.js"),h=n("./node_modules/reselect/lib/index.js"),v=n("./node_modules/lodash/cond.js"),w=n.n(v),C=n("./src/pieces/payment/digital-items.reducer.js"),y=n("./src/pieces/current-user/current-user.reducer.js"),j=n("./src/pieces/video/video.reducer.js"),O=n("./src/pieces/payment/prettify-price.js"),S=n("./src/pieces/payment/currency-symbol.tsx"),E=n("./src/pieces/payment/digital-currency.tsx"),x=n("./src/pieces/payment/stripe.reducer.js"),k=n("./src/pieces/payment/stripe-credit-card-form.tsx"),I=n("./src/pieces/payment/stripe-saved-credit-card-form.tsx"),T=n("./src/pieces/payment/gold-purchase-flow.scss"),F=n.n(T),P=(n("./node_modules/bows/bows.js")("Gold-payment-options-form"),Object(p.a)(Object(f.b)(Object(h.createStructuredSelector)({chosenBundle:C.selectChosenGoldBundle,wallet:y.selectCurrentUserWallet,creditCard:x.selectFirstCreditCard}),{PurchaseGoldBundleWithStripeUsingNewCreditCard:C.PurchaseGoldBundleWithStripeUsingNewCreditCard,RemoveCreditCard:x.RemoveCreditCard,PurchaseGoldBundleWithStripe:C.PurchaseGoldBundleWithStripe,PurchaseGoldBundleWithCredits:C.PurchaseGoldBundleWithCredits}))),N=w()([[function(e){return"Credit"===e.paymentType},function(e){var t=e.chosenBundle.usingCredits&&e.chosenBundle.usingCredits.cost||0,n=e.wallet.credits-t,a=Object(l.useCallback)(function(){return e.PurchaseGoldBundleWithCredits(e.chosenBundle)},[e.PurchaseGoldBundleWithCredits,e.chosenBundle]);return u.a.createElement("div",{className:F.a.redesign_creditContainer},u.a.createElement("div",{className:F.a.redesign_goldPricing},u.a.createElement("div",{className:F.a.redesign_amountLabel},u.a.createElement(E.a,{size:"large",type:"gold",amount:e.chosenBundle.amount})),"for",u.a.createElement("div",{className:F.a.redesign_amountLabelCredits},u.a.createElement(E.a,{size:"large",type:"credit",amount:t})),"credits"),n>=0?u.a.createElement("div",{className:F.a.redesign_remainingCreditsContainer},u.a.createElement("div",{className:F.a.redesign_remainingCredits},u.a.createElement("span",null,"You will have"),u.a.createElement("span",{className:F.a.redesign_amountLabelCredits},u.a.createElement(E.a,{size:"medium",type:"credit",amount:n})),u.a.createElement("span",null,"credits")),u.a.createElement("div",{className:F.a.redesign_remainingCredits},"remaining.")):u.a.createElement("div",{className:F.a.redesign_remainingCredits},"You don't have enough available credit."),u.a.createElement("button",{className:F.a.redesign_submitButton,disabled:n<0,onClick:a},"purchase for ",t," credits"))}],[function(e){return!!e.creditCard.id},function(e){var t=Object(l.useCallback)(function(){return e.PurchaseGoldBundleWithStripe(e.chosenBundle,{cardId:e.creditCard&&e.creditCard.id})},[e.chosenBundle,e.PurchaseGoldBundleWithStripe,e.creditCard]);return u.a.createElement(I.a,{submit:t,handleDeleteCard:function(){return e.RemoveCreditCard(e.creditCard&&e.creditCard.id)},creditCard:e.creditCard,submissionMessage:e.purchaseMessage})}],[function(){return!0},function(e){return u.a.createElement(k.a,{darkTheme:e.darkTheme,submit:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return e.PurchaseGoldBundleWithStripeUsingNewCreditCard.apply(e,[e.chosenBundle,t].concat(a))},submissionMessage:e.purchaseMessage,shouldPromptToSaveCreditCard:!0})}]]),M=P(function(e){var t="purchase for ".concat(Object(O.a)(e.chosenBundle.usingStripe.cost));return u.a.createElement(N,r()({purchaseMessage:t},e))}),L=n("./src/pieces/base/loading-indicator.js"),B=n("./src/pieces/base/constants.js"),A=n("./src/pieces/base/close-icon.tsx"),D=(n("./node_modules/bows/bows.js")("Gold-purchase-flow"),Object(p.a)(Object(f.b)(Object(h.createStructuredSelector)({goldPurchaseFlowError:C.selectGoldPurchaseFlowError,goldBundlesPurchasableWithStripe:C.selectGoldBundlesPurchasableWithStripe,recyclables:C.selectRecyclables,chosenBundle:C.selectChosenGoldBundle,wallet:y.selectCurrentUserWallet,paymentType:C.selectPaymentType,purchaseFlowStep:C.selectGoldPurchaseFlowStep,isInMaintenanceMode:C.selectIsInMaintenanceMode,goldPurchaseLimitIsExceeded:C.selectGoldPurchaseLimitIsExceeded,goldBundleLimitDisplayMessage:C.selectGoldBundleLimitDisplayMessage,isUnlockModalOpen:j.selectUnlockModalIsOpen,paywallPrice:j.selectUnlockPaywallPPVPrice}),{ChooseGoldBundle:C.ChooseGoldBundle,ClearChosenGoldBundle:C.ClearChosenGoldBundle,FetchCurrentUserWallet:y.FetchCurrentUserWallet,LoadGoldBundlePurchaseFlow:C.LoadGoldBundlePurchaseFlow,SetPaymentType:C.SetPaymentType,UnloadGoldBundlePurchaseFlow:C.UnloadGoldBundlePurchaseFlow,TrackGoldPurchaseModalImpression:C.TrackGoldPurchaseModalImpression,TrackGoldPurchaseClicked:C.TrackGoldPurchaseClicked}))),U=function(e){var t=e.darkTheme,n=c()(e,["darkTheme"]);return u.a.createElement("div",null,u.a.createElement("div",{className:F.a.purchaseFailureContainer},u.a.createElement("div",{className:t?F.a.purchaseFailureHeaderWithDarkTheme:F.a.purchaseFailureHeader},"Error"),u.a.createElement("div",{className:F.a.purchaseFailureMessage},b()(n,function(e){return e.goldPurchaseFlowError.body})||B.d)))},R=function(e){var t=e.darkTheme,n=void 0!==t&&t;return u.a.createElement("div",{className:F.a.loadingContainer},u.a.createElement(L.a,{size:"medium",darkTheme:n}))},H=function(){return u.a.createElement("div",{className:F.a.redesign_maintenanceModeMessage},u.a.createElement("p",null,"Buying"," ",u.a.createElement("span",{className:F.a.redesign_currencySymbolContainer},u.a.createElement(S.a,{size:"medium",type:"gold"}))," ","Gold is offline for maintenance."),u.a.createElement("p",null,"Check back soon."))},W=function(e){var t="Credit"===e.paymentType,n=t?"buy gold with credits":"buy gold",a=t?"purchase":"buy",r=t?"buy with card":"buy with credits",i=Object(l.useCallback)(function(){return"Credit"===e.paymentType?e.SetPaymentType("CreditCard"):e.SetPaymentType("Credit")},[e.paymentType,e.SetPaymentType]);return w()([[function(e){var t=e.purchaseFlowStep;return!e.wallet||"Success"===t},function(){return null}],[function(e){return!!e.chosenBundle},function(e){e.ClearChosenGoldBundle;var t=e.chosenBundle;return u.a.createElement("div",{className:F.a.redesign_header},u.a.createElement("div",{className:F.a.redesign_tabs},u.a.createElement("div",{className:F.a.redesign_leftTabSectionAlignLeft},u.a.createElement("div",{className:F.a.redesign_tabText,style:{textTransform:"uppercase"}},a)," ",u.a.createElement("div",{className:F.a.redesign_headerBundleCost},u.a.createElement(E.a,{size:"large",type:"gold",amount:t?t.amount:0}))),u.a.createElement("div",{className:F.a.redesign_centerTabSection}),u.a.createElement("div",{className:F.a.redesign_rightTabSection})))}],[function(e){return!!e.onlyViewPaymentType},function(a){var r=a.wallet;return u.a.createElement("div",{className:F.a.redesign_header},u.a.createElement("div",{className:F.a.redesign_tabs},u.a.createElement("div",{className:F.a.redesign_leftTabSection},u.a.createElement("div",{className:F.a.redesign_headerCurrencyPrefix},"You have"),u.a.createElement("div",{className:F.a.redesign_headerCurrency},u.a.createElement(E.a,{size:"medium",type:t?"credit":"gold",amount:r[t?"credits":"gold"]}))),u.a.createElement("div",{className:F.a.redesign_centerTabSection},u.a.createElement("div",{className:F.a.redesign_tabText},n)),u.a.createElement("div",{className:F.a.redesign_rightTabSection})),e.isUnlockModalOpen&&u.a.createElement("div",{className:F.a.redesign_subHeaderFormatted},u.a.createElement("div",{className:F.a.redesign_headerCurrencyPrefix},"To unlock this show, you need"),u.a.createElement("div",{className:F.a.redesign_headerCurrency},u.a.createElement(E.a,{size:"medium",type:"gold",amount:r&&r.gold<e.paywallPrice?e.paywallPrice-r.gold:e.paywallPrice}))),!e.isUnlockModalOpen&&u.a.createElement("div",{className:F.a.redesign_subHeader},"Support broadcasters by purchasing gold to give props.",u.a.createElement("a",{className:F.a.redesign_subHeaderLink,href:"https://caffeine.custhelp.com/app/categories/detail/c/3/~/gold-and-credit",target:"__blank",rel:"nofollow"},"Learn More.")))}],[function(){return!0},function(a){var o=a.wallet;return u.a.createElement("div",{className:F.a.redesign_header},u.a.createElement("div",{className:F.a.redesign_tabs},u.a.createElement("div",{className:F.a.redesign_leftTabSection},u.a.createElement("div",{className:F.a.redesign_headerCurrencyPrefix},"You have"),u.a.createElement("div",{className:F.a.redesign_headerCurrency},u.a.createElement(E.a,{size:"medium",type:t?"credit":"gold",amount:o[t?"credits":"gold"]}))),u.a.createElement("div",{className:F.a.redesign_centerTabSection},u.a.createElement("div",{className:F.a.redesign_tabText},n)),u.a.createElement("div",{className:F.a.redesign_rightTabSection},!e.isUnlockModalOpen&&u.a.createElement("button",{className:F.a.redesign_togglePaymentType,onClick:i},r))),e.isUnlockModalOpen&&u.a.createElement("div",{className:F.a.redesign_subHeaderFormatted},u.a.createElement("div",{className:F.a.redesign_headerCurrencyPrefix},"To unlock this show, you need"),u.a.createElement("div",{className:F.a.redesign_headerCurrency},u.a.createElement(E.a,{size:"medium",type:"gold",amount:o&&o.gold<e.paywallPrice?e.paywallPrice-o.gold:e.paywallPrice}))),!e.isUnlockModalOpen&&u.a.createElement("div",{className:F.a.redesign_subHeader},"Support broadcasters by purchasing gold to give props.",u.a.createElement("a",{className:F.a.redesign_subHeaderLink,href:"https://caffeine.custhelp.com/app/categories/detail/c/3/~/gold-and-credit",target:"__blank",rel:"nofollow"},"Learn More.")))}]])(e)},V=function(e){var t=e.goldBundleLimitDisplayMessage;return u.a.createElement("div",{className:F.a.goldPurchaseLimitIsExceeded},u.a.createElement("div",{className:F.a.goldPurchaseLimitIsExceededMessage},u.a.createElement("div",{className:F.a.goldBundleLimitDisplayMessage},t)))},z=function(e){var t=e.isUnlockModalOpen,n=e.paywallPrice,a=e.paymentType,r=e.recyclables,i=e.goldBundlesPurchasableWithStripe,o=e.goldBundleLimitDisplayMessage,s=e.ChooseGoldBundle,c=e.TrackGoldPurchaseClicked,l="Credit"===a,d=l?r:i;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:F.a.redesign_bundlesContainer},d&&d.map(function(e){var a=l?e.usingCredits:e.usingStripe;return u.a.createElement("div",{key:e.id},u.a.createElement("button",{className:F.a.redesign_bundleButton,disabled:a&&!a.canPurchase||t&&n>e.amount,onClick:function(){return function(e){c(e.id),s(e)}(e)}},u.a.createElement("div",{className:F.a.redesign_bundleButtonContent},u.a.createElement(E.a,{size:"large",type:"gold",amount:e.amount}),l?u.a.createElement("div",{className:F.a.redesign_bundleCost},a&&u.a.createElement(E.a,{size:"medium",type:"credit",amount:a.cost})):u.a.createElement("div",{className:F.a.redesign_bundleCost},a&&Object(O.a)(a.cost)))))})),"CreditCard"===a&&o&&u.a.createElement("div",{className:F.a.redesign_goldBundleLimitDisplayMessage},o))};t.a=D(function(e){"Credit"===e.paymentType?e.recyclables:e.goldBundlesPurchasableWithStripe;var t,n=Object(l.useCallback)(function(){e.ClearChosenGoldBundle(),e.onRequestClose&&e.onRequestClose()},[e.onRequestClose,e.ClearChosenGoldBundle]),a=Object(l.useCallback)(function(){e.ClearChosenGoldBundle(),e.successButtonAction&&e.successButtonAction()},[e.ClearChosenGoldBundle,e.successButtonAction]);Object(l.useEffect)(function(){return e.FetchCurrentUserWallet(),e.LoadGoldBundlePurchaseFlow(e.onlyViewPaymentType||e.paymentType),e.UnloadGoldBundlePurchaseFlow},[e.LoadGoldBundlePurchaseFlow,e.UnloadGoldBundlePurchaseFlow]),Object(l.useEffect)(function(){"Success"===e.purchaseFlowStep&&a()},[e.purchaseFlowStep]),Object(l.useEffect)(function(){e.TrackGoldPurchaseModalImpression()},[]);return u.a.createElement(m.b.div,r()({},{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2}},{className:_()((t={},o()(t,F.a.redesign_goldPurchaseFlow,!0),o()(t,F.a.redesign_isCreditCheckout,!!e.chosenBundle&&"Credit"===e.paymentType),o()(t,F.a.redesign_isStripeCheckout,!!e.chosenBundle&&"CreditCard"===e.paymentType),t))}),u.a.createElement(W,e),w()([[function(e){var t=e.isInMaintenanceMode;return!e.wallet||t},H],[function(e){return"Processing"===e.purchaseFlowStep},R],[function(e){return"Failure"===e.purchaseFlowStep},U],[function(e){return"Success"===e.purchaseFlowStep},function(){return u.a.createElement("div",{className:F.a.redesign_successMessage},e.successButtonMessage||"Success!")}],[function(e){return!!e.chosenBundle},function(e){var t=e.paymentType;return u.a.createElement(M,{paymentType:t,darkTheme:!0})}],[function(e){var t=e.paymentType,n=e.goldPurchaseLimitIsExceeded;return"CreditCard"===t&&n},V],[function(e){var t=e.goldBundlesPurchasableWithStripe,n=e.recyclables;return"Credit"===e.paymentType?!!n:!!t},z],[function(){return!0},R]])(e),u.a.createElement("button",{onClick:n,className:F.a.redesign_goldPurchaseClose},u.a.createElement(A.a,{darkTheme:!0,size:"medium"})))})},"./src/pieces/payment/link-account-flow.scss":function(e,t,n){e.exports={goldPurchaseFlow:"link-account-flow__goldPurchaseFlow___XdHe3",bundlesContainer:"link-account-flow__bundlesContainer___2VGKq",header:"link-account-flow__header___3hyHn popover__popoverHeader___3oI32",goldHeader:"link-account-flow__goldHeader___Fxacu",purchaseFailureContainer:"link-account-flow__purchaseFailureContainer___v8twe popover__failedFlowMessage___2YrdQ",sideHeaderSectionWithBackActionEnabled:"link-account-flow__sideHeaderSectionWithBackActionEnabled___msmA9 link-account-flow__sideHeaderSection___2ilSn",purchaseFailureHeader:"link-account-flow__purchaseFailureHeader___345Ua popover__failedFlowHeader___2fTNi",purchaseFailureHeaderWithDarkTheme:"link-account-flow__purchaseFailureHeaderWithDarkTheme___15zs3 popover__failedFlowHeaderWithDarkTheme___2Ngsu popover__failedFlowHeader___2fTNi",purchaseFailureMessage:"link-account-flow__purchaseFailureMessage___1Rg8u",purchaseSuccessContainer:"link-account-flow__purchaseSuccessContainer___39t6P popover__successfulFlowCompletionMessage___QR3OC",purchaseSuccessContainerWithSuccessButton:"link-account-flow__purchaseSuccessContainerWithSuccessButton___1WAN8 link-account-flow__purchaseSuccessContainer___39t6P popover__successfulFlowCompletionMessage___QR3OC",purchaseSuccessHeader:"link-account-flow__purchaseSuccessHeader___3lsHh popover__successfulFlowCompletionHeader___38Qwl",purchaseSuccessHeaderWithDarkTheme:"link-account-flow__purchaseSuccessHeaderWithDarkTheme___5CyP8 link-account-flow__purchaseSuccessHeader___3lsHh popover__successfulFlowCompletionHeader___38Qwl",purchaseSuccessMessage:"link-account-flow__purchaseSuccessMessage___1SwgX",purchaseSuccessMessageWithSuccessButton:"link-account-flow__purchaseSuccessMessageWithSuccessButton___ZYecB link-account-flow__purchaseSuccessMessage___1SwgX",goldAvailableWithDarkTheme:"link-account-flow__goldAvailableWithDarkTheme___1-W7G",paymentContainer:"link-account-flow__paymentContainer___1e0Q3",loadingContainer:"link-account-flow__loadingContainer___NK45F",paymentTypeSelector:"link-account-flow__paymentTypeSelector___24xIP",creditCardForm:"link-account-flow__creditCardForm___3pMD_",creditCardContainer:"link-account-flow__creditCardContainer___1yO0V",creditContainer:"link-account-flow__creditContainer___Iz3nZ",creditCardContainerWithDarkTheme:"link-account-flow__creditCardContainerWithDarkTheme___3knoW link-account-flow__creditCardContainer___1yO0V",creditContainerWithDarkTheme:"link-account-flow__creditContainerWithDarkTheme___2THjD link-account-flow__creditCardContainer___1yO0V",paymentLabel:"link-account-flow__paymentLabel___3sjT_ forms__inputLabel___2SKFD",card:"link-account-flow__card___2jRdU",bundleButton:"link-account-flow__bundleButton___1i75F buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",bundleButtonWithDarkTheme:"link-account-flow__bundleButtonWithDarkTheme___yw0ps buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",bundleAmount:"link-account-flow__bundleAmount___1_Cvx",bundleAmountWithDarkTheme:"link-account-flow__bundleAmountWithDarkTheme___2nYni link-account-flow__bundleAmount___1_Cvx",bundleCost:"link-account-flow__bundleCost___2AVIf",goldPricing:"link-account-flow__goldPricing___2cIfR",amountLabel:"link-account-flow__amountLabel___1dnLr",amountLabelWithDarkTheme:"link-account-flow__amountLabelWithDarkTheme___3ADjN",remainingCredits:"link-account-flow__remainingCredits___me1ck",remainingCreditsContainer:"link-account-flow__remainingCreditsContainer___oCODp",successButtonContainer:"link-account-flow__successButtonContainer___2F61x",successButtonContainerWithDarkTheme:"link-account-flow__successButtonContainerWithDarkTheme___SVBaH link-account-flow__successButtonContainer___2F61x",submitButton:"link-account-flow__submitButton___2ZeZ2 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",submitButtonWithDarkTheme:"link-account-flow__submitButtonWithDarkTheme___1bi2K buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",backButton:"link-account-flow__backButton___1GxCd buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",backButtonWithDarkTheme:"link-account-flow__backButtonWithDarkTheme___U_olr buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",sideHeaderSection:"link-account-flow__sideHeaderSection___2ilSn",centerHeaderSection:"link-account-flow__centerHeaderSection___2qi9T",maintenanceModeMessage:"link-account-flow__maintenanceModeMessage___1g7NG maintenance-mode__maintenanceModeMessage___-MjFa",currencySymbolContainer:"link-account-flow__currencySymbolContainer___1w_fp",goldBundleLimitDisplayMessage:"link-account-flow__goldBundleLimitDisplayMessage___3u970",goldPurchaseLimitIsExceededMessage:"link-account-flow__goldPurchaseLimitIsExceededMessage___OnfUi",buyGoldWithCreditsButton:"link-account-flow__buyGoldWithCreditsButton___MdJII buttons__buttonWithHoverEffect___eFfj7 buttons__button___2Dz0z",headerTabs:"link-account-flow__headerTabs___3Hfse",headerTab:"link-account-flow__headerTab___WiRKG buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",active:"link-account-flow__active___39ILO",currencyHeaderContainer:"link-account-flow__currencyHeaderContainer___1bZ1p",creditForGoldContainer:"link-account-flow__creditForGoldContainer___2uDb9",headerWithDarkTheme:"link-account-flow__headerWithDarkTheme___EOL57 popover__popoverHeaderWithDarkTheme___-RYw1 popover__popoverHeader___3oI32",accountLinkFlow:"link-account-flow__accountLinkFlow___D1ugn",redesign_isCreditCheckout:"link-account-flow__redesign_isCreditCheckout___1eSm-",redesign_mainEarmarkedBox:"link-account-flow__redesign_mainEarmarkedBox___2FpcS",redesign_header:"link-account-flow__redesign_header___xgONn",redesign_goldPurchaseClose:"link-account-flow__redesign_goldPurchaseClose___3_4nB buttons__unstyledButton___olg-i",redesign_tabs:"link-account-flow__redesign_tabs___2K5OO",redesign_leftTabSection:"link-account-flow__redesign_leftTabSection___3FULq",redesign_centerTabSection:"link-account-flow__redesign_centerTabSection___3SRFf",redesign_rightTabSection:"link-account-flow__redesign_rightTabSection___12khb",redesign_leftTabSectionAlignLeft:"link-account-flow__redesign_leftTabSectionAlignLeft___2O33H link-account-flow__redesign_leftTabSection___3FULq",redesign_tabText:"link-account-flow__redesign_tabText___1DI-T",redesign_headerCurrencyPrefix:"link-account-flow__redesign_headerCurrencyPrefix___1k-R3",redesign_headerCurrency:"link-account-flow__redesign_headerCurrency___1Jn0l",redesign_togglePaymentType:"link-account-flow__redesign_togglePaymentType___3LQBF",redesign_subHeader:"link-account-flow__redesign_subHeader___3qlG6",redesign_subHeaderFormatted:"link-account-flow__redesign_subHeaderFormatted___2UFKq link-account-flow__redesign_subHeader___3qlG6",redesign_subHeaderLink:"link-account-flow__redesign_subHeaderLink___1De4w links__redesign_secondaryLink___IpckZ links__redesign_link___2bKIw",redesign_bundlesContainer:"link-account-flow__redesign_bundlesContainer___36_Cn",earmarkedBoxBundle:"link-account-flow__earmarkedBoxBundle___2shGq",redesign_bundleButton:"link-account-flow__redesign_bundleButton___vL2Xf buttons__unstyledButton___olg-i",redesign_bundleButtonContent:"link-account-flow__redesign_bundleButtonContent___3sVF9",redesign_headerBundleCost:"link-account-flow__redesign_headerBundleCost___3u2P3",redesign_bundleCost:"link-account-flow__redesign_bundleCost___3ICjN",redesign_goldBundleLimitDisplayMessage:"link-account-flow__redesign_goldBundleLimitDisplayMessage___3WyB7",redesign_backButton:"link-account-flow__redesign_backButton___rpdXL buttons__svgOnlyButtonWithAlternateDarkTheme___1CQVP buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",redesign_creditContainer:"link-account-flow__redesign_creditContainer___24JZy",redesign_goldPricing:"link-account-flow__redesign_goldPricing___1-3HL link-account-flow__redesign_headerBundleCost___3u2P3",redesign_amountLabel:"link-account-flow__redesign_amountLabel___3GdlI",redesign_amountLabelCredits:"link-account-flow__redesign_amountLabelCredits___1d3cb",redesign_remainingCreditsContainer:"link-account-flow__redesign_remainingCreditsContainer___zPVFe",redesign_remainingCredits:"link-account-flow__redesign_remainingCredits___VE6tz",redesign_submitButton:"link-account-flow__redesign_submitButton___1Na9I",redesign_successMessage:"link-account-flow__redesign_successMessage___2O9_J",redesign_maintenanceModeMessage:"link-account-flow__redesign_maintenanceModeMessage___mcPcu",redesign_currencySymbolContainer:"link-account-flow__redesign_currencySymbolContainer___3vBmP",title:"link-account-flow__title___1NR9b",body:"link-account-flow__body___1f28x",urltvEmailAddress:"link-account-flow__urltvEmailAddress___2WbJx",form:"link-account-flow__form___1tg43",accountInputBase:"link-account-flow__accountInputBase___32usI forms__redesign_inputBase___3tWUb",caption:"link-account-flow__caption___3KR0s",buttonContainer:"link-account-flow__buttonContainer___3CTbR",button:"link-account-flow__button___2VLrK",main:"link-account-flow__main___2DtqL",disabledButton:"link-account-flow__disabledButton___1xKzU",bottomContainer:"link-account-flow__bottomContainer___2JGKw",anchoredButtonContainer:"link-account-flow__anchoredButtonContainer___hVbn1",currentUserEmail:"link-account-flow__currentUserEmail___2j5Jh",dangerMessage:"link-account-flow__dangerMessage___3twtc"}},"./src/pieces/payment/prettify-price.js":function(e,t,n){"use strict";n("./node_modules/bows/bows.js")("Prettify-price");t.a=function(e){return(e/100).toLocaleString(void 0,{style:"currency",currency:"USD"})}},"./src/pieces/payment/props-prompt.scss":function(e,t,n){e.exports={content:"props-prompt__content___1EPUi",body:"props-prompt__body___2yOtq",footer:"props-prompt__footer___2Mhwn",container:"props-prompt__container___noBMJ",overlay:"props-prompt__overlay___2Atuk simple-dialog__overlay___3HxHO modals__container___3QxjF",propsPromptContainer:"props-prompt__propsPromptContainer___1jI4_ simple-dialog__simpleDialogContainer___1zhrI modals__content___i9pX_",textConent:"props-prompt__textConent___1fScC",textBody:"props-prompt__textBody___1DTos",choiceWrapper:"props-prompt__choiceWrapper___agEv4",choiceBtn:"props-prompt__choiceBtn___KfAFQ",sendPropsButton:"props-prompt__sendPropsButton___n9x5P buttons__redesign_darkButtonWithHoverEffect___38D41 buttons__redesign_button___ZSYNe props-prompt__choiceBtn___KfAFQ",cancelButton:"props-prompt__cancelButton___1f8of props-prompt__choiceBtn___KfAFQ"}},"./src/pieces/payment/props-prompt.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/react/index.js"),r=n("./node_modules/react-modal/lib/index.js"),i=n.n(r),o=n("./node_modules/screenfull/dist/screenfull.js"),s=n.n(o),c=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/recompose/dist/Recompose.esm.js"),u=n("./node_modules/reselect/lib/index.js"),d=n("./src/pieces/stage/stage.reducer.js"),_=n("./src/pieces/payment/props-prompt.scss"),m=n.n(_),g=(n("./node_modules/bows/bows.js")("Props-prompt"),Object(l.a)(Object(c.b)(Object(u.createStructuredSelector)({isActive:d.selectPropsPromptIsOpen}),{TrackPropPromptImpression:d.TrackPropPromptImpression})));t.a=g(function(t){var n=t.isActive,r=t.handleProceed,o=t.handleCancel,c=t.TrackPropPromptImpression;return Object(a.useEffect)(function(){n&&(c(),s.a&&s.a.isFullscreen&&s.a.exit())},[n]),e.createElement(i.a,{overlayClassName:m.a.overlay,className:m.a.propsPromptContainer,isOpen:n,onRequestClose:o,closeTimeoutMS:200,contentLabel:"Please answer the following question to continue"},e.createElement("video",{autoPlay:!0,loop:!0,poster:"./mnt_propPrompts_placeholder@2x.png"},e.createElement("source",{src:"./propPrompts_video@2x.webm",type:"video/webm"})),e.createElement("div",{className:m.a.textConent},e.createElement("h3",null,"Support your favorite creators"),e.createElement("div",{className:m.a.textBody},"Show creators love and get noticed by using Caffeine props.")),e.createElement("div",{className:m.a.choiceWrapper},e.createElement("button",{className:m.a.sendPropsButton,onClick:r},"Send props"),e.createElement("button",{className:m.a.cancelButton,onClick:o},"Not now")))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/payment/stripe-credit-card-form-contents.scss":function(e,t,n){e.exports={stripeCreditCardFormContents:"stripe-credit-card-form-contents__stripeCreditCardFormContents___2cg0q",stripeCreditCardFormContentsWithDarkTheme:"stripe-credit-card-form-contents__stripeCreditCardFormContentsWithDarkTheme___3AaNM stripe-credit-card-form-contents__stripeCreditCardFormContents___2cg0q",cardLabel:"stripe-credit-card-form-contents__cardLabel___3-I48 forms__inputLabel___2SKFD",stripeCreditCardFormInputs:"stripe-credit-card-form-contents__stripeCreditCardFormInputs___438Zj",stripeCreditCardFormInputsWithDarkTheme:"stripe-credit-card-form-contents__stripeCreditCardFormInputsWithDarkTheme___2nxBL stripe-credit-card-form-contents__stripeCreditCardFormInputs___438Zj",stripeCreditCardFormInput:"stripe-credit-card-form-contents__stripeCreditCardFormInput___3_joB forms__textInput___1Vogp forms__inputBase___3O5UR",stripeCreditCardFormInputWithDarkTheme:"stripe-credit-card-form-contents__stripeCreditCardFormInputWithDarkTheme___2sxWD forms__textInputWithDarkTheme___3W9Q_ forms__textInput___1Vogp forms__inputBase___3O5UR",submitButtonContainer:"stripe-credit-card-form-contents__submitButtonContainer___bxVlw",submitButton:"stripe-credit-card-form-contents__submitButton___3RiKL buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",submitButtonWithDarkTheme:"stripe-credit-card-form-contents__submitButtonWithDarkTheme___gV9sf buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",ready:"stripe-credit-card-form-contents__ready___1ak1z",cardInfoRow:"stripe-credit-card-form-contents__cardInfoRow___1XA2d",checkboxInput:"stripe-credit-card-form-contents__checkboxInput___3pR2O forms__checkboxInput___OLL1K",creditCardAutosaveLabel:"stripe-credit-card-form-contents__creditCardAutosaveLabel___1zcgi",wideInput:"stripe-credit-card-form-contents__wideInput___2Rofp",narrowInput:"stripe-credit-card-form-contents__narrowInput___tMdBu",redesign_stripeCreditCardFormContents:"stripe-credit-card-form-contents__redesign_stripeCreditCardFormContents___3UDIZ",redesign_stripeCreditCardFormInputs:"stripe-credit-card-form-contents__redesign_stripeCreditCardFormInputs___GOYFo",redesign_label:"stripe-credit-card-form-contents__redesign_label___2Y5xf",redesign_cardLabel:"stripe-credit-card-form-contents__redesign_cardLabel___1eBxC forms__redesign_inputBaseHelper___128q1",redesign_notEmpty:"stripe-credit-card-form-contents__redesign_notEmpty___1lA3u",redesign_cardLabelCheckbox:"stripe-credit-card-form-contents__redesign_cardLabelCheckbox___2QQh9 stripe-credit-card-form-contents__redesign_cardLabel___1eBxC forms__redesign_inputBaseHelper___128q1",redesign_inputElement:"stripe-credit-card-form-contents__redesign_inputElement___3BNj4 forms__redesign_inputBaseDarkTheme___2hrxW",redesign_cardInfoRow:"stripe-credit-card-form-contents__redesign_cardInfoRow___3G4v7",redesign_creditCardAutosaveLabel:"stripe-credit-card-form-contents__redesign_creditCardAutosaveLabel___walrT",redesign_checkboxInput:"stripe-credit-card-form-contents__redesign_checkboxInput___8jhpO",redesign_checkboxInputLabel:"stripe-credit-card-form-contents__redesign_checkboxInputLabel___hoLHC",redesign_legal:"stripe-credit-card-form-contents__redesign_legal___18Aj4",redesign_legalLink:"stripe-credit-card-form-contents__redesign_legalLink___xW8ZL links__redesign_secondaryLink___IpckZ links__redesign_link___2bKIw",redesign_submitButton:"stripe-credit-card-form-contents__redesign_submitButton___sFf9k buttons__redesign_highlightedButtonWithHoverEffect___GMSLO buttons__redesign_button___ZSYNe",redesign_creditCards:"stripe-credit-card-form-contents__redesign_creditCards___3TS7W",redesign_creditCardContainer:"stripe-credit-card-form-contents__redesign_creditCardContainer___299ke",redesign_paymentLabel:"stripe-credit-card-form-contents__redesign_paymentLabel___3jAbG stripe-credit-card-form-contents__redesign_cardLabel___1eBxC forms__redesign_inputBaseHelper___128q1",redesign_card:"stripe-credit-card-form-contents__redesign_card___5CSKg",redesign_cardText:"stripe-credit-card-form-contents__redesign_cardText___3RRzk",redesign_button:"stripe-credit-card-form-contents__redesign_button___saYCB buttons__unstyledButton___olg-i"}},"./src/pieces/payment/stripe-credit-card-form-contents.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n("./node_modules/react-stripe-elements/es/index.js"),l=n("./node_modules/recompose/dist/Recompose.esm.js"),u=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/reselect/lib/index.js"),_=n("./node_modules/classnames/index.js"),m=n.n(_),g=n("./src/pieces/base/constants.js"),b=n("./src/pieces/payment/stripe.reducer.js"),p=n("./src/pieces/base/forms/checkbox-toggle.tsx"),f=n("./src/pieces/payment/credit-card-svgs.tsx"),h=n("./src/pieces/payment/stripe-credit-card-form-contents.scss"),v=n.n(h);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Stripe-credit-card-form-contents");var y=Object(l.a)(c.injectStripe,Object(u.b)(Object(d.createStructuredSelector)({stripeCreditCardFormIsReady:b.selectStripeCreditCardFormIsReady,stripeCreditCardFormIsComplete:b.selectStripeCreditCardFormIsComplete,fullName:b.selectFullName,creditCardAutosave:b.selectCreditCardAutosavePreference,creditCardFormStep:b.selectCreditCardFormStep}),{MarkCardNumberAsReady:b.MarkCardNumberAsReady,MarkCardExpiryAsReady:b.MarkCardExpiryAsReady,MarkCardCVCAsReady:b.MarkCardCVCAsReady,MarkPostalCodeAsReady:b.MarkPostalCodeAsReady,SetFullNameOnCard:b.SetFullNameOnCard,SetCreditCardAutosavePreference:b.SetCreditCardAutosavePreference,CreateStripeToken:b.CreateStripeToken,SetStripeCreditCardFormFieldCompleteness:b.SetStripeCreditCardFormFieldCompleteness,ReportStripeCreditCardFormIsSubmitting:b.ReportStripeCreditCardFormIsSubmitting})),j={base:{color:"#fff",fontFamily:"Poppins, sans-serif",fontSize:"14px",fontWeight:"600",padding:"0px 8px 4px 8px","::placeholder":{color:"#8b8b8b"},":hover":{"::placeholder":{color:"#c4c4c4"}}},invalid:{color:"white"}},O=function(){return e.createElement("style",null,"\n    .StripeElement {\n      width: 100%;\n      height: 21px;\n      background-color: transparent;\n      border: none;\n      border-radius: 0;\n      border-bottom: 1px solid #c4c4c4;\n      padding: 0 8px 4px;\n    }\n\n    .StripeElement:hover {\n      border-bottom: 2px solid #c4c4c4;\n    }\n\n    .StripeElement--focus {\n      border-bottom: 2px solid #00ffff;\n    }\n\n    .StripeElement--focus:hover {\n      border-bottom: 2px solid #00ffff;\n    }\n\n    .StripeElement--invalid {\n      color: white;\n      border-bottom: 1px solid #ff0000;\n    }\n\n    .StripeElement--invalid:hover {\n      border-bottom: 2px solid #ff0000;\n    }\n\n    // override chrome autofill styles\n    .StripeElement .InputElement:-webkit-autofill,\n    .StripeElement .InputElement:-webkit-autofill:hover,\n    .StripeElement .InputElement:-webkit-autofill:focus,\n    .StripeElement .InputElement:-webkit-autofill:active {\n      transition: background-color 50000s ease-in-out 0s, color 5000s ease-in-out 0s;\n    }\n  ")};t.a=y(function(t){var n,a,i,l,u,d=t.creditCardAutosave,_=(t.creditCardFormStep,t.fullName),b=t.shouldPromptToSaveCreditCard,h=t.stripe,w=t.stripeCreditCardFormIsComplete,y=(t.stripeCreditCardFormIsReady,t.submissionMessage),S=t.submit,E=t.CreateStripeToken,x=t.MarkCardCVCAsReady,k=t.MarkCardExpiryAsReady,I=t.MarkCardNumberAsReady,T=t.MarkPostalCodeAsReady,F=t.ReportStripeCreditCardFormIsSubmitting,P=t.SetCreditCardAutosavePreference,N=t.SetFullNameOnCard,M=t.SetStripeCreditCardFormFieldCompleteness,L=Object(s.useState)({name:!1,cardExpiry:!1,cardNumber:!1,cardCvc:!1,postalCode:!1}),B=o()(L,2),A=B[0],D=B[1],U=Object(s.useState)("unknown"),R=o()(U,2),H=R[0],W=R[1],V=Object(s.useCallback)(function(e){var t=e.elementType,n=e.complete,a=e.empty,i=e.brand;"cardNumber"===t&&W(i),D(C({},A,r()({},t,!a))),M(t,n)},[H,A,M]),z=Object(s.useCallback)(function(){var e=S||E;F(),e(h,_,d)},[h,S,E,_,d]),G=Object(s.useCallback)(function(e){D(C({},A,{name:!!e.target.value})),N(e.target.value)},[A,N]),q=Object(s.useCallback)(function(e){P(e.target.checked)},[P]);return e.createElement("div",{className:v.a.redesign_stripeCreditCardFormContents},e.createElement(O,null),e.createElement("div",{className:v.a.redesign_stripeCreditCardFormInputs},e.createElement("div",{className:v.a.redesign_cardInfoRow},e.createElement("label",{className:v.a.redesign_label,htmlFor:"credit-card-name"},e.createElement("input",{id:"credit-card-name",value:_,placeholder:"Enter Name",onChange:G,type:"text",className:v.a.redesign_inputElement,maxLength:g.Oe}),e.createElement("div",{className:m()((n={},r()(n,v.a.redesign_cardLabel,!0),r()(n,v.a.redesign_notEmpty,!A.name),n))},"Name on Card")),e.createElement("label",{className:v.a.redesign_label,htmlFor:"stripe-credit-card-expiry"},e.createElement(c.CardExpiryElement,{id:"stripe-credit-card-expiry",placeholder:"MM/YY",style:j,onChange:V,onReady:k}),e.createElement("div",{className:m()((a={},r()(a,v.a.redesign_cardLabel,!0),r()(a,v.a.redesign_notEmpty,!A.cardExpiry),a))},"Expiration Date"))),e.createElement("div",{className:v.a.redesign_cardInfoRow},e.createElement("label",{className:v.a.redesign_label,htmlFor:"stripe-credit-card-element"},e.createElement(c.CardNumberElement,{id:"stripe-credit-card-element",placeholder:"Enter Credit Card",style:j,onChange:V,onReady:I}),e.createElement("div",{className:m()((i={},r()(i,v.a.redesign_cardLabel,!0),r()(i,v.a.redesign_notEmpty,!A.cardNumber),i))},"Credit Card Number")),e.createElement("label",{className:v.a.redesign_label,htmlFor:"stripe-credit-card-cvc"},e.createElement(c.CardCVCElement,{id:"stripe-credit-card-cvc",placeholder:"Enter 3 Digit Code",style:j,onChange:V,onReady:x}),e.createElement("div",{className:m()((l={},r()(l,v.a.redesign_cardLabel,!0),r()(l,v.a.redesign_notEmpty,!A.cardCvc),l))},"CVC"))),e.createElement("div",{className:v.a.redesign_cardInfoRow},e.createElement("label",{className:v.a.redesign_label,htmlFor:"stripe-credit-card-zip"},e.createElement(c.PostalCodeElement,{id:"stripe-credit-card-zip",placeholder:"Enter Zip Code",style:j,onChange:V,onReady:T}),e.createElement("div",{className:m()((u={},r()(u,v.a.redesign_cardLabel,!0),r()(u,v.a.redesign_notEmpty,!A.postalCode),u))},"Zip Code")),e.createElement("label",{className:v.a.redesign_label},b&&e.createElement("div",{className:v.a.redesign_creditCardAutosaveLabel},e.createElement(p.a,{isCheckbox:!0,className:v.a.redesign_checkboxInput,label:"Save card info",labelClassName:v.a.redesign_cardLabelCheckbox,value:!!d,onChange:q})))),e.createElement("div",{className:v.a.redesign_cardInfoRow},e.createElement("label",{className:v.a.redesign_label},e.createElement("div",{className:v.a.redesign_legal},"By submitting payment information you acknowledge that you have read, understood and agree to be bound by Stripe\u2019s"," ",e.createElement("a",{className:v.a.redesign_legalLink,href:"https://stripe.com/privacy",rel:"noreferrer noopener",target:"__blank"},"Global Privacy Policy"),". Please note that the merchant name on your payment method statement will read as Caffeine 415-649-0041.")),e.createElement("label",{className:v.a.redesign_label},e.createElement("div",{className:v.a.redesign_submitButtonContainer},e.createElement("button",{disabled:!w,className:v.a.redesign_submitButton,onClick:z},y?y.toLowerCase():"Save Credit Card"),e.createElement(f.a,{className:v.a.redesign_creditCards,active:H}))))))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/payment/stripe-credit-card-form.scss":function(e,t,n){e.exports={stripeCreditCardForm:"stripe-credit-card-form__stripeCreditCardForm___1ixFk",redesign_stripeCreditCardFormContainer:"stripe-credit-card-form__redesign_stripeCreditCardFormContainer___35z7p",loadingIndicator:"stripe-credit-card-form__loadingIndicator___2E_3W",creditCardFailureMessage:"stripe-credit-card-form__creditCardFailureMessage___39zo8 popover__failedFlowMessage___2YrdQ",creditCardFailureMessageTitle:"stripe-credit-card-form__creditCardFailureMessageTitle___1v9GB popover__failedFlowHeader___2fTNi",creditCardFailureMessageTitleWithDarkTheme:"stripe-credit-card-form__creditCardFailureMessageTitleWithDarkTheme___2s5HN popover__failedFlowHeaderWithDarkTheme___2Ngsu popover__failedFlowHeader___2fTNi",creditCardFailureMessageBody:"stripe-credit-card-form__creditCardFailureMessageBody___1lfla"}},"./src/pieces/payment/stripe-credit-card-form.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/react-stripe-elements/es/index.js"),r=n("./node_modules/recompose/dist/Recompose.esm.js"),i=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/reselect/lib/index.js"),s=n("./src/pieces/payment/stripe-credit-card-form-contents.tsx"),c=n("./src/pieces/base/loading-indicator.js"),l=n("./src/pieces/payment/stripe-helpers.js"),u=n("./src/pieces/settings/settings.reducer.js"),d=n("./src/pieces/payment/stripe.reducer.js"),_=n("./src/pieces/payment/stripe-credit-card-form.scss"),m=n.n(_),g=n("./node_modules/react/index.js"),b=(n("./node_modules/bows/bows.js")("Stripe-credit-card-form"),Object(r.a)(Object(i.b)(Object(o.createStructuredSelector)({creditCardFormStep:d.selectCreditCardFormStep,modalContent:u.selectModalContent,stripeIsReady:d.selectStripeIsReady,stripeCreditCardFormIsReady:d.selectStripeCreditCardFormIsReady}),{ResetStripeForm:d.ResetStripeForm})));t.a=b(function(t){var n=t.creditCardFormStep,r=t.modalContent,i=t.shouldPromptToSaveCreditCard,o=t.stripeIsReady,d=t.stripeCreditCardFormIsReady,_=t.submit,b=t.submissionMessage,p=t.darkTheme,f=t.ResetStripeForm;return Object(g.useEffect)(function(){return function(){r!==u.ModalContentEnum.AddingCreditCard&&f&&f()}},[r]),e.createElement("div",{className:m.a.stripeCreditCardForm},e.createElement("div",{className:m.a.redesign_stripeCreditCardFormContainer},(!d||"Submitting"===n)&&e.createElement("div",{className:m.a.loadingIndicator},e.createElement(c.a,{size:"medium",darkTheme:p})),o&&e.createElement(a.StripeProvider,{stripe:Object(l.b)()},e.createElement(a.Elements,null,e.createElement(s.a,{shouldPromptToSaveCreditCard:i,submit:_,submissionMessage:b,darkTheme:p})))))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/payment/stripe-helpers.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var a,r=n("./node_modules/@babel/runtime/regenerator/index.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=n.n(o),c=n("./src/pieces/base/constants.js"),l=(n("./node_modules/bows/bows.js")("Stripe-helpers"),new Promise(function(e,t){var n=document.createElement("script");n.async=1,n.src="https://js.stripe.com/v3/";var a=function(t){return function(){t(),e(window.Stripe(c.Ne))}},r=function(e){return function(n){e(),t(n)}},i=function(){n.removeEventListener("load",a),n.removeEventListener("error",r)};n.addEventListener("load",a(i)),n.addEventListener("error",r(i));var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}));l.then(function(e){a=e});var u=function(){var e=s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function d(){return a}},"./src/pieces/payment/stripe-saved-credit-card-form.tsx":function(e,t,n){"use strict";(function(e){var a=n("./src/pieces/payment/credit-card-svgs.tsx"),r=n("./src/pieces/payment/stripe-credit-card-form-contents.scss"),i=n.n(r);n("./node_modules/bows/bows.js")("Stripe-saved-credit-card-form");t.a=function(t){var n=t.creditCard,r=t.submit,o=t.handleDeleteCard,s=t.submissionMessage;return e.createElement("div",{className:i.a.redesign_stripeCreditCardFormContents},e.createElement("div",{className:i.a.redesign_stripeCreditCardFormInputs},e.createElement("div",{className:i.a.redesign_cardInfoRow},e.createElement("label",{className:i.a.redesign_label},n&&e.createElement("div",{className:i.a.redesign_creditCardContainer},e.createElement("div",{className:i.a.redesign_paymentLabel},"Card on file"),e.createElement("div",{className:i.a.redesign_card},e.createElement("div",{className:i.a.redesign_cardText},"".concat(n.brand," ending in ").concat(n.lastFour)),e.createElement("button",{className:i.a.redesign_button,onClick:o},"Remove Card"))))),e.createElement("div",{className:i.a.redesign_cardInfoRow},e.createElement("label",{className:i.a.redesign_label},e.createElement("div",{className:i.a.redesign_legal},"By submitting payment information you acknowledge that you have read, understood and agree to be bound by Stripe\u2019s"," ",e.createElement("a",{className:i.a.redesign_legalLink,href:"https://stripe.com/privacy",rel:"noreferrer noopener",target:"__blank"},"Global Privacy Policy"),". Please note that the merchant name on your payment method statement will read as Caffeine 415-649-0041.")),e.createElement("label",{className:i.a.redesign_label},e.createElement("div",{className:i.a.redesign_submitButtonContainer},e.createElement("button",{className:i.a.redesign_submitButton,onClick:r},s?s.toLowerCase():"purchase with card"),e.createElement("br",null),e.createElement(a.a,{className:i.a.redesign_creditCards,active:n&&n.brand.toLowerCase()||"unknown"}))))))}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/payment/stripe.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return d}),n.d(t,"SetStripeIsReady",function(){return _}),n.d(t,"MarkCardNumberAsReady",function(){return m}),n.d(t,"MarkCardExpiryAsReady",function(){return g}),n.d(t,"MarkCardCVCAsReady",function(){return b}),n.d(t,"MarkPostalCodeAsReady",function(){return p}),n.d(t,"SetFullNameOnCard",function(){return f}),n.d(t,"SetCreditCardAutosavePreference",function(){return h}),n.d(t,"ReportStripeCreditCardFormSuccess",function(){return v}),n.d(t,"SetStripeCreditCardFormFieldCompleteness",function(){return w}),n.d(t,"CreateStripeToken",function(){return C}),n.d(t,"ResetStripeForm",function(){return y}),n.d(t,"SetCreditCards",function(){return j}),n.d(t,"RemoveCreditCard",function(){return O}),n.d(t,"ReportCreditCardRemovalSuccess",function(){return S}),n.d(t,"ReportStripeCreditCardFormIsSubmitting",function(){return E}),n.d(t,"ReportStripeCreditCardFormFailure",function(){return x}),n.d(t,"selectStripeIsReady",function(){return k}),n.d(t,"selectCreditCardFormStep",function(){return I}),n.d(t,"selectStripeCreditCardFormIsReady",function(){return T}),n.d(t,"selectFullName",function(){return F}),n.d(t,"selectCreditCardAutosavePreference",function(){return P}),n.d(t,"selectStripeCreditCardFormIsComplete",function(){return M}),n.d(t,"selectCurrentCreditCards",function(){return L}),n.d(t,"selectFirstCreditCard",function(){return B}),n.d(t,"selectCreditCardFormError",function(){return A});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/lodash/reduce.js"),s=n.n(o),c=n("./node_modules/redux-actions/es/createAction.js"),l=n("./node_modules/redux-actions/es/handleActions.js"),u=n("./node_modules/reselect/lib/index.js"),d=(n("./node_modules/bows/bows.js")("Stripe.reducer"),"stripe"),_=Object(c.a)("Set Stripe Is Ready"),m=Object(c.a)("Mark Card Number As Ready",function(){return null}),g=Object(c.a)("Mark Card Expiry As Ready",function(){return null}),b=Object(c.a)("Mark Card CVC As Ready",function(){return null}),p=Object(c.a)("Mark Postal Code As Ready",function(){return null}),f=Object(c.a)("Set Full Name On Card",function(e){return e}),h=Object(c.a)("Set Credit Card Autosave Preference",function(e){return e}),v=Object(c.a)("Report Stripe Credit Card Form Success",function(){return null}),w=Object(c.a)("Set Stripe Credit Card Form Field Completeness",function(e,t){return{fieldName:e,isComplete:t}}),C=Object(c.a)("Create Stripe Token",function(e,t){return{stripe:e,fullName:t}}),y=Object(c.a)("Reset Stripe Form"),j=Object(c.a)("Set Credit Cards",function(e){return e}),O=Object(c.a)("Remove Credit Card",function(e){return e}),S=Object(c.a)("Report Credit Card Removal Success",function(e){return e}),E=Object(c.a)("Report Stripe Credit Card Form Is Submitting"),x=Object(c.a)("Report Stripe Credit Card Form Failure",function(e){return e}),k=function(e){return e[d].get("stripeIsReady")},I=function(e){return e[d].get("creditCardFormStep")},T=Object(u.createSelector)(function(e){return e[d].get("cardNumberIsReady")},function(e){return e[d].get("cardExpiryIsReady")},function(e){return e[d].get("cardCVCIsReady")},function(e){return e[d].get("postalCodeIsReady")},function(e,t,n,a){return e&&t&&n&&a}),F=function(e){return e[d].get("fullName")},P=function(e){return e[d].get("creditCardAutosave")},N=Object(u.createSelector)(function(e){return e[d].get("stripeCreditCardFormFulfillment")},function(e){return e.toJS()}),M=Object(u.createSelector)(N,F,function(e,t){return t.length&&s()(e,function(e,t){return e&&t},!0)}),L=Object(u.createSelector)(function(e){return e[d].get("currentCreditCards")},function(e){return e.toJS()}),B=Object(u.createSelector)(L,function(e){return e.length&&e[0]}),A=function(e){return e[d].get("creditCardFormError")},D={cardNumber:!1,cardExpiry:!1,cardCvc:!1,postalCode:!1};t.default=Object(l.a)((a={},i()(a,_,function(e){return e.set("stripeIsReady",!0)}),i()(a,m,function(e){return e.set("cardNumberIsReady",!0)}),i()(a,g,function(e){return e.set("cardExpiryIsReady",!0)}),i()(a,b,function(e){return e.set("cardCVCIsReady",!0)}),i()(a,p,function(e){return e.set("postalCodeIsReady",!0)}),i()(a,f,function(e,t){var n=t.payload;return e.set("fullName",n)}),i()(a,h,function(e,t){var n=t.payload;return e.set("creditCardAutosave",n)}),i()(a,v,function(e){return e.set("creditCardFormStep","JustCompleted")}),i()(a,E,function(e){return e.set("creditCardFormStep","Submitting")}),i()(a,w,function(e,t){var n=t.payload,a=n.fieldName,r=n.isComplete;return e.setIn(["stripeCreditCardFormFulfillment",a],r)}),i()(a,C,function(e){return e.set("cardNumberIsReady",!1).set("cardExpiryIsReady",!1).set("cardCVCIsReady",!1).set("postalCodeIsReady",!1)}),i()(a,y,function(t){return t.set("cardNumberIsReady",!1).set("cardExpiryIsReady",!1).set("cardCVCIsReady",!1).set("postalCodeIsReady",!1).set("fullName","").set("creditCardFormError",null).set("creditCardFormStep","InProgress").set("stripeCreditCardFormFulfillment",e.fromJS(D))}),i()(a,j,function(t,n){var a=n.payload;return t.set("currentCreditCards",e.fromJS(a))}),i()(a,S,function(e,t){var n=t.payload;return e.update("currentCreditCards",function(e){return e.filterNot(function(e){return e.get("id")===n})})}),i()(a,x,function(e,t){var n=t.payload;return e.set("creditCardFormError",n).set("creditCardFormStep","Failure")}),a),e.fromJS({stripeIsReady:!1,cardNumberIsReady:!1,cardExpiryIsReady:!1,cardCVCIsReady:!1,postalCodeIsReady:!1,fullName:"",creditCardAutosave:!0,currentCreditCards:[],creditCardFormStep:"InProgress",stripeCreditCardFormFulfillment:D,creditCardFormError:null}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/payment/stripe.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"refreshCreditCards",function(){return w}),n.d(t,"createCreditCard",function(){return C}),n.d(t,"default",function(){return S});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/idx/lib/idx.js"),o=n.n(i),s=n("./node_modules/redux-saga/es/effects.js"),c=n("./src/pieces/base/constants.js"),l=n("./src/pieces/base/saga-utilities.js"),u=n("./src/pieces/payment/stripe-helpers.js"),d=n("./src/pieces/base/api/payments.api.js"),_=n("./src/pieces/payment/stripe.reducer.js"),m=n("./src/pieces/base/simple-dialog/simple-dialog.sagas.js"),g=r.a.mark(w),b=r.a.mark(C),p=r.a.mark(y),f=r.a.mark(j),h=r.a.mark(O),v=r.a.mark(S);n("./node_modules/bows/bows.js")("Stripe.sagas");function w(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.b)(d.m);case 2:return e=t.sent,t.next=5,Object(s.g)(Object(_.SetCreditCards)(e));case 5:case"end":return t.stop()}},g)}function C(e,t,n){var a,i,o;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.b)(e.createToken,{name:t});case 2:if(a=r.sent,i=a.token,o=a.error,!i){r.next=16;break}if(!n){r.next=12;break}return r.next=9,Object(s.b)(d.a,i.id);case 9:r.t0=r.sent,r.next=13;break;case 12:r.t0=i;case 13:return r.abrupt("return",r.t0);case 16:return r.abrupt("return",o);case 17:case"end":return r.stop()}},b)}function y(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.stripe,n=e.fullName,r.prev=1,r.next=4,Object(s.b)(C,t,n,!0);case 4:if(!(a=r.sent).id){r.next=12;break}return r.next=8,Object(s.g)(Object(_.ReportStripeCreditCardFormSuccess)());case 8:return r.next=10,Object(s.b)(w);case 10:r.next=19;break;case 12:if("card_error"!==a.type){r.next=17;break}return r.next=15,Object(s.g)(Object(_.ReportStripeCreditCardFormFailure)(a.message));case 15:r.next=19;break;case 17:return r.next=19,Object(s.g)(Object(_.ReportStripeCreditCardFormFailure)(c.Ie));case 19:r.next=25;break;case 21:return r.prev=21,r.t0=r.catch(1),r.next=25,Object(s.g)(Object(_.ReportStripeCreditCardFormFailure)(o()(r.t0,function(e){return e.displayMessage.body})||c.Ie));case 25:case"end":return r.stop()}},p,null,[[1,21]])}function j(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(u.a);case 2:return e.next=4,Object(s.g)(Object(_.SetStripeIsReady)());case 4:case"end":return e.stop()}},f)}function O(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t="Yes",n.next=3,Object(s.b)(m.showDialog,{title:"Are you sure?",choices:[t,"No"]});case 3:if(n.sent!==t){n.next=11;break}return n.next=7,Object(s.b)(d.n,e);case 7:return n.next=9,Object(s.b)(w);case 9:return n.next=11,Object(s.g)(Object(_.ReportCreditCardRemovalSuccess)(e));case 11:case"end":return n.stop()}},h)}function S(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.b)(j);case 2:return e.next=4,Object(l.h)(_.CreateStripeToken,y);case 4:return e.next=6,Object(l.h)(_.RemoveCreditCard,O);case 6:case"end":return e.stop()}},v)}},"./src/pieces/payment/tipalti-flow-end.scss":function(e,t,n){e.exports={loadingContainer:"tipalti-flow-end__loadingContainer___pWVLe"}},"./src/pieces/payment/tipalti.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return c}),n.d(t,"MarkTipaltiFrameAsLoaded",function(){return l}),n.d(t,"SetTipaltiUrl",function(){return u}),n.d(t,"LoadTipaltiFrame",function(){return d}),n.d(t,"UnloadTipaltiFrame",function(){return _}),n.d(t,"selectTipaltiFrameIsLoaded",function(){return m}),n.d(t,"selectTipaltiUrl",function(){return g});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-actions/es/createAction.js"),s=n("./node_modules/redux-actions/es/handleActions.js"),c=(n("./node_modules/bows/bows.js")("Tipalti.reducer"),"tipalti"),l=Object(o.a)("Mark Tipalti Frame As Loaded",function(){return null}),u=Object(o.a)("Set Tipalti Url",function(e){return e}),d=Object(o.a)("Load Tipalti Frame",function(){return null}),_=Object(o.a)("Unload Tipalti Frame",function(){return null}),m=function(e){return e[c].get("tipaltiFrameIsLoaded")},g=function(e){return e[c].get("tipaltiUrl")};t.default=Object(s.a)((a={},i()(a,l,function(e){return e.set("tipaltiFrameIsLoaded",!0)}),i()(a,u,function(e,t){var n=t.payload;return e.set("tipaltiUrl",n)}),i()(a,_,function(e){return e.set("tipaltiFrameIsLoaded",!1).set("tipaltiUrl",!1)}),a),e.fromJS({tipaltiFrameIsLoaded:!1,tipaltiUrl:null}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/payment/tipalti.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return _});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/effects.js"),o=n("./src/pieces/base/saga-utilities.js"),s=n("./src/pieces/base/api/payments.api.js"),c=n("./src/pieces/payment/tipalti.reducer.js"),l=r.a.mark(d),u=r.a.mark(_);n("./node_modules/bows/bows.js")("Tipalti.sagas");function d(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)(s.l);case 2:return e=t.sent,t.next=5,Object(i.g)(Object(c.SetTipaltiUrl)(e));case 5:case"end":return t.stop()}},l)}function _(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.h)(c.LoadTipaltiFrame,d);case 2:case"end":return e.stop()}},u)}},"./src/pieces/payment/user-wallet.scss":function(e,t,n){e.exports={userWallet:"user-wallet__userWallet___3Z0yT",displayAsColumn:"user-wallet__displayAsColumn___3Enzh",creditsContainer:"user-wallet__creditsContainer___AO4YV",creditsAmount:"user-wallet__creditsAmount___3rPDZ",goldContainer:"user-wallet__goldContainer___2LN3w",columnarGoldContainer:"user-wallet__columnarGoldContainer___1T3Hc",count:"user-wallet__count___phnFO",darkTheme:"user-wallet__darkTheme___qUyXV",label:"user-wallet__label___2kuy6",redesign_userWallet:"user-wallet__redesign_userWallet___3nk-g",redesign_displayAsColumn:"user-wallet__redesign_displayAsColumn___1leqt",redesign_creditsContainer:"user-wallet__redesign_creditsContainer___3Tl1I",redesign_creditsAmount:"user-wallet__redesign_creditsAmount___2usUp",redesign_goldContainer:"user-wallet__redesign_goldContainer___2RReA",redesign_columnarGoldContainer:"user-wallet__redesign_columnarGoldContainer___fbwcM",redesign_count:"user-wallet__redesign_count___3ub7U",redesign_darkTheme:"user-wallet__redesign_darkTheme___1pILL",redesign_label:"user-wallet__redesign_label___2APZm",redesign_amountText:"user-wallet__redesign_amountText___1woVz"}},"./src/pieces/profile/avatar-upload.js":function(e,t,n){"use strict";(function(e,a){var r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./src/pieces/profile/profile.reducer.js"),s=n("./src/pieces/profile/avatar-upload.scss"),c=n.n(s),l=(n("./node_modules/bows/bows.js")("Avatar-upload"),Object(i.a)(Object(i.c)({user:e.shape({caid:e.string}),hideEditLabel:e.bool,profilePictureUploadElement:e.element,setProfilePictureUploadElement:e.func,children:e.element}),Object(r.b)(null,{UploadAvatar:o.UploadAvatar}),Object(i.e)("profilePictureUploadElement","setProfilePictureUploadElement"),Object(i.d)({handleFileChange:function(e){return function(t){t.target.files[0]&&e.UploadAvatar({caid:e.user.caid,file:t.target.files[0]})}}})));t.a=l(function(e){return a.createElement("a",{className:c.a.profilePictureUploadAction,onClick:function(){return e.profilePictureUploadElement.click()}},a.createElement("input",{type:"file",className:c.a.profilePictureUploadFileInput,ref:e.setProfilePictureUploadElement,onChange:e.handleFileChange}),e.children,e.hideEditLabel?null:a.createElement("div",{className:c.a.editPictureLabel},"Edit"))})}).call(this,n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js"))},"./src/pieces/profile/avatar-upload.scss":function(e,t,n){e.exports={profilePictureUploadAction:"avatar-upload__profilePictureUploadAction___ZLdhi buttons__unstyledButton___olg-i",profilePictureUploadFileInput:"avatar-upload__profilePictureUploadFileInput___2AHVr",editPictureLabel:"avatar-upload__editPictureLabel___3qPkD"}},"./src/pieces/profile/profile-footer.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./src/pieces/hooks/useDeviceDetect.ts"),o=n("./src/pieces/footer/base-footer.tsx"),s=n("./src/pieces/footer/footer-mobile-nag.tsx"),c=n("./src/pieces/base/constants.js");n("./node_modules/bows/bows.js")("Profile-footer");t.a=function(t){var n=Object(i.a)();return e.createElement(o.a,{below:n?e.createElement(s.a,r()({},t,{source:c.Ed})):null})}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/profile/profile-frame.scss":function(e,t,n){e.exports={profileFrame:"profile-frame__profileFrame___3zymq",counterSpace:"profile-frame__counterSpace____MZrT",alignIcons:"profile-frame__alignIcons___2kth-",chatIconSpace:"profile-frame__chatIconSpace___3wc5L",flexCenter:"profile-frame__flexCenter___XXonY",pt0:"profile-frame__pt0___3acH9",desktopColumns:"profile-frame__desktopColumns___2V3Hh",mobileColumn:"profile-frame__mobileColumn___325mi",showThree:"profile-frame__showThree___3zQIG",profileLiveActivityCardContainer:"profile-frame__profileLiveActivityCardContainer___10OhC",videosTitle:"profile-frame__videosTitle___sAl0G",videosTitleMobile:"profile-frame__videosTitleMobile___1bYNV",infiniteScrollChild:"profile-frame__infiniteScrollChild___3SCp_",profileFrameActivitiesContainerMobile:"profile-frame__profileFrameActivitiesContainerMobile___3tv5p"}},"./src/pieces/profile/profile-metadata.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/react-helmet/lib/Helmet.js"),s=n.n(o),c=n("./src/pieces/base/constants.js"),l=n("./src/pieces/base/create-image-url.js"),u=n("./src/pieces/profile/profile.reducer.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Profile-metadata");var m=Object(i.b)(function(e){return{profile:Object(u.selectCurrentProfileUser)(e),vods:Object(u.selectProfileActivities)(e)}});t.a=m(function(t){var n=t.profile,a=t.vods;if(!n)return null;var r="".concat(n.name||n.username," | Caffeine.tv"),i=n.bio,o=a&&a[0]&&a[0].broadcastInfo&&a[0].broadcastInfo.previewImagePath||n.avatarImagePath;return e.createElement(s.a,null,e.createElement("title",null,r),e.createElement("meta",{name:"description",content:i}),e.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),e.createElement("meta",{name:"twitter:site",content:"@caffeine"}),e.createElement("meta",{property:"fb:app_id",content:"278354532550167"}),e.createElement("meta",{property:"og:type",content:"website"}),e.createElement("meta",{property:"og:site_name",content:"Caffeine"}),e.createElement("meta",{rel:"canonical",href:c.M}),e.createElement("meta",{property:"og:url",content:c.M}),e.createElement("meta",{property:"og:title",content:r}),e.createElement("meta",{property:"og:description",content:i}),e.createElement("meta",{property:"og:image",content:Object(l.c)(o,_({auto:"webp",fit:"crop",width:1200,height:630,enable:"upscale"},{"add-logo-fs-overlay":!0}))}))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/profile/profile-summary.scss":function(e,t,n){e.exports={redesign_profileContent:"profile-summary__redesign_profileContent___1c9cI",redesign_tabs:"profile-summary__redesign_tabs___1h50O",cardHeader:"profile-summary__cardHeader___2mwDr",mobileCardHeader:"profile-summary__mobileCardHeader___1Kw47",showMoreCard:"profile-summary__showMoreCard___1_z5i",avatarImageContainer:"profile-summary__avatarImageContainer___36bEF",avatarImageContainer_avatar:"profile-summary__avatarImageContainer_avatar___1xwOb",mobileAvatarImageContainer:"profile-summary__mobileAvatarImageContainer___3Gspz",mobileAvatarImageContainer_avatar:"profile-summary__mobileAvatarImageContainer_avatar___1ATPu",userContainer:"profile-summary__userContainer___2Odxu",mobileUserContainer:"profile-summary__mobileUserContainer___2Xg5H",userInfoContainer:"profile-summary__userInfoContainer___1endr",userInfoContainer_username:"profile-summary__userInfoContainer_username___fXAg5",userInfoContainer_badge:"profile-summary__userInfoContainer_badge___FC_-Z",userInfoContainer_followLink:"profile-summary__userInfoContainer_followLink___39cxz",mobileUserInfoContainer:"profile-summary__mobileUserInfoContainer___3mix0",mobileUserInfoContainer_username:"profile-summary__mobileUserInfoContainer_username___3hAk1",nameContainer:"profile-summary__nameContainer___2VGZm",nameContainer_name:"profile-summary__nameContainer_name___1vfr2",mobileNameContainer:"profile-summary__mobileNameContainer___2F6gS",mobileNameContainer_name:"profile-summary__mobileNameContainer_name___2-EIO",followersContainer:"profile-summary__followersContainer___A1wDL",followersContainer_separator:"profile-summary__followersContainer_separator___2976F",mobileFollowersContainer:"profile-summary__mobileFollowersContainer___1YnwJ",actionButtonsContainer:"profile-summary__actionButtonsContainer___1F5l_",actionButtonsFollowLink:"profile-summary__actionButtonsFollowLink___3gB-O",aboutContainer:"profile-summary__aboutContainer___e8e1Z",mobileAboutContainer:"profile-summary__mobileAboutContainer___3XefJ",aboutContainerText:"profile-summary__aboutContainerText___3lkDC",showMore:"profile-summary__showMore___1ZmY1",showLess:"profile-summary__showLess___X4QEA",mobileAboutContainerText:"profile-summary__mobileAboutContainerText___bhF2Q",lineSeparator:"profile-summary__lineSeparator___CdHr3",followButton:"profile-summary__followButton___3JgOi",restyledButton:"profile-summary__restyledButton___1rkce",showMoreButton:"profile-summary__showMoreButton___3Lsht"}},"./src/pieces/profile/profile.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return u}),n.d(t,"LoadProfile",function(){return d}),n.d(t,"UnloadProfile",function(){return _}),n.d(t,"SetCurrentProfileUser",function(){return m}),n.d(t,"SetLiveStage",function(){return g}),n.d(t,"LoadMoreProfileActivities",function(){return b}),n.d(t,"SetProfileActivities",function(){return p}),n.d(t,"SetProfileUpcoming",function(){return f}),n.d(t,"SetProfileFeaturedActivity",function(){return h}),n.d(t,"SetProfileBroadcastState",function(){return v}),n.d(t,"SetProfileBroadcast",function(){return w}),n.d(t,"SetEditedName",function(){return C}),n.d(t,"SetEditedBio",function(){return y}),n.d(t,"SaveEditedUser",function(){return j}),n.d(t,"ClearEdits",function(){return O}),n.d(t,"ClearFollowingFollowers",function(){return S}),n.d(t,"UploadAvatar",function(){return E}),n.d(t,"AppendProfileFollowingUsers",function(){return x}),n.d(t,"AppendProfileFollowerUsers",function(){return k}),n.d(t,"FetchInitialFollowerUsers",function(){return I}),n.d(t,"FetchInitialFollowingUsers",function(){return T}),n.d(t,"FetchMoreFollowerUsers",function(){return F}),n.d(t,"FetchMoreFollowingUsers",function(){return P}),n.d(t,"SetHasMoreFollowerUsers",function(){return N}),n.d(t,"SetHasMoreFollowingUsers",function(){return M}),n.d(t,"SetInitialFollowerUsersFetched",function(){return L}),n.d(t,"SetInitialFollowingUsersFetched",function(){return B}),n.d(t,"SetHasMoreProfileActivities",function(){return A}),n.d(t,"SetNextProfileActivity",function(){return D}),n.d(t,"selectCurrentProfileUser",function(){return U}),n.d(t,"selectEditedName",function(){return R}),n.d(t,"selectEditedBio",function(){return H}),n.d(t,"selectFollowingUsers",function(){return W}),n.d(t,"selectFollowerUsers",function(){return V}),n.d(t,"selectHasMoreFollowerUsers",function(){return z}),n.d(t,"selectHasMoreFollowingUsers",function(){return G}),n.d(t,"selectHasFetchedInitialFollowerUsers",function(){return q}),n.d(t,"selectHasFetchedInitialFollowingUsers",function(){return J}),n.d(t,"selectProfileBroadcastState",function(){return Z}),n.d(t,"selectProfileBroadcast",function(){return Y}),n.d(t,"selectProfileActivities",function(){return Q}),n.d(t,"selectProfileUpcoming",function(){return K}),n.d(t,"selectFeaturedActivity",function(){return X}),n.d(t,"selectNextProfileActivity",function(){return $}),n.d(t,"selectHasMoreProfileActivities",function(){return ee}),n.d(t,"selectLiveStage",function(){return te});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-actions/es/createAction.js"),s=n("./node_modules/redux-actions/es/handleActions.js"),c=n("./node_modules/reselect/lib/index.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}n("./node_modules/bows/bows.js")("Profile.reducer");var u="currentProfile",d=Object(o.a)("Load Profile",function(e){return e}),_=Object(o.a)("Unload Profile",function(){return null}),m=Object(o.a)("Set Current Profile User",function(e){return e}),g=Object(o.a)("Set Live Stage",function(e){return e}),b=Object(o.a)("Load More Profile Activities",function(e,t){return{username:e,next:t}}),p=Object(o.a)("Set Profile Activities",function(e){return e}),f=Object(o.a)("Set Profile Upcoming",function(e){return e}),h=Object(o.a)("Set Profile Featured Activity",function(e){return e}),v=Object(o.a)("Set Profile Broadcast State",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OFFLINE";return e}),w=Object(o.a)("Set Profile Broadcast",function(e){return e}),C=Object(o.a)("Set Edited Name",function(e){return e}),y=Object(o.a)("Set Edited Bio",function(e){return e}),j=Object(o.a)("Save Edited User",function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({caid:e},t)}),O=Object(o.a)("Clear Profile Edits",function(){return null}),S=Object(o.a)("Clear Following and Followers Lists",function(){return null}),E=Object(o.a)("Upload Avatar",function(e){return{caid:e.caid,file:e.file}}),x=Object(o.a)("Update Profile Following Users",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e}),k=Object(o.a)("Update Profile Follower Users",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e}),I=Object(o.a)("Fetch Initial Follower Users",function(){return null}),T=Object(o.a)("Fetch Initial Following Users",function(){return null}),F=Object(o.a)("Fetch More Follower Users",function(){return null}),P=Object(o.a)("Fetch More Following Users",function(){return null}),N=Object(o.a)("Set Has More Follower Users",function(e){return e}),M=Object(o.a)("Set Has More Following Users",function(e){return e}),L=Object(o.a)("Set Initial Follower Users Fetched",function(){return null}),B=Object(o.a)("Set Initial Following Users Fetched",function(){return null}),A=Object(o.a)("Set Has More Profile Activities",function(e){return e}),D=Object(o.a)("Set Next Profile Activity",function(e){return e}),U=Object(c.createSelector)(function(e){return e[u].get("user")},function(e){return e&&e.toJS()}),R=function(e){return e[u].get("editedName")},H=function(e){return e[u].get("editedBio")},W=Object(c.createSelector)(function(e){return e[u].get("followingUsers")},function(e){return e.toJS()}),V=Object(c.createSelector)(function(e){return e[u].get("followerUsers")},function(e){return e.toJS()}),z=function(e){return e[u].get("hasMoreFollowerUsers")},G=function(e){return e[u].get("hasMoreFollowingUsers")},q=function(e){return e[u].get("hasFetchedInitialFollowerUsers")},J=function(e){return e[u].get("hasFetchedInitialFollowingUsers")},Z=function(e){return e[u].get("profileBroadcastState")},Y=function(e){return e[u].get("profileBroadcast")},Q=function(e){return e[u].get("activities")},K=function(e){return e[u].get("upcoming")},X=function(e){return e[u].get("featuredActivity")},$=function(e){return e[u].get("nextProfileActivity")},ee=function(e){return e[u].get("hasMoreProfileActivities")},te=function(e){return e[u].get("liveStage")},ne=e.fromJS({user:null,activities:null,featuredActivity:null,upcoming:null,editedName:null,editedBio:null,followingUsers:[],hasMoreFollowingUsers:!1,followerUsers:[],hasMoreFollowerUsers:!1,hasMoreProfileActivities:!1,hasFetchedInitialFollowerUsers:null,hasFetchedInitialFollowingUsers:null,hasFetchedInitialFollowerUsersFailure:null,hasFetchedInitialFollowingUsersFailure:null,profileBroadcastState:"OFFLINE",nextProfileActivity:"",profileBroadcastGame:{}});t.default=Object(s.a)((a={},i()(a,m,function(t,n){var a=n.payload;return t.set("user",e.fromJS(a))}),i()(a,p,function(e,t){var n=t.payload;return e.set("activities",n)}),i()(a,f,function(e,t){var n=t.payload;return e.set("upcoming",n)}),i()(a,h,function(e,t){var n=t.payload;return e.set("featuredActivity",n)}),i()(a,C,function(e,t){var n=t.payload;return e.set("editedName",n)}),i()(a,y,function(e,t){var n=t.payload;return e.set("editedBio",n)}),i()(a,O,function(e){return e.set("editedBio",null).set("editedName",null)}),i()(a,S,function(t){return t.set("followingUsers",e.fromJS([])).set("followerUsers",e.fromJS([]))}),i()(a,_,function(){return ne}),i()(a,x,function(t,n){var a=n.payload;return t.update("followingUsers",function(t){return t.concat(e.fromJS(a))})}),i()(a,k,function(t,n){var a=n.payload;return t.update("followerUsers",function(t){return t.concat(e.fromJS(a))})}),i()(a,D,function(e,t){var n=t.payload;return e.set("nextProfileActivity",n)}),i()(a,M,function(e,t){var n=t.payload;return e.set("hasMoreFollowingUsers",n)}),i()(a,A,function(e,t){var n=t.payload;return e.set("hasMoreProfileActivities",n)}),i()(a,N,function(e,t){var n=t.payload;return e.set("hasMoreFollowerUsers",n)}),i()(a,L,function(e){return e.set("hasFetchedInitialFollowerUsers",!0)}),i()(a,B,function(e){return e.set("hasFetchedInitialFollowingUsers",!0)}),i()(a,v,function(e,t){var n=t.payload;return e.set("profileBroadcastState",n)}),i()(a,w,function(e,t){var n=t.payload;return e.set("profileBroadcast",n)}),i()(a,g,function(e,t){var n=t.payload;return e.set("liveStage",n)}),a),ne)}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/profile/profile.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"handleCrawler",function(){return U}),n.d(t,"default",function(){return R});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/idx/lib/idx.js"),c=n.n(s),l=n("./node_modules/redux-saga/es/effects.js"),u=n("./src/pieces/base/api/users.api.js"),d=n("./src/pieces/base/saga-utilities.js"),_=n("./src/pieces/base/simple-dialog/simple-dialog.sagas.js"),m=n("./src/pieces/stage-director/stage-director.sagas.js"),g=n("./src/pieces/current-user/current-user.sagas.js"),b=n("./src/pieces/authentication/authentication.reducer.js"),p=n("./src/pieces/profile/profile.reducer.js"),f=n("./src/pieces/base/constants.js"),h=n("./src/pieces/base/api/video.api.js"),v=(n("./src/pieces/stage/stage.reducer.js"),n("./src/pieces/stage/stage.sagas.js"),n("./src/pieces/stage-director/stage-director.reducer.js")),w=r.a.mark(P),C=r.a.mark(N),y=r.a.mark(M),j=r.a.mark(L),O=r.a.mark(B),S=r.a.mark(A),E=r.a.mark(D),x=r.a.mark(U),k=r.a.mark(R),I=n("./node_modules/bows/bows.js")("Profile.sagas"),T="true"===localStorage.getItem(f.Fb),F=localStorage.getItem(f.I);function P(e){var t,n,a,i,s,c,_,g,b,C;return r.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return I("Handling load profile",e),t={screen_name:f.Ed,canonical_path:window.location.pathname,web_presentation:T?f.of:f.nf,experiment_group:"CONTENTLOCK_".concat(F)},window.mParticle&&window.mParticle.logEvent("screen_view",window.mParticle.EventType.Other,t),w.prev=3,w.next=6,Object(l.b)(u.j,e);case 6:return n=w.sent,w.next=9,Object(l.g)(Object(p.SetCurrentProfileUser)(n));case 9:return w.next=11,Object(l.b)(h.h,e);case 11:return a=w.sent,w.next=14,Object(l.g)(Object(p.SetProfileFeaturedActivity)(a));case 14:return w.next=16,Object(l.a)([Object(l.b)(h.g,e),Object(l.b)(h.i,e)]);case 16:return i=w.sent,s=o()(i,2),c=s[0],_=c.vodActivities,g=c.next,b=s[1],C=_.filter(function(e){return"vod"===e.activityType}),w.next=25,Object(l.g)(Object(p.SetProfileActivities)(C));case 25:if(_.length%10!==0||!g){w.next=32;break}return w.next=28,Object(l.g)(Object(p.SetHasMoreProfileActivities)(!0));case 28:return w.next=30,Object(l.g)(Object(p.SetNextProfileActivity)(g));case 30:w.next=36;break;case 32:return w.next=34,Object(l.g)(Object(p.SetHasMoreProfileActivities)(!1));case 34:return w.next=36,Object(l.g)(Object(p.SetNextProfileActivity)(""));case 36:return w.next=38,Object(l.g)(Object(p.SetProfileUpcoming)(b));case 38:return 0,w.next=41,Object(l.b)(m.manageStageDirectorSubscription,e,r.a.mark(function t(n){var a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.i)(v.selectIsStageDirectorLive);case 2:return a=t.sent,i=n&&n.stage&&n.stage.live,t.next=6,Object(l.g)(Object(v.SetStageDirectorResponse)(n));case 6:if(!a){t.next=11;break}return t.next=9,Object(l.e)(M,e);case 9:t.next=21;break;case 11:if(!a||i){t.next=16;break}return t.next=14,Object(l.g)(Object(p.SetLiveStage)(null));case 14:t.next=21;break;case 16:if(a||!i){t.next=21;break}return t.next=19,Object(l.b)(N,1e4);case 19:return t.next=21,Object(l.e)(M,e);case 21:case"end":return t.stop()}},t)}),!0);case 41:return w.next=43,Object(d.e)(p.UnloadProfile);case 43:w.next=49;break;case 45:throw w.prev=45,w.t0=w.catch(3),404===w.t0.statusCode&&I("404 on fetching user!"),w.t0;case 49:case"end":return w.stop()}},w,null,[[3,45]])}function N(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t){return setTimeout(t,e)});case 2:case"end":return t.stop()}},C)}function M(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(l.b)(u.g,e);case 3:return t=n.sent,n.next=6,Object(l.g)(Object(p.SetLiveStage)(t));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),I("error on fetching live activity!");case 11:case"end":return n.stop()}},y,null,[[0,8]])}function L(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I("Handling unload profile"),e.next=3,Object(l.g)(Object(p.ClearFollowingFollowers)());case 3:return e.next=5,Object(l.g)(Object(v.ResetStageDirectorResponse)());case 5:case"end":return e.stop()}},j)}function B(e){var t,n,a,i,o,s,c,u;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.username,n=e.next,r.next=3,Object(l.b)(h.g,t,n);case 3:return a=r.sent,i=a.vodActivities,o=a.next,r.next=8,Object(l.i)(p.selectProfileActivities);case 8:if(s=r.sent,c=i.filter(function(e){return"vod"===e.activityType}),!o){r.next=20;break}return r.next=13,Object(l.g)(Object(p.SetHasMoreProfileActivities)(!0));case 13:return r.next=15,Object(l.g)(Object(p.SetNextProfileActivity)(o));case 15:return u=s.concat(c),r.next=18,Object(l.g)(Object(p.SetProfileActivities)(u));case 18:r.next=24;break;case 20:return r.next=22,Object(l.g)(Object(p.SetHasMoreProfileActivities)(!1));case 22:return r.next=24,Object(l.g)(Object(p.SetNextProfileActivity)(""));case 24:case"end":return r.stop()}},O)}function A(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(l.b)(u.t,e.caid,e);case 3:return n.next=5,Object(l.b)(u.j,e.caid);case 5:return t=n.sent,n.next=8,Object(l.g)(Object(p.SetCurrentProfileUser)(t));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),I("Failed to save edited user");case 13:return n.next=15,Object(l.g)(Object(p.ClearEdits)());case 15:case"end":return n.stop()}},S,null,[[0,10]])}function D(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.file,(n=new FormData).append("avatar",t),I("handling avatar upload",t,n),r.prev=4,r.next=7,Object(l.b)(u.u,n);case 7:return r.next=9,Object(l.b)(g.fetchAndSaveCurrentUser,!0);case 9:return a=r.sent,r.next=12,Object(l.g)(Object(p.SetCurrentProfileUser)(a));case 12:r.next=24;break;case 14:if(r.prev=14,r.t0=r.catch(4),!c()(r.t0,function(e){return e.errors._unverifiedEmail})){r.next=21;break}return r.next=19,Object(l.g)(Object(b.ShowVerificationDialog)({body:"To upload an avatar you need to confirm your account",darkTheme:!0}));case 19:r.next=24;break;case 21:return console.error("Error uploading avatar",r.t0),r.next=24,Object(l.b)(_.showDialog,{body:"There was an error uploading your avatar. Please try a smaller image file. Accepted formats are GIF, JPEG, and PNG.",choices:["OK"]});case 24:case"end":return r.stop()}},E,null,[[4,14]])}function U(){var e,t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(d.e)(p.LoadProfile);case 2:return e=r.sent,r.next=5,Object(l.b)(u.j,e);case 5:return t=r.sent,r.next=8,Object(l.b)(h.j,e);case 8:return n=r.sent,a=n.vodActivities,r.next=12,Object(l.g)(Object(p.SetCurrentProfileUser)(t));case 12:return r.next=14,Object(l.g)(Object(p.SetProfileActivities)(a));case 14:case"end":return r.stop()}},x)}function R(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.h)(p.UploadAvatar,D);case 2:return e.next=4,Object(d.h)(p.SaveEditedUser,A);case 4:return e.next=6,Object(d.h)(p.LoadProfile,P);case 6:return e.next=8,Object(d.h)(p.UnloadProfile,L);case 8:return e.next=10,Object(d.h)(p.LoadMoreProfileActivities,B);case 10:case"end":return e.stop()}},k)}},"./src/pieces/push-notification/push-notification.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return c}),n.d(t,"SetCurrentUserPushPermission",function(){return l}),n.d(t,"selectCurrentUserPushPermission",function(){return u}),n.d(t,"SubscribeToPushNotifications",function(){return d}),n.d(t,"UnsubscribeFromPushNotifications",function(){return _}),n.d(t,"SubscribeToPushNotificationsFromNag",function(){return m}),n.d(t,"UnsubscribeFromPushNotificationsFromNag",function(){return g}),n.d(t,"DismissPushNotificationsNagBar",function(){return b});var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/redux-actions/es/createAction.js"),o=n("./node_modules/redux-actions/es/handleActions.js"),s=n("./src/pieces/base/constants.js"),c=(n("./node_modules/bows/bows.js")("Push-notification.reducer"),"push-notification"),l=Object(i.a)("Set Current User Push Permission",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.G;return e}),u=function(e){return e[c].get("currentUserPushPermission")},d=Object(i.a)("Subscribe To Push Notifications",function(){return null}),_=Object(i.a)("Unsubscribe From Push Notifications",function(){return null}),m=Object(i.a)("Subscribe To Push Notifications From Nag",function(){return null}),g=Object(i.a)("Unsubscribe From Push Notifications From Nag",function(){return null}),b=Object(i.a)("Dismiss Push Notifications Nag Bar",function(){return null});t.default=Object(o.a)(r()({},l,function(e,t){var n=t.payload;return e.set("currentUserPushPermission",n)}),e.fromJS({currentUserPushPermission:null}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/push-notification/push-notification.sagas.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./src/pieces/base/storage.js"),o=n("./node_modules/redux-saga/es/effects.js"),s=n("./src/pieces/base/saga-utilities.js"),c=n("./src/pieces/base/api/account.api.js"),l=n("./src/pieces/current-user/current-user.reducer.js"),u=n("./src/pieces/base/api/api-helpers.js"),d=n("./src/pieces/base/constants.js"),_=r.a.mark(m);n("./node_modules/bows/bows.js")("Devices.api");function m(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.e)("".concat(d.Yb,"/devices"),{device:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_)}var g=n("./src/pieces/settings/settings.reducer.js"),b=n("./src/pieces/push-notification/push-notification.reducer.js");n("./node_modules/bows/bows.js")("Register-service-worker");function p(){return navigator.serviceWorker.register("/push-notifications.js").then(function(e){return e}).catch(function(){})}var f=n("./src/pieces/push-notification/request-push-permission.js");n("./node_modules/bows/bows.js")("Subscribe-user-push");function h(){return navigator.serviceWorker.ready.then(function(e){var t={applicationServerKey:function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),r=0;r<n.length;++r)a[r]=n.charCodeAt(r);return a}("BEq5RX-9RaKcyo31LxtWJcgy5qrKSI1QBXj9aLMkvDZleA0FmqgAc6Fy0y6BXJvqX6w0vlV8MkGjMzqii5SNzQA"),userVisibleOnly:!0};return e.pushManager.subscribe(t).then(function(e){var t=JSON.parse(JSON.stringify(e));return{endpoint:t.endpoint,auth:t.keys.auth,p256dh:t.keys.p256dh,os:"BROWSER"}})})}n.d(t,"default",function(){return T});var v=r.a.mark(S),w=r.a.mark(E),C=r.a.mark(x),y=r.a.mark(k),j=r.a.mark(I),O=r.a.mark(T);n("./node_modules/bows/bows.js")("Push-notification.sagas");function S(){var e,t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(o.b)(f.a);case 2:return e=a.sent,a.next=5,Object(o.g)(Object(b.SetCurrentUserPushPermission)(e));case 5:if(e!==d.F&&e!==d.E){a.next=8;break}return a.next=8,Object(o.g)(Object(l.MarkNagAsResolved)());case 8:if(e!==d.F){a.next=21;break}return a.next=11,Object(o.b)(p);case 11:return a.next=13,Object(o.b)(h);case 13:return t=a.sent,a.next=16,Object(o.b)(m,t);case 16:return a.next=18,Object(o.b)(c.o,{friendJoinsWebPush:!0,liveOrWatchingWebPush:!0,newFollowerWebPush:!0});case 18:return n=a.sent,a.next=21,Object(o.g)(Object(g.SetNotificationSettings)(n));case 21:case"end":return a.stop()}},v)}function E(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.g)(Object(b.SetCurrentUserPushPermission)(d.E));case 2:return e.next=4,Object(o.g)(Object(l.MarkNagAsResolved)());case 4:case"end":return e.stop()}},w)}function x(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)(S);case 2:case"end":return e.stop()}},C)}function k(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.a.set("hidePushNotificationNag",!0),e.next=3,Object(o.g)(Object(l.HidePushNotificationNag)());case 3:return e.next=5,Object(o.b)(E);case 5:case"end":return e.stop()}},y)}function I(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.a.set("hidePushNotificationNag",!0),e.next=3,Object(o.g)(Object(l.HidePushNotificationNag)());case 3:return e.next=5,Object(o.g)(Object(l.MarkNagBarAsUserDismissed)());case 5:case"end":return e.stop()}},j)}function T(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.h)(b.SubscribeToPushNotifications,S);case 2:return e.next=4,Object(s.h)(b.UnsubscribeFromPushNotifications,E);case 4:return e.next=6,Object(s.h)(b.SubscribeToPushNotificationsFromNag,x);case 6:return e.next=8,Object(s.h)(b.UnsubscribeFromPushNotificationsFromNag,k);case 8:return e.next=10,Object(s.h)(b.DismissPushNotificationsNagBar,I);case 10:case"end":return e.stop()}},O)}},"./src/pieces/push-notification/request-push-permission.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var a=n("./node_modules/bows/bows.js")("Request-push-permission"),r=function(){return"Notification"in window&&Notification.permission};function i(){return new Promise(function(e,t){var n=Notification.requestPermission(function(t){e(t)});n&&n.then(e,t)}).catch(function(e){a(e)})}},"./src/pieces/redux-form-saga/form-actions.saga.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-form-saga/es/index.js"),o=n("./node_modules/redux-saga/es/effects.js"),s=r.a.mark(c);n("./node_modules/bows/bows.js")("Form-actions.saga");function c(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)(i.b);case 2:case"end":return e.stop()}},s)}},"./src/pieces/routing/create-routes.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./src/pieces/authentication/authentication.reducer.js"),o=n("./src/pieces/base/constants.js");n("./node_modules/bows/bows.js")("Create-post-authentication-events-handler");var s=function(e){return function(t,n,a){!function(e,t){var n=t.location.query["auto-follow"],a=t.location.query["invite-token"],r=localStorage.getItem(o.m);r&&e.dispatch(Object(i.AddPostAuthenticationEvent)({type:"autoFollowDeepLinkUsername",payload:{username:r}})),n&&"true"!==n&&e.dispatch(Object(i.AddPostAuthenticationEvent)({type:"autoFollow",payload:{caid:n}})),a&&e.dispatch(Object(i.AddPostAuthenticationEvent)({type:"invite",payload:{token:a}}))}(e,t),a()}},c=n("./src/pieces/base/storage.js");n("./node_modules/bows/bows.js")("Authentication-helpers");var l=n("./node_modules/bows/bows.js")("Create-ensure-authentication"),u=function(e){return function(t,n,a){(function(){var e=c.a.get(o.qd),t=c.a.get(o.i),n=Date.now();return e&&n-t<o.rd})()||(l("User is not signed in or has a likely-expired token, redirecting to sign-in page!"),e.dispatch(Object(i.SetPostAuthenticationRedirectPath)(t.location.pathname)),n("/")),a()}},d=(n("./node_modules/bows/bows.js")("Create-route-parameter-handler"),function(e){return function(t,n,a){var r=t.location.query.post_sign_in_redirect;r&&e.dispatch(Object(i.SetPostAuthenticationRedirectPath)(r)),a()}}),_=(n("./node_modules/bows/bows.js")("Create-personal-invite-link-handler"),function(e){return function(t,n){e.dispatch(Object(i.AddPostAuthenticationEvent)({type:"autoFollowUsername",payload:{username:t.params.username}})),n("/".concat(t.params.username,"/profile"))}}),m=(n("./node_modules/bows/bows.js")("Create-stage-sign-up-auto-follow-handler"),n("./src/pieces/payment/bank-account-frame.js")),g=n("./node_modules/react-helmet/lib/Helmet.js"),b=n.n(g),p=n("./src/pieces/authentication/authentication-choices.js"),f=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),h=n.n(f),v=n("./node_modules/classnames/index.js"),w=n.n(v),C=n("./src/pieces/home/homepage-graphics.scss"),y=n.n(C),j=(n("./node_modules/bows/bows.js")("Homepage-graphics"),[{broadcasterName:"Offset",broadcasterImagePath:"/promotional-images/offset.1845942284.jpeg",showName:"@OffsetYRN",customShowScheduleText:"LIVE Weekly on Caffeine"},{broadcasterName:"Naomi Kyle",broadcasterImagePath:"/promotional-images/naomikyle.1609992296.jpeg",showName:"@NaomiKyle",customShowScheduleText:"LIVE on Caffeine"},{broadcasterName:"StellaChuu",broadcasterImagePath:"/promotional-images/stella.1721462642.jpeg",showName:"@stellachuu",customShowScheduleText:"LIVE on Caffeine"}].map(function(e){if(e.showTimestamp){var t=1e3*e.showTimestamp,n=Math.ceil((Date.now()-t)/6048e5),a=new Date(t+6048e5*n),r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a.getDay()],i=a.getHours()>12?a.getHours()-12:0===a.getHours()?12:a.getHours(),o=a.getMinutes(),s=a.getHours()>=12?"PM":"AM";return Object.assign({},e,{showSchedule:"LIVE on ".concat(r,"s at ")+i+(o>0?":"+(o<10?"0":"")+o:"")+s})}return Object.assign({},e,{showSchedule:e.customShowScheduleText})})),O=function(){var e=Object(a.useState)(0),t=h()(e,2),n=t[0],i=t[1];return Object(a.useEffect)(function(){var e=setTimeout(function(){return i((n+1)%j.length)},o.Db);return function(){return clearTimeout(e)}},[n]),r.a.createElement("div",{className:y.a.homepageGraphics},j.map(function(e,t){return r.a.createElement("div",{key:e.broadcasterName,className:w()(y.a.graphicAndDetails,t===n?y.a.isActive:null),style:{backgroundImage:["linear-gradient(rgba(0, 0, 0, 0) 50%, #000 90%, #000 100%)",'url("https://assets.caffeine.tv'.concat(e.broadcasterImagePath,'?width=1200&optimize=true)")')].join(",")}},r.a.createElement("div",{className:y.a.details},r.a.createElement("div",{className:y.a.detailsBroadcasterName},e.broadcasterName),e.showName&&r.a.createElement("div",null,e.showName),r.a.createElement("div",null,e.showSchedule)))}))},S=n("./node_modules/react-router/es/index.js"),E=n("./src/pieces/base/outline-logo-wordmark.scss"),x=n.n(E),k=(n("./node_modules/bows/bows.js")("Outline-logo-wordmark"),function(e){var t=e.goHome,n=void 0!==t&&t,a=e.size,i=void 0===a?"medium":a,o=r.a.createElement("svg",{viewBox:"0 0 1900 560",className:w()(x.a.outlineLogoWordmark,x.a[i])},r.a.createElement("mask",{id:"a",fill:"#fff"},r.a.createElement("path",{d:"M0 0h171.852v171.429H0z"})),r.a.createElement("path",{d:"M810.872 252.857c19.634 0 37.305 10.899 46.117 28.442 4.25 8.465 14.577 11.888 23.062 7.648 8.486-4.24 11.918-14.541 7.667-23.006-14.675-29.219-44.121-47.37-76.846-47.37-47.38 0-85.926 38.452-85.926 85.715S763.492 390 810.872 390c32.725 0 62.17-18.151 76.846-47.37 4.25-8.464.82-18.765-7.667-23.006-8.485-4.243-18.811-.816-23.062 7.648-8.812 17.544-26.483 28.442-46.117 28.442-28.428 0-51.556-23.07-51.556-51.428s23.128-51.429 51.556-51.429m180.444 102.857c-28.427 0-51.555-23.07-51.555-51.428s23.128-51.429 51.555-51.429c28.428 0 51.556 23.071 51.556 51.429s-23.128 51.428-51.556 51.428m0-137.143c-47.38 0-85.926 38.452-85.926 85.715S943.937 390 991.316 390c19.33 0 37.185-6.404 51.556-17.19v.047c0 9.468 7.694 17.143 17.185 17.143 9.492 0 17.185-7.675 17.185-17.143v-68.571c0-47.263-38.546-85.715-85.926-85.715m498.37 0c-9.49 0-17.184 7.675-17.184 17.143v137.143c0 9.468 7.694 17.143 17.185 17.143 9.49 0 17.185-7.675 17.185-17.143V235.714c0-9.468-7.695-17.143-17.185-17.143m120.296 0c-47.38 0-85.926 38.452-85.926 85.715v68.571c0 9.468 7.695 17.143 17.185 17.143 9.49 0 17.185-7.675 17.185-17.143v-68.571c0-28.358 23.129-51.429 51.556-51.429 28.428 0 51.556 23.071 51.556 51.429v68.571c0 9.468 7.694 17.143 17.185 17.143 9.49 0 17.185-7.675 17.185-17.143v-68.571c0-47.263-38.546-85.715-85.926-85.715m-289.203 68.572c7.093-19.956 26.204-34.286 48.61-34.286 22.405 0 41.518 14.33 48.611 34.286zm48.61-68.572c-47.379 0-85.925 38.452-85.925 85.715S1322.011 390 1369.391 390c22.952 0 44.53-8.915 60.758-25.106 6.71-6.694 6.71-17.549 0-24.243-6.712-6.696-17.592-6.694-24.303 0-9.738 9.714-22.684 15.063-36.455 15.063-22.404 0-41.506-14.332-48.6-34.285h117.34c9.49 0 17.186-7.675 17.186-17.143 0-47.263-38.547-85.715-85.926-85.715z"}),r.a.createElement("path",{d:"M37.316 68.571c7.093-19.955 26.205-34.285 48.61-34.285 22.404 0 41.517 14.33 48.61 34.285zM85.926 0C38.546 0 0 38.451 0 85.714s38.547 85.715 85.926 85.715c22.952 0 44.53-8.916 60.758-25.106 6.711-6.694 6.711-17.55 0-24.243-6.712-6.697-17.592-6.695-24.303 0-9.737 9.713-22.683 15.063-36.455 15.063-22.404 0-41.505-14.333-48.6-34.286h117.34c9.491 0 17.186-7.675 17.186-17.143C171.852 38.451 133.306 0 85.926 0z",mask:"url(#a)",transform:"translate(1713.094 218.571)"}),r.a.createElement("path",{d:"M1292.057 235.714c0-9.468-7.695-17.143-17.185-17.143h-48.6c7.094-19.953 26.197-34.285 48.6-34.285 9.492 0 17.185-7.675 17.185-17.143S1284.364 150 1274.872 150c-41.496 0-76.213 29.494-84.197 68.571h-58.921c7.094-19.953 26.196-34.285 48.6-34.285 9.491 0 17.185-7.675 17.185-17.143S1189.845 150 1180.353 150c-47.38 0-85.926 38.451-85.926 85.714v137.143c0 9.468 7.694 17.143 17.186 17.143 9.491 0 17.185-7.675 17.185-17.143v-120h60.148v120c0 9.468 7.694 17.143 17.185 17.143 9.492 0 17.185-7.675 17.185-17.143v-120h51.556c9.49 0 17.185-7.674 17.185-17.143m214.815-51.428c0-9.467-7.694-17.143-17.185-17.143-9.492 0-17.185 7.676-17.185 17.143s7.693 17.143 17.185 17.143c9.491 0 17.185-7.676 17.185-17.143M497.311 496.218l104.796-181.56-104.796 60.52zm-269.61 34.66h229.167L380.48 442.65zM53.109 297.706l114.58 198.513V319.762zm114.58-233.923L62.894 245.342l104.796-60.52zM437.3 29.12H208.132l76.39 88.23zm174.594 233.175L497.311 63.781v176.457zm-10.936 23.731L497.31 266.074v79.807zM402.849 429.731l69.096 79.806v-119.71zm-187.827 79.175l161.871-93.482.022-.012.096-.056 71.818-41.474-140.284-27.006zm-21.967-12.688l93.521-162.028-93.521-108.018zM64.043 273.973l103.646 19.953v-79.809zm198.108-143.704l-69.096-79.807v119.71zM449.98 51.094l-161.7 93.382-.006.004-72.102 41.638 140.284 27.006zm21.966 199.648c0 .042.002.113.013.402l-.013-.357V63.782l-93.52 162.027 93.52 108.019V250.83l.001-.096zm-20.87 97.735l-94.861-109.564-142.288-27.391 94.86 109.565zm198.21-66.53l-.009.052-.007.043-.006.04-.058.35a49.919 49.919 0 01-.15.647l-.008.035-.016.066-.05.186c-.03.11-.057.202-.09.31l-.033.106c-.044.142-.088.273-.14.42-.026.083-.03.09-.093.268-.06.158-.1.254-.175.431l-.015.034a12.331 12.331 0 01-.52 1.084c-.03.06-.067.128-.183.338l-.055.094a1.62 1.62 0 01-.08.138l-152.01 263.36-.067.108a10.519 10.519 0 01-.553.843l-.03.043c.015-.022.015-.022-.004.005l-.007.011a7.22 7.22 0 01-.454.597c-.101.124-.19.227-.339.395l-.03.035-.009.009c-.121.138-.203.23-.302.332a6.123 6.123 0 01-.534.523l-.002.002a5.23 5.23 0 01-.305.283 12.117 12.117 0 01-.438.357l-.011.01-.072.056-.07.055a6.66 6.66 0 01-.253.192l-.234.167a9.16 9.16 0 01-.406.268l-.031.019a.34.34 0 01-.016.01l-.044.028-.035.022a9.164 9.164 0 01-.382.236l-.105.059a.184.184 0 01-.01.004l-.02.012a8.167 8.167 0 01-.372.198l-.023.01a12.14 12.14 0 01-.93.436c-.198.08-.216.088-.283.112a12.679 12.679 0 01-1.056.358l.014-.004c-.094.03-.198.06-.319.091a1.018 1.018 0 01-.294.068c.178-.018.178-.018 1.252-.43l-.96.363a6.695 6.695 0 01-.35.082l-.04.008-.21.049-.256.053c-.2.037-.376.064-.547.087l-.018.003-.161.023-.143.018a12.777 12.777 0 01-1.414.091l-.092.004-.043-.001H180.42l-.04.001h-.014l-.345-.011a11.355 11.355 0 01-1.476-.13l-.11-.017-.043-.007a13.52 13.52 0 01-1.043-.208l-.051-.013-.108-.028c-.114-.03-.174-.045-.247-.066-.36-.1-.716-.217-1.065-.35a3.902 3.902 0 01-.297-.112l-.012-.004a12.146 12.146 0 01-1.285-.615l-.1-.055-.008-.004.022.011-.128-.07.194.105-.008-.004-.177-.095a5.887 5.887 0 01-.41-.254 10.352 10.352 0 01-.526-.343 7.065 7.065 0 01-.564-.417l-.024-.019a13.091 13.091 0 01-.416-.339 12.586 12.586 0 01-.37-.33l-.057-.052-.018-.017-.01-.01a6.276 6.276 0 01-.443-.435 14.594 14.594 0 01-.71-.805 7.927 7.927 0 01-.215-.264 9.053 9.053 0 01-.265-.366l-.026-.038a12.034 12.034 0 01-.54-.827 61.304 61.304 0 01-.094-.156l-.002.001L17.218 286.27c-.121-.23-.121-.23-.146-.282.022.047.022.047.12.228a11.2 11.2 0 01-.22-.412l-.024-.048a10.292 10.292 0 01-.2-.41 7.756 7.756 0 01-.265-.611l-.005-.012a11.855 11.855 0 01-.172-.451l-.005-.014-.022-.06a6.969 6.969 0 01-.209-.654l-.019-.067a9.814 9.814 0 01-.098-.368l-.015-.053a7.072 7.072 0 01-.15-.688l-.005-.03-.006-.029a9.918 9.918 0 01-.072-.432l-.005-.03a7.715 7.715 0 01-.086-.738 10.463 10.463 0 01-.032-.466l-.006-.093c-.008-.13-.008-.13-.013-.325-.001-.105 0-.194.001-.279v-.04c.002-.181.008-.36.018-.544l.001-.032c.004-.104.01-.203.02-.338.013-.151.013-.151.022-.233l.003-.021.005-.048c.021-.205.046-.399.074-.578l.004-.03.015-.094a9.933 9.933 0 01.044-.271l.026-.15.004.001a10.987 10.987 0 01.138-.62 10.906 10.906 0 01.216-.773c.043-.136.074-.225.145-.426l-.006.015a12.418 12.418 0 01.46-1.125 14.01 14.01 0 01.385-.758l.049-.094.072-.13L169.347 10.165c.125-.211.166-.28.2-.332.068-.112.13-.21.176-.278.09-.142.185-.282.24-.36a10.754 10.754 0 01.735-.954 11.403 11.403 0 01.842-.903c.13-.127.264-.251.444-.412l-.18.165.018-.018.239-.22.22-.181.144-.116.064-.051c.155-.123.298-.232.483-.366l.024-.018.22-.156.218-.143.061-.04c.139-.089.277-.174.51-.312l-.04.022.023-.013a7.413 7.413 0 01.57-.312l.02-.01.015-.008a11.847 11.847 0 01.434-.212 6.811 6.811 0 01.708-.303l.008-.003c.12-.047.227-.087.396-.148l.02-.007a8.122 8.122 0 01.714-.229l.028-.007c.138-.04.271-.075.406-.108l.018-.005.069-.018a6.828 6.828 0 01.67-.142l.01-.002c.15-.027.267-.046.473-.077l.044-.007.073-.01a8.214 8.214 0 01.586-.066c.183-.016.346-.026.553-.036l.042-.002.183-.007.074-.003.27-.007h304.256a129.466 129.466 0 01.632.022c.174.008.326.018.432.028l.028.002.066.005a8.913 8.913 0 01.55.062l.13.02.023.004a13.545 13.545 0 01.472.078l.045.008c.104.019.104.019.279.054.142.032.142.032.245.057l.133.034.075.019c.12.03.234.06.363.097l.045.013a8.536 8.536 0 01.658.208l.085.032-.008-.003c.15.054.284.104.39.147l.042.016.014.005a9.814 9.814 0 01.654.283l.008.003c.133.062.233.111.453.223l.054.028c.136.071.233.123.349.188l.198.11a83.701 83.701 0 01.455.285l-.002-.001c.132.085.262.172.398.266l.05.035.031.022c.055.038.055.038.168.12.101.074.187.14.287.22.057.045.057.045-.9-.543l.981.608c.123.097.238.191.37.304a7.087 7.087 0 01.565.514c.106.103.197.194.29.29l.025.026.01.01a8.676 8.676 0 01.464.51l.027.033c.094.109.159.188.285.346l.026.032c.118.147.187.236.29.377.079.11.079.11.13.186l.039.055a16.562 16.562 0 01.491.755l.09.15L647.782 273.73l.09.169c.049.09.094.177.147.28a11.468 11.468 0 01.332.686c.064.143.108.25.165.396l.009.022.018.046c.057.147.108.28.15.4l.01.026a7.794 7.794 0 01.243.763l.005.018c.036.123.067.238.093.341l.009.031a7.488 7.488 0 01.162.736l.016.09c.027.152.043.25.072.444l.002.012a1.239 1.239 0 01-.008-.057l.004.02a6.383 6.383 0 01.085.74l.001.012c.015.166.025.313.032.461l.002.035c.007.105.012.204.016.447v-.072a7.688 7.688 0 01-.003.318c-.002.2-.005.365-.015.544l-.002.04a10.256 10.256 0 01-.05.64c-.02.183-.043.367-.082.63zM169.652 550.32z"}));return n?r.a.createElement("a",{href:"/"},o):o}),I=n("./src/pieces/home/landing-frame.scss"),T=n.n(I),F=(n("./node_modules/bows/bows.js")("Landing-frame"),function(e){return r.a.createElement("div",{className:"Minimal"===e.theme?T.a.homeFrameWIthMinimalTheme:T.a.homeFrame},r.a.createElement(b.a,null,r.a.createElement("title",null,"Welcome to Caffeine"),r.a.createElement("meta",{property:"description",content:o.Xd}),r.a.createElement("meta",{property:"og:title",content:"Welcome to Caffeine"}),r.a.createElement("meta",{property:"og:description",content:o.Xd}),r.a.createElement("meta",{property:"og:image",content:"https://assets.caffeine.tv/promotional-images/caffeine-social.png"})),r.a.createElement("div",{className:T.a.homeFrameContent},"Minimal"!==e.theme&&r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:T.a.homepageGraphicsContainer},r.a.createElement(O,null)),r.a.createElement("div",{className:T.a.homepageGraphicsSpacer})),r.a.createElement("div",{className:T.a.mainContent},r.a.createElement("div",{className:T.a.body},r.a.createElement("div",{className:T.a.wordMarkContainer},r.a.createElement("div",{className:T.a.wordmark},r.a.createElement(k,{size:"custom",disableHover:!0,goHome:!0}))),r.a.createElement("div",{className:T.a.tagline},"Watch live streams",r.a.createElement("br",null),"with your friends."),e.children&&r.a.cloneElement(e.children,{theme:"Homepage"})||r.a.createElement(p.a,{includeSignUp:!0,theme:"Homepage"})),r.a.createElement("div",{className:T.a.footer},r.a.createElement("a",{href:"/about.html"},"About Us"),r.a.createElement("a",{href:"/newsroom.html"},"Newsroom"),r.a.createElement("a",{href:"/tos.html"},"Rules + Legal"),r.a.createElement("a",{href:"/privacy.html"},"Privacy Policy"),r.a.createElement("a",{href:"/careers.html"},"Careers")))))}),P=n("./src/pieces/base/error/system-error.scss"),N=n.n(P),M=(n("./node_modules/bows/bows.js")("System-error"),function(e){var t=e.darkTheme,n=void 0!==t&&t,i=e.title,o=e.message,s=e.buttonText,c=e.buttonRedirectURL,l=e.buttonOnClick,u=Object(a.useMemo)(function(){return i||(window.navigator.onLine?"Sorry about that.":"You're off air.")},[i]),d=Object(a.useMemo)(function(){return o||(window.navigator.onLine?"Hang tight, our services are temporarily down. We\u2019re looking into it now, but until then, we suggest doing something nice and visiting us later.":"Looks like your network is unavailable.\nCheck your internet connection and refresh the page.")},[o]);return r.a.createElement("div",null,r.a.createElement("div",{className:n?N.a.redesign_errorContainerDarkTheme:N.a.redesign_errorContainer},r.a.createElement("div",{className:N.a.redesign_errorTitle},u),r.a.createElement("div",{className:N.a.redesign_errorMessage},d),s&&c&&r.a.createElement("a",{href:c},r.a.createElement("button",{className:n?N.a.redesign_buttonDarkMode:N.a.redesign_buttonLightMode},s)),s&&!c&&l&&r.a.createElement("button",{className:n?N.a.redesign_buttonDarkMode:N.a.redesign_buttonLightMode,onClick:l},s)))}),L=(n("./node_modules/bows/bows.js")("Route-not-found"),function(){return r.a.createElement(M,{title:"This page isn\u2019t available.",message:"The link you followed may be broken or this page may have been removed.",buttonText:"go to caffeine",buttonRedirectURL:"/"})}),B=n("./node_modules/recompose/dist/Recompose.esm.js"),A=n("./node_modules/react-redux/es/index.js"),D=n("./node_modules/reselect/lib/index.js"),U=n("./src/pieces/payment/cash-out.reducer.js"),R=n("./src/pieces/base/loading-indicator.js"),H=n("./src/pieces/payment/tipalti-flow-end.scss"),W=n.n(H),V=(n("./node_modules/bows/bows.js")("Tipalti-flow-end"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({isTipaltiFlowEndLoaded:U.selectTipaltiFlowEndLoaded}),{MarkTipaltiFlowAsComplete:U.MarkTipaltiFlowAsComplete,ResetTipaltiFlowSuccessScreenLoad:U.ResetTipaltiFlowSuccessScreenLoad}))),z=V(function(e){var t=e.isTipaltiFlowEndLoaded,n=e.MarkTipaltiFlowAsComplete,i=e.ResetTipaltiFlowSuccessScreenLoad;return Object(a.useEffect)(function(){return n(),function(){return i()}},[n,i]),t?r.a.createElement(M,{title:"All done",message:"You can now cash out!",buttonText:"go to settings",buttonRedirectURL:"/settings"}):r.a.createElement("div",{className:W.a.loadingContainer},r.a.createElement(R.a,{size:"large"}))}),G=n("./src/pieces/authentication/sign-in.js"),q=n("./src/pieces/authentication/sign-up.js"),J=n("./src/pieces/authentication/forgot-password.js"),Z=n("./src/pieces/authentication/reset-password.js"),Y=n("./src/pieces/authentication/social-account-connection-callback.js"),Q=n("./src/pieces/authentication/automatic-authentication.js"),K=n("./src/pieces/authentication/social-account-connection-confirmation.js"),X=n("./node_modules/react-router-redux/lib/index.js"),$=n("./src/pieces/authentication/ineligible-account.scss"),ee=n.n($),te=(n("./node_modules/bows/bows.js")("Ineligible-account"),function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:ee.a.ineligibleAccount},r.a.createElement("div",{className:ee.a.header},"Sorry"),r.a.createElement("div",{className:ee.a.message},"You are not eligible to create an account at this time.")),r.a.createElement("div",{className:ee.a.footer},r.a.createElement("button",{onClick:function(){window.location.assign("/")},className:ee.a.footerButton},"OK")))}),ne=Object(B.a)(Object(A.b)(null,{PushRoute:X.push}))(te),ae=n("./src/pieces/lobby/lobby-header.tsx"),re=n("./src/pieces/header/stage-header.tsx"),ie=n("./src/pieces/header/mobile-header.tsx"),oe=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),se=n.n(oe),ce=n("./node_modules/@babel/runtime/regenerator/index.js"),le=n.n(ce),ue=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),de=n.n(ue),_e=n("./node_modules/idx/lib/idx.js"),me=n.n(_e),ge=n("./node_modules/lodash/cond.js"),be=n.n(ge),pe=n("./node_modules/lodash/throttle.js"),fe=n.n(pe),he=n("./node_modules/lodash/debounce.js"),ve=n.n(he),we=n("./node_modules/screenfull/dist/screenfull.js"),Ce=n.n(we),ye=n("./src/pieces/base/feature-detection/is-android.js"),je=n("./src/pieces/hooks/usePrevious.ts"),Oe=n("./src/pieces/stage/stage-metadata.js"),Se=n("./src/pieces/stage/authentication-guard.js"),Ee=n("./src/pieces/stage/android-sign-up-nag.scss"),xe=n.n(Ee),ke=(n("./node_modules/bows/bows.js")("Android-sign-up-nag"),function(e){var t=e.entertainerUsername;return t&&r.a.createElement(Se.a,null,r.a.createElement("div",{className:xe.a.androidSignUpNag},r.a.createElement("div",{className:xe.a.androidSignUpNagTitle},"Want to chat with ",t,"?"),r.a.createElement("div",{className:xe.a.androidSignUpNagSubtitle},r.a.createElement("span",{className:xe.a.callToAction},"Sign in or sign up")," to Caffeine!")))}),Ie=n("./src/pieces/base/create-image-url.js"),Te=n("./src/pieces/stage/stage.reducer.js"),Fe=n("./src/pieces/base/icons/icon.tsx"),Pe=(n("./node_modules/bows/bows.js")("Autoplay-gate-play-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:32,height:38,viewBox:"0 0 32 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M31.167 17.942c.814.47.814 1.646 0 2.116L1.833 36.995A1.222 1.222 0 010 35.936V2.064c0-.94 1.019-1.529 1.833-1.058l29.334 16.936z",fill:"#fff"})))}),Ne=n("./src/pieces/stage/autoplay-gate.scss"),Me=n.n(Ne),Le=n("./src/pieces/stage/stage.types.ts"),Be=n("./src/pieces/stage-director/stage-director.reducer.js"),Ae=n("./node_modules/framer-motion/dist/framer-motion.es.js"),De=n("./src/pieces/base/user-utilities.ts"),Ue=n("./src/pieces/current-user/current-user.reducer.js"),Re=(n("./node_modules/bows/bows.js")("User-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:88,height:88},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("rect",{x:1,y:1,width:86,height:86,rx:43,fill:"#000",strokeWidth:2}),r.a.createElement("path",{d:"M43.629 28c8.079 0 14.628 6.55 14.628 14.629s-6.55 14.628-14.628 14.628C35.549 57.257 29 50.707 29 42.63 29 34.549 35.55 28 43.629 28zm0 2.09c-6.925 0-12.54 5.614-12.54 12.539s5.615 12.538 12.54 12.538c6.925 0 12.538-5.613 12.538-12.538s-5.613-12.54-12.538-12.54z",fill:"#FFF"}),r.a.createElement("path",{d:"M30.298 59.543c4.332-2.047 8.957-3.07 13.878-3.07 4.92 0 9.181 1.023 12.783 3.07",stroke:"#FFF",strokeWidth:1.6,strokeLinecap:"round"}))))}),He=(n("./node_modules/bows/bows.js")("Chat-icon"),function(e){var t=e.width,n=void 0===t?86:t,a=e.height,i=void 0===a?86:a,o=e.viewBox,s=void 0===o?"0 0 88 88":o,c=e.strokeWidth,l=void 0===c?4:c,u=e.stroke,d=void 0===u?"#ffffff":u,_=e.onClick;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{onClick:_,width:n,height:i,viewBox:s},r.a.createElement("path",{d:"M 20 27 H 53.1705 L 66 34.762 V 59 H 45.3629 C 44.6267 59 43.9047 59.2032 43.2765 59.5873 L 36 64.0358 L 28.7235 59.5873 C 28.0953 59.2032 27.3733 59 26.6371 59 H 20 V 27 Z",stroke:d,strokeWidth:l,fill:"none"})))}),We=n("./src/pieces/base/follow-affordance.tsx"),Ve=n("./src/pieces/base/reaction-profile-toggle.scss"),ze=n.n(Ve),Ge=(n("./node_modules/bows/bows.js")("Reaction-profile-toggle"),{Profile:{opacity:1,transition:{duration:o.cd/1e3}},Reactions:{opacity:0,transition:{duration:o.cd/2e3}}}),qe=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({bottomFrameContent:Te.selectBottomFrameContent,currentUser:Ue.selectCurrentUser,followedWatchers:Te.selectFollowedWatchers,isLiveAsStageWatcher:Te.selectIsLiveAndModeIsStageWatcher,isFollowAnimationOn:Te.selectIsFollowAnimationOn,trailerUrl:Be.selectStageDirectorTrailerUrl}),{SetBottomFrameContent:Te.SetBottomFrameContent,SetReactionFrameContent:Te.SetReactionFrameContent,TrackFollowUserFromStage:Te.TrackFollowUserFromStage,TrackUnfollowUserFromStage:Te.TrackUnfollowUserFromStage}),S.e)(function(e){var t,n,i=Object(a.useState)(),s=h()(i,2),c=s[0],l=s[1],u=Object(a.useRef)(),d=e.bottomFrameContent===Le.a.Reactions,_=e.location&&e.location.pathname&&e.location.pathname.split("/"),m=_&&_.length>1&&"broadcast"===_[2],g=(!e.entertainer.broadcastId||!1===e.isLiveAsStageWatcher)&&!m&&!e.trailerUrl,b=e.currentUser&&e.entertainer.caid===e.currentUser.caid&&g,p=Object(a.useCallback)(function(){if(!c&&!e.isFollowAnimationOn){if(d){var t="/"+e.entertainer.username+"/profile";window.open(t,"_blank")}var n=d?Le.a.Profile:Le.a.Reactions;e.SetBottomFrameContent(n),e.currentUser&&e.entertainer.caid===e.currentUser.caid||(l(n),d&&e.SetReactionFrameContent(Le.b.Chat),u.current=setTimeout(function(){l(void 0)},o.cd))}},[e.isFollowAnimationOn,e.currentUser,e.entertainer.caid,e.SetBottomFrameContent,e.SetReactionFrameContent,d,c]),f=Object(a.useCallback)(function(t){return e.TrackFollowUserFromStage({currentUserId:e.currentUser?e.currentUser.caid:"",lobbyPayloadId:e.entertainer.stageId||Object(De.a)(e.entertainer.caid),entertainerDetails:e.entertainer,eventDetails:t,followedWatchers:e.followedWatchers,type:d?o.Cc.STAGE_CHAT:o.Cc.STAGE_PROFILE})},[e.TrackFollowUserFromStage,e.entertainer,e.currentUser,e.followedWatchers,d]),v=Object(a.useCallback)(function(t){return e.TrackUnfollowUserFromStage({currentUserId:e.currentUser?e.currentUser.caid:"",lobbyPayloadId:e.entertainer.stageId||Object(De.a)(e.entertainer.caid),entertainerDetails:e.entertainer,eventDetails:t,followedWatchers:e.followedWatchers,type:o.Cc.STAGE_PROFILE})},[e.TrackUnfollowUserFromStage,e.entertainer,e.currentUser,e.followedWatchers]);return Object(a.useEffect)(function(){u.current&&clearTimeout(u.current)},[]),r.a.createElement("div",{className:w()((t={},se()(t,ze.a.redesign_clickableIconWrap,!0),se()(t,ze.a.isBroadcast,m),se()(t,ze.a.offlineStage,g),t))},(d||c)&&(b?r.a.createElement("div",{className:ze.a.redesign_userIcon,onClick:p},r.a.createElement(Re,null)):r.a.createElement("div",{className:w()((n={},se()(n,ze.a.reactionsViewWrapper,!0),se()(n,ze.a.reactionsTabTransition,c),n))},r.a.createElement(We.a,{darkTheme:!0,afterFollowHandler:f,afterUnfollowHandler:v,size:"veryLarge",user:e.entertainer,parentComponent:"stage",avatarSize:"xlarge",avatarClickHandler:p,stageTabTransition:c}))),(!d||c)&&r.a.createElement("div",{className:ze.a.profileViewWrapper},!b&&r.a.createElement("div",{className:c?ze.a.tabTransition:""},r.a.createElement(We.a,{darkTheme:!0,afterFollowHandler:f,afterUnfollowHandler:v,size:"veryLarge",user:e.entertainer,showAvatar:!1,parentComponent:"stage",avatarSize:"xlarge",stageTabTransition:c})),r.a.createElement(Ae.b.div,{animate:c,variants:Ge,className:ze.a.redesign_chatIcon,onClick:p},r.a.createElement(He,null))))}),Je=n("./src/pieces/base/seventeen-plus-rating.tsx"),Ze=n("./src/pieces/current-user/stage-actions-menu.tsx"),Ye=n("./src/pieces/base/user-snippet.tsx"),Qe=n("./src/pieces/stage/overlay/overlay-title-area.scss"),Ke=n.n(Qe),Xe=(n("./node_modules/bows/bows.js")("Overlay-title-area"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({bottomFrameContent:Te.selectBottomFrameContent,contentDetails:Te.selectStageContentDetails,contentDetailsGameLogo:Te.selectStageContentDetailsGameLogo,contentRating:Be.selectStageDirectorContentRating,entertainer:Te.selectEntertainer,isAuthenticated:i.selectIsAuthenticated,isFollowAnimationOn:Te.selectIsFollowAnimationOn,isOwnStage:Te.selectIsCurrentUserOnOwnStage,overlayIsActive:Te.selectOverlayIsActive,stageTitle:Te.selectStageTitle}),{SetBottomFrameContent:Te.SetBottomFrameContent,SetReactionFrameContent:Te.SetReactionFrameContent,SetSelectedTab:Te.SetSelectedTab}))(function(e){var t,n,i,s=e.bottomFrameContent,c=e.contentDetails,l=e.contentDetailsGameLogo,u=e.contentRating,d=e.entertainer,_=e.hasSlowLoadingWebRTCConnection,m=e.isAuthenticated,g=e.isFollowAnimationOn,b=e.isOwnStage,p=e.overlayIsActive,f=e.stageTitle,h=e.handleTrackFollow,v=e.handleTrackUnfollow,C=e.SetBottomFrameContent,y=e.SetReactionFrameContent,j=e.SetSelectedTab,O=e.alwaysVisible,S=u===o.U,E=p||_||g,x=E||O?Ke.a.visible:Ke.a.invisible,k=Object(a.useCallback)(function(){return f.match(o.A)?f.replace(o.A,""):f},[f])();return r.a.createElement("div",{className:w()(Ke.a.overlayTitleArea,x)},r.a.createElement("div",{className:Ke.a.overlayGradient}),r.a.createElement("header",{className:Ke.a.overlayHeader},r.a.createElement("div",{className:w()((t={},se()(t,Ke.a.overlayExplicit,!0),se()(t,Ke.a.isVisible,S&&!b||O),t))},r.a.createElement(Je.a,{size:"xLarge"}))),r.a.createElement("footer",{className:Ke.a.overlayTitleFooter},r.a.createElement("div",{className:w()((n={},se()(n,Ke.a.overlayTitle,!0),se()(n,Ke.a.hideInProfile,s===Le.a.Profile),n))},l&&r.a.createElement("div",{className:Ke.a.contentLogoContainer},r.a.createElement("img",{src:Object(Ie.c)(l,{auto:"webp",fit:"bounds",width:300}),className:w()(Ke.a.contentLogo,x),alt:c.name})),r.a.createElement("div",{className:Ke.a.overlayTitleText},k)),r.a.createElement("div",{className:w()((i={},se()(i,Ke.a.entertainerInfo,!0),se()(i,Ke.a.hidePointerEvents,!E),i))},r.a.createElement(Ye.a,{darkTheme:!0,hideAvatar:!0,size:"large",user:d,onUsernameClickedHandler:function(){C(Le.a.Profile),j(Le.c.Biography),y(Le.b.Chat);var e="/"+d.username+"/profile";window.open(e,"_blank")},afterFollowHandler:h,afterUnfollowHandler:v,hideFollowButton:!0}),r.a.createElement("div",{className:Ke.a.stageActionsMenu},m&&r.a.createElement(Ze.a,{entertainer:d,superSpecialStageMode:!0,size:"tiny",darkTheme:!0,popoverSettings:{orientation:"aboveRight",horizontalOffset:-16}}))),r.a.createElement(qe,{entertainer:d,darkTheme:!0})))})),$e=(n("./node_modules/bows/bows.js")("Autoplay-gate"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({broadcastPreviewImagePath:Te.selectBroadcastPreviewImagePath}),{ProceedThroughAutoplayGate:Te.ProceedThroughAutoplayGate}))(function(e){var t=e.broadcastPreviewImagePath,n=e.ProceedThroughAutoplayGate,a=e.handleTrackFollow,i=e.handleTrackUnfollow,o=e.overlayTitleAreaVisible;return r.a.createElement("a",{className:Me.a.autoplayGate,onClick:n,role:"button",tabIndex:0},o?r.a.createElement(Xe,{alwaysVisible:!0,handleTrackFollow:a,handleTrackUnfollow:i}):null,r.a.createElement("div",{className:Me.a.imageOverlay}),t&&r.a.createElement("img",{className:Me.a.previewImage,src:Object(Ie.c)(t),alt:"broadcastPreviewImage"}),r.a.createElement("div",{className:Me.a.autoplayGatePlayIcon},r.a.createElement(Pe,null)))})),et=n("./src/pieces/web-broadcast/web-broadcast.reducer.js"),tt=n("./node_modules/@babel/runtime/helpers/extends.js"),nt=n.n(tt),at=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),rt=n.n(at),it=(n("./node_modules/bows/bows.js")("Broadcast-settings-icon"),function(e){return r.a.createElement("svg",nt()({width:24,height:24},e),r.a.createElement("path",{d:"M13.5 0l1.496 2.591a9.769 9.769 0 011.531.639l2.898-.776 2.121 2.121-.776 2.898c.252.488.47.999.639 1.531L24 10.5v3l-2.591 1.496a9.865 9.865 0 01-.639 1.531l.776 2.898-2.121 2.121-2.898-.776c-.489.252-.999.47-1.531.639L13.5 24h-3l-1.496-2.591a9.825 9.825 0 01-1.531-.639l-2.898.776-2.121-2.121.776-2.898a9.769 9.769 0 01-.639-1.531L0 13.5v-3l2.591-1.496a9.73 9.73 0 01.639-1.531l-.776-2.898 2.121-2.121 2.898.776a9.73 9.73 0 011.531-.639L10.5 0h3zm-1.155 2h-.69l-.919 1.591a2.002 2.002 0 01-1.126.906 7.839 7.839 0 00-1.218.51 2.004 2.004 0 01-1.437.155l-1.782-.477-.488.488.477 1.782c.129.482.074.994-.155 1.437a7.839 7.839 0 00-.51 1.218 2.006 2.006 0 01-.906 1.126L2 11.655v.69l1.591.919a2 2 0 01.906 1.126c.128.401.299.811.51 1.218.229.443.284.955.155 1.437l-.477 1.782.488.488 1.782-.477a2.004 2.004 0 011.437.155c.407.211.817.383 1.218.511.475.15.877.474 1.126.905L11.655 22h.69l.919-1.591c.249-.431.65-.755 1.126-.905.401-.128.811-.3 1.218-.511a2.004 2.004 0 011.437-.155l1.782.477.488-.488-.477-1.782a2.006 2.006 0 01.155-1.437c.211-.407.383-.817.511-1.218.15-.476.474-.877.905-1.126L22 12.345v-.69l-1.591-.919a1.997 1.997 0 01-.905-1.126 7.846 7.846 0 00-.511-1.218 2.006 2.006 0 01-.155-1.437l.477-1.782-.488-.488-1.782.477a2.004 2.004 0 01-1.437-.155 7.839 7.839 0 00-1.218-.51 2 2 0 01-1.126-.906L12.345 2zM12 6a6 6 0 010 12 6 6 0 010-12zm0 2c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4z",fill:"#9696BE",fillRule:"evenodd"}))}),ot=n("./src/pieces/base/forms/forms.scss"),st=n.n(ot),ct=(n("./node_modules/bows/bows.js")("Select-box"),function(e){return r.a.createElement("label",{className:w()(se()({},e.labelClassName||"",e.labelClassName)),htmlFor:e.formId},!e.hideLabel&&r.a.createElement("div",null,e.label),r.a.createElement("div",{className:w()(st.a.redesign_selectBox,e.className)},r.a.createElement("span",{className:st.a.redesign_dropdownArrow}),r.a.createElement("select",{"aria-label":e.label,value:e.value||"",id:e.formId,onChange:e.onChange,className:w()(e.darkTheme?st.a.redesign_selectBoxInputWithDarkTheme:st.a.redesign_selectBoxInput,se()({},e.inputClassName||"",e.inputClassName)),name:e.name},r.a.createElement("option",{value:"",disabled:!0},e.placeholder||e.label),e.choices.map(function(e){return e.label&&r.a.createElement("option",{key:e.value,value:e.value},e.label)}))))}),lt=n("./src/pieces/web-broadcast/web-broadcast-devices-selector.scss"),ut=n.n(lt),dt=(n("./node_modules/bows/bows.js")("Web-broadcast-devices-selector"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({activeVideoDeviceId:et.selectActiveVideoDeviceId,activeAudioDeviceId:et.selectActiveAudioDeviceId,webcams:et.selectCameras,microphones:et.selectMicrophones}),{SwitchActiveBroadcastMediaDevices:et.SwitchActiveBroadcastMediaDevices}))(function(e){var t=e.activeVideoDeviceId,n=e.activeAudioDeviceId,i=e.webcams,o=e.microphones,s=e.SwitchActiveBroadcastMediaDevices,c=e.hideLabel,l=e.hideCameraSelector,u=e.hideMicrophoneSelector,d=Object(a.useCallback)(function(e){s(e.target.value,t)},[s,t]),_=Object(a.useCallback)(function(e){s(n,e.target.value)},[s,n]);return r.a.createElement("div",{className:ut.a.webBroadcastDevicesSelector},!l&&r.a.createElement(ct,{formId:"webBroadcastingCameraSelector",label:"Your Camera",placeholder:"Select your camera",hideLabel:c,className:ut.a.redesign_deviceSelectInput,labelClassName:ut.a.redesign_deviceSelectLabel,value:t||"",onChange:_,choices:i.map(function(e){return{label:e.label,value:e.deviceId}}),darkTheme:!0}),!u&&r.a.createElement(ct,{formId:"webBroadcastingMicrophoneSelector",label:"Your Microphone",placeholder:"Select your microphone",hideLabel:c,className:ut.a.redesign_deviceSelectInput,labelClassName:ut.a.redesign_deviceSelectLabel,value:n||"",onChange:d,choices:o.map(function(e){return{label:e.label,value:e.deviceId}}),darkTheme:!0}))})),_t=n("./src/pieces/base/forms/checkbox-toggle.tsx"),mt=n("./src/pieces/users/users.reducer.js"),gt=n("./src/pieces/web-broadcast/web-broadcast-settings.scss"),bt=n.n(gt),pt=n("./src/pieces/base/icons/icon.js"),ft=(n("./node_modules/bows/bows.js")("Arrow-right-icon"),function(e){var t=e.color,n=void 0===t?"white":t;return r.a.createElement(pt.a,null,r.a.createElement("svg",{width:"26px",height:"22px",viewBox:"0 0 26 22",version:"1.1"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("g",{transform:"translate(-921.000000, -779.000000)",stroke:n,strokeWidth:"2"},r.a.createElement("path",{d:"M946,790 L922,790 L946,790 Z M940.00026,800 L946,790 L940.00026,800 Z M946,790 L940.00026,780 L946,790 Z",id:"Stroke-1"})))))}),ht=(n("./node_modules/bows/bows.js")("Web-broadcast-settings"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({hasTwitterIdentity:mt.selectCurrentUserHasTwitterIdentity,hasFacebookIdentity:mt.selectCurrentUserHasFacebookIdentity,tweetOnBroadcastStart:et.selectTweetOnBroadcastStart,facebookPostOnBroadcastStart:et.selectFacebookPostOnBroadcastStart}),{UpdateTweetOnBroadcastStart:et.UpdateTweetOnBroadcastStart,SetFacebookPostOnBroadcastStart:et.SetFacebookPostOnBroadcastStart}))),vt=function(e){var t=e.children,n=e.to;return r.a.createElement(S.b,{to:n,className:bt.a.redesign_bottomLink,target:"__blank",rel:"nofollow"},t,r.a.createElement(ft,null))},wt=ht(function(e){var t=e.hasTwitterIdentity,n=e.hasFacebookIdentity,i=e.tweetOnBroadcastStart,o=e.facebookPostOnBroadcastStart,s=e.UpdateTweetOnBroadcastStart,c=e.SetFacebookPostOnBroadcastStart,l=Object(a.useCallback)(function(){s(!i)},[s,i]),u=Object(a.useCallback)(function(){c(!o)},[c,o]);return r.a.createElement("div",{className:bt.a.redesign_webBroadcastSettings},r.a.createElement(dt,null),(t||n)&&r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(_t.a,{className:bt.a.redesign_socialInputContainer,labelClassName:i?bt.a.redesign_socialLabelEnabled:bt.a.redesign_socialLabelDisabled,label:"Tweet when I go live",onChange:l,value:i,darkTheme:!0}),n&&r.a.createElement(_t.a,{className:bt.a.redesign_socialInputContainer,labelClassName:o?bt.a.redesign_socialLabelEnabled:bt.a.redesign_socialLabelDisabled,label:"Remind me to post to Facebook",onChange:u,value:o,darkTheme:!0})),r.a.createElement(vt,{to:"https://caffeine.custhelp.com/app/answers/detail/a_id/77"},"getting started"),r.a.createElement(vt,{to:"/broadcasting.html#tools"},"broadcast a game"),r.a.createElement(vt,{to:"/broadcasting.html"},"make money on caffeine"))}),Ct=n("./src/pieces/web-broadcast-status/web-broadcast-status.reducer.js"),yt=n("./node_modules/mux-embed/dist/mux.js"),jt=n.n(yt),Ot=n("./src/pieces/store/get-environment.js"),St=n("./src/pieces/stage/media-stream-effect-manager.js"),Et=n("./src/pieces/stage/broadcast-stream.scss"),xt=n.n(Et),kt=n("./node_modules/bows/bows.js")("Broadcast-stream-webrtc"),It=navigator.userAgent.toLowerCase().includes("android"),Tt=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({currentUserId:Ue.selectCurrentUserId,broadcastId:et.selectBroadcastId,title:Be.selectStageDirectorTitle,stageState:Be.selectStageDirectorBadge,stageUsername:Be.selectStageDirectorUsername}),{SetStreamHasLoaded:Te.SetStreamHasLoaded,TriggerVideoWatched30SEvent:Te.TriggerVideoWatched30SEvent}))(function(e){var t,n,i=e.className,s=void 0===i?"":i,c=e.handleAspectRatioUpdate,l=e.handleCreatedSnapshot,u=e.mediaStreamId,d=e.snapshotRequested,_=void 0!==d&&d,m=e.videoProps,g=void 0===m?{}:m,b=e.volume,p=void 0===b?100:b,f=e.SetStreamHasLoaded,v=e.currentUserId,C=e.broadcastId,y=e.title,j=e.stageState,O=e.stageUsername,S=e.TriggerVideoWatched30SEvent,E=Object(a.useRef)(null),x=Object(a.useRef)(Date.now()),k=Object(a.useState)(!1),I=h()(k,2),T=I[0],F=I[1],P=Object(a.useCallback)(function(){F(!0),jt.a.emit("#dynamicRoleWebrtcStreamId","ended",{video_title:y,video_stream_type:j})},[]),N=Object(a.useCallback)(function(){return jt.a.emit("#dynamicRoleWebrtcStreamId","play"),E.current&&E.current.play()},[]),M=Object(a.useCallback)(function(){if(E&&E.current){var e=E.current.videoWidth/E.current.videoHeight;jt.a.emit("#dynamicRoleWebrtcStreamId","videochange",{video_source_height:E.current.videoHeight,video_source_width:E.current.videoWidth,video_title:y,video_stream_type:j}),c(e),window.rdt&&window.rdt("track","Custom",{customEventName:"video_start"}),n=setTimeout(function(){window.rdt&&window.rdt("track","Custom",{customEventName:"video_watched_30s"}),S()},3e4)}},[c]);return Object(a.useEffect)(function(){return window.addEventListener("beforeunload",P),E.current&&E.current.addEventListener("pause",N),jt.a.init("#dynamicRoleWebrtcStreamId",{debug:!0,cdn:o.mf,data:{env_key:Object(Ot.c)()?o.Ic:o.Hc,player_name:"Web WebRTC Player",player_init_time:x.current,player_autoplay_on:!0,viewer_user_id:v,video_id:C,video_title:y,video_stream_type:j,video_source_height:E&&E.current?E.current.videoWidth:0,video_source_width:E&&E.current?E.current.videoWidth:0,video_producer:O,sub_property_id:O}}),jt.a.emit("#dynamicRoleWebrtcStreamId","playerready",{video_title:y,video_stream_type:j}),function(){window.removeEventListener("beforeunload",P),E.current&&E.current.removeEventListener("pause",N),jt.a.emit("#dynamicRoleWebrtcStreamId","destroy",{video_title:y,video_stream_type:j}),clearTimeout(n)}},[]),Object(a.useEffect)(function(){E&&E.current&&(E.current.volume=Number.isFinite(p)?p/100:1)},[p]),Object(a.useEffect)(function(){if(kt("updating stream source to MediaStream with id",u),E&&E.current)try{E.current.srcObject=St.b(u),jt.a.emit("#dynamicRoleWebrtcStreamId","player_error_message","media stream has changed")}catch(e){kt("media stream doesn't exist",u),jt.a.emit("#dynamicRoleWebrtcStreamId","player_error_message","media stream doesn't exist")}},[u]),Object(a.useEffect)(function(){if(_&&E&&E.current){var e=E.current,t=document.createElement("canvas"),n=o.lf*e.videoHeight/e.videoWidth;t.width=o.lf,t.height=n,jt.a.emit("#dynamicRoleWebrtcStreamId","videochange",{video_source_height:n,video_source_width:o.lf,video_title:y,video_stream_type:j});var a=t.getContext("2d");a&&a.drawImage(e,0,0,o.lf,n);var r=t.toDataURL("image/png");l&&l(r)}},[_]),r.a.createElement("video",nt()({id:"dynamicRoleWebrtcStreamId",ref:E,autoPlay:!0,playsInline:!0,onLoadedMetadata:M,className:w()((t={},se()(t,xt.a.broadcastStream,!0),se()(t,xt.a.hide,T),se()(t,xt.a.android,It),se()(t,s,!!s),t)),onLoadedData:f},g))}),Ft=(n("./node_modules/bows/bows.js")("Prettify-count"),function(e){var t=e.toString();switch(t.length){case 1:case 2:case 3:return t;case 4:return"".concat(t[0],",").concat(t.slice(1));case 5:case 6:return"".concat(Math.floor(e/100)/10,"K");case 7:case 8:case 9:return"".concat(Math.floor(e/1e5)/10,"M");case 10:case 11:case 12:return"".concat(Math.floor(e/1e8)/10,"B");case 13:case 14:case 15:return"".concat(Math.floor(e/1e11)/10,"T");default:return t}}),Pt=function(e){var t=e.toString();switch(t.length){case 1:case 2:case 3:return t;case 4:return"".concat(Math.floor(e/100)/10,"K");case 5:case 6:return"".concat(Math.floor(e/1e3),"K");case 7:return"".concat(Math.floor(e/1e5)/10,"M");case 8:case 9:return"".concat(Math.floor(e/1e6),"M");case 10:case 11:case 12:return"".concat(Math.floor(e/1e9),"B");case 13:case 14:case 15:return"".concat(Math.floor(e/1e12),"T");default:return t}},Nt=n("./src/pieces/payment/digital-items.reducer.js"),Mt=n("./src/pieces/feature-configuration/feature-configuration.reducer.js"),Lt=n("./src/pieces/web-broadcast-status/web-broadcast-viewers-list.scss"),Bt=n.n(Lt),At=(n("./node_modules/bows/bows.js")("Anonymous-row"),function(e){var t=e.anonymousViewerCount;return t?r.a.createElement("div",{className:w()(Bt.a.anonymousViewers,Bt.a.viewerRow)},r.a.createElement("img",{className:Bt.a.anonymousAvatar,src:Object(Ie.c)(o.Y,{}),srcSet:"".concat(Object(Ie.c)(o.Y,{})," 2x"),alt:"Anonymous users' avatar"}),r.a.createElement("div",{className:Bt.a.anonymousFillerText},function e(t){var n=t.toString(),a=n.length;return t<0?"-".concat(e(-1*t)):a<4||n.includes("e+")?n:"".concat(e(parseInt(n.slice(0,-3))),",").concat(n.slice(-3))}(t)," anonymous")):null}),Dt=(n("./node_modules/bows/bows.js")("User-row"),function(e){var t=e.viewer,n=e.handleFollowViewerClick,i=e.handleUnfollowViewerClick,o=Object(a.useCallback)(function(e){return n(t,e)},[t]),s=Object(a.useCallback)(function(e){return i(t,e)},[t]);return r.a.createElement("div",{className:Bt.a.viewerRow},r.a.createElement(Ye.a,{size:"medium",avatarSize:"medium",user:t,darkTheme:!0,isFullWidth:!0,enableFollowedEffect:!0,afterFollowHandler:o,afterUnfollowHandler:s}))}),Ut=(n("./node_modules/bows/bows.js")("Web-broadcast-full-viewers-list"),function(e){var t,n=e.viewersList,i=e.anonymousViewerCount,o=e.isOpen,s=e.hasBeenOpened,c=e.handleFollowViewerClick,l=e.handleUnfollowViewerClick,u=Object(a.useMemo)(function(){return i>0?n.length+1:n.length},[n.length,i]),d=Object(a.useMemo)(function(){return document.body.clientWidth>parseInt(Bt.a.listWidthBreakpoint)&&document.body.clientHeight>parseInt(Bt.a.listHeightBreakpoint)?10:7},[document.body.clientWidth,document.body.clientHeight]),_=Object(a.useMemo)(function(){return u>d},[u,d]);return r.a.createElement("div",{className:w()((t={},se()(t,Bt.a.dropdown,!0),se()(t,Bt.a.open,o),se()(t,Bt.a.needScroll,_),t))},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(At,{anonymousViewerCount:i}),n.map(function(e){return r.a.createElement(Dt,{key:"viewerList-".concat(e.caid),viewer:e,handleFollowViewerClick:c,handleUnfollowViewerClick:l})})))}),Rt=(n("./node_modules/bows/bows.js")("Virtual-list"),parseInt(Bt.a.rowHeight)),Ht=function(e){var t=e.startIndex,n=e.endIndex,i=e.viewersList,o=e.anonymousViewerCount,s=e.handleFollowViewerClick,c=e.handleUnfollowViewerClick,l=Object(a.useMemo)(function(){return o>0?1:0},[o]),u=Object(a.useMemo)(function(){return i.length+l},[i.length,l]),d=Object(a.useMemo)(function(){return Math.max(0,t-l-5)},[t,l]),_=Object(a.useMemo)(function(){return n-l+5},[n,l]),m=Object(a.useMemo)(function(){return d*Rt},[d]),g=Object(a.useMemo)(function(){return _>=u?0:(u-_)*Rt},[u,_,d]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{minHeight:m}}),0===d&&r.a.createElement(At,{anonymousViewerCount:o}),i.slice(d,_).map(function(e){return r.a.createElement(Dt,{key:"viewerList-".concat(e.caid),viewer:e,handleFollowViewerClick:s,handleUnfollowViewerClick:c})}),r.a.createElement("div",{style:{minHeight:g}}))},Wt=(n("./node_modules/bows/bows.js")("Web-broadcast-virtual-viewers-list"),parseInt(Bt.a.rowHeight)),Vt=function(e){var t,n=e.viewersList,i=e.anonymousViewerCount,o=e.isOpen,s=e.hasBeenOpened,c=e.handleFollowViewerClick,l=e.handleUnfollowViewerClick,u=Object(a.useState)(0),d=h()(u,2),_=d[0],m=d[1],g=Object(a.useMemo)(function(){return i>0?n.length+1:n.length},[n.length,i]),b=Object(a.useMemo)(function(){return document.body.clientWidth>parseInt(Bt.a.listWidthBreakpoint)&&document.body.clientHeight>parseInt(Bt.a.listHeightBreakpoint)?10:7},[document.body.clientWidth,document.body.clientHeight]),p=Object(a.useMemo)(function(){return g>b},[g,b]),f=Object(a.useMemo)(function(){return 10===b?parseInt(Bt.a.listHeightLargeScreen):parseInt(Bt.a.listHeightSmallScreen)},[b]),v=Object(a.useMemo)(function(){return Math.floor(_/Wt)},[_]),C=Object(a.useMemo)(function(){return Math.min(g-1,Math.floor((_+f)/Wt))},[g,f,_]),y=Object(a.useCallback)(function(e){m(e.currentTarget.scrollTop)},[]);return r.a.createElement("div",{className:w()((t={},se()(t,Bt.a.dropdown,!0),se()(t,Bt.a.open,o),se()(t,Bt.a.needScroll,p),t)),onScroll:y},s&&r.a.createElement(Ht,{startIndex:v,endIndex:C,viewersList:n,anonymousViewerCount:i,handleFollowViewerClick:c,handleUnfollowViewerClick:l}))},zt=(n("./node_modules/bows/bows.js")("Web-broadcast-viewers-list"),function(e){return e.viewersList.length>50?r.a.createElement(Vt,e):r.a.createElement(Ut,e)}),Gt=(n("./node_modules/bows/bows.js")("Anonymous-user-icon"),function(e){var t=e.fillColor,n=void 0===t?"white":t;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{height:11,width:12,viewBox:"0 0 24 22"},r.a.createElement("path",{d:"M12 0c4.962 0 8.984 4.15 8.984 9.267 0 3.284-1.655 6.169-4.153 7.815 2.4.59 4.674 1.623 6.732 3.051.453.315.573.948.269 1.416a.97.97 0 01-1.373.277c-3.077-2.134-6.683-3.291-10.459-3.291s-7.382 1.157-10.459 3.291a.97.97 0 01-1.373-.277 1.04 1.04 0 01.27-1.416 20.36 20.36 0 016.73-3.053c-2.496-1.644-4.152-4.53-4.152-7.813C3.016 4.15 7.04 0 12 0zm0 2.04c-3.869 0-7.006 3.236-7.006 7.227S8.131 16.494 12 16.494c3.87 0 7.006-3.236 7.006-7.227 0-3.99-3.137-7.226-7.006-7.226z",fill:n,fillRule:"evenodd"})))}),qt=n("./src/pieces/stage/bad-connection-icon.scss"),Jt=n.n(qt),Zt=(n("./node_modules/bows/bows.js")("Bad-connection-icon"),function(e){var t=e.theme,n=void 0===t?"watcher":t;return r.a.createElement(pt.a,null,r.a.createElement("div",{className:Jt.a[n]},r.a.createElement("svg",{width:"32",height:"30",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6676 23.7567L19.9998 18.0833L20.9081 20.2928L22.332 23.7567C24.1088 22.8914 25.3332 21.0681 25.3332 18.9589C25.3332 16.0134 22.9454 13.6256 19.9998 13.6256C17.0543 13.6256 14.6665 16.0134 14.6665 18.9589C14.6665 21.0681 15.8909 22.8914 17.6676 23.7567Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7711 27.8702L14.6492 30.7152C10.328 28.7069 7.3335 24.3415 7.3335 19.2797C7.3335 12.3137 13.0046 6.66669 20.0002 6.66669C26.9958 6.66669 32.6668 12.3137 32.6668 19.2797C32.6668 24.3419 29.6719 28.7075 25.3502 30.7157L24.2282 27.8708C27.4134 26.3135 29.606 23.0515 29.606 19.2797C29.606 13.997 25.3053 9.71455 20.0002 9.71455C14.695 9.71455 10.3943 13.997 10.3943 19.2797C10.3943 23.0511 12.5864 26.3128 15.7711 27.8702Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.1484 34.5211L12.0251 37.37C4.94806 34.368 0 27.4924 0 19.4906C0 8.72623 8.9543 0 20 0C31.0457 0 40 8.72623 40 19.4906C40 27.4926 35.0517 34.3683 27.9745 37.3702L26.851 34.5214C32.7555 31.9617 36.8726 26.1947 36.8726 19.4906C36.8726 10.4095 29.3185 3.04778 20 3.04778C10.6815 3.04778 3.12744 10.4095 3.12744 19.4906C3.12744 26.1944 7.24417 31.9613 13.1484 34.5211Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0002 24.9362L15.1479 38.9812H25.3092L20.0002 24.9362Z",fill:"white"}))))}),Yt=n("./src/pieces/payment/currency-symbol.tsx"),Qt=n("./src/pieces/web-broadcast-status/web-broadcast-status.scss"),Kt=n.n(Qt),Xt=(n("./node_modules/bows/bows.js")("Edge-icon"),function(e){var t=e.color||"#AAAAAA";return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 15",fill:"none"},r.a.createElement("path",{d:"M8 12.5479C6.40703 12.5452 4.84268 12.1244 3.46333 11.3275C2.08399 10.5307 0.937975 9.38574 0.13986 8.00713L0 7.77403L0.13986 7.54093C0.935668 6.16021 2.08114 5.01347 3.46098 4.21614C4.84083 3.41881 6.40635 2.99902 8 2.99902C9.59365 2.99902 11.1592 3.41881 12.539 4.21614C13.9189 5.01347 15.0643 6.16021 15.8601 7.54093L16 7.77403L15.8601 8.00713C15.062 9.38574 13.916 10.5307 12.5367 11.3275C11.1573 12.1244 9.59297 12.5452 8 12.5479ZM1.08158 7.77403C1.81331 8.94958 2.8325 9.9193 4.04299 10.5917C5.25347 11.264 6.61532 11.6169 8 11.6169C9.38468 11.6169 10.7465 11.264 11.957 10.5917C13.1675 9.9193 14.1867 8.94958 14.9184 7.77403C14.1867 6.59848 13.1675 5.62876 11.957 4.9564C10.7465 4.28404 9.38468 3.93121 8 3.93121C6.61532 3.93121 5.25347 4.28404 4.04299 4.9564C2.8325 5.62876 1.81331 6.59848 1.08158 7.77403ZM8 11.0374C7.35456 11.0374 6.72361 10.846 6.18695 10.4874C5.65029 10.1289 5.23201 9.61919 4.98501 9.02288C4.73801 8.42657 4.67338 7.77041 4.7993 7.13737C4.92522 6.50433 5.23603 5.92285 5.69242 5.46645C6.14882 5.01006 6.7303 4.69925 7.36334 4.57333C7.99638 4.44741 8.65254 4.51204 9.24885 4.75904C9.84516 5.00604 10.3548 5.42432 10.7134 5.96098C11.072 6.49764 11.2634 7.12859 11.2634 7.77403C11.2634 8.63954 10.9196 9.4696 10.3076 10.0816C9.69557 10.6936 8.86551 11.0374 8 11.0374ZM8 5.44303C7.53897 5.44303 7.0883 5.57974 6.70496 5.83587C6.32163 6.09201 6.02286 6.45606 5.84644 6.88199C5.67001 7.30793 5.62384 7.77662 5.71379 8.22879C5.80373 8.68096 6.02574 9.0963 6.35173 9.4223C6.67773 9.74829 7.09307 9.9703 7.54524 10.0602C7.99741 10.1502 8.4661 10.104 8.89204 9.92759C9.31797 9.75117 9.68202 9.4524 9.93816 9.06907C10.1943 8.68573 10.331 8.23506 10.331 7.77403C10.331 7.15581 10.0854 6.56291 9.64827 6.12576C9.21112 5.68861 8.61822 5.44303 8 5.44303Z",fill:t})))}),$t=(n("./node_modules/bows/bows.js")("Activity-chat-icon"),function(e){var t=e.stroke,n=void 0===t?"#AAAAAA":t;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},r.a.createElement("path",{d:"M3.63 15.21L1.92 13.5H0V2H13.59L16 4.41V13.5H5.34L3.63 15.21ZM1 12.5H2.34L3.63 13.79L4.92 12.5H15V4.83L13.17 3H1V12.5Z",fill:n})))}),en=(n("./node_modules/bows/bows.js")("Web-broadcast-status"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({anonymousViewerCount:Ct.selectAnonymousViewerCount,contentRating:Be.selectStageDirectorContentRating,currentUser:Ue.selectCurrentUser,earnedCreditsCount:Ct.selectEarnedCreditsCount,headerIsVisible:Te.selectHeaderIsVisible,isBroadcastViewersListOpen:Ct.selectBroadcastViewersListIsOpen,isInMaintenanceMode:Nt.selectIsInMaintenanceMode,isLive:et.selectIsWebBroadcastLive,isStageSettingsMenuOpen:Te.selectStageSettingsMenuIsOpen,isWebBroadcastUIEnabled:Mt.selectWebBroadcastUIStatus,viewersList:Ct.selectBroadcastViewers,viewersUpdateAvailable:Ct.selectBroadcastViewersUpdateAvailability,viewerCount:Ct.selectViewerCount,concurrentViewerCount:Ct.selectConcurrentViewerCount,stageLiveActivityViewCount:Te.selectStageLiveActivityViewCount}),{CloseBroadcasterSidebarSettingsPanel:et.CloseBroadcasterSidebarSettingsPanel,CloseBroadcastViewersList:Ct.CloseBroadcastViewersList,OpenBroadcastViewersList:Ct.OpenBroadcastViewersList,ResetBroadcastViewersUpdateAvailability:Ct.ResetBroadcastViewersUpdateAvailability,TrackFollowUserFromStage:Te.TrackFollowUserFromStage,TrackUnfollowUserFromStage:Te.TrackUnfollowUserFromStage}))(function(e){var t,n,i,s,c,l=e.anonymousViewerCount,u=e.contentRating,d=e.currentUser,_=e.earnedCreditsCount,m=e.followedViewers,g=void 0===m?[]:m,b=e.headerIsVisible,p=e.isInMaintenanceMode,f=e.isLive,v=e.isBroadcastViewersListOpen,C=e.isStageSettingsMenuOpen,y=e.isWebBroadcastUIEnabled,j=e.showBadConnectionIcon,O=e.viewerCount,S=e.concurrentViewerCount,E=e.stageLiveActivityViewCount,x=e.viewersList,k=e.viewersUpdateAvailable,I=e.CloseBroadcasterSidebarSettingsPanel,T=e.CloseBroadcastViewersList,F=e.OpenBroadcastViewersList,P=e.ResetBroadcastViewersUpdateAvailability,N=e.TrackFollowUserFromStage,M=e.TrackUnfollowUserFromStage,L=Object(a.useState)(y&&O>0),B=h()(L,2),A=B[0],D=B[1],U=Object(a.useState)(!1),R=h()(U,2),H=R[0],W=R[1],V=Object(a.useMemo)(function(){return Pt(E||0)},[E]),z=Object(a.useMemo)(function(){return Pt(O)},[O]),G=Object(a.useMemo)(function(){return Pt(S)},[S]),q=Object(a.useCallback)(function(){A&&(v?T():(!H&&W(!0),F(),I()),P())},[A,v,H,T,I,F,P]);Object(a.useEffect)(function(){y&&0!==O?D(!0):(T(),D(!1))},[y,O,T]);var J=Object(a.useCallback)(function(e,t){return N({currentUserId:e.caid,lobbyPayloadId:d.stageId||Object(De.a)(d.caid),entertainerDetails:d,eventDetails:t,followedWatchers:g})},[N,d,g]),Z=Object(a.useCallback)(function(e,t){return M({currentUserId:e.caid,lobbyPayloadId:d.stageId||Object(De.a)(d.caid),entertainerDetails:d,eventDetails:t,followedWatchers:g})},[M,d,g]);return r.a.createElement("div",{className:Kt.a.redesign_webBroadcastStatus},r.a.createElement("div",{className:w()(se()({},Kt.a.hidden,u!==o.U))},r.a.createElement(Je.a,{size:"xLarge"})),r.a.createElement("div",{className:w()((t={},se()(t,Kt.a.rightContainer,!0),se()(t,Kt.a.shouldAccountForHeader,b),se()(t,Kt.a.behindStageSettingsMenu,b&&C),se()(t,Kt.a.hideCreditCount,!f),t)),onMouseOut:function(e){return e.stopPropagation()}},j&&r.a.createElement("div",{className:Kt.a.networkIssueContainer},r.a.createElement(Zt,{theme:"broadcaster"})),r.a.createElement("div",{className:Kt.a.viewerCountContainer},r.a.createElement("div",{className:w()((n={},se()(n,Kt.a.redesign_viewerCount,!0),se()(n,Kt.a.disableOpen,!A),se()(n,Kt.a.largeCount,V.length>2),se()(n,Kt.a.updateHighlight,k&&S&&!v),n))},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{className:Kt.a.redesign_activityViewCountIconContainer},r.a.createElement(Xt,null)),r.a.createElement("span",null,V)),r.a.createElement("div",{style:{fontSize:10}},"Total views"))),r.a.createElement("div",{className:Kt.a.viewerCountContainer},r.a.createElement("div",{className:w()((i={},se()(i,Kt.a.redesign_viewerCount,!0),se()(i,Kt.a.disableOpen,!A),se()(i,Kt.a.largeCount,G.length>2),se()(i,Kt.a.updateHighlight,k&&S&&!v),i)),onClick:q},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{className:Kt.a.redesign_concurrentViewerCountIconContainer},r.a.createElement(Gt,null)),r.a.createElement("span",null,G)),r.a.createElement("div",{style:{fontSize:10}},"Current viewers"))),r.a.createElement("div",{className:Kt.a.viewerCountContainer},r.a.createElement("div",{className:w()((s={},se()(s,Kt.a.redesign_viewerCount,!0),se()(s,Kt.a.disableOpen,!A),se()(s,Kt.a.largeCount,z.length>2),se()(s,Kt.a.updateHighlight,k&&O&&!v),s)),onClick:q},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{className:Kt.a.redesign_viewerCountIconContainer},r.a.createElement($t,null)),r.a.createElement("span",null,z)),r.a.createElement("div",{style:{fontSize:10}},"Viewers in chat")),r.a.createElement(zt,{viewersList:x,anonymousViewerCount:l,isOpen:v,hasBeenOpened:H,handleFollowViewerClick:J,handleUnfollowViewerClick:Z})),f&&r.a.createElement("div",{className:w()((c={},se()(c,Kt.a.redesign_earnedCreditsCountContainer,!0),se()(c,Kt.a.largeCount,_>99),c))},r.a.createElement("div",{className:Kt.a.creditIconContainer},r.a.createElement(Yt.a,{size:"medium",type:"credit"})),p?"N/A":Ft(_))))})),tn=n("./src/pieces/web-broadcast/web-broadcast-title.tsx"),nn=n("./src/pieces/web-broadcast/web-broadcast-content-rating.tsx"),an=n("./src/pieces/web-broadcast/web-broadcast-controls.scss"),rn=n.n(an),on=(n("./node_modules/bows/bows.js")("Web-broadcast-control"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({hasExceptionForBroadcastOverride:Be.selectStageDirectorHasExceptionForBroadcastOverride,isLive:et.selectIsWebBroadcastLive,liveHostedOwnerUserName:et.selectliveHostedOwnerUserName,secondaryFeedIsVisible:et.selectSecondaryFeedIsVisible,secondaryMediaStreamId:et.selectActiveSecondaryMediaStreamId,liveHostedMediaStreamIds:Te.selectMediaStreamIds,liveHostedFeedId:et.selectLiveHostedFeedId,currentUser:Ue.selectCurrentUser}),{SetBottomFrameContent:Te.SetBottomFrameContent,SetSelectedTab:Te.SetSelectedTab,SetReactionFrameContent:Te.SetReactionFrameContent,ShowBroadcastReplayDialog:et.ShowBroadcastReplayDialog,StopBroadcast:et.StopBroadcast,RemoveLiveHostedFeed:et.RemoveLiveHostedFeed,RemoveSecondaryFeed:et.RemoveSecondaryFeed,OpenLiveHostableBroadcastersDialog:et.OpenLiveHostableBroadcastersDialog,OpenSelectSnapshotDialog:et.OpenSelectSnapshotDialog,ToggleSecondaryFeedVisibility:et.ToggleSecondaryFeedVisibility}),Object(B.d)({handleLiveHostableExperience:function(e){return function(){e.liveHostedFeedId&&e.liveHostedMediaStreamIds[e.liveHostedFeedId]?(e.secondaryFeedIsVisible||e.ToggleSecondaryFeedVisibility(),e.RemoveLiveHostedFeed()):e.OpenLiveHostableBroadcastersDialog()}},handleSecondaryStreamExperience:function(e){return function(){e.secondaryMediaStreamId&&(e.secondaryFeedIsVisible||e.ToggleSecondaryFeedVisibility(),e.RemoveSecondaryFeed())}}}))(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:rn.a.redesign_webBroadcastControlsLeft},r.a.createElement("div",{className:rn.a.redesign_title},r.a.createElement(tn.a,null)),r.a.createElement("div",{className:rn.a.redesign_contentRating},r.a.createElement(nn.a,null)),r.a.createElement("div",{className:rn.a.redesign_broadcasterInfo},r.a.createElement(Ye.a,{darkTheme:!0,hideAvatar:!0,size:"large",user:e.currentUser,onUsernameClickedHandler:function(){e.SetBottomFrameContent(Le.a.Profile),e.SetSelectedTab(Le.c.Biography),e.SetReactionFrameContent(Le.b.Chat)}}))),r.a.createElement("div",{className:rn.a.redesign_webBroadcastControlsRight},r.a.createElement("div",{className:rn.a.redesign_webBroadcastControlsRightContent},r.a.createElement(qe,{entertainer:e.currentUser}))))})),sn=n("./src/pieces/web-broadcast/web-broadcast-transition-message.scss"),cn=n.n(sn),ln=(n("./node_modules/bows/bows.js")("Web-broadcast-transition-message"),be()([[function(e){return e.transitionMessage===o.C},function(){var e;return r.a.createElement("div",{className:w()((e={},se()(e,cn.a.redesign_broadcastTransitionMessage,!0),se()(e,cn.a.redesign_longMessage,!0),e))},"keep track of your viewers and credits earned on the right")}],[function(e){return e.transitionMessage===o.B},function(){return r.a.createElement("div",{className:cn.a.redesign_broadcastTransitionMessage},"you are off the air")}],[function(e){return e.transitionMessage===o.D},function(){return r.a.createElement("div",{className:cn.a.redesign_broadcastTransitionMessage},"Caffeine servers are full. Check back later.")}],[function(){return!0},function(){return null}]])),un=(n("./node_modules/bows/bows.js")("Volume-meter"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({volume:et.selectInputVolume})))(function(e){var t=e.volume,n=Object(a.useCallback)(function(){return 104-Math.floor(t/6.5*104)},[t]);return r.a.createElement("svg",{width:32,height:104},r.a.createElement("mask",{id:"volume-meter__a"},r.a.createElement("path",{fill:"#FFF",d:"M0 0h32v104H0z"}),r.a.createElement("path",{d:"M11.619 104a4 4 0 100-8 4 4 0 000 8zm-4.62-16a4 4 0 100 8 4 4 0 000-8zm18.476 0a4 4 0 100 8 4 4 0 000-8zm-9.237 0a4 4 0 100 8 4 4 0 000-8zm4.618-8a4 4 0 100 8 4 4 0 000-8zm-9.237 0a4 4 0 100 8 4 4 0 000-8zm-4.62-8a4 4 0 100 8 4 4 0 000-8zm9.239 0a4 4 0 100 8 4 4 0 000-8zm9.237 0a4 4 0 100 8 4 4 0 000-8zm-4.619-8a4 4 0 100 8 4 4 0 000-8zm-9.237 0a4 4 0 100 8 4 4 0 000-8zm-4.62-8a4 4 0 100 8 4 4 0 000-8zm9.239 0a4 4 0 100 8 4 4 0 000-8zm9.237 0a4 4 0 100 8 4 4 0 000-8zm-4.619-8a4 4 0 100 8 4 4 0 000-8zm-9.237 0a4 4 0 100 8 4 4 0 000-8zm13.856-8a4 4 0 100 8 4 4 0 000-8zM7 40a4 4 0 100 8 4 4 0 000-8zm9.239 0a4 4 0 100 8 4 4 0 000-8zm4.618-8a4 4 0 100 8 4 4 0 000-8zm-9.237 0a4 4 0 100 8 4 4 0 000-8zm-4.62-8a4 4 0 100 8 4 4 0 000-8zm9.239 0a4 4 0 100 8 4 4 0 000-8zm9.237 0a4 4 0 100 8 4 4 0 000-8zm-4.619-8a4 4 0 100 8 4 4 0 000-8zm-9.237 0a4 4 0 100 8 4 4 0 000-8zm-4.62-8a4 4 0 100 8 4 4 0 000-8zm9.239 0a4 4 0 100 8 4 4 0 000-8zm9.237 0a4 4 0 100 8 4 4 0 000-8zm-4.619-8a4 4 0 100 8 4 4 0 000-8zm-9.237 0a4 4 0 100 8 4 4 0 000-8zm9.237 104a4 4 0 100-7.999 4 4 0 000 8zm0 0H0V0h32v104H20.856z"})),r.a.createElement("g",{mask:"url(#volume-meter__a)",fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#0FF",d:"M0 0h32v104H0z"}),r.a.createElement(Ae.b.path,{fill:"#9493bd",initial:{d:"M0 0h32v104H0z"},animate:{d:"M0 0h32v".concat(n(),"H0z")}})))})),dn=n("./node_modules/date-fns/format/index.js"),_n=n.n(dn),mn=n("./src/pieces/base/close-icon.tsx"),gn=(n("./node_modules/bows/bows.js")("Screen-share-icon"),function(e){var t=e.color,n=void 0===t?"#8b8bb6":t;return r.a.createElement(pt.a,null,r.a.createElement("svg",{width:"64",height:"64",fill:"none",viewBox:"0 0 64 64"},r.a.createElement("path",{fill:n,d:"M31.054 10H18.946c-3.228 0-5.722 0-7.707.189-2.01.19-3.6.583-4.986 1.432a11 11 0 00-3.632 3.631c-.85 1.386-1.241 2.977-1.432 4.987C1 22.224 1 24.72 1 27.947v.108c0 3.228 0 5.722.189 7.707.19 2.01.583 3.6 1.432 4.986a11 11 0 003.632 3.632c1.385.85 2.976 1.241 4.986 1.432.46.044.946.078 1.462.103a16.161 16.161 0 01-.396-2.025c-.304-.02-.596-.042-.876-.069-1.864-.177-3.113-.522-4.131-1.146a9 9 0 01-2.972-2.971c-.624-1.02-.969-2.268-1.146-4.132C3 33.692 3 31.293 3 28s.001-5.692.18-7.571c.177-1.864.522-3.113 1.146-4.131a9 9 0 012.972-2.972c1.018-.624 2.267-.969 4.13-1.146C13.309 12 15.709 12 19 12h12c3.293 0 5.692.001 7.571.18 1.864.177 3.113.522 4.132 1.146A9.003 9.003 0 0144.708 15c.886 0 1.724.001 2.517.008a10.999 10.999 0 00-3.477-3.387c-1.386-.85-2.977-1.241-4.987-1.432C36.776 10 34.28 10 31.053 10z"}),r.a.createElement("path",{fill:n,fillRule:"evenodd",d:"M31.946 17h12.108c3.228 0 5.722 0 7.706.189 2.011.19 3.602.583 4.988 1.432a11 11 0 013.631 3.632c.85 1.385 1.241 2.976 1.432 4.986.189 1.985.189 4.48.189 7.707v.108c0 3.228 0 5.722-.189 7.706-.19 2.011-.583 3.602-1.432 4.988a11 11 0 01-3.631 3.631c-1.386.85-2.977 1.241-4.987 1.432-1.985.189-4.48.189-7.707.189H31.946c-3.228 0-5.722 0-7.707-.189-2.01-.19-3.6-.583-4.986-1.432a11 11 0 01-3.632-3.631c-.85-1.386-1.241-2.977-1.432-4.987C14 40.776 14 38.28 14 35.053v-.108c0-3.228 0-5.722.189-7.706.19-2.011.583-3.602 1.432-4.987a11 11 0 013.632-3.632c1.385-.85 2.976-1.241 4.986-1.432C26.224 17 28.72 17 31.947 17zm-7.517 2.18c-1.864.177-3.113.522-4.131 1.146a9 9 0 00-2.972 2.971c-.624 1.02-.969 2.268-1.146 4.132C16 29.308 16 31.707 16 35s.001 5.692.18 7.571c.177 1.864.522 3.113 1.146 4.132a9 9 0 002.971 2.97c1.02.625 2.268.97 4.132 1.147C26.308 51 28.707 51 32 51h12c3.293 0 5.692-.001 7.571-.18 1.864-.177 3.113-.522 4.132-1.146a9 9 0 002.97-2.971c.625-1.02.97-2.268 1.147-4.132C60 40.692 60 38.293 60 35s-.001-5.692-.18-7.571c-.177-1.864-.522-3.113-1.146-4.131a9 9 0 00-2.971-2.972c-1.02-.624-2.268-.969-4.132-1.146C49.692 19 47.293 19 44 19H32c-3.293 0-5.692.001-7.571.18z",clipRule:"evenodd"}),r.a.createElement("path",{fill:n,d:"M28 35a2 2 0 012-2h16a2 2 0 110 4H30a2 2 0 01-2-2z"}),r.a.createElement("path",{fill:n,d:"M38 45a2 2 0 01-2-2V27a2 2 0 114 0v16a2 2 0 01-2 2z"})))}),bn=n("./src/pieces/base/avatar.tsx"),pn=n("./src/pieces/base/badge.tsx"),fn=n("./src/pieces/feed/broadcast-card.tsx"),hn=n("./src/pieces/web-broadcast/live-hosting/live-hosting-hostable-broadcasters-dialog.scss"),vn=n.n(hn);function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(n,!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Live-hosting-hostable-broadcasters-dialog");var yn=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({liveHostableBroadcasters:et.selectLiveHostableBroadcasters,activeLiveHostedFeedExternalAddress:et.selectFeedAddress,contentGuideListingGroups:et.selectContentGuideListingGroups}),{CloseLiveHostableBroadcastersDialog:et.CloseLiveHostableBroadcastersDialog,SetLiveHostedFeed:et.SetLiveHostedFeed,SetScreenShare:et.SetScreenShare})),jn=function(e){var t,n=e.activeLiveHostedFeedExternalAddress,i=e.broadcastDetails,o=e.CloseLiveHostableBroadcastersDialog,s=e.setActiveLiveHostedFeedExternalAddress,c=e.SetLiveHostedFeed,l=Object(a.useCallback)(function(){c(i.broadcast.externalStreamId),s(i.broadcast.externalStreamId),o()},[c,s,o,i.broadcast.externalStreamId]),u=Object(a.useCallback)(function(e,t,n){t.preventDefault()},[]);return r.a.createElement("div",{className:vn.a.redesign_broadcastCardWrapper,key:i.broadcast.id,onClick:l},r.a.createElement("div",{className:w()((t={},se()(t,vn.a.redesign_broadcastCard,!0),se()(t,vn.a.isActive,n),t))},r.a.createElement(fn.a,{details:Cn({},i,{__typename:"LiveBroadcastCard"}),size:"medium",showLiveBadge:!0,showCardActions:!0,afterBodyClickHandler:u})))},On=yn(function(e){var t,n=Object(a.useCallback)(function(){e.SetScreenShare(navigator.mediaDevices)},[e.SetScreenShare]),i=Object(a.useState)(e.activeLiveHostedFeedExternalAddress),o=h()(i,2),s=o[0],c=o[1];return r.a.createElement("div",{className:vn.a.redesign_liveHostingHostableBroadcastersDialog},r.a.createElement("div",{className:vn.a.liveHostingHostableBroadcastersDialogContainer},r.a.createElement("div",{className:vn.a.redesign_titleArea},r.a.createElement("div",{className:vn.a.redesign_instructions},"add a stream to your show"),r.a.createElement("div",{className:vn.a.redesign_closeButton,onClick:e.CloseLiveHostableBroadcastersDialog},r.a.createElement(mn.a,{size:"small",darkTheme:!0}))),r.a.createElement("div",{className:vn.a.redesign_dialogBody},r.a.createElement("div",{className:vn.a.redesign_dialogBodyContent},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:vn.a.liveHostableBroadcastersList},r.a.createElement("div",{className:vn.a.redesign_cardList},r.a.createElement("div",{className:vn.a.redesign_broadcastCardWrapper},r.a.createElement("button",{className:w()((t={},se()(t,vn.a.redesign_broadcastCard,!0),se()(t,vn.a.screenShareCardButton,!0),t)),onClick:n},r.a.createElement("div",{className:vn.a.screenShareCardIcon},r.a.createElement(gn,null)),r.a.createElement("div",{className:vn.a.screenShareCardText},"share screen"))),e.liveHostableBroadcasters&&e.liveHostableBroadcasters.map(function(t){return r.a.createElement(jn,{key:t.broadcast.id,activeLiveHostedFeedExternalAddress:s,broadcastDetails:t,CloseLiveHostableBroadcastersDialog:e.CloseLiveHostableBroadcastersDialog,setActiveLiveHostedFeedExternalAddress:c,SetLiveHostedFeed:e.SetLiveHostedFeed})}))))))))}),Sn=(n("./node_modules/bows/bows.js")("Muted-icon"),function(e){var t=e.width,n=e.height;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t?"".concat(t,"px"):"26px",height:n?"".concat(n,"px"):"26px",fill:"none",viewBox:"0 0 56 56"},r.a.createElement("circle",{cx:"28",cy:"28",r:"28",fill:"#000",fillOpacity:"0.55"}),r.a.createElement("g",{fill:"#fff",clipPath:"url(#clip0_335_3088)"},r.a.createElement("path",{d:"M35.81 25.12a4.01 4.01 0 011.159 2.874 3.963 3.963 0 01-1.16 2.863l.824.822a5.204 5.204 0 000-7.37l-.823.811z"}),r.a.createElement("path",{d:"M39.09 21.852l-.812.811a7.556 7.556 0 010 10.662l.811.811a8.67 8.67 0 000-12.284zM26.145 24.425h.475l.348-.348 4.82-4.855v11.623l1.16 1.159V16.406l-6.803 6.86H24.21l1.159 1.159h.776zM31.788 36.778l-4.82-4.867-.348-.336h-8.738v-7.15h1.588l-1.159-1.159h-1.588v9.468h9.422l6.802 6.849v-1.68l-1.159-1.16v.035zM14.825 16.006l-.819.82L37.18 39.998l.82-.82-23.175-23.173z"})),r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"clip0_335_3088"},r.a.createElement("path",{fill:"#fff",d:"M0 0H27.639V24H0z",transform:"translate(14 16)"})))))}),En=(n("./node_modules/bows/bows.js")("Volume-icon"),function(e){var t=e.width,n=e.height;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:t?"".concat(t,"px"):"26px",height:n?"".concat(n,"px"):"26px",viewBox:"0 0 24 24"},r.a.createElement("g",{stroke:"currentColor",strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M10.113 4.898c-.68.657-2.024 1.194-2.988 1.194H2.751c-.962 0-1.75.76-1.75 1.688v8.44c0 .928.788 1.689 1.75 1.689h4.374c.964 0 2.307.536 2.988 1.193l3.65 3.52c.68.657 1.238.435 1.238-.494V1.872c0-.929-.558-1.151-1.239-.495l-3.649 3.52zM20 16c1.237-.896 2-2.133 2-3.5 0-1.368-.763-2.605-2-3.5"}))))}),xn=n("./src/pieces/stage/volume-slider.scss"),kn=n.n(xn),In=(n("./node_modules/bows/bows.js")("Volume-slider"),function(e){var t=e.isMuted,n=e.volume,i=e.handleUnmute,o=e.handleMute,s=e.setVolumeOnChange,c=e.saveVolumeOnMouseUp,l=e.className,u=void 0===l?"":l,d=Object(a.useRef)(null),_=Object(a.useCallback)(t?i:o,[t,i,o]),m=Object(a.useCallback)(function(e){return s(parseInt(e.target.value,10))},[s]),g=Object(a.useCallback)(function(e){d&&d.current&&c&&c(parseInt(d.current.value,10))},[c]);return r.a.createElement("div",{className:w()(kn.a.volumeSliderWrapper,u)},r.a.createElement("div",{className:kn.a.volumeSliderContainer},r.a.createElement("input",{ref:d,type:"range",className:kn.a.volumeSlider,onChange:m,onMouseUp:g,value:t?0:n}),r.a.createElement("div",{className:kn.a.volumeSliderTrack}),r.a.createElement("div",{className:kn.a.volumeSliderTrackHighlight,style:{width:t?0:"".concat(n,"%")}}),r.a.createElement("div",{className:kn.a.volumeSliderHandle,style:{left:t?0:"calc(".concat(n,"% - ").concat(n/100*24,"px) ")}})),r.a.createElement("button",{onClick:_,className:kn.a.muteButton},r.a.createElement(Ae.b.div,{whileHover:{color:"#00ffff"},initial:{color:"#9696be"}},t||0===n?r.a.createElement(Sn,null):r.a.createElement(En,null))))}),Tn=(n("./node_modules/bows/bows.js")("Pip-icon"),function(){return r.a.createElement("svg",{width:40,height:22},r.a.createElement("path",{d:"M1.667 21h36.666V1H1.667v20zM22.69 8.647l-4.992 4.991m-.05-4.99l4.99 4.99",stroke:"#9493BD",strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))}),Fn=n("./src/pieces/base/snack-pill.tsx"),Pn=n("./src/pieces/base/user-snack-pill.scss"),Nn=n.n(Pn),Mn=(n("./node_modules/bows/bows.js")("User-snack-pill"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({currentUserCaid:Ue.selectCurrentUserId,followingUsers:mt.selectFollowedUserCaids}),{}))),Ln=Mn(function(e){var t,n=e.show,a=e.beforeUsernameText,i=e.afterUsernameText,o=e.showFollowStar,s=void 0!==o&&o,c=e.user,l=(e.currentUserCaid,e.followingUsers,rt()(e,["show","beforeUsernameText","afterUsernameText","showFollowStar","user","currentUserCaid","followingUsers"]));return r.a.createElement(Fn.a,nt()({show:n,avatarImagePath:c.avatarImagePath,followButtonCAID:s?c.caid:void 0},l),r.a.createElement("p",{className:w()((t={},se()(t,Nn.a.followerSnackTextContainer,!0),se()(t,Nn.a.badgePadding,c.badge),t))},a&&r.a.createElement("span",null,"".concat(a," ")),r.a.createElement("strong",null,c.username),c.badge&&r.a.createElement("span",{className:Nn.a.followerSnackBadgeContainer},r.a.createElement(pn.a,{badge:c.badge})),i&&r.a.createElement("span",null," ".concat(i))))}),Bn=(n("./node_modules/bows/bows.js")("New-follower-notification"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({notification:Ct.selectNewFollowerNotificationDetails}),{ClearNewFollowerNotificationDetails:Ct.ClearNewFollowerNotificationDetails}))),An=Bn(function(e){var t=e.notification,n=e.ClearNewFollowerNotificationDetails,i=Object(a.useRef)([]),o=Object(a.useRef)(),s=Object(a.useRef)(),c=Object(a.useRef)(!1),l=Object(a.useRef)(!1),u=Object(a.useRef)(null),d=Object(a.useState)(!1),_=h()(d,2),m=_[0],g=_[1];Object(a.useEffect)(function(){t&&(u.current?i.current.length<5?i.current.push(t):i.current[4]=t:(u.current=t.message.publisher,g(!0),o.current=setTimeout(b,5e3)),n())},[t]);var b=Object(a.useCallback)(function(){if(c.current)return l.current=!0,void(s.current&&clearTimeout(s.current));g(!1),s.current=setTimeout(function(){var e=i.current.length?i.current[0].message.publisher:null;e?(u.current=e,i.current=i.current.slice(1),g(!0),o.current=setTimeout(b,5e3)):u.current=null},2e3)},[]),p=Object(a.useCallback)(function(e){c.current=e,l.current&&!e&&(l.current=!1,b())},[b]);return Object(a.useEffect)(function(){return function(){o.current&&clearTimeout(o.current),s.current&&clearTimeout(s.current)}},[]),u.current?r.a.createElement(Ln,{show:m,anchor:"topCenter",animationDirection:"top",onHover:p,user:u.current,afterUsernameText:"followed you",showFollowStar:!0}):null}),Dn=n("./src/pieces/web-broadcast/web-broadcast-initiator.scss"),Un=n.n(Dn),Rn=n("./src/pieces/stage/redesign-loading-spinner-lines.scss"),Hn=n.n(Rn),Wn=(n("./node_modules/bows/bows.js")("Redesign-loading-spinner-lines"),function(e){return e.loaded?null:r.a.createElement("div",{className:Hn.a.ldsSpinner},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),Vn=(n("./node_modules/bows/bows.js")("Web-broadcast-initiator"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({broadcastTitle:et.selectBroadcastTitle,broadcastViewersListIsOpen:Ct.selectBroadcastViewersListIsOpen,broadcasterLostConnectivity:et.selectBroadcasterLostConnectivity,broadcasterSidebarSettingsPanelIsOpen:et.selectBroadcasterSidebarSettingsPanelIsOpen,currentUser:Ue.selectCurrentUser,emailIsUnverified:Ue.selectCurrentUserEmailUnverified,errorSnackPill:Be.selectStageDirectorErrorSnackPill,firstTimeBroadcastViewDismissed:et.selectFirstTimeBroadcastViewDismissed,hasConfirmedDoNotShowHeadphoneDialogAgain:et.selectDoNotShowHeadphoneConfirmationAgain,hasExceptionForBroadcastOverride:Be.selectStageDirectorHasExceptionForBroadcastOverride,isLive:et.selectIsWebBroadcastLive,isLiveHostableBroadcastersDialogOpen:et.selectIsLiveHostableBroadcastersDialogOpen,isSelectSnapshotDialogOpen:et.selectIsSelectSnapshotDialogOpen,isStarting:et.selectIsStarting,liveHostedFeedId:et.selectLiveHostedFeedId,liveHostedFeedVolume:et.selectLiveHostedFeedVolume,liveHostedMediaStreamIds:Te.selectMediaStreamIds,liveHostedOwnerUserName:et.selectliveHostedOwnerUserName,mediaDeviceError:et.selectMediaError,mediaStreamId:et.selectActiveMediaStreamId,secondaryMediaStreamId:et.selectActiveSecondaryMediaStreamId,overlayIsActive:Te.selectOverlayIsActive,secondaryFeedIsVisible:et.selectSecondaryFeedIsVisible,snapshotRequested:et.selectSnapshotRequested,stageDirectorStateHasBeenInitialized:et.selectStageDirectorStateHasBeenInitialized,streamConnectionQualityIsGood:et.selectStreamConnectionQualityIsGood,transitionMessage:et.selectBroadcastTransitionMessage,webBroadcastIsActiveInAnotherSession:et.selectWebBroadcastIsActiveInAnotherSession}),{BroadcasterLostConnectivity:et.BroadcasterLostConnectivity,BroadcasterRegainedConnectivity:et.BroadcasterRegainedConnectivity,ClearStageDirectorErrorSnackPill:Be.ClearStageDirectorErrorSnackPill,CloseBroadcasterSidebarSettingsPanel:et.CloseBroadcasterSidebarSettingsPanel,CloseBroadcastViewersList:Ct.CloseBroadcastViewersList,DeliverCameraSnapshot:et.DeliverCameraSnapshot,OpenBroadcasterSidebarSettingsPanel:et.OpenBroadcasterSidebarSettingsPanel,PromptForMediaPermissions:et.PromptForMediaPermissions,ResendVerificationEmail:i.ResendVerificationEmail,SetFirstTimeBroadcastViewDismissed:et.SetFirstTimeBroadcastViewDismissed,SetOptionalPrimaryFeedAspectRatio:Te.SetOptionalPrimaryFeedAspectRatio,SaveLiveHostedFeedVolume:et.SaveLiveHostedFeedVolume,SetLiveHostedFeedVolume:et.SetLiveHostedFeedVolume,ShowVerificationDialog:i.ShowVerificationDialog,SubscribeToCurrentUserWallet:Ue.SubscribeToCurrentUserWallet,ToggleDoNotShowHeadphoneConfirmationAgain:et.ToggleDoNotShowHeadphoneConfirmationAgain,ToggleSecondaryFeedVisibility:et.ToggleSecondaryFeedVisibility}),Object(B.d)({handleStartBroadcastClickWithUnverifiedUser:function(e){return function(){return e.ShowVerificationDialog({body:"To broadcast you need to confirm your account",darkTheme:!0})}}}))),zn=function(e){return(e.overlayIsActive||!e.isLive)&&!e.isLiveHostableBroadcastersDialogOpen},Gn=function(e){return zn(e)?Un.a.visible:Un.a.invisible},qn=function(e){return e.broadcastViewersListIsOpen||zn(e)?Un.a.visible:Un.a.invisible},Jn=function(e){var t=Object(a.useCallback)(function(){e.broadcasterSidebarSettingsPanelIsOpen?e.CloseBroadcasterSidebarSettingsPanel():(e.OpenBroadcasterSidebarSettingsPanel(),e.CloseBroadcastViewersList())},[e.broadcasterSidebarSettingsPanelIsOpen,e.OpenBroadcasterSidebarSettingsPanel,e.CloseBroadcasterSidebarSettingsPanel,e.CloseBroadcastViewersList]);return r.a.createElement("div",{className:Un.a.redesign_broadcastSettingsButtonContainer},e.isLive||e.isStarting?e.liveHostedFeedId&&e.liveHostedMediaStreamIds[e.liveHostedFeedId]&&r.a.createElement(Zn,e):r.a.createElement("a",{className:Un.a.redesign_broadcastSettingsButton,onClick:t},r.a.createElement(it,null)))},Zn=function(e){var t;return r.a.createElement("button",{className:w()((t={},se()(t,Un.a.redesign_secondaryFeedVisibilityToggle,!0),se()(t,Un.a.disabled,!e.secondaryFeedIsVisible),t)),onClick:e.ToggleSecondaryFeedVisibility},r.a.createElement(Tn,null))},Yn=function(e){var t,n,i=e.disabled,s=void 0!==i&&i,c=e.startOpen,l=void 0!==c&&c,u=rt()(e,["disabled","startOpen"]),d=0===u.liveHostedFeedVolume,_=100*u.liveHostedFeedVolume;Object(a.useEffect)(function(){u.isLive||u.isStarting?u.CloseBroadcasterSidebarSettingsPanel():l&&(u.OpenBroadcasterSidebarSettingsPanel(),u.CloseBroadcastViewersList())},[u.isLive,u.isStarting,l]);var m=Object(a.useCallback)(function(e){return u.SetLiveHostedFeedVolume(0===e?0:e/100)},[u.SetLiveHostedFeedVolume]),g=Object(a.useCallback)(function(e){return u.SaveLiveHostedFeedVolume(0===e?0:e/100)},[u.SaveLiveHostedFeedVolume]),b=Object(a.useCallback)(function(e){u.SetLiveHostedFeedVolume(e),u.SaveLiveHostedFeedVolume(e)},[u.SetLiveHostedFeedVolume,u.SaveLiveHostedFeedVolume]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:w()((t={},se()(t,Un.a.redesign_webBroadcastSettingsWrapper,!0),se()(t,Un.a.open,u.broadcasterSidebarSettingsPanelIsOpen),t))},r.a.createElement(Ae.b.div,{animate:{x:u.broadcasterSidebarSettingsPanelIsOpen?"0%":"100%"},initial:{x:l?"0%":"100%"},transition:{type:"spring",stiffness:200,damping:40}},r.a.createElement(wt,null))),r.a.createElement("div",{className:Un.a.redesign_webBroadcastSideBarWrapper},r.a.createElement("div",{className:w()(Un.a.redesign_webBroadcastSideBar,qn(u))},r.a.createElement("div",{className:w()((n={},se()(n,Un.a.redesign_webBroadcastSettingsPanel,!0),se()(n,Un.a.open,u.broadcasterSidebarSettingsPanelIsOpen),se()(n,Un.a.disabled,s),n))},r.a.createElement(Jn,u),r.a.createElement(un,null)),u.liveHostedFeedId&&u.liveHostedMediaStreamIds[u.liveHostedFeedId]&&r.a.createElement(In,{isMuted:d,volume:_,handleUnmute:function(){return b(o.bb)},handleMute:function(){return b(0)},setVolumeOnChange:m,saveVolumeOnMouseUp:g}))))},Qn=function(e){var t,n=Object(a.useRef)(!1);return Object(a.useEffect)(function(){n.current=!n.current&&e.isLive},[e.isLive]),r.a.createElement("div",{className:w()((t={},se()(t,Un.a.redesign_alertHintContainer,!0),se()(t,Un.a.show,!e.isLive&&!e.transitionMessage),se()(t,Un.a.delayShowing,n.current),t))},e.children?r.a.createElement("div",{className:Un.a.redesign_alertHintText},e.children):be()([[function(e){return e.isSelectSnapshotDialogOpen},function(){return null}],[function(e){return!e.broadcastTitle},function(){return r.a.createElement("div",{className:w()(Un.a.redesign_alertHintText)},"pick a title that's easy to share")}],[function(e){var t=e.liveHostedFeedId,n=e.liveHostedMediaStreamIds;return t&&n[t]},function(){return r.a.createElement("div",{className:w()(Un.a.redesign_alertHintText,Un.a.isSmall)},"use headphones to prevent echoes in your broadcast")}],[function(){return!0},function(){return r.a.createElement("div",{className:w()(Un.a.redesign_alertHintText)},"confirm your content rating")}]])(e))},Kn=be()([[function(e){var t=e.currentUser,n=e.firstTimeBroadcastViewDismissed;return t&&null==t.lastBroadcastedDate&&!n},function(e){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement(Yn,nt()({disabled:!0},e)),r.a.createElement("div",{className:Un.a.redesign_alertTitle},"Welcome to your"),r.a.createElement("div",{className:Un.a.redesign_alertTitle},"broadcast center."),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"From here you can create shows completely unique to you, or even host your own sports"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"and esports broadcasts from Fox Sports, RedBull, ESPN, DreamHack, Riot Games, FACEIT and"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"more. Or you can stream games with our"," ",r.a.createElement("a",{href:"/broadcasting.html",className:Un.a.redesign_linkText,target:"_blank",rel:"noopener noreferrer"},"easy-to-use PC app."))),r.a.createElement("button",{className:Un.a.redesign_button,onClick:e.emailIsUnverified?e.handleStartBroadcastClickWithUnverifiedUser:e.SetFirstTimeBroadcastViewDismissed},"start your show"),r.a.createElement("div",{className:Un.a.redesign_bottomLinkContainer},r.a.createElement("a",{className:Un.a.redesign_linkText,href:"/broadcasting.html",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",null,"learn more about broadcasting"),r.a.createElement("div",null,"or broadcast a game"))))}],[function(e){var t=e.mediaDeviceError,n=e.stageDirectorStateHasBeenInitialized;return t===et.MEDIA_DEVICE_ERRORS.AWAITING_MEDIA_DEVICE_INITIALIZATION||!n},function(){return r.a.createElement("div",{className:Un.a.redesign_spinnerBackground},r.a.createElement(Wn,null))}],[function(e){var t=e.webBroadcastIsActiveInAnotherSession,n=e.hasExceptionForBroadcastOverride;return t&&!n},function(){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement("div",{className:Un.a.redesign_alertTitle},"You are LIVE in another window!"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"Video is disabled in this window to maintain performance.")))}],[function(e){return e.emailIsUnverified},function(e){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement("div",{className:Un.a.redesign_alertTitle},"Please verify your email"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"Confirm your account to start your show")),r.a.createElement("button",{className:Un.a.redesign_button,onClick:e.ResendVerificationEmail},"resend confirmation email"))}],[function(e){return e.mediaDeviceError===et.MEDIA_DEVICE_ERRORS.INSUFFICIENT_HARDWARE_FOR_PERMISSIONS_PROMPT},function(){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement("div",{className:Un.a.redesign_alertTitle},"No Camera or Mic Detected"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescription},"Please connect a camera and mic to continue")))}],[function(e){return e.mediaDeviceError===et.MEDIA_DEVICE_ERRORS.ACCESS_PERMISSIONS_UNKNOWN},function(e){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement(Yn,nt()({disabled:!0},e)),r.a.createElement("div",{className:Un.a.redesign_alertTitle},"Start your show."),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"To host the best live sports and esports and broadcast on the web"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"you\u2019ll need to enable access to your camera and microphone.")),r.a.createElement("button",{className:Un.a.redesign_button,onClick:e.PromptForMediaPermissions},"enable access"))}],[function(e){return e.mediaDeviceError===et.MEDIA_DEVICE_ERRORS.ACCESS_PERMISSIONS_DENIED},function(e){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement(Yn,nt()({disabled:!0},e)),r.a.createElement("div",{className:Un.a.redesign_alertTitle},"Let\u2019s try again."),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"Oops, we\u2019ll need to try that again. To get started, enable access to your"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"camera and microphone in your browser settings.")),r.a.createElement("button",{className:Un.a.redesign_button,onClick:e.PromptForMediaPermissions},"Try again"),r.a.createElement("div",{className:Un.a.redesign_bottomLinkContainer},r.a.createElement("a",{className:Un.a.redesign_linkText,href:"/broadcasting.html"},r.a.createElement("div",null,"learn more about broadcasting"),r.a.createElement("div",null,"or broadcast a game"))))}],[function(e){return e.mediaDeviceError===et.MEDIA_DEVICE_ERRORS.DISCONNECTED_MICROPHONE_AND_CAMERA},function(){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement("div",{className:Un.a.redesign_alertTitle},"Camera and Mic Disconnected"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"Please reconnect and select them below.")),r.a.createElement("div",{className:Un.a.deviceSelector},r.a.createElement(dt,{hideLabel:!0})))}],[function(e){return e.mediaDeviceError===et.MEDIA_DEVICE_ERRORS.DISCONNECTED_MICROPHONE},function(){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement("div",{className:Un.a.redesign_alertTitle},"Mic Disconnected"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText}," ","Please reconnect your mic and select it below.")),r.a.createElement("div",{className:Un.a.deviceSelector},r.a.createElement(dt,{hideLabel:!0,hideCameraSelector:!0})))}],[function(e){return e.mediaDeviceError===et.MEDIA_DEVICE_ERRORS.DISCONNECTED_CAMERA},function(){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement("div",{className:Un.a.redesign_alertTitle},"Camera Disconnected"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescription},"Please reconnect your camera and select it below.")),r.a.createElement("div",{className:Un.a.deviceSelector},r.a.createElement(dt,{hideLabel:!0,hideMicrophoneSelector:!0})))}],[function(e){return e.mediaDeviceError===et.MEDIA_DEVICE_ERRORS.UNSUPPORTED_CAMERA},function(){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement("div",{className:Un.a.redesign_alertTitle},"Unsupported Camera"),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"Please select a different camera.")),r.a.createElement("div",{className:Un.a.deviceSelector},r.a.createElement(dt,{hideLabel:!0,hideMicrophoneSelector:!0})))}],[function(e){return e.mediaDeviceError===et.MEDIA_DEVICE_ERRORS.NO_ACTIVE_MICROPHONE_OR_NO_ACTIVE_CAMERA},function(e){return r.a.createElement("div",{className:w()(Un.a.redesign_webBroadcastAlert,Un.a.notCentered)},r.a.createElement(Qn,e,"choose your camera and microphone"),r.a.createElement(Yn,nt()({startOpen:!0},e)),r.a.createElement("div",{className:w()(Un.a.redesign_controls,Gn(e))},r.a.createElement(on,{mediaStreamId:e.mediaStreamId})))}],[function(e){var t=e.mediaDeviceError;return null!==t&&0==t.length},function(){return r.a.createElement("div",{className:Un.a.redesign_webBroadcastAlert},r.a.createElement("div",{className:Un.a.redesign_alertTitle},"Hmmm, something went wrong."),r.a.createElement("div",{className:Un.a.redesign_alertDescriptionContainer},r.a.createElement("div",{className:Un.a.redesign_alertDescriptionText},"Tell us about it:"," ",r.a.createElement("a",{className:Un.a.alertLink,href:"mailto:support@caffeine.tv"},"support@caffeine.tv"))))}],[function(){return!0},function(e){Object(a.useEffect)(function(){e.SubscribeToCurrentUserWallet()},[]);var t=Object(a.useCallback)(function(){e.BroadcasterRegainedConnectivity(e.currentUser.username)},[e.currentUser.username,e.BroadcasterRegainedConnectivity]);Object(a.useEffect)(function(){return e.isLive&&window.addEventListener("offline",e.BroadcasterLostConnectivity),function(){window.removeEventListener("offline",e.BroadcasterLostConnectivity)}},[e.isLive]),Object(a.useEffect)(function(){return e.broadcasterLostConnectivity&&window.addEventListener("online",t),function(){window.removeEventListener("online",t)}},[e.broadcasterLostConnectivity,t]);var n=e.liveHostedFeedId&&e.liveHostedMediaStreamIds[e.liveHostedFeedId]||e.secondaryMediaStreamId,i=e.liveHostedMediaStreamIds[e.liveHostedFeedId]||e.secondaryMediaStreamId,o=e.secondaryMediaStreamId?0:e.liveHostedFeedVolume;return r.a.createElement("div",{className:Un.a.webBroadcastInitiator,onMouseMove:e.showOverlay,onMouseLeave:e.hideOverlay},e.isLiveHostableBroadcastersDialogOpen&&r.a.createElement(On,null),r.a.createElement(Yn,e),e.mediaStreamId&&r.a.createElement(r.a.Fragment,null,n?r.a.createElement("div",{className:Un.a.primaryFeed},r.a.createElement(Tt,{handleAspectRatioUpdate:e.SetOptionalPrimaryFeedAspectRatio,mediaStreamId:i,volume:100*o})):null,r.a.createElement("div",{className:w()(n?Un.a.redesign_secondaryFeed:Un.a.primaryFeed,zn(e)?Un.a.redesign_withActiveOverlay:null)},r.a.createElement("div",{className:Un.a.cameraPreview},r.a.createElement("div",{className:w()(Un.a.cameraPreviewFeedContainer,e.secondaryFeedIsVisible?Un.a.visible:Un.a.invisible)},r.a.createElement(Tt,{videoProps:{muted:!0},handleCreatedSnapshot:e.DeliverCameraSnapshot,handleAspectRatioUpdate:e.SetOptionalPrimaryFeedAspectRatio,snapshotRequested:e.snapshotRequested,mediaStreamId:e.mediaStreamId})))),r.a.createElement(Qn,e),r.a.createElement(Fn.a,{show:e.errorSnackPill.show,anchor:"topCenter",animationDirection:"top",offsetTop:68,title:e.errorSnackPill.title,subtitle:e.errorSnackPill.subtitle,backgroundColor:"red",onClose:e.ClearStageDirectorErrorSnackPill}),r.a.createElement(An,null)),r.a.createElement("div",null,r.a.createElement("div",{className:Un.a.redesign_webBroadcastStatus},r.a.createElement(en,{showBadConnectionIcon:!e.streamConnectionQualityIsGood})),r.a.createElement("div",{className:Un.a.broadcastTransitionMessage},r.a.createElement(ln,{transitionMessage:e.transitionMessage})),r.a.createElement("div",{className:w()(Un.a.redesign_controls,Gn(e))},r.a.createElement(on,{mediaStreamId:e.mediaStreamId}))))}]]),Xn=Vn(Kn),$n=n("./src/pieces/share-stage-menu/share-stage-menu.reducer.js"),ea=n("./src/pieces/stage/reactions/reaction-message-input.tsx"),ta=n("./src/pieces/payment/digital-item-chooser.tsx"),na=(n("./node_modules/bows/bows.js")("Give-icon"),function(e){var t=e.width,n=void 0===t?"32px":t,a=e.height,i=void 0===a?"32px":a;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:n,height:i,viewBox:"0 0 32 32",fill:"none"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.41421 1L1.2868 8.12742L16 30.1972L30.7132 8.12742L23.5858 1H8.41421ZM24 0H8L0 8L16 32L32 8L24 0Z"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0505 12.0788L16 27.8769L19.9495 12.0788L16 2.6L12.0505 12.0788ZM11 12L16 32L21 12L16 0L11 12Z"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1762 11H20.8238L30.1826 7.59681L23.5858 1H8.41421L1.8174 7.59681L11.1762 11ZM11 12H21L32 8L24 0H8L0 8L11 12Z"})))}),aa=(n("./node_modules/bows/bows.js")("Give-text-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"34",height:"32",viewBox:"0 0 34 32",fill:"none"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.318 14.318C27.1619 13.4741 28.3065 13 29.5 13C30.6935 13 31.8381 13.4741 32.682 14.318C33.5259 15.1619 34 16.3065 34 17.5C34 17.7761 33.7761 18 33.5 18H26.0354C26.1093 18.5153 26.2976 19.0099 26.589 19.4463C26.9735 20.0224 27.5204 20.4714 28.1602 20.7366C28.8001 21.0017 29.5043 21.071 30.1836 20.9357C30.8629 20.8005 31.4868 20.4667 31.9763 19.9766C32.1714 19.7813 32.488 19.7811 32.6834 19.9763C32.8787 20.1714 32.8789 20.488 32.6838 20.6834C32.0544 21.3134 31.2523 21.7426 30.3789 21.9165C29.5055 22.0904 28.6001 22.0013 27.7774 21.6604C26.9547 21.3195 26.2517 20.7422 25.7573 20.0015C25.2629 19.2609 24.9993 18.3903 25 17.4998C25.0001 16.3064 25.4742 15.1619 26.318 14.318ZM26.0359 17H32.9641C32.8568 16.2566 32.5122 15.5625 31.9749 15.0251C31.3185 14.3687 30.4283 14 29.5 14C28.5717 14 27.6815 14.3687 27.0251 15.0251C26.4878 15.5625 26.1432 16.2566 26.0359 17Z"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2765 13.0529C14.5235 12.9294 14.8238 13.0295 14.9473 13.2765L18.5001 20.3821L22.0529 13.2765C22.1764 13.0295 22.4767 12.9294 22.7237 13.0529C22.9707 13.1764 23.0708 13.4767 22.9473 13.7237L18.9473 21.7237C18.8626 21.8931 18.6895 22.0001 18.5001 22.0001C18.3107 22.0001 18.1376 21.8931 18.0529 21.7237L14.0529 13.7237C13.9294 13.4767 14.0295 13.1764 14.2765 13.0529Z"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 13C11.7761 13 12 13.2239 12 13.5V21.5C12 21.7761 11.7761 22 11.5 22C11.2239 22 11 21.7761 11 21.5V13.5C11 13.2239 11.2239 13 11.5 13Z"}),r.a.createElement("path",{d:"M12 10.5C12 10.7761 11.7761 11 11.5 11C11.2239 11 11 10.7761 11 10.5C11 10.2239 11.2239 10 11.5 10C11.7761 10 12 10.2239 12 10.5Z"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 14C2.567 14 1 15.567 1 17.5C1 19.433 2.567 21 4.5 21C6.433 21 8 19.433 8 17.5C8 15.567 6.433 14 4.5 14ZM8 20.3287V21.5C8 22.4283 7.63125 23.3185 6.97488 23.9749C6.3185 24.6313 5.42826 25 4.5 25C4.22386 25 4 25.2239 4 25.5C4 25.7761 4.22386 26 4.5 26C5.69347 26 6.83807 25.5259 7.68198 24.682C8.5259 23.8381 9 22.6935 9 21.5V17.5C9 15.0147 6.98528 13 4.5 13C2.01472 13 0 15.0147 0 17.5C0 19.9853 2.01472 22 4.5 22C5.91363 22 7.17502 21.3482 8 20.3287Z"})))}),ra=n("./src/pieces/payment/digital-item-picker.scss"),ia=n.n(ra),oa=(n("./node_modules/bows/bows.js")("Digital-item-picker"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({isInMaintenanceMode:Nt.selectIsInMaintenanceMode,reactionFrameContent:Te.selectReactionFrameContent,stageMediaProtocol:Te.selectStageMediaProtocol,isLive:Te.selectIsLiveAndModeIsStageWatcher,isReactionsDisabled:Be.selectStageDirectorReactionsDisabled,showPropsPrompts:Ue.selectShowPropsPrompts,isPropsPromptDialogOpen:Te.selectPropsPromptIsOpen}),{SetBottomFrameContent:Te.SetBottomFrameContent,SetReactionFrameContent:Te.SetReactionFrameContent,ResetShowPropsPrompt:Ue.ResetShowPropsPrompt,SetPropsPromptDialogOpen:Te.SetPropsPromptDialogOpen,TrackStageGiveButtonClicked:Te.TrackStageGiveButtonClicked,TrackAnimatedGiveIconImpression:Te.TrackAnimatedGiveIconImpression}))(function(e){var t=e.isInMaintenanceMode,n=e.reactionFrameContent,i=(e.isLive,e.stageMediaProtocol,e.isReactionsDisabled),o=e.propsPromptActive,s=e.showPropsPrompts,c=e.isPropsPromptDialogOpen,l=e.SetReactionFrameContent,u=e.SetBottomFrameContent,d=e.ResetShowPropsPrompt,_=e.SetPropsPromptDialogOpen,m=e.TrackStageGiveButtonClicked,g=e.TrackAnimatedGiveIconImpression,b=n===Le.b.Gift,p=Object(a.useState)(),f=h()(p,2),v=f[0],C=f[1],y=Object(a.useRef)(),j=Object(a.useRef)(c);j.current=c;var O=Object(a.useCallback)(function(){t||b||!s&&!o?(l(b?Le.b.Chat:Le.b.Gift),u(Le.a.Reactions),b||m(o)):(_(),d(),m(o),y.current=setTimeout(function(){j.current&&l(Le.b.Gift)},1e3))},[t,b,s,o,c]);return Object(a.useEffect)(function(){o&&!t&&(b?(_(),d()):(C("up"),g()))},[o]),Object(a.useEffect)(function(){return function(){y.current&&clearTimeout(y.current)}},[]),r.a.createElement("div",{className:ia.a.digitalItemPicker},!i&&r.a.createElement("button",{className:w()(t?ia.a.digitalItemsPickerButtonInMaintenanceMode:ia.a.redesign_digitalItemsPickerButton,b?ia.a.redesign_cancelButton:ia.a.redesign_giveButton,!b&&o&&ia.a.badging),onClick:O},b?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"cancel"),r.a.createElement(mn.a,{size:"small",darkTheme:!0})):r.a.createElement(Ae.b.div,{className:ia.a.giveButton},r.a.createElement(aa,null),r.a.createElement(Ae.b.div,{animate:v,variants:{up:{bottom:8,transition:{duration:.1,ease:"easeOut"}},down:{bottom:0,transition:{type:"spring",stiffness:1e3,mass:1.5,damping:30}}},onAnimationComplete:function(){"up"===v&&C("down")}},r.a.createElement(na,null)))),i&&r.a.createElement("button",{className:w()(ia.a.redesign_digitalItemsPickerButtonHls,ia.a.redesign_giveButton)},r.a.createElement("div",{className:ia.a.giveButton},r.a.createElement(aa,null),r.a.createElement(na,null))))})),sa=(n("./node_modules/bows/bows.js")("Share-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{viewBox:"0 0 136 56",width:"136",height:"56"},r.a.createElement("path",{d:"M45.7 28.7c-.3 0-.5-.2-.5-.5v-4c0-.3.2-.5.5-.5s.5.2.5.5v4c0 .3-.3.5-.5.5z"}),r.a.createElement("path",{d:"M45.7 24.7c-.3 0-.5-.2-.5-.5v-4c0-.3.2-.5.5-.5s.5.2.5.5v4c0 .3-.3.5-.5.5zM53.7 28.7c-.3 0-.5-.2-.5-.5 0-1.9-1.6-3.5-3.5-3.5s-3.5 1.6-3.5 3.5c0 .3-.2.5-.5.5s-.5-.2-.5-.5c0-2.5 2-4.5 4.5-4.5s4.5 2 4.5 4.5c0 .3-.3.5-.5.5z"}),r.a.createElement("path",{d:"M53.7 32.7c-.3 0-.5-.2-.5-.5v-4c0-.3.2-.5.5-.5s.5.2.5.5v4c0 .3-.3.5-.5.5zM45.7 32.7c-.3 0-.5-.2-.5-.5v-4c0-.3.2-.5.5-.5s.5.2.5.5v4c0 .3-.3.5-.5.5zM77.7 32.7c-2.5 0-4.5-2-4.5-4.5 0-.3.2-.5.5-.5s.5.2.5.5c0 1.9 1.6 3.5 3.5 3.5.9 0 1.8-.4 2.5-1 .2-.2.5-.2.7 0s.2.5 0 .7c-.9.9-2 1.3-3.2 1.3z"}),r.a.createElement("path",{d:"M81.7 28.7h-8c-.3 0-.5-.2-.5-.5 0-2.5 2-4.5 4.5-4.5s4.5 2 4.5 4.5c0 .3-.3.5-.5.5zm-7.5-1h6.9c-.2-1.7-1.7-3-3.5-3s-3.2 1.4-3.4 3zM60.7 32.7c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2.1 4.5-4.5 4.5zm0-8c-1.9 0-3.5 1.6-3.5 3.5s1.6 3.5 3.5 3.5 3.5-1.6 3.5-3.5-1.6-3.5-3.5-3.5z"}),r.a.createElement("path",{d:"M64.7 32.7c-.3 0-.5-.2-.5-.5v-4c0-.3.2-.5.5-.5s.5.2.5.5v4c0 .3-.3.5-.5.5zM67.7 28.7c-.3 0-.5-.2-.5-.5 0-2.5 2-4.5 4.5-4.5.3 0 .5.2.5.5s-.2.5-.5.5c-1.9 0-3.5 1.6-3.5 3.5 0 .3-.3.5-.5.5z"}),r.a.createElement("path",{d:"M67.7 32.7c-.3 0-.5-.2-.5-.5v-4c0-.3.2-.5.5-.5s.5.2.5.5v4c0 .3-.3.5-.5.5z"}),r.a.createElement("g",null,r.a.createElement("path",{d:"M40.7 32.7c-.3 0-.5-.2-.5-.5s.2-.5.5-.5c.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5c1.4 0 2.5 1.1 2.5 2.5s-1.2 2.5-2.5 2.5z"}),r.a.createElement("path",{d:"M40.7 32.7h-4c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h4c.3 0 .5.2.5.5s-.3.5-.5.5zM38.7 28.7c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5c.3 0 .5.2.5.5s-.2.5-.5.5c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5c.3 0 .5.2.5.5s-.3.5-.5.5z"}),r.a.createElement("path",{d:"M42.7 24.7h-4c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h4c.3 0 .5.2.5.5s-.3.5-.5.5zM40.7 28.7h-2c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h2c.3 0 .5.2.5.5s-.3.5-.5.5z"})),r.a.createElement("g",null,r.a.createElement("path",{d:"M117.2 17.3c0 .3-.1.6-.2 1 1.4.2 2.3.5 3 1 1.5 1.2 1.5 3.7 1.5 8.8s0 7.6-1.5 8.8c-1.6 1.2-5.1 1.2-12 1.2s-10.3 0-12-1.2c-1.5-1.2-1.5-3.7-1.5-8.8s0-7.6 1.5-8.8c.7-.5 1.6-.8 3-1-.1-.3-.2-.6-.2-1-5.2.7-5.3 3-5.3 10.7 0 10.8.3 11 14.5 11s14.5-.2 14.5-11c0-7.7-.1-10-5.3-10.7z"})),r.a.createElement("g",null,r.a.createElement("path",{d:"M108 14l-5.2 3 5.2-3m0 0l5.2 3-5.2-3m0 0v12-12m0-1h-.3c-.1 0-.2.1-.2.1l-5.2 3c-.5.3-.6.9-.4 1.4.2.3.5.5.9.5.2 0 .3 0 .5-.1l3.7-2.1V26c0 .6.4 1 1 1s1-.4 1-1V15.7l3.7 2.1c.2.2.3.2.5.2.3 0 .7-.2.9-.5.3-.5.1-1.1-.4-1.4l-5.2-3c-.1 0-.2-.1-.2-.1h-.3z"}))))}),ca=n("./src/pieces/share-stage-menu/share-stage-menu.scss"),la=n.n(ca),ua=n("./src/pieces/sharing/sharing.reducer.ts"),da=(n("./node_modules/bows/bows.js")("Share-stage-menu"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({reactionFrameContent:Te.selectReactionFrameContent,useDeepLinkV2:Mt.selectUseDeepLinkV2,entertainer:Te.selectEntertainer,broadcastPreviewImagePath:Te.selectBroadcastPreviewImagePath}),{SetCurrentTabIndex:$n.SetCurrentTabIndex,SetReactionFrameContent:Te.SetReactionFrameContent,SetBottomFrameContent:Te.SetBottomFrameContent,TrackStageShareButtonClicked:Te.TrackStageShareButtonClicked,SetShareLinks:ua.SetShareLinks,ClearShareLinks:ua.ClearShareLinks}))(function(e){var t=e.reactionFrameContent,n=e.useDeepLinkV2,a=e.entertainer,i=e.broadcastPreviewImagePath,o=e.SetReactionFrameContent,s=e.SetBottomFrameContent,c=e.TrackStageShareButtonClicked,l=e.SetShareLinks,u=e.ClearShareLinks,d=t===Le.b.Share;return r.a.createElement("div",{className:la.a.redesign_shareStageMenu},r.a.createElement("button",{className:w()(la.a.redesign_shareStageMenuButton,d?la.a.redesign_cancelButton:la.a.redesign_shareButton),onClick:function(){d?(n&&u(),o(Le.b.Chat)):(n&&l({entertainer:a,imageUrl:i}),o(Le.b.Share),c()),s(Le.a.Reactions)}},d?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"cancel"),r.a.createElement(mn.a,{size:"small",darkTheme:!0})):r.a.createElement(sa,null)))})),_a=n("./src/pieces/base/popover/popover.reducer.js"),ma=(n("./node_modules/bows/bows.js")("Link-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:90,height:90},r.a.createElement("g",{transform:"translate(1 .722)",fill:"none",fillRule:"evenodd"},r.a.createElement("circle",{stroke:"#939598",cx:44,cy:43.819,r:43.596}),r.a.createElement("path",{d:"M37.212 60.755a3 3 0 01-4.242 0l-5.906-5.906a3 3 0 010-4.243L35 42.67a3 3 0 014.242 0l5.906 5.907a3 3 0 010 4.242l-7.936 7.936zm-.69-.476l8.208-8.208a2 2 0 000-2.828l-6.189-6.189a2 2 0 00-2.828 0l-8.208 8.208a2 2 0 000 2.829l6.188 6.188a2 2 0 002.829 0zM53.36 44.609a3 3 0 01-4.243 0l-5.907-5.907a3 3 0 010-4.242l7.936-7.936a3 3 0 014.243 0l5.906 5.906a3 3 0 010 4.243l-7.936 7.936zm-.692-.476l8.209-8.209a2 2 0 000-2.828l-6.189-6.189a2 2 0 00-2.828 0l-8.209 8.209a2 2 0 000 2.828l6.189 6.189a2 2 0 002.828 0z",fill:"#939598"}),r.a.createElement("path",{d:"M38.4 49.378l11.251-10.626",stroke:"#939598",strokeLinecap:"round"}))))}),ga=(n("./node_modules/bows/bows.js")("Email-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:90,height:90},r.a.createElement("g",{transform:"translate(1 .722)",fill:"none",fillRule:"evenodd"},r.a.createElement("circle",{stroke:"#939598",cx:44,cy:44,r:44}),r.a.createElement("path",{d:"M64.815 29.333a2 2 0 012 2v25.334a2 2 0 01-2 2h-41.63a2 2 0 01-2-2V31.333a2 2 0 012-2h41.63zm.185.815H23a1 1 0 00-1 1v25.704a1 1 0 001 1h42a1 1 0 001-1V31.148a1 1 0 00-1-1z",fill:"#939598"}),r.a.createElement("path",{d:"M22.815 57.58L37.48 42.098M65.185 57.58L50.52 42.098",stroke:"#939598",strokeLinecap:"square"}),r.a.createElement("path",{d:"M22.407 30.243L44 46.623M65.593 30.243L44 46.623",stroke:"#939598",strokeLinecap:"round"}))))}),ba=(n("./node_modules/bows/bows.js")("Facebook-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:90,height:90},r.a.createElement("g",{transform:"translate(1 .722)",stroke:"#939598",fill:"none",fillRule:"evenodd"},r.a.createElement("circle",{cx:44,cy:44,r:44}),r.a.createElement("path",{d:"M61.394 24.444H26.606a2.161 2.161 0 00-2.162 2.162v34.788c0 1.194.968 2.162 2.162 2.162h18.732V48.46h-5.112v-5.949h5.085v-4.343c0-5.057 3.08-7.809 7.588-7.809 1.532.005 3.062.092 4.584.26v5.277h-3.115c-2.45 0-2.923 1.16-2.923 2.869v3.773h5.867l-.762 5.922h-5.105v15.096h9.95a2.161 2.161 0 002.16-2.162V26.606a2.161 2.161 0 00-2.16-2.162z"}))))}),pa=n("./src/pieces/share-stage-menu/twitter-icon.scss"),fa=n.n(pa),ha=(n("./node_modules/bows/bows.js")("Twitter-icon"),function(e){var t,n=e.size,a=void 0===n?"large":n;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{viewBox:"0 0 90 90",className:w()((t={},se()(t,fa.a.twitterIcon,!0),se()(t,fa.a["".concat(a)],a),t))},r.a.createElement("g",{transform:"translate(1 .722)",fill:"none",fillRule:"evenodd"},r.a.createElement("circle",{cx:44,cy:44,r:44}),r.a.createElement("path",{d:"M35.519 62.551c17.218 0 26.64-14.278 26.64-26.64 0-.402 0-.803-.019-1.205a19.075 19.075 0 004.675-4.857 18.976 18.976 0 01-5.387 1.48 9.42 9.42 0 004.127-5.186 18.624 18.624 0 01-5.953 2.264 9.345 9.345 0 00-6.828-2.958c-5.168 0-9.367 4.2-9.367 9.367 0 .73.09 1.442.237 2.136-7.778-.383-14.68-4.127-19.3-9.787a9.365 9.365 0 00-1.26 4.71 9.388 9.388 0 004.163 7.798 9.47 9.47 0 01-4.236-1.169v.128c0 4.528 3.232 8.326 7.505 9.184a9.128 9.128 0 01-2.465.329 9.205 9.205 0 01-1.753-.165 9.363 9.363 0 008.746 6.5 18.78 18.78 0 01-11.631 4.018c-.749 0-1.497-.037-2.228-.128a26.633 26.633 0 0014.334 4.181"}))))}),va=n("./node_modules/redux-form/es/reduxForm.js"),wa=n("./node_modules/redux-form/es/Field.js"),Ca=n("./src/pieces/base/forms/textarea-field.js"),ya=n("./src/pieces/share-stage-menu/share-stage-with-email-form.scss"),ja=n.n(ya),Oa=(n("./node_modules/bows/bows.js")("Share-stage-with-email-form"),{form:$n.EMAIL_INVITE_FORM_NAME,destroyOnUnmount:!0,onSubmit:$n.PromiseEmailInviteFormSubmission}),Sa=Object(B.a)(Object(A.b)(function(e){return{initialValues:{emailAddressesString:"",entertainerUsername:Object(Te.selectEntertainer)(e).username}}},{SetCurrentTabIndex:$n.SetCurrentTabIndex,SetReactionFrameContent:Te.SetReactionFrameContent}),Object(va.a)(Oa)),Ea=function(e){return r.a.createElement("div",{className:ja.a.redesign_header},r.a.createElement("button",{type:"button",className:ja.a.redesign_closeButton,onClick:function(){e.SetCurrentTabIndex(null)}},r.a.createElement(mn.a,{size:"small"})))},xa=Sa(function(e){return Object(a.useEffect)(function(){e.submitSucceeded&&e.SetCurrentTabIndex(null)},[e.submitSucceeded]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:e.handleSubmit,className:ja.a.redesign_form},r.a.createElement(Ea,e),r.a.createElement(wa.a,{name:"emailAddressesString",inputProps:{autoComplete:"off",maxLength:o.mc},className:ja.a.redesign_field,type:"text",label:"Email addresses",component:Ca.a,disabled:e.submitting,darkTheme:!0,required:!0}),r.a.createElement("div",{className:ja.a.redesign_submissionStatus},e.submitFailed&&r.a.createElement("span",{className:ja.a.redesign_errorMessage},me()(e,function(e){return e.error.toEmail[0]})||me()(e,function(e){return e.error._error[0]})||"Error sending, please try again later."))))}),ka=n("./src/pieces/share-stage-menu/share-stage-with-twitter-form.scss"),Ia=n.n(ka),Ta=(n("./node_modules/bows/bows.js")("Share-stage-with-twitter-form"),function(e,t,n,a,r){var i=t?"Watch my show on Caffeine!":a?"Watch @\u200b".concat(e," now with me on Caffeine!"):"Check out @\u200b".concat(e," on Caffeine!");if(r)return i;var o=n&&!t?" @".concat(n):"";return i+" #caffeinetv ".concat(o)}),Fa=Object(B.a)(Object(A.b)(function(e){var t=Object(Te.selectEntertainer)(e),n=Object(Te.selectIsCurrentUserOnOwnStage)(e),a=Object(Te.selectBroadcasterTwitterHandle)(e),r=Object(et.selectIsWebBroadcastLive)(e),i=Object(ua.selectShareMessage)(e),o=Object(Mt.selectUseDeepLinkV2)(e);return{initialValues:{message:""!==i?i:Ta(t.username,n,a,r,o),entertainerBroadcastId:t.broadcastId},currentUserHasTwitterIdentity:Object(mt.selectCurrentUserHasTwitterIdentity)(e),entertainer:t,isLive:r}},{NavigateToSocialAuthenticationPage:i.NavigateToSocialAuthenticationPage,RefreshCurrentUserIdentities:mt.RefreshCurrentUserIdentities,SetReactionFrameContent:Te.SetReactionFrameContent,SetCurrentTabIndex:$n.SetCurrentTabIndex}),Object(va.a)({form:"ShareStageWithTwitter",onSubmit:$n.PromiseTwitterInviteFormSubmission})),Pa=function(e){return r.a.createElement("div",{className:Ia.a.redesign_header},r.a.createElement("div",{className:Ia.a.redesign_twitterIcon},r.a.createElement(ha,{size:"small"})),r.a.createElement("button",{type:"button",className:Ia.a.redesign_closeButton,onClick:function(){e.SetCurrentTabIndex(null)}},r.a.createElement(mn.a,{size:"small"})))},Na=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:e.handleSubmit,className:Ia.a.redesign_form},r.a.createElement(Pa,e),r.a.createElement(wa.a,{name:"message",className:Ia.a.redesign_field,type:"text",label:"Tweet Message",component:Ca.a,disabled:e.submitting,inputProps:{maxLength:252},darkTheme:!0,required:!0}),r.a.createElement("div",{className:Ia.a.redesign_submissionStatus},e.submitFailed&&r.a.createElement("span",{className:Ia.a.redesign_errorMessage},e.error?e.error.message||e.error._error:"Error sending, please try again later"))))},Ma=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ia.a.redesign_bodyWithMessageOnly},r.a.createElement(Pa,e),r.a.createElement("span",{className:Ia.a.redesign_message},"Please connect your Twitter account.")))},La=Fa(function(e){Object(a.useEffect)(function(){e.RefreshCurrentUserIdentities()},[]),Object(a.useEffect)(function(){e.submitSucceeded&&e.SetCurrentTabIndex(null)},[e.submitSucceeded]);var t=Object(a.useCallback)(function(){e.NavigateToSocialAuthenticationPage(o.Ve,"/".concat(e.entertainer.username))},[e.entertainer]);return e.currentUserHasTwitterIdentity?r.a.createElement(Na,e):r.a.createElement(Ma,nt()({connectTwitter:t},e))}),Ba=n("./src/pieces/stage/reactions/reaction-box.tsx"),Aa=n("./src/pieces/share-stage-menu/share-stage-menu-content.scss"),Da=n.n(Aa),Ua=n("./src/pieces/base/create-deep-link-url.ts"),Ra=n("./node_modules/bows/bows.js")("Share-stage-menu-content"),Ha=[r.a.createElement(La,null),null,r.a.createElement(xa,null),null],Wa=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({activePopoverId:_a.selectActivePopoverId,currentTabIndex:$n.selectCurrentTabIndex,currentTabHoverIndex:$n.selectCurrentTabHoverIndex,currentUser:Ue.selectCurrentUser,entertainer:Te.selectEntertainer,stageTitle:Te.selectStageTitle,broadcastPreviewImagePath:Te.selectBroadcastPreviewImagePath,isLive:et.selectIsWebBroadcastLive,useDeepLink:Mt.selectUseDeepLink,useDeepLinkV2:Mt.selectUseDeepLinkV2,facebookShareLink:ua.selectFacebookShareLink,copyLinkShareLink:ua.selectCopyLinkShareLink}),{ClearPopovers:_a.ClearPopovers,SendStageShareReaction:Te.SendStageShareReaction,SetCurrentTabIndex:$n.SetCurrentTabIndex,SetCurrentTabHoverIndex:$n.SetCurrentTabHoverIndex,SetLinkCopied:$n.SetLinkCopied,SetReactionFrameContent:Te.SetReactionFrameContent})),Va={initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{type:"spring",velocity:100,damping:15}},za={initial:{x:"-150%"},animate:{x:"0%"},exit:{x:"-150%"},transition:{type:"spring",velocity:100,damping:15}},Ga={initial:{y:"100%"},animate:{y:"0%"},exit:{y:"120%",transition:{type:"spring"}},transition:{type:"spring",velocity:100,damping:15}},qa=Wa(function(e){var t=function(){var t=window.top,n=t.outerHeight/2+t.screenY-300,a=t.outerWidth/2+t.screenX-300,r=window.open(function(){if(e.useDeepLinkV2){var t=e.facebookShareLink,n=""!==t?t:Object(Ua.c)(e.entertainer.username,e.currentUser.username),a=encodeURIComponent(n);return"".concat(o.qb,"&href=").concat(a,"&redirect_uri=").concat(encodeURIComponent(o.rb))}if(e.useDeepLink){var r=Object(Ua.a)({entertainerUsername:e.entertainer.username.toLowerCase(),currentUserUsername:e.currentUser.username.toLowerCase(),currentUserCaid:e.currentUser.caid,page:"stage",autoFollow:!1,isLive:e.isLive,channel:"facebook",campaign:"In-app share from stage",feature:"share_from_stage",stageTitle:e.stageTitle,broadcastPreviewImagePath:e.broadcastPreviewImagePath}),i=encodeURIComponent(r);return"".concat(o.qb,"&href=").concat(i,"&redirect_uri=").concat(encodeURIComponent(o.rb))}var s=Math.round(Date.now()/1e3),c={provider:o.pb,share_client_type:o.N,sharer_caid:e.currentUser.caid,broadcaster_caid:e.entertainer.caid,share_time:s},l=btoa(JSON.stringify(c)),u=encodeURIComponent("".concat(o.Xc,"/").concat(e.entertainer.username,"?bst=").concat(s,"&share_blob=").concat(l));return"".concat(o.qb,"&href=").concat(u,"&redirect_uri=").concat(encodeURIComponent(o.rb))}(),"facebookSharePopup","width=".concat(600,",height=").concat(600,",top=").concat(n,", left=").concat(a));e.SetCurrentTabIndex(null),setTimeout(function(){return function t(n){try{n.location.href&&n.location.href.startsWith(o.rb)?(e.SetReactionFrameContent(Le.b.Chat),e.SendStageShareReaction()):n.closed||setTimeout(function(){return t(n)},100)}catch(e){setTimeout(function(){return t(n)},100)}}(r)},100)};Object(a.useEffect)(function(){1===e.currentTabIndex&&e.activePopoverId==o.Md&&(t(),e.ClearPopovers(),e.SetCurrentTabIndex(null))},[e.currentTabIndex,e.activePopoverId]);var n=function(){var t=de()(le.a.mark(function t(){var n,a,r,i;return le.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.useDeepLinkV2){t.next=7;break}return n=e.copyLinkShareLink,a=""!==n?n:Object(Ua.c)(e.entertainer.username,e.currentUser.username),t.next=5,navigator.clipboard.writeText(a);case 5:t.next=16;break;case 7:if(!e.useDeepLink){t.next=13;break}return r=Object(Ua.a)({entertainerUsername:e.entertainer.username.toLowerCase(),currentUserUsername:e.currentUser.username.toLowerCase(),currentUserCaid:e.currentUser.caid,page:"stage",autoFollow:!1,isLive:e.isLive,channel:"copy_link",campaign:"In-app share from stage",feature:"share_from_stage",stageTitle:e.stageTitle,broadcastPreviewImagePath:e.broadcastPreviewImagePath}),t.next=11,navigator.clipboard.writeText(r);case 11:t.next=16;break;case 13:return i="".concat(o.bc,"/").concat(e.entertainer.username),t.next=16,navigator.clipboard.writeText(i);case 16:e.SetLinkCopied(!0),e.SetCurrentTabIndex(null);case 18:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i=[r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Da.a.redesign_twitterIcon},r.a.createElement(ha,null)),r.a.createElement("span",{className:Da.a.redesign_shareLabel},"twitter")),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Da.a.redesign_facebookIcon},r.a.createElement(ba,null)),r.a.createElement("span",{className:Da.a.redesign_shareLabel},"facebook")),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Da.a.redesign_emailIcon},r.a.createElement(ga,null)),r.a.createElement("span",{className:Da.a.redesign_shareLabel},"email")),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Da.a.redesign_linkIcon},r.a.createElement(ma,null)),r.a.createElement("span",{className:Da.a.redesign_shareLabel},"link"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,null,e.show&&r.a.createElement("div",{className:Da.a.redesign_shareStageMenuContainer},r.a.createElement(Ae.b.div,nt()({},za,{className:Da.a.redesign_shareStageMenuContentHeader}),"share broadcast"),r.a.createElement(Ae.b.div,nt()({},Va,{className:Da.a.redesign_shareStageMenuContent}),r.a.createElement("div",{className:Da.a.redesign_shareStageMenuContentWrap},r.a.createElement("div",{className:Da.a.redesign_shareStageMenuContentContainer},i.map(function(a,i){return function(a,i){return r.a.createElement("div",{key:i,className:Da.a.redesign_tabContainer},r.a.createElement("a",{className:w()(Da.a.redesign_tab,e.currentTabIndex===i&&Da.a.active),onClick:function(){if(e.SetCurrentTabIndex(i),1===i)t();else if(3===i)try{n()}catch(e){Ra("couldn't copy to clipboard",e)}},onMouseOver:function(){return e.SetCurrentTabHoverIndex(i)},onMouseOut:function(){return e.SetCurrentTabHoverIndex(null)},tabIndex:i,role:"button"},a))}(a,i)})))))),r.a.createElement("div",{className:"share-reaction-box",style:{pointerEvents:e.show?"none":"all",zIndex:2}},r.a.createElement(Ae.a,null,!e.show&&(e.currentTabIndex===o.we.Twitter||e.currentTabIndex===o.we.Email)&&r.a.createElement("div",{className:Da.a.redesign_shareStageMenuContainer},r.a.createElement(Ae.b.div,nt()({},Ga,{className:Da.a.redesign_stageMenuAnimator}),r.a.createElement(Ba.a,{className:Da.a.redesign_reactionBox,height:190,strokeColor:"#00fffd"}),null!==e.currentTabIndex&&Ha[e.currentTabIndex])))))}),Ja=n("./src/pieces/header/broadcast-icon.tsx"),Za=(n("./node_modules/bows/bows.js")("End-text-icon"),function(e){var t=e.className,n=void 0===t?"":t;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:176,height:56,className:n},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("g",{strokeWidth:1.5,stroke:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M84.5 30.5a4 4 0 018 0M92.5 30.5v4M84.5 30.5v4M103.5 26.5v4M103.5 22.5v4M95.5 30.5a4 4 0 108 0 4 4 0 00-8 0zM80.328 33.328A4 4 0 0173.5 30.5M73.5 30.5h8a4 4 0 00-8 0"})))))}),Ya=n("./src/pieces/payment/props-prompt.tsx"),Qa=n("./src/pieces/stage/user-reaction-bar.scss"),Ka=n.n(Qa),Xa=(n("./node_modules/bows/bows.js")("User-reaction-bar"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({activeLiveHostedFeedExternalAddress:et.selectFeedAddress,broadcastTitle:et.selectBroadcastTitle,broadcasterLostConnectivity:et.selectBroadcasterLostConnectivity,currentShareTabIndex:$n.selectCurrentTabIndex,digitalItemPickerStep:Nt.selectDigitalItemPickerStep,entertainer:Te.selectEntertainer,hasExceptionForBroadcastOverride:Be.selectStageDirectorHasExceptionForBroadcastOverride,isAuthenticated:i.selectIsAuthenticated,isEmailUnverified:Ue.selectCurrentUserEmailUnverified,isLive:et.selectIsWebBroadcastLive,isLiveHostableBroadcastersDialogOpen:et.selectIsLiveHostableBroadcastersDialogOpen,isOwnStage:Te.selectIsCurrentUserOnOwnStage,isStarting:et.selectIsStarting,mediaDeviceError:et.selectMediaError,mediaStreamId:et.selectActiveMediaStreamId,reactionFrameContent:Te.selectReactionFrameContent,stageMode:Te.selectStageMode,stageBadge:Be.selectStageDirectorBadge,streamLoaded:Te.selectStreamHasLoaded,bottomFrameContent:Te.selectBottomFrameContent,initialStreamHasLoaded:Te.selectInitialStreamHasLoaded,showPropsPrompts:Ue.selectShowPropsPrompts,useVodV2:Mt.selectUseVodV2}),{CloseLiveHostableBroadcastersDialog:et.CloseLiveHostableBroadcastersDialog,OpenSelectSnapshotDialog:et.OpenSelectSnapshotDialog,StopBroadcast:et.StopBroadcast,StartBroadcast:et.StartBroadcast,SetPropsPromptDialogOpen:Te.SetPropsPromptDialogOpen,SetPropsPromptDialogClose:Te.SetPropsPromptDialogClose,SetReactionFrameContent:Te.SetReactionFrameContent,TrackPropPromptClicked:Te.TrackPropPromptClicked}))),$a=function(e){return r.a.createElement(r.a.Fragment,null,e.isLive?r.a.createElement("div",{className:Ka.a.endBroadcastMessage},"REPLAY"===e.stageBadge&&e.useVodV2?"To stop the replay, go live or turn off Replays in your Profile settings":"to modify or end your broadcast return to where you started it"):r.a.createElement(S.b,{className:Ka.a.broadcastTrigger,to:"/".concat(e.entertainer.username,"/broadcast")},r.a.createElement(Ja.a,null)))},er=function(e){var t,n=Object(a.useMemo)(function(){return!e.broadcastTitle||!!e.mediaDeviceError||e.broadcasterLostConnectivity||e.isLiveHostableBroadcastersDialogOpen},[e.broadcastTitle,e.mediaDeviceError,e.broadcasterLostConnectivity,e.isLiveHostableBroadcastersDialogOpen]),i=Object(a.useCallback)(function(){return e.StartBroadcast(e.mediaStreamId)},[e.mediaStreamId]);return e.isStarting?null:e.isLive&&!e.hasExceptionForBroadcastOverride?r.a.createElement("button",{onClick:e.StopBroadcast,className:Ka.a.endBroadcastButton,type:"button"},r.a.createElement(Za,null)):e.isLiveHostableBroadcastersDialogOpen||!e.activeLiveHostedFeedExternalAddress?r.a.createElement("button",{onClick:e.OpenSelectSnapshotDialog,className:w()((t={},se()(t,Ka.a.nextButton,!0),se()(t,Ka.a.disabled,n),t)),disabled:n,type:"button"},r.a.createElement(ft,{color:n?"black":"white"})):r.a.createElement("button",{onClick:i,className:Ka.a.nextButton,type:"button"},"start")},tr=function(e){return e.isOwnStage?e.stageMode===o.ne?r.a.createElement(er,e):r.a.createElement($a,e):null},nr=Xa(function(e){var t,n=e.initialStreamHasLoaded||!1===e.isLive,i=Object(a.useRef)(),o=Object(a.useState)(!1),s=h()(o,2),c=s[0],l=s[1],u=e.isLive&&!e.isOwnStage;return Object(a.useEffect)(function(){u&&(e.showPropsPrompts?i.current=setTimeout(function(){l(!0)},5e3):(l(!1),i.current&&clearTimeout(i.current)))},[u,e.showPropsPrompts]),Object(a.useEffect)(function(){return function(){i.current&&clearTimeout(i.current)}},[]),e.isAuthenticated&&!e.isEmailUnverified?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ka.a.userReactionBar},r.a.createElement(Ae.a,null,n&&r.a.createElement(Ae.b.div,{className:Ka.a.userReactionBarContainer,initial:{opacity:0},transition:{type:"spring",damping:40},exit:{opacity:0},animate:{opacity:1}},r.a.createElement("div",{className:Ka.a.barColumn},r.a.createElement(da,null)),r.a.createElement("div",{className:w()(Ka.a.barColumn,Ka.a.reactionMessageInput)},r.a.createElement(ea.a,null)),r.a.createElement("div",{className:w()((t={},se()(t,Ka.a.barColumn,!0),se()(t,Ka.a.submitButton,e.isOwnStage),t))},!e.isOwnStage&&r.a.createElement(oa,{propsPromptActive:c}),r.a.createElement(tr,e)),r.a.createElement(Ya.a,{handleProceed:function(){e.SetPropsPromptDialogClose(),e.TrackPropPromptClicked("confirm")},handleCancel:function(){e.SetPropsPromptDialogClose(),e.SetReactionFrameContent(Le.b.Chat),e.TrackPropPromptClicked("dismiss")}})))),n&&r.a.createElement(r.a.Fragment,null,!e.isOwnStage&&r.a.createElement(ta.a,{show:e.reactionFrameContent===Le.b.Gift&&"Browsing"===e.digitalItemPickerStep}),r.a.createElement(qa,{show:e.reactionFrameContent===Le.b.Share&&null===e.currentShareTabIndex}))):null}),ar=n("./node_modules/lodash/range.js"),rr=n.n(ar),ir=n("./src/pieces/stage/empty-reactions-arrow-icon.tsx"),or=(n("./node_modules/bows/bows.js")("Reply-reaction-icon"),function(){return r.a.createElement("svg",{style:{width:34,height:34},viewBox:"0 0 48 48"},r.a.createElement("circle",{id:"bg",cx:"24",cy:"24",r:"24",fill:"black"}),r.a.createElement("path",{id:"outline",d:"M24,48 C10.745166,48 0,37.254834 0,24 C0,10.745166 10.745166,0 24,0 C37.254834,0 48,10.745166 48,24 C47.9966879,37.2534618 37.2534618,47.9966879 24,48 Z M24,1.47 C11.5570246,1.47 1.47,11.5570246 1.47,24 C1.47,36.4429754 11.5570246,46.53 24,46.53 C36.4429754,46.53 46.53,36.4429754 46.53,24 C46.5277916,11.5579394 36.4420606,1.47220839 24,1.47 Z",fillRule:"nonzero",fill:"white"}),r.a.createElement("path",{id:"symbol",d:"M32.37,19.6 C32.7447257,21.0722869 32.8930927,22.5930479 32.81,24.11 C32.7852784,24.599378 32.7318532,25.086883 32.65,25.57 C32.5659123,26.0504532 32.4387321,26.5223587 32.27,26.98 C32.1142069,27.4263301 31.9060902,27.8526338 31.65,28.25 C31.3985309,28.6388303 31.0920084,28.9891417 30.74,29.29 C30.3840117,29.58924 29.9777008,29.8228687 29.54,29.98 C29.0513362,30.1495572 28.5372283,30.2341145 28.02,30.23 C27.3759884,30.2596656 26.7400615,30.0769683 26.21,29.71 C25.7232735,29.3526976 25.3710189,28.8419283 25.21,28.26 C24.8465188,28.8579705 24.3504026,29.3643512 23.76,29.74 C23.2570259,30.0576348 22.6748682,30.2274308 22.08,30.23 C21.0336763,30.2718492 20.0508803,29.7284208 19.53,28.82 C19.2395306,28.3252629 19.0492495,27.7782049 18.97,27.21 C18.8665696,26.5147599 18.8497748,25.8093748 18.92,25.11 C19.0012295,24.1574437 19.2062907,23.219541 19.53,22.32 C19.807678,21.5620246 20.1987993,20.8505885 20.69,20.21 C21.1160924,19.6681995 21.6422928,19.2132908 22.24,18.87 C22.7735486,18.5662731 23.3760746,18.4044518 23.99,18.4 C24.3655885,18.3994116 24.7404567,18.432882 25.11,18.5 C25.4105529,18.5645225 25.7049782,18.6548576 25.99,18.77 C26.2406747,18.8831413 26.4815048,19.0169358 26.71,19.17 C26.9403535,19.3152569 27.1608358,19.4756077 27.37,19.65 L26.76,26.14 C26.7120997,26.6034092 26.7289278,27.0712301 26.81,27.53 C26.8617765,27.8266945 26.9815741,28.1073632 27.16,28.35 C27.2906919,28.5311175 27.471419,28.6701384 27.68,28.75 C27.867613,28.8106691 28.0629027,28.8443398 28.26,28.85 C28.7072639,28.8533801 29.145576,28.7246694 29.52,28.48 C29.9032902,28.2190355 30.2214794,27.8734751 30.45,27.47 C30.7181308,26.9964824 30.920014,26.4884096 31.05,25.96 C31.1980508,25.3538203 31.2818463,24.7337334 31.3,24.11 C31.3798018,22.7962393 31.2822579,21.4777155 31.01,20.19 C30.7831691,19.1288427 30.3294589,18.1293159 29.68,17.26 C29.0582664,16.4454924 28.2343448,15.8077288 27.29,15.41 C26.1767776,14.9564728 24.9816499,14.7385577 23.78,14.77 C22.6315797,14.7509574 21.4935547,14.9901819 20.45,15.47 C19.4638708,15.9285256 18.5926482,16.6015878 17.9,17.44 C17.1629443,18.3432429 16.5969978,19.3734688 16.23,20.48 C15.8064391,21.7420185 15.5705874,23.0594185 15.53,24.39 C15.4457065,25.7129457 15.5603147,27.0410525 15.87,28.33 C16.1301068,29.4066595 16.6101696,30.4178557 17.28,31.3 C17.9112117,32.1124129 18.7317793,32.7578804 19.67,33.18 C20.7124757,33.6372431 21.8418774,33.862441 22.98,33.84 C23.331196,33.8409263 23.6820349,33.817537 24.03,33.77 C24.3798771,33.7303105 24.7271357,33.670208 25.07,33.59 C25.3986295,33.5080046 25.7224598,33.4078508 26.04,33.29 C26.3238437,33.1873713 26.598213,33.0602246 26.86,32.91 L27.29,34.26 C26.9937949,34.4434293 26.6786313,34.5943055 26.35,34.71 C25.6147544,34.9799808 24.8489425,35.1579985 24.07,35.24 C23.67,35.28 23.29,35.3 22.93,35.3 C21.5725783,35.3236957 20.2247474,35.0684247 18.97,34.55 C17.8370612,34.0660445 16.8359931,33.3186717 16.05,32.37 C15.227414,31.3616496 14.6306607,30.1886031 14.3,28.93 C13.8988418,27.4520425 13.7401133,25.9187925 13.83,24.39 C13.8819217,22.8749378 14.1686677,21.377112 14.68,19.95 C15.1362392,18.6523205 15.8315676,17.4516071 16.73,16.41 C17.5802418,15.4173989 18.6340863,14.6193419 19.82,14.07 C21.0741456,13.4945812 22.4402387,13.2042864 23.82,13.22 C25.1859772,13.1948099 26.5419848,13.457153 27.8,13.99 C28.9177403,14.4758353 29.902128,15.2235583 30.67,16.17 C31.4670419,17.1839274 32.0458249,18.3517071 32.37,19.6 Z M21.21,22.85 C20.9923034,23.5868015 20.8515515,24.3441804 20.79,25.11 C20.643671,25.9720723 20.7513838,26.8580975 21.1,27.66 C21.378589,28.2333014 21.9734984,28.5839434 22.61,28.55 C22.8264868,28.5483403 23.0405393,28.5041707 23.24,28.42 C23.4775165,28.3239652 23.697234,28.1887544 23.89,28.02 C24.1253904,27.8128806 24.3307062,27.5739065 24.5,27.31 C24.7161573,26.9742941 24.8939377,26.6153791 25.03,26.24 C25.0272529,26.2063362 25.0306411,26.1724532 25.04,26.14 L25.58,20.24 C25.3763949,20.1361324 25.1616976,20.055621 24.94,20 C24.6885026,19.9347136 24.4298307,19.9011198 24.17,19.9 C23.7476718,19.9005996 23.3332487,20.014566 22.97,20.23 C22.5628616,20.4794553 22.2175474,20.8179316 21.96,21.22 C21.6280717,21.7217582 21.3751264,22.2714925 21.21,22.85 Z",fill:"white"}))}),sr=n("./src/pieces/stage/reactions/reaction.reducer.js"),cr=n("./src/pieces/stage/reactions/reaction-badge.scss"),lr=n.n(cr),ur=n("./src/pieces/stage/reactions/reaction-up-arrow.tsx"),dr=(n("./node_modules/bows/bows.js")("Reaction-badge"),{show:{y:-28},hide:{y:0},hover:{y:-28},peek:{y:-33}}),_r={show:function(e){return{fill:e,stroke:e}},hide:function(e){return{fill:e,stroke:e}},hover:{fill:"#000000",stroke:"#FFFFFF"}},mr=function(e){var t,n=e.endorsementCount,i=e.isLong,o=e.isHovered,s=e.alreadyEndorsed,c=e.className,l=Object(a.useRef)(0),u=Object(a.useCallback)(function(){switch(!0){case 0==n:return"#000000";case n<10:return"#ff00ff";case n<100:return"#00ff00";case n<1e3:return"#ffff00";default:return"#ffffff"}},[n]),d=Object(a.useCallback)(function(){return o&&!s?"hover":n?n>l.current?(l.current=n,"peek"):"show":"hide"},[o,s,n,l]);return r.a.createElement(Ae.b.div,{className:w()(lr.a.redesign_reactionBadge,c),variants:dr,initial:"hide",animate:d(),transition:{type:"spring",stiffness:500,damping:25}},r.a.createElement("svg",{width:"38",height:"42",viewBox:"0 0 38 42",vectorEffect:"non-scaling-stroke",shapeRendering:"optimizeQuality"},r.a.createElement(Ae.b.path,{variants:_r,custom:u(),whileHover:{fill:"rgba(255,255,255,0.3)"},vectorEffect:"non-scaling-stroke",fillRule:"nonzero",strokeWidth:2,d:"\n            M 1 11\n            L 19 1\n            L 37 11\n            V ".concat(o||i?51:31,"\n            L 19 ").concat(o||i?61:41,"\n            L 1 ").concat(o||i?51:31,"\n            Z\n          ")})),r.a.createElement("div",{className:w()((t={},se()(t,lr.a.redesign_count,!0),se()(t,lr.a.isLong,o||i),t)),style:{color:o&&!s?"white":"black"}},(!o||s)&&n||r.a.createElement(ur.a,{className:lr.a.redesign_reactionArrow})))},gr=n("./node_modules/lodash/constant.js"),br=n.n(gr),pr=n("./src/pieces/stage/video-props-player/video-props-player-helpers.js"),fr=n("./src/pieces/stage/video-props-player/video-props-player.scss"),hr=n.n(fr),vr=n("./src/pieces/hooks/useDeviceDetect.ts"),wr=(n("./node_modules/bows/bows.js")("Video-props-player"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({entertainer:Te.selectEntertainer}),{TrackVideoPropClicked:Te.TrackVideoPropClicked}))(function(e){var t,n,i,s=e.digitalItem,c=e.entertainer,l=e.reactionPosition,u=e.withMessage,d=e.source,_=e.TrackVideoPropClicked,m=Object(a.useState)(),g=h()(m,2),b=g[0],p=g[1],f=Object(a.useState)("a"),v=h()(f,2),C=v[0],y=v[1],j=Object(a.useState)(""),O=h()(j,2),S=O[0],E=O[1],x=Object(a.useState)(),k=h()(x,2),I=k[0],T=k[1],F=Object(a.useState)(),P=h()(F,2),N=P[0],M=P[1],L=function(){A("end")},B=function(){A("tap");var e={prop_name:S.split("/")[2].split("_606x")[0],broadcaster_caid:c.caid,display_order:l};_(e)},A=function(e){var t="a"===C?I:N,n=t?t.transitions[e]:"";n&&D(Object(pr.a)(n))},D=function(e){var t=b&&b.states.find(function(t){return t.name===e});"a"===C?M(t):T(t)},U=function(){I&&N&&("a"===C?(y("b"),T(null)):(y("a"),M(null)))},R=function(e){return b?"".concat(o.f).concat(S,"/").concat(b.media[e]):""};Object(a.useEffect)(function(){if(!b&&s&&s.universalVideoPropPath){var e=JSON.parse(localStorage.getItem(s.universalVideoPropPath));E(Object(pr.b)(s.universalVideoPropPath)),p(e),T(e.states[0])}},[s,b]);var H=Object(vr.a)();return r.a.createElement("div",{className:w()(w()((t={},se()(t,hr.a.videoPropsPlayerWrapper,!0),se()(t,hr.a.vodPageVideoPropsPlayerWrapper,d===o.Kd),se()(t,hr.a.videoPropsPlayerWrapperMobile,H),se()(t,hr.a.withMessage,u),se()(t,hr.a.withMessageMobile,u&&H),t)),u&&hr.a.withMessage)},I&&r.a.createElement("video",{crossOrigin:"anonymous",id:"videoA".concat(S),className:w()((n={},se()(n,hr.a.playing,!H&&"a"===C),se()(n,hr.a.playingMobile,H&&"a"===C),se()(n,hr.a.vodPagePlaying,!H&&"a"===C&&d===o.Kd),se()(n,hr.a.preload,"a"!==C),n)),src:R(I.name),autoPlay:!0,playsInline:!0,muted:!0,loop:I&&I.should_loop,onEnded:L,onClick:B,onLoadedData:U}),N&&r.a.createElement("video",{crossOrigin:"anonymous",id:"videoB".concat(S),className:w()((i={},se()(i,hr.a.playing,!H&&"b"===C),se()(i,hr.a.playingMobile,H&&"b"===C),se()(i,hr.a.vodPagePlaying,!H&&"b"===C&&d===o.Kd),se()(i,hr.a.preload,"b"!==C),i)),src:R(N.name),autoPlay:!0,playsInline:!0,muted:!0,loop:N&&N.should_loop,onEnded:L,onClick:B,onLoadedData:U}),s.count>1&&r.a.createElement("div",{className:hr.a.digitalItemCount},"x",s.count))})),Cr=n("./src/pieces/stage/reactions/reaction-body.scss"),yr=n.n(Cr),jr=(n("./node_modules/bows/bows.js")("Reaction-body"),"true"===localStorage.getItem(o.Fb)),Or=be()([[function(e){return"digital_item"===e.reactionType},br()(yr.a.redesign_reactionContainerWithDigitalItemTheme)],[function(e){return e.isFollowed},br()(yr.a.redesign_reactionContainerWithFollowedTheme)],[function(e){return e.isSelf},br()(yr.a.redesign_reactionContainerWithSelfTheme)],[br()(!0),br()(yr.a.redesign_reactionContainer)]]),Sr=function(e){var t,n=e.messageParts,a=e.reactionType,i=me()(n,function(e){return e[0].type})===o.wc,s="digital_item"===a;return r.a.createElement("div",{className:w()((t={},se()(t,yr.a.redesign_reactionMessageWithDigitalItem,s),se()(t,yr.a.redesign_reactionMessage,!s),se()(t,yr.a.redesign_mobileReactionMessage,jr),se()(t,yr.a.redesign_reactionMessageWithMentionHeader,i),t))},n.map(function(e,t){var n;return e&&r.a.createElement("span",{key:t,className:w()((n={},se()(n,yr.a.redesign_reactionMessageMention,e.type===o.wc&&0===t&&!s),se()(n,yr.a.redesign_reactionMessageMentionInText,e.type===o.wc&&(0!==t||s)),n))},i&&1===t&&!s?e.text.trimLeft():e.text)}))},Er=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({isWebVideoPropsEnabled:Mt.selectWebVideoPropsStatus}),{InteractWithDigitalItemReaction:Te.InteractWithDigitalItemReaction}),Object(B.d)({interactWithDigitalItemReaction:function(e){return function(){return e.InteractWithDigitalItemReaction(e.reactionId)}}}))(function(e){var t,n;return"digital_item"===e.reactionType?r.a.createElement("div",{className:w()((t={},se()(t,yr.a.redesign_digitalItemReactionBodyContents,!0),se()(t,yr.a.withMessage,e.messageParts.length>0),se()(t,yr.a.useVideoProps,e.isWebVideoPropsEnabled),t))},ye.a?r.a.createElement("div",{className:yr.a.redesign_digitalItemStaticImageContainer},r.a.createElement("img",{className:w()((n={},se()(n,yr.a.redesign_digitalItemStaticImage,!0),se()(n,yr.a.redesign_digitalItemStaticImageMobile,jr),n)),src:"".concat(o.f).concat(e.digitalItem.previewImagePath),alt:""})):r.a.createElement("div",{className:yr.a.redesign_digitalItemContainer,role:"button",tabIndex:0,onClick:e.interactWithDigitalItemReaction},r.a.createElement(wr,{digitalItem:e.digitalItem,reactionPosition:e.reactionPosition,withMessage:e.messageParts.length>0})),r.a.createElement(Sr,{messageParts:e.messageParts,reactionType:e.reactionType})):r.a.createElement(Sr,{messageParts:e.messageParts,reactionType:e.reactionType})}),xr=function(e){var t,n;return r.a.createElement("div",{className:w()((t={},se()(t,yr.a.redesign_reactionBody,!0),se()(t,yr.a.redesign_mobileReactionBody,jr),t))},r.a.createElement("div",{className:w()((n={},se()(n,Or(e),!0),se()(n,yr.a.redesign_isStale,e.isStale&&!e.isHovered),se()(n,yr.a.redesign_isHovered,e.isHovered),se()(n,yr.a.redesign_isMentioned,e.isMentioned),se()(n,yr.a.redesign_isFollowed,e.isFollowed),n))},r.a.createElement(Ba.a,{hasTail:!0,width:jr?351:196,height:jr?180:110,cutCorner:jr?25:19,tailPosition:jr?69:49,isMentionedAndFollowed:e.isMentioned&&e.isFollowed}),r.a.createElement(Er,e)))},kr=n("./src/pieces/stage/reactions/reaction-footer.scss"),Ir=n.n(kr),Tr=(n("./node_modules/bows/bows.js")("Reaction-footer"),function(e){var t,n=!e.publishedByCurrentUser&&e.currentUserIsAuthenticated,a="true"===localStorage.getItem(o.Fb);return r.a.createElement("div",{className:w()((t={},se()(t,Ir.a.redesign_reactionFooter,!0),se()(t,Ir.a.redesign_mobileReactionFooter,a),t))},r.a.createElement("div",{className:Ir.a.redesign_userSnippet},r.a.createElement(Se.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye.a,{isConstrainedWidth:!0,user:e.publisher,size:"large",avatarSize:a?"largeToVeryLarge2":"medium",hideFollowButton:!0,enableInfoPopover:n,linkToProfileInNewTab:!n,enableFollowedEffect:!e.publishedByCurrentUser,infoSettings:{showBlockActions:!e.publishedByCurrentUser},darkTheme:!0}),e.children))))}),Fr=n("./src/pieces/stage/reactions/reaction.scss"),Pr=n.n(Fr),Nr=(n("./node_modules/bows/bows.js")("Reaction"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({isAuthenticated:i.selectIsAuthenticated,followedCaids:mt.selectFollowedUserCaids}),{EndorseReaction:Te.EndorseReaction,MentionUser:sr.MentionUser}))(function(e){var t,n=e.id,i=e.publisher,s=e.messageParts,c=e.endorsementCount,l=e.digitalItemInteractionCount,u=e.publishedByCurrentUser,d=e.fromFollowedPublisher,_=e.currentUserIsMentioned,m=e.isHovered,g=e.isStale,b=e.type,p=e.digitalItem,f=e.reactionPosition,v=e.isAuthenticated,C=e.EndorseReaction,y=e.MentionUser,j=Object(a.useState)(!1),O=h()(j,2),S=O[0],E=O[1],x=Object(a.useCallback)(function(){E(!0),C(n)},[]),k=Object(a.useCallback)(function(e){e.stopPropagation(),y(i.username)},[]),I="true"===localStorage.getItem(o.Fb);return r.a.createElement("div",{className:Pr.a.reaction},r.a.createElement(xr,{darkTheme:!1,reactionId:n,messageParts:s,isSelf:u,isFollowed:d,isMentioned:_&&!u,isStale:g,isHovered:m&&!u,reactionType:b,endorsementCount:c,digitalItemInteractionCount:l,digitalItem:p,reactionPosition:f}),r.a.createElement("div",{className:w()((t={},se()(t,Pr.a.redesign_reactionBadge,!0),se()(t,Pr.a.reactionUpFront,"digital_item"===b&&c&&(!m||u)),t))},v?r.a.createElement("button",{tabIndex:0,onClick:I||!m||S||u?function(){}:x,className:Pr.a.reactionBadgeButton},r.a.createElement(mr,{endorsementCount:c,alreadyEndorsed:S,isLong:"digital_item"!==b,isHovered:m&&!u})):r.a.createElement(Se.a,null,r.a.createElement(mr,{endorsementCount:c,isLong:"digital_item"!==b,isHovered:m&&!u}))),r.a.createElement(Tr,{darkTheme:!1,publisher:i,publishedByCurrentUser:u,isFollowed:d||u,isMentioned:_&&!u,isStale:g,isHovered:m&&!u,reactionType:b,currentUserIsAuthenticated:v},m&&!u?r.a.createElement(Ae.b.button,{className:Pr.a.redesign_reactionAction,onClick:k,tabIndex:0,whileHover:{scale:1.1},whileTap:{scale:1}},r.a.createElement(or,null)):null))})),Mr=n("./src/pieces/stage/reactions.scss"),Lr=n.n(Mr),Br=(n("./node_modules/bows/bows.js")("Reactions"),"true"===localStorage.getItem(o.Fb)),Ar=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({reactions:Te.selectReactions,reactionCount:Te.selectReactionCount,entertainer:Te.selectEntertainer,currentHoveredPosition:Te.selectCurrentHoveredReactionPosition,currentUser:Ue.selectCurrentUser,isLive:et.selectIsWebBroadcastLive,initialStreamHasLoaded:Te.selectInitialStreamHasLoaded,trailerUrl:Be.selectStageDirectorTrailerUrl}),{HoverReaction:Te.HoverReaction,UnhoverReaction:Te.UnhoverReaction}),Object(B.b)("Reactions"),Object(B.d)({hoverReaction:function(e){return function(t){e.HoverReaction(parseInt(t.currentTarget.dataset.reactionPosition))}},unhoverReaction:function(e){return function(){e.UnhoverReaction()}}})),Dr={initial:{scale:.5,opacity:0,y:0,zIndex:1},animate:{scale:1,opacity:1,y:0,zIndex:2,transition:{delay:.25}},exit:{scale:.75,opacity:0,y:10,zIndex:1},transition:{type:"spring",stiffness:40}},Ur={initial:{scale:1,opacity:1,zIndex:1},exit:{scale:.9,opacity:0,zIndex:1},transition:{type:"spring",stiffness:40}},Rr={initial:{scale:.5,opacity:0,y:0,zIndex:1},animate:{scale:1,opacity:1,y:0,zIndex:2,transition:{delay:.75}},exit:{scale:.75,opacity:0,y:10,zIndex:1}},Hr=function(e){var t,n,a=e.reactionPosition;return r.a.createElement(Ae.b.div,nt()({},Ur,{key:a,className:w()((t={},se()(t,Lr.a.reactionContainer,!0),se()(t,Lr.a.mobileReactionContainer,Br),se()(t,Lr.a.reactionContainerLoading,!0),se()(t,Lr.a["reactionContainerNumber".concat(a+1)],!0),t))}),r.a.createElement(Ba.a,{hasTail:!0,width:Br?363:196,height:Br?180:110,cutCorner:Br?25:19,tailPosition:Br?69:49}),r.a.createElement("div",{className:w()((n={},se()(n,Lr.a.loadingAvatar,!0),se()(n,Lr.a.mobileLoadingAvatar,Br),se()(n,Lr.a["avatar".concat(a+1)],!0),n))}))},Wr=function(e){var t,n,a=e.reactions,i=e.reactionPosition,o=e.hoverReaction,s=e.unhoverReaction,c=(e.currentUser,e.currentHoveredPosition),l=e.mock,u=a[i];return r.a.createElement("div",{key:i,className:w()((t={},se()(t,Lr.a.reactionContainer,!0),se()(t,Lr.a.mobileReactionContainer,Br),se()(t,Lr.a.redesign_reactionContainerMock,l),se()(t,Lr.a["reactionContainerNumber".concat(i+1)],!0),t))},r.a.createElement(Ae.a,null,u?r.a.createElement(Ae.b.div,nt()({},Dr,{onMouseEnter:o,onMouseLeave:s,className:Lr.a.reactionAnimationWrapper,key:u.id,"data-reaction-position":i}),r.a.createElement(Nr,nt()({},u,{isHovered:c===i,reactionPosition:i}))):r.a.createElement("div",{key:i},r.a.createElement("div",{className:w()((n={},se()(n,Lr.a.reactionsPlaceholderBody,!0),se()(n,Lr.a.mobileReactionsPlaceholderBody,Br),n))}),r.a.createElement("div",{className:Lr.a.redesign_placeholderFooter}))))},Vr=function(e){var t;return e.entertainer&&e.currentUser&&r.a.createElement("div",{className:Lr.a.encouragementMessageWrapper},r.a.createElement("div",{className:w()((t={},se()(t,Lr.a.encouragementMessage,!0),se()(t,Lr.a.mobileEncouragementMessage,Br),t))},e.entertainer.caid===e.currentUser.caid?"Messages will appear here.":!e.isLive&&e.trailerUrl?r.a.createElement("div",null,r.a.createElement("div",{className:Lr.a.trailerEncouragementMessage},"Welcome to\xa0",r.a.createElement("span",{className:Lr.a.encouragementMessageUsername},e.entertainer.username),"\xa0on Caffeine")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Lr.a.encouragementMessageUsernameArea},"Say something to ",e.entertainer.username),r.a.createElement(ir.a,null))))},zr=Ar(function(e){var t,n=e.initialStreamHasLoaded||!1===e.isLive;return r.a.createElement("div",{className:w()((t={},se()(t,Lr.a.reactions,!0),se()(t,Lr.a.mobileReactions,Br),t))},n&&r.a.createElement(Ae.b.div,nt()({},Rr,{className:Lr.a.encouragementMessageArea}),0===e.reactionCount&&r.a.createElement(Vr,e)),r.a.createElement(Ae.a,{exitBeforeEnter:!0},n?rr()(0,o.oc).map(function(t){return r.a.createElement(Wr,nt()({},e,{reactionPosition:t,key:"reaction-container-".concat(t)}))}):rr()(0,o.oc).map(function(e){return r.a.createElement(Hr,{reactionPosition:e,key:"reaction-loading-container-".concat(e)})})))}),Gr=n("./src/pieces/web-broadcast/snapshot-bar.scss"),qr=n.n(Gr),Jr=n("./src/pieces/web-broadcast/snapshot-countdown.scss"),Zr=n.n(Jr),Yr=(n("./node_modules/bows/bows.js")("Snapshot-countdown"),Object(B.a)(Object(A.b)(null,{SaveSnapshotData:et.SaveSnapshotData}))),Qr=function(e){var t;return r.a.createElement("div",{className:w()((t={},se()(t,Zr.a.counter,!0),se()(t,Zr.a.isActive,e.count>=e.snapshotCountdown),t))},r.a.createElement("div",{className:Zr.a.counterText},e.count))},Kr=Yr(function(e){var t=Object(a.useState)(!1),n=h()(t,2),i=n[0],o=n[1];return Object(a.useEffect)(function(){i||0!=e.snapshotCountdown||(o(!0),e.SaveSnapshotData())},[e.snapshotCountdown,i]),r.a.createElement(a.Fragment,null,r.a.createElement(Qr,{count:3,snapshotCountdown:e.snapshotCountdown}),r.a.createElement(Qr,{count:2,snapshotCountdown:e.snapshotCountdown}),r.a.createElement(Qr,{count:1,snapshotCountdown:e.snapshotCountdown}))}),Xr=(n("./node_modules/bows/bows.js")("Start-text-icon"),function(e){var t=e.className,n=void 0===t?"":t;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:176,height:56,className:n},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("g",{strokeWidth:1.5,stroke:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M92.5 30.5a4 4 0 11-8 0 4 4 0 018 0zM92.5 30.5v4M95.5 30.5a4 4 0 014-4M95.5 30.5v4M78.5 22.5v4M78.5 34.5v-8M78.5 26.5h4M102.5 22.5v4M102.5 34.5v-8M102.5 26.5h4M73.5 30.5a2 2 0 010 4M69.5 34.5h4M71.5 26.5a2 2 0 000 4M71.5 26.5h4M73.5 30.5h-2"})))))}),$r=(n("./node_modules/bows/bows.js")("Snapshot-bar"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({snapshotData:et.selectSnapshotData,mediaStreamId:et.selectActiveMediaStreamId}),{SetSnapshotData:et.SetSnapshotData,StartBroadcast:et.StartBroadcast,CloseSelectSnapshotDialog:et.CloseSelectSnapshotDialog}),Object(B.d)({handleResetSnapshot:function(e){return function(){return e.SetSnapshotData(null)}},startBroadcast:function(e){return function(){e.StartBroadcast(e.mediaStreamId),e.CloseSelectSnapshotDialog()}}}))(function(e){var t,n=!e.snapshotData||4!==e.snapshotCountdown;return r.a.createElement("div",{className:qr.a.snapshotBar},r.a.createElement("div",{className:qr.a.column}),r.a.createElement("div",{className:qr.a.column},e.snapshotData?r.a.createElement("button",{onClick:function(){return e.handleResetSnapshot()},className:qr.a.redesign_retakePhotoButton,type:"button"},"retake photo"):r.a.createElement(Kr,{snapshotCountdown:e.snapshotCountdown})),r.a.createElement("div",{className:w()(qr.a.column,qr.a.submit)},r.a.createElement("button",{onClick:function(){return e.startBroadcast()},className:w()((t={},se()(t,qr.a.redesign_startBroadcastButton,!0),se()(t,qr.a.disabled,n),t)),type:"button",disabled:n},r.a.createElement(Xr,null))))})),ei=n("./node_modules/react-truncate/lib/Truncate.js"),ti=n("./src/pieces/broadcast/broadcast.reducer.ts"),ni=n("./src/pieces/web-broadcast/snapshot-preview.scss"),ai=n.n(ni),ri=(n("./node_modules/bows/bows.js")("Snapshot-preview"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({snapshotData:et.selectSnapshotData,broadcastTitle:et.selectBroadcastTitle,user:Ue.selectCurrentUser,mediaStreamId:et.selectActiveMediaStreamId,contentRating:Be.selectStageDirectorContentRating}),{RequestCameraSnapshot:et.RequestCameraSnapshot,DeliverCameraSnapshot:et.DeliverCameraSnapshot,SetOptionalPrimaryFeedAspectRatio:ti.SetOptionalPrimaryFeedAspectRatio}))(function(e){var t=Object(a.useCallback)(function(){var t=e.broadcastTitle;return{isExplicit:e.contentRating===o.U,title:t.match(o.A)?t.replace(o.A,""):t}},[e.broadcastTitle])(),n=t.title,i=t.isExplicit,s=Object(a.useRef)(null);return Object(a.useEffect)(function(){if(e.snapshotData){var t=s.current;t&&t.setAttribute("src",e.snapshotData)}},[e.snapshotData]),r.a.createElement("div",{className:w()(ai.a.broadcastCard,ai.a.huge)},e.snapshotData?r.a.createElement("img",{ref:s,className:ai.a.snapshotWrapper,width:o.kf,height:o.jf}):r.a.createElement(Tt,{videoProps:{muted:!0},handleCreatedSnapshot:e.DeliverCameraSnapshot,handleAspectRatioUpdate:e.SetOptionalPrimaryFeedAspectRatio,snapshotRequested:e.snapshotRequested,mediaStreamId:e.mediaStreamId}),r.a.createElement("div",{className:ai.a.broadcastCardGradient}),r.a.createElement("header",{className:ai.a.broadcastCardHeader},r.a.createElement("div",{className:ai.a.broadcastCardSpacer}),i&&r.a.createElement("div",{className:ai.a.broadcastCardExplicit},r.a.createElement(Je.a,{className:ai.a.redesign_broadcastCardViewersRating,size:"xLarge"}))),r.a.createElement("section",{className:ai.a.broadcastCardBody},r.a.createElement("p",null,r.a.createElement(ei.a,{lines:3},n))),r.a.createElement("footer",{className:ai.a.broadcastCardFooter},r.a.createElement(Ye.a,{user:e.user,size:"large",hideAvatar:!0,darkTheme:!0,hideBadge:!0}),r.a.createElement(bn.a,{user:e.user,size:"large"})))})),ii=n("./src/pieces/web-broadcast/select-snapshot-dialog.scss"),oi=n.n(ii),si=n("./node_modules/bows/bows.js")("Select-snapshot-dialog"),ci=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({snapshotData:et.selectSnapshotData}),{CloseSelectSnapshotDialog:et.CloseSelectSnapshotDialog})),li=function(e){return new Promise(function(t){return setTimeout(t,e?1e3*e:1e3)})},ui=ci(function(e){var t=Object(a.useState)(4),n=h()(t,2),i=n[0],o=n[1];return Object(a.useEffect)(function(){function t(){return(t=de()(le.a.mark(function e(){return le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(.5);case 2:return o(3),e.next=5,li(1);case 5:return o(2),e.next=8,li(1);case 8:return o(1),e.next=11,li(1);case 11:o(0),o(4);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}e.snapshotData||4!=i||function(){return t.apply(this,arguments)}().catch(function(e){si("Error capturing broadcast snapshot",e)})},[e.snapshotData]),r.a.createElement("div",{className:oi.a.selectSnapshotDialog},r.a.createElement("div",{className:oi.a.topArea},r.a.createElement("div",{className:oi.a.instructions},"take a photo for your broadcast thumbnail"),r.a.createElement("div",{className:oi.a.closeButton,onClick:e.CloseSelectSnapshotDialog},r.a.createElement(mn.a,{size:"medium",darkTheme:!0})),r.a.createElement("div",{className:oi.a.cameraPreviewFeedFrame},r.a.createElement("div",{className:oi.a.cameraPreviewFeedContainer},r.a.createElement("div",{className:oi.a.cameraPreviewFeed},r.a.createElement(ri,null))))),r.a.createElement("div",{className:oi.a.bottomArea},r.a.createElement("div",{className:oi.a.snapshotBar},r.a.createElement("div",{className:oi.a.snapshotBarContent},r.a.createElement($r,{snapshotCountdown:i})))))}),di=n("./node_modules/react-draggable/dist/react-draggable.js"),_i=n.n(di),mi=n("./src/pieces/authentication/authentication-guard.tsx"),gi=(n("./node_modules/bows/bows.js")("Redesign-loading-spinner"),function(e){var t=e.grayscale,n={regular:["#FF00FF","#00FFFF","#00FF00","#FFFF00","#0000FF","#FF0000"],grayscale:["#7d7d7d","#262626","#525252","#fff","#d4d4d4","#a8a8a8"]};return r.a.createElement(Ae.b.svg,{animate:{rotate:360},transition:{loop:1/0,ease:"linear",duration:2},width:"144px",height:"130px",viewBox:"0 0 144 130"},r.a.createElement("g",{id:"10/10/19",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Generic-Stage-Loading-Sequence",transform:"translate(-2091.000000, -527.000000)",fillRule:"nonzero"},r.a.createElement("g",{id:"Color-Static-Spinner",transform:"translate(2091.000000, 527.000000)"},r.a.createElement("circle",{id:"Oval",fill:n[t?"grayscale":"regular"][0],cx:"124.704",cy:"64.8069398",r:"19.0600482"}),r.a.createElement("circle",{id:"Oval",fill:n[t?"grayscale":"regular"][1],cx:"45.4727711",cy:"110.550361",r:"19.0600482"}),r.a.createElement("circle",{id:"Oval",fill:n[t?"grayscale":"regular"][2],cx:"98.294747",cy:"110.550361",r:"19.0600482"}),r.a.createElement("circle",{id:"Oval",fill:n[t?"grayscale":"regular"][3],cx:"19.0600482",cy:"64.8069398",r:"19.0600482"}),r.a.createElement("circle",{id:"Oval",fill:n[t?"grayscale":"regular"][4],cx:"45.4727711",cy:"19.0600482",r:"19.0600482"}),r.a.createElement("circle",{id:"Oval",fill:n[t?"grayscale":"regular"][5],cx:"98.294747",cy:"19.0600482",r:"19.0600482"})))))}),bi=n("./src/pieces/base/simple-dialog/simple-dialog.reducer.js"),pi=n("./node_modules/hls.js/dist/hls.js"),fi=n.n(pi),hi=n("./src/pieces/base/error-reporting.js"),vi=(n("./node_modules/bows/bows.js")("Broadcast-stream-hls"),navigator.userAgent.toLowerCase().includes("android")),wi=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({currentUserId:Ue.selectCurrentUserId,hlsUrl:Be.selectStageDirectorHlsUrl,stageId:Be.selectStageDirectorStageId,stageTitle:Be.selectStageDirectorTitle,stageState:Be.selectStageDirectorBadge,stageUsername:Be.selectStageDirectorUsername}),{SetStreamHasLoaded:Te.SetStreamHasLoaded,SetHlsIsBuffering:Te.SetHlsIsBuffering,TriggerVideoWatched30SEvent:Te.TriggerVideoWatched30SEvent,TriggerVideoStartEvent:Te.TriggerVideoStartEvent,TriggerVideoStopEvent:Te.TriggerVideoStopEvent}))(function(e){var t,n,i=e.className,s=void 0===i?"":i,c=e.handleAspectRatioUpdate,l=e.videoProps,u=void 0===l?{}:l,d=e.volume,_=void 0===d?100:d,m=e.currentUserId,g=e.hlsUrl,b=e.stageId,p=e.stageTitle,f=e.stageState,v=e.stageUsername,C=e.SetStreamHasLoaded,y=e.SetHlsIsBuffering,j=e.TriggerVideoWatched30SEvent,O=e.TriggerVideoStartEvent,S=e.TriggerVideoStopEvent,E=Object(a.useRef)(null),x=Object(a.useRef)(),k=Object(a.useRef)(Date.now()),I=Object(a.useState)(!1),T=h()(I,2),F=T[0],P=T[1],N=Object(a.useCallback)(function(){S(),P(!0)},[]),M=Object(a.useCallback)(function(){O(),E.current&&E.current.play(),window.rdt&&window.rdt("track","Custom",{customEventName:"video_start"}),n=setTimeout(function(){window.rdt&&window.rdt("track","Custom",{customEventName:"video_watched_30s"}),j()},3e4)},[]),L=Object(a.useCallback)(function(){E.current&&E.current.play()},[]),B=Object(a.useCallback)(function(){console.log("Video event: pause"),E.current&&E.current.play()},[]),A=Object(a.useCallback)(function(){if(E&&E.current){var e=E.current.videoWidth/E.current.videoHeight;c(e),L()}},[c,L]),D=Object(a.useCallback)(function(e,t){var n=t.details,a=t.type;n===o.Bb?y(!0):console.log("HLS event:",n," Type:",a)},[y]),U=Object(a.useCallback)(function(){y(!1)},[y]),R=Object(a.useCallback)(function(){x&&x.current&&(x.current.on(o.Ab,D),x.current.on(o.Cb,U)),E.current&&E.current.addEventListener("pause",B)},[D,U,L]),H=Object(a.useCallback)(function(){x.current&&(x.current.off(o.Ab,D),x.current.off(o.Cb,U),E.current&&E.current.removeEventListener("pause",B))},[D,U,L]),W=Object(a.useCallback)(function(){if(g&&E.current){var e={enableWorker:!0};-1!=g.indexOf("main.m3u8")&&-1!=g.indexOf("/v1/")&&(e.debug=!1,e.enableWorker=!0,e.lowLatencyMode=!0,e.backBufferLength=10,e.liveSyncDurationCount=1,e.liveMaxLatencyDurationCount=30,e.maxLiveSyncPlaybackRate=1.15,e.fragLoadingTimeOut=5500,e.fragLoadingRetryDelay=500,e.fragLoadingMaxRetryTimeout=3e3,e.fragLoadingMaxRetry=2,e.liveDurationInfinity=!1,e.maxMaxBufferLength=10,e.lowLatencyMode=!0),x.current=new fi.a(e),x.current.loadSource(g),x.current.attachMedia(E.current),x.current.on(fi.a.Events.MANIFEST_PARSED,M),R()}},[g]);Object(a.useEffect)(function(){if(g)return fi.a&&fi.a.isSupported()?(W(),jt.a.monitor("#dynamicRoleHlsStreamId",{hlsjs:x.current,Hls:fi.a,data:{env_key:Object(Ot.c)()?o.Ic:o.Hc,player_name:"Web HLSJS Player",player_init_time:k.current,viewer_user_id:m,video_id:b,video_title:p,video_stream_type:f,video_producer:v,sub_property_id:v}})):E.current&&E.current.canPlayType("application/vnd.apple.mpegurl")&&(E.current.src=g),function(){clearTimeout(n)};Object(hi.a)("HLS choice was chosen but somehow hlsUrl is null")},[]);var V=Object(je.a)(g);return Object(a.useEffect)(function(){!x.current||null!==g&&V===g||(x.current.stopLoad(),H(),x.current.destroy()),x.current&&fi.a&&g&&V!==g&&W()},[g,V,W,H]),Object(a.useEffect)(function(){return window.addEventListener("beforeunload",N),function(){window.removeEventListener("beforeunload",N),x.current&&(H(),x.current.destroy())}},[N,H]),Object(a.useEffect)(function(){E&&E.current&&(E.current.volume=Number.isFinite(_)?_/100:1)},[_]),r.a.createElement("video",nt()({id:"dynamicRoleHlsStreamId",ref:E,autoPlay:!0,playsInline:!0,onLoadedMetadata:A,className:w()((t={},se()(t,xt.a.broadcastStream,!0),se()(t,xt.a.hide,F),se()(t,xt.a.android,vi),se()(t,s,!!s),t)),onLoadedData:C},u))}),Ci=(n("./node_modules/bows/bows.js")("Fullscreen-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 10C0 9.44772 0.447715 9 1 9H8C8.55228 9 9 9.44772 9 10C9 10.5523 8.55228 11 8 11H2V17C2 17.5523 1.55228 18 1 18C0.447715 18 0 17.5523 0 17V10Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 22C1.55228 22 2 22.4477 2 23V29H8C8.55228 29 9 29.4477 9 30C9 30.5523 8.55228 31 8 31H1C0.447715 31 0 30.5523 0 30V23C0 22.4477 0.447715 22 1 22Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 22C39.5523 22 40 22.4477 40 23V30C40 30.5523 39.5523 31 39 31H32C31.4477 31 31 30.5523 31 30C31 29.4477 31.4477 29 32 29H38V23C38 22.4477 38.4477 22 39 22Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31 10C31 9.44772 31.4477 9 32 9H39C39.5523 9 40 9.44772 40 10V17C40 17.5523 39.5523 18 39 18C38.4477 18 38 17.5523 38 17V11H32C31.4477 11 31 10.5523 31 10Z",fill:"currentColor"})))}),yi=(n("./node_modules/bows/bows.js")("Stage-video-settings-playback-icon"),function(e){var t=e.size,n=void 0===t?32:t;return r.a.createElement("svg",{width:n,height:n,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2834 4.49428C17.4629 4.18811 17.7912 4 18.1461 4H21.8539C22.2088 4 22.5371 4.18811 22.7166 4.49428L24.4372 7.42932C24.8738 7.57758 25.3471 7.74956 25.7944 7.97233L28.9989 7.07106C29.3471 6.97313 29.721 7.07085 29.9768 7.3266L32.6734 10.0232C32.9291 10.279 33.0269 10.6529 32.9289 11.0011L32.0277 14.2056C32.2504 14.6529 32.4224 15.1262 32.5707 15.5628L35.5057 17.2834C35.8119 17.4629 36 17.7912 36 18.1461V21.8539C36 22.2088 35.8119 22.5371 35.5057 22.7166L32.5707 24.4372C32.4224 24.8738 32.2504 25.3471 32.0277 25.7944L32.9289 28.9989C33.0269 29.3471 32.9291 29.721 32.6734 29.9768L29.9768 32.6734C29.721 32.9291 29.3471 33.0269 28.9989 32.9289L25.7944 32.0277C25.3471 32.2504 24.8738 32.4224 24.4372 32.5707L22.7166 35.5057C22.5371 35.8119 22.2088 36 21.8539 36H18.1461C17.7912 36 17.4629 35.8119 17.2834 35.5057L15.5628 32.5707C15.1262 32.4224 14.6529 32.2504 14.2056 32.0277L11.0011 32.9289C10.6529 33.0269 10.279 32.9291 10.0232 32.6734L7.3266 29.9768C7.07085 29.721 6.97313 29.3471 7.07106 28.9989L7.97233 25.7944C7.74956 25.3471 7.57758 24.8738 7.42932 24.4372L4.49428 22.7166C4.18811 22.5371 4 22.2088 4 21.8539V18.1461C4 17.7912 4.18811 17.4629 4.49428 17.2834L7.42932 15.5628C7.57758 15.1262 7.74956 14.6529 7.97233 14.2056L7.07106 11.0011C6.97313 10.6529 7.07085 10.279 7.3266 10.0232L10.0232 7.3266C10.279 7.07085 10.6529 6.97313 11.0011 7.07106L14.2056 7.97233C14.6529 7.74956 15.1262 7.57758 15.5628 7.42932L17.2834 4.49428ZM18.719 6L17.0987 8.76415C16.9762 8.97311 16.782 9.13051 16.5522 9.20711C15.8538 9.4399 15.2905 9.63236 14.8403 9.90244C14.6042 10.0441 14.3202 10.0821 14.0551 10.0076L11.0233 9.15491L9.15491 11.0233L10.0076 14.0551C10.0821 14.3202 10.0441 14.6042 9.90244 14.8403C9.63236 15.2905 9.4399 15.8538 9.20711 16.5522C9.13051 16.782 8.97311 16.9762 8.76415 17.0987L6 18.719V21.281L8.76415 22.9013C8.97311 23.0238 9.13051 23.218 9.20711 23.4478C9.4399 24.1462 9.63236 24.7095 9.90244 25.1597C10.0441 25.3958 10.0821 25.6798 10.0076 25.9449L9.15491 28.9767L11.0233 30.8451L14.0551 29.9924C14.3202 29.9179 14.6042 29.9559 14.8403 30.0976C15.2905 30.3676 15.8538 30.5601 16.5522 30.7929C16.782 30.8695 16.9762 31.0269 17.0987 31.2359L18.719 34H21.281L22.9013 31.2359C23.0238 31.0269 23.218 30.8695 23.4478 30.7929C24.1462 30.5601 24.7095 30.3676 25.1597 30.0976C25.3958 29.9559 25.6798 29.9179 25.9449 29.9924L28.9767 30.8451L30.8451 28.9767L29.9924 25.9449C29.9179 25.6798 29.9559 25.3958 30.0976 25.1597C30.3676 24.7095 30.5601 24.1462 30.7929 23.4478C30.8695 23.218 31.0269 23.0238 31.2359 22.9013L34 21.281V18.719L31.2359 17.0987C31.0269 16.9762 30.8695 16.782 30.7929 16.5522C30.5601 15.8538 30.3676 15.2905 30.0976 14.8403C29.9559 14.6042 29.9179 14.3202 29.9924 14.0551L30.8451 11.0233L28.9767 9.15491L25.9449 10.0076C25.6798 10.0821 25.3958 10.0441 25.1597 9.90244C24.7095 9.63236 24.1462 9.4399 23.4478 9.20711C23.218 9.13051 23.0238 8.97311 22.9013 8.76415L21.281 6H18.719Z",fill:"currentColor"}),r.a.createElement("path",{d:"M24.7353 19.5518C25.0882 19.751 25.0882 20.249 24.7353 20.4482L16.7941 24.9299C16.4412 25.1291 16 24.8801 16 24.4817V15.5183C16 15.1199 16.4412 14.8709 16.7941 15.0701L24.7353 19.5518Z",fill:"currentColor"}))}),ji=n("./src/pieces/stage/overlay/broadcast-settings-button.scss"),Oi=n.n(ji),Si=(n("./node_modules/bows/bows.js")("Broadcast-settings-button"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({isStageSettingsMenuOpen:Te.selectStageSettingsMenuIsOpen,stageMediaProtocol:Te.selectStageMediaProtocol}),{}))(function(e){e.stageMediaProtocol;var t=e.handleOpenSettingsMenu,n=e.isStageSettingsMenuOpen,i=Object(a.useState)(!0),s=h()(i,2),c=s[0],l=s[1],u={color:o.fe},d={color:o.ge},_={color:o.ge,transition:{type:"tween",duration:.6,ease:"easeInOut",yoyo:1/0}},m=Object(a.useCallback)(function(){t()},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Ae.b.div,{whileHover:{color:o.ge},onTap:function(){return l(!0)},initial:u,animate:n?d:c?u:_,className:Oi.a.stageSettingsButton,onClick:m},r.a.createElement(yi,{size:40}))))})),Ei=n("./src/pieces/chromecast/chromecast-button.scss"),xi=n.n(Ei),ki=(n("./node_modules/bows/bows.js")("Chromecast-button"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({activityId:Te.selectStageLiveActivityId,credentials:i.selectChromecastCredentials}),{}))),Ii=1;function Ti(){var e=cast.framework.CastContext.getInstance();e.setOptions({receiverApplicationId:"FD2E1459",autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,resumeSavedSession:!0}),e.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,function(e){switch(console.log("CAST_STATE_CHANGED",e.castState),e.castState){case cast.framework.CastState.NOT_CONNECTED:case cast.framework.CastState.CONNECTING:case cast.framework.CastState.CONNECTED:}e.castState==cast.framework.CastState.CONNECTED&&function(){var e=cast.framework.CastContext.getInstance().getCurrentSession();if(!e)return;e.sendMessage("urn:x-cast:com.google.cast.cac",{type:"SET_CREDENTIALS",credentials:window.chromecastCredentails,requestId:Ii++}),e.sendMessage("urn:x-cast:com.google.cast.cac",{type:"LOAD_BY_ENTITY",entity:window.activityId,autoPlay:!0,requestId:Ii++})}()})}window.__onGCastApiAvailable=function(e){e&&Ti()};var Fi=ki(function(){return r.a.createElement("div",{className:xi.a.chromecastButtonContainer},r.a.createElement("google-cast-launcher",{id:"cast-button"}))}),Pi=(n("./node_modules/bows/bows.js")("Secondary-broadcast-icon"),function(e){e.className;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 11V29H38V11H2ZM1 9C0.447715 9 0 9.44772 0 10V30C0 30.5523 0.447714 31 0.999999 31H39C39.5523 31 40 30.5523 40 30V10C40 9.44772 39.5523 9 39 9H1Z",fill:"currentColor"}),r.a.createElement("path",{d:"M16.307 22.2929C15.9165 22.6834 15.9166 23.3165 16.3071 23.707C16.6977 24.0975 17.3309 24.0975 17.7214 23.7069L20.0011 21.4273L22.3057 23.7322C22.6962 24.1227 23.3294 24.1227 23.7199 23.7322C24.1104 23.3416 24.1104 22.7084 23.7199 22.3179L21.4153 20.0131L23.7318 17.6965C24.1223 17.306 24.1223 16.6729 23.7317 16.2824C23.3412 15.8919 22.708 15.8919 22.3174 16.2825L20.0012 18.5988L17.7098 16.3071C17.3193 15.9166 16.6861 15.9166 16.2956 16.3071C15.9051 16.6977 15.9051 17.3309 16.2956 17.7214L18.5869 20.013L16.307 22.2929Z",fill:"currentColor"})))}),Ni=n("./src/pieces/stage/overlay/secondary-feed-toggle-button.scss"),Mi=n.n(Ni),Li=(n("./node_modules/bows/bows.js")("Secondary-feed-toggle-button"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({secondaryFeedIsHidden:Te.selectSecondaryFeedIsHidden}),{ToggleSecondaryFeedHiddenness:Te.ToggleSecondaryFeedHiddenness}))),Bi=Li(function(e){var t=e.secondaryFeedIsHidden,n=e.ToggleSecondaryFeedHiddenness,i=Object(a.useCallback)(function(e){n(),e.stopPropagation(),e.preventDefault()},[n]),s=Object(a.useCallback)(function(e){e.stopPropagation()},[]),c={color:o.fe},l={color:o.ge,transition:{type:"tween",duration:.6,ease:"easeInOut",yoyo:1/0}};return r.a.createElement("div",{className:Mi.a.transportControlContainer,onClick:i,onMouseDown:s},r.a.createElement(Ae.b.div,{whileHover:{color:o.ge},initial:c,animate:t?l:c},r.a.createElement(Pi,null)))}),Ai=n("./src/pieces/stage/stage-settings.scss"),Di=n.n(Ai),Ui=(n("./node_modules/bows/bows.js")("Stage-settings"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({stageDirectorViewingOptions:Be.selectStageDirectorViewingOptions,stageMediaProtocol:Te.selectStageMediaProtocol}),{ShowMaxCapacityReactionMessage:Te.ShowMaxCapacityReactionMessage,SetStageMediaProtocol:Te.SetStageMediaProtocol,ShowSwitchStageMediaProtocolError:Te.ShowSwitchStageMediaProtocolError}))),Ri=Ui(function(e){var t=e.stageDirectorViewingOptions,n=e.stageMediaProtocol,i=e.ShowMaxCapacityReactionMessage,s=e.SetStageMediaProtocol,c=e.ShowSwitchStageMediaProtocolError,l=e.handleToggle,u=e.isOpen,d=Object(a.useRef)(null),_=n===o.le,m=Object(a.useState)(!1),g=h()(m,2),b=g[0],p=g[1],f=Object(a.useCallback)(function(){var e=n===o.le?o.ke:o.le;n===o.ke&&t&&!t.includes(e)?(i(),c()):b||(p(!0),s(e),setTimeout(function(){l(),p(!1)},500))},[n,t,b]),v=Object(a.useCallback)(function(e){d.current&&e.target&&!d.current.contains(e.target)&&l()},[d.current]);return Object(a.useEffect)(function(){return u?document.addEventListener("click",v):document.removeEventListener("click",v),function(){return document.removeEventListener("click",v)}},[u]),r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},ref:d,className:Di.a.stageSettings},r.a.createElement(_t.a,{className:Di.a.stageSettingsToggleContainer,onChange:f,value:_}),r.a.createElement("div",{className:Di.a.stageSettingsToggleLabel},"Real-time"),_?r.a.createElement("div",{className:Di.a.helperTextContainer},r.a.createElement("div",null,"Connection issues? ",r.a.createElement("br",null)," Turn off real-time")):r.a.createElement("div",{className:Di.a.helperTextContainer},r.a.createElement("div",null,"React and give props",r.a.createElement("br",null),"with real-time on")))}),Hi=n("./src/pieces/stage/overlay/overlay-controls-area.scss"),Wi=n.n(Hi),Vi=(n("./node_modules/bows/bows.js")("Overlay-controls-area"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({broadcastViewersListIsOpen:Ct.selectBroadcastViewersListIsOpen,isFollowAnimationOn:Te.selectIsFollowAnimationOn,isMuted:Te.selectMute,isStageSettingsMenuOpen:Te.selectStageSettingsMenuIsOpen,overlayIsActive:Te.selectOverlayIsActive,stageDirectorViewingOptions:Be.selectStageDirectorViewingOptions,stageVolume:Te.selectStageVolume,stageBadge:Be.selectStageDirectorBadge}),{CloseBroadcastViewersList:Ct.CloseBroadcastViewersList,CloseStageSettingsMenu:Te.CloseStageSettingsMenu,MuteStage:Te.MuteStage,OpenStageSettingsMenu:Te.OpenStageSettingsMenu,SetStageVolume:Te.SetStageVolume,UnmuteStage:Te.UnmuteStage}))),zi=Vi(function(e){var t,n,i,s=e.alwaysVisible,c=void 0!==s&&s,l=e.broadcastViewersListIsOpen,u=e.feedHasVideo,d=e.handleFullscreenClick,_=e.isFollowAnimationOn,m=e.isPrimaryFeed,g=e.isMuted,b=e.isStageSettingsMenuOpen,p=e.overlayIsActive,f=e.stageDirectorViewingOptions,h=e.stageVolume,v=e.stageBadge,C=e.MuteStage,y=e.SetStageVolume,j=e.UnmuteStage,O=e.OpenStageSettingsMenu,S=e.CloseStageSettingsMenu,E=e.CloseBroadcastViewersList,x=c||p||_||l?Wi.a.visible:Wi.a.invisible,k=Object(a.useCallback)(function(){b?S():(O(),E())},[b,E,S,O]);return r.a.createElement("div",{className:w()(Wi.a.broadcastOverlayControls,x)},r.a.createElement("div",{className:Wi.a.broadcastOverlayControlsContainer},r.a.createElement("div",{className:w()((t={},se()(t,Wi.a.stageSettingsWrapper,!0),se()(t,Wi.a.open,b),t))},r.a.createElement(Ae.b.div,{animate:{x:b&&f&&f.includes(o.ke)?"0%":"100%"},initial:{x:"100%"},transition:{type:"spring",stiffness:200,damping:40}},r.a.createElement(Ri,{isOpen:b,handleToggle:S}))),r.a.createElement("div",{className:Wi.a.transportControlContainer},f&&v!==o.Zd&&f.length>1&&r.a.createElement("div",{className:w()((n={},se()(n,Wi.a.stageSettingsPanel,!0),se()(n,Wi.a.open,b),n))},r.a.createElement(Si,{handleOpenSettingsMenu:k})),f&&!f.includes(o.ke)&&!m&&r.a.createElement("div",{className:w()((i={},se()(i,Wi.a.secondaryFeedToggleContainer,!0),se()(i,Wi.a.noVideoStream,!u),i))},r.a.createElement(Bi,null))),r.a.createElement("div",{className:Wi.a.transportControlContainer},r.a.createElement("div",{className:Wi.a.fullScreenIconContainer},r.a.createElement("button",{className:w()(Wi.a.transportControl,Wi.a.fullScreenIcon),onClick:d},r.a.createElement(Ae.b.div,{whileHover:{color:o.ge},initial:{color:o.fe}},r.a.createElement(Ci,null))))),r.a.createElement("div",{className:Wi.a.transportControlContainer},r.a.createElement("div",{className:Wi.a.chromecastIconContainer},r.a.createElement(Fi,null))),r.a.createElement("div",{className:Wi.a.transportControlContainer},r.a.createElement("div",{className:Wi.a.volumeSliderContainer},r.a.createElement(In,{isMuted:g,volume:h,handleUnmute:j,handleMute:C,setVolumeOnChange:y})))))}),Gi=n("./src/pieces/stage/overlay/stage-overlay.scss"),qi=n.n(Gi),Ji=(n("./node_modules/bows/bows.js")("Overlay"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({bottomFrameContent:Te.selectBottomFrameContent,calibratedStageVolumes:Te.selectCalibratedStageVolumes,dynamicRoleFeedAspectRatio:Te.selectSecondaryStreamAspectRatio,entertainer:Te.selectEntertainer,hasFeedbackPreventionMute:Te.selectHasFeedbackPreventionMute,hlsIsBuffering:Te.selectHlsIsBuffering,hlsUrl:Be.selectStageDirectorHlsUrl,hostConnectionQuality:Te.selectHostConnectionQuality,isFollowAnimationOn:Te.selectIsFollowAnimationOn,isLive:Te.selectIsLiveAndModeIsStageWatcher,isMuted:Te.selectMute,isOwnStage:Te.selectIsCurrentUserOnOwnStage,mediaStreamIds:Te.selectMediaStreamIds,overlayIsActive:Te.selectOverlayIsActive,secondaryFeedIsHidden:Te.selectSecondaryFeedIsHidden,secondaryFeedPosition:Te.selectSecondaryFeedPosition,stageConfigurationTransition:Te.selectStageConfigurationTransition,stageMediaProtocol:Te.selectStageMediaProtocol,paywallHeader:Be.selectStageDirectorPaywallHeader,paywallTitle:Be.selectStageDirectorPaywallTitle,hasPaywall:Be.selectStageDirectorHasPaywall,isStageUnlocked:Be.selectStageDirectorStageUnlocked,price:Be.selectStageDirectorPaywallPrice,stageTitle:Te.selectStageTitle,stageId:Te.selectStageId,navbarIsVisible:Te.selectHeaderIsVisible,isAuthenticated:i.selectIsAuthenticated,currentUserId:Ue.selectCurrentUserId}),{SetSecondaryFeedAlignment:Te.SetSecondaryFeedAlignment,ToggleTicketModal:bi.ToggleTicketModal,BuyPPVShowItem:Nt.BuyPPVShowItem}))),Zi=Ji(function(e){var t,n,i,s,c,l,u,d,_=e.currentUserId,m=e.calibratedStageVolumes,g=e.dynamicRoleFeedAspectRatio,b=e.entertainer,p=e.feed,f=e.isAuthenticated,h=e.handleTrackFollow,v=e.handleTrackUnfollow,C=e.handleFullscreenClick,y=e.hasFeedbackPreventionMute,j=e.hasSlowLoadingWebRTCConnection,O=e.navbarIsVisible,S=e.hlsIsBuffering,E=e.hlsUrl,x=e.hostConnectionQuality,k=e.isFollowAnimationOn,I=e.isLive,T=e.isMuted,F=e.isOwnStage,P=e.mediaStreamIds,N=e.overlayIsActive,M=e.stageBroadcastElementRef,L=e.stageConfigurationTransition,B=e.stageMediaProtocol,A=e.stageTitle,D=e.stageId,U=e.ToggleTicketModal,R=e.secondaryFeedPosition,H=e.secondaryFeedIsHidden,W=e.SetSecondaryFeedAlignment,V=(e.titleIsHidden,e.BuyPPVShowItem,e.paywallHeader),z=e.paywallTitle,G=e.hasPaywall,q=e.isStageUnlocked,J=e.price,Z=Object(a.useRef)(null),Y=N||k,Q=x!==o.zb,K=Object(a.useCallback)(function(){if(M.current&&Z.current){var e=function(e,t){var n=e.left+e.width/2,a=e.top+e.height/2,r=t.left+t.width/2,i=t.top+t.height/2,o=r>n?"Right":"Left";return"".concat(i>a?"bottom":"top").concat(o)}(M.current.getBoundingClientRect(),Z.current.getBoundingClientRect());W(e)}},[M.current]);var X=G&&_!=="CAID".concat(D);return r.a.createElement("div",{className:w()((t={},se()(t,qi.a.overlay,!0),se()(t,qi.a.invisibleOverlay,!Y),t)),id:"stageOverlayDragBoundsDynamicRoleFeed"},X&&r.a.createElement("div",{className:w()(qi.a.gradient,(n={},se()(n,qi.a.gradientWithNavbar,O),se()(n,qi.a.invisible,!Y),se()(n,qi.a.visible,Y),n))}),X&&r.a.createElement("div",{className:w()(qi.a.ticketOuterContainer,(i={},se()(i,qi.a.ticketOuterContainerWithNavbar,O),se()(i,qi.a.invisible,!Y),se()(i,qi.a.visible,Y),i))},r.a.createElement("div",{className:qi.a.ticketMetaContainer},!q&&r.a.createElement("div",{className:qi.a.paywallHeader},"\u{1f512} ",V),q&&r.a.createElement("div",{className:qi.a.paywallHeader},"\u{1f513} Unlocked"),r.a.createElement("div",{className:qi.a.paywallTitle},z)),!q&&r.a.createElement(mi.a,null,r.a.createElement("div",{onClick:function(){f&&U()},className:qi.a.ticketButton},r.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"10",cy:"10",r:"9.5",stroke:"black"}),r.a.createElement("circle",{cx:"10",cy:"10",r:"6",fill:"black"})),r.a.createElement("span",null,J))),q&&r.a.createElement("div",{className:qi.a.ticketButtonPlaceholder})),B===o.le&&P[p.id]&&r.a.createElement("div",{className:w()(se()({},qi.a.feedHasNoVideo,!p.video))},r.a.createElement(_i.a,{bounds:"#stageOverlayDragBoundsDynamicRoleFeed",onStop:K,position:{x:0,y:0},defaultClassNameDragging:qi.a.dynamicRoleFeedAreaBeingDragged},r.a.createElement("div",{className:w()((s={},se()(s,qi.a.dynamicRoleFeedStreamContainer,!0),se()(s,qi.a.nonWidescreen,g<1.5),se()(s,qi.a["".concat(R,"SecondaryFeedPosition")],!0),se()(s,qi.a.isPrimary,p.isPrimary),se()(s,qi.a.noVideoStream,!p.video),se()(s,qi.a[L],L),s)),ref:Z},r.a.createElement("div",{className:w()((c={},se()(c,qi.a.secondaryFeedWrapper,!0),se()(c,qi.a.isPrimary,p.isPrimary),se()(c,qi.a[L],L),c))},r.a.createElement(Tt,{mediaStreamId:P[p.id],className:w()((l={},se()(l,qi.a.dynamicRoleFeedStream,!0),se()(l,qi.a.invisible,H&&!p.isPrimary),se()(l,qi.a.visible,!H),l)),videoProps:{muted:T||!p.audio},handleAspectRatioUpdate:Te.SetDynamicRoleFeedAspectRatio,volume:m&&m.dynamicRoleFeedVolume}))))),B===o.ke&&I&&r.a.createElement("div",{className:w()(se()({},qi.a.feedHasNoVideo,!E))},r.a.createElement(_i.a,{bounds:"#stageOverlayDragBoundsDynamicRoleFeed",onStop:K,position:{x:0,y:0},defaultClassNameDragging:qi.a.dynamicRoleFeedAreaBeingDragged},r.a.createElement("div",{className:w()((u={},se()(u,qi.a.dynamicRoleFeedStreamContainer,!0),se()(u,qi.a.nonWidescreen,g<1.5),se()(u,qi.a["".concat(R,"SecondaryFeedPosition")],!0),se()(u,qi.a.isPrimary,!0),se()(u,qi.a.noVideoStream,!E),se()(u,qi.a[L],L),u)),ref:Z},r.a.createElement("div",{className:w()((d={},se()(d,qi.a.secondaryFeedWrapper,!0),se()(d,qi.a.isPrimary,!0),se()(d,qi.a[L],L),d))},r.a.createElement(wi,{className:w()(qi.a.dynamicRoleFeedStream,qi.a.visible),videoProps:{muted:T},handleAspectRatioUpdate:Te.SetDynamicRoleFeedAspectRatio,volume:m&&m.dynamicRoleFeedVolume}),r.a.createElement(Ae.a,null,S&&r.a.createElement(Ae.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:qi.a.hlsBufferContainer},r.a.createElement(gi,{grayscale:!0}))))))),F&&I&&r.a.createElement(r.a.Fragment,null,r.a.createElement(en,{showBadConnectionIcon:Q}),r.a.createElement(An,null)),y&&r.a.createElement("div",{className:qi.a.feedbackPreventionMuteMessage},"you are muted to prevent feedback",r.a.createElement("br",null),"only you can see your viewers and credits"),A&&b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe,{handleTrackFollow:h,handleTrackUnfollow:v,hasSlowLoadingWebRTCConnection:j}),r.a.createElement(zi,{isPrimaryFeed:!!p.isPrimary,feedHasVideo:!!p.video,handleFullscreenClick:C})))}),Yi=n("./src/pieces/stage/stage-broadcast.scss"),Qi=n.n(Yi),Ki=(n("./node_modules/bows/bows.js")("Stage-broadcast"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({bottomFrameContent:Te.selectBottomFrameContent,calibratedStageVolumes:Te.selectCalibratedStageVolumes,currentUserId:Ue.selectCurrentUserId,followedWatchers:Te.selectFollowedWatchers,entertainer:Te.selectEntertainer,hlsUrl:Be.selectStageDirectorHlsUrl,isLive:Te.selectIsLiveAndModeIsStageWatcher,isMuted:Te.selectMute,isOwnStage:Te.selectIsCurrentUserOnOwnStage,mediaStreamIds:Te.selectMediaStreamIds,stageConfiguration:Te.selectStageConfiguration,stageConfigurationTransition:Te.selectStageConfigurationTransition,stageIsOnline:Te.selectIsLiveAndModeIsStageWatcher,stageMediaProtocol:Te.selectStageMediaProtocol,streamHasLoaded:Te.selectStreamHasLoaded,eagerlyFetchedTrailerUrl:Be.selectEagerlyFetchedTrailerUrl}),{SetOptionalPrimaryFeedAspectRatio:Te.SetOptionalPrimaryFeedAspectRatio,SetSecondaryFeedAlignment:Te.SetSecondaryFeedAlignment,SubscribeToCurrentUserWallet:Ue.SubscribeToCurrentUserWallet,TrackFollowUserFromStage:Te.TrackFollowUserFromStage,TrackUnfollowUserFromStage:Te.TrackUnfollowUserFromStage,UnsubscribeFromCurrentUserWallet:Ue.UnsubscribeFromCurrentUserWallet}))),Xi=Ki(function(e){e.bottomFrameContent;var t,n,i=e.calibratedStageVolumes,s=(e.currentUserId,e.entertainer,e.followedWatchers,e.handleFullscreenClick),c=e.hlsUrl,l=e.isLive,u=e.isMuted,d=e.isOwnStage,_=e.mediaStreamIds,m=e.stageConfiguration,g=e.stageConfigurationTransition,b=e.stageIsOnline,p=e.stageMediaProtocol,f=e.streamHasLoaded,v=e.SetOptionalPrimaryFeedAspectRatio,C=e.SetSecondaryFeedAlignment,y=e.SubscribeToCurrentUserWallet,j=(e.TrackFollowUserFromStage,e.TrackUnfollowUserFromStage,e.UnsubscribeFromCurrentUserWallet),O=e.eagerlyFetchedTrailerUrl,S=e.titleIsHidden,E=e.handleTrackFollow,x=e.handleTrackUnfollow,k=Object(a.useState)(!1),I=h()(k,2),T=I[0],F=I[1],P=Object(a.useRef)(null),N=Object(a.useRef)(null),M=p===o.le;Object(a.useEffect)(function(){return C("topRight"),function(){return j()}},[]),Object(a.useEffect)(function(){!P.current&&c&&M?P.current=setTimeout(function(){return F(!0)},3e3):f&&P.current&&(clearTimeout(P.current),P.current=null,F(!1))},[f,c,M]),Object(a.useEffect)(function(){d&&l&&y()},[l]);var L={optionalPrimaryFeed:m.optionalPrimaryFeed||{},dynamicRoleFeed:m.dynamicRoleFeed||{}};return r.a.createElement(r.a.Fragment,null,f?r.a.createElement("div",null):r.a.createElement("div",{className:Qi.a.redesign_spinnerBackground},r.a.createElement(Wn,{loaded:!!p&&!M||!!O})),r.a.createElement("div",{className:Qi.a.redesign_broadcast,ref:N},r.a.createElement("div",{className:w()((t={},se()(t,Qi.a.placeholderVideoContainer,!0),se()(t,Qi.a.isVisible,!L.optionalPrimaryFeed.video&&!L.dynamicRoleFeed.video&&b),t))},r.a.createElement(Wn,{loaded:!!p&&!M||!!O})),r.a.createElement("div",{className:w()((n={},se()(n,Qi.a.optionalPrimaryFeedStreamContainer,!0),se()(n,Qi.a.noVideoStream,!L.optionalPrimaryFeed.video),se()(n,Qi.a[g],g),n))},_[L.optionalPrimaryFeed.id]&&r.a.createElement(Tt,{mediaStreamId:_[L.optionalPrimaryFeed.id],className:Qi.a.optionalPrimaryFeedStream,handleAspectRatioUpdate:v,videoProps:{muted:u||!L.optionalPrimaryFeed.audio},volume:i&&i.optionalPrimaryFeedVolume})),r.a.createElement(Zi,{paywallHeader:"Watch",feed:L.dynamicRoleFeed,handleFullscreenClick:s,handleTrackFollow:E,handleTrackUnfollow:x,hasSlowLoadingWebRTCConnection:T,stageBroadcastElementRef:N,titleIsHidden:S})))}),$i=n("./src/pieces/profile/profile.reducer.js"),eo=n("./node_modules/react-modal/lib/index.js"),to=n.n(eo),no=n("./src/pieces/authentication/authentication-wall.scss"),ao=n.n(no),ro=(n("./node_modules/bows/bows.js")("Authentication-wall"),Object(B.a)(Object(A.b)(null,{PushRoute:X.push}),S.e,Object(B.d)({close:function(e){e.location.pathname,e.PushRoute;return function(){window.location.replace("/")}}}))),io=ro(function(e){var t=e.children,n=e.close,a=Object(vr.a)();return r.a.createElement(to.a,{overlayClassName:w()(ao.a.redesign_overlay),className:ao.a.container,isOpen:!!t,onRequestClose:n,contentLabel:"Please sign up or sign in to watch with your friends on Caffeine"},t?a?r.a.createElement("div",{className:ao.a.redesign_container},t):r.a.createElement("div",{className:ao.a.redesign_container},r.a.createElement("div",{className:ao.a.redesign_content},r.a.createElement("button",{className:ao.a.redesign_authCloseButton,onClick:n},r.a.createElement(mn.a,{size:"small"})),t)):null)}),oo=n("./src/pieces/feed/broadcast-viewers.scss"),so=n.n(oo),co=(n("./node_modules/bows/bows.js")("Broadcast-viewers"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({viewers:Te.selectFollowedWatchers}),{}))),lo=co(function(e){var t=e.viewers;return 1===t.length?r.a.createElement("div",{className:so.a.broadcastViewers},r.a.createElement("div",{className:so.a.avatar},r.a.createElement(bn.a,{user:t[0],size:"medium"}))):t.length>1?r.a.createElement("div",{className:so.a.broadcastViewers},r.a.createElement("div",{className:so.a.avatars},r.a.createElement(bn.a,{user:t[0],size:"medium"}),r.a.createElement(bn.a,{user:t[1],size:"medium"}))):r.a.createElement("div",{className:so.a.broadcastLive},r.a.createElement("div",{className:so.a.username},"live"))}),uo=n("./src/pieces/feed/broadcast-viewer-menu.scss"),_o=n.n(uo),mo=(n("./node_modules/bows/bows.js")("Broadcast-viewer-menu"),function(e){var t=e.viewer,n=e.darkTheme;return r.a.createElement("div",{className:n?_o.a.broadcastViewerWithDarkTheme:_o.a.redesign_broadcastViewer},r.a.createElement("div",{className:_o.a.userSnippetContainer},r.a.createElement(Ye.a,{size:"small",avatarSize:"medium",user:t,linkToProfileInNewTab:!0,darkTheme:n,isFullWidth:!0,hideFollowButton:!0})))}),go=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({badge:Be.selectStageDirectorBadge,viewers:Te.selectFollowedWatchers}),{}))(function(e){var t,n,i,s=e.darkTheme,c=e.badge,l=e.viewers,u=Object(a.useState)(!1),d=h()(u,2),_=d[0],m=d[1],g=Object(a.useRef)(null),b=Object(a.useCallback)(function(e){g.current&&e.target&&!g.current.contains(e.target)&&m(!1)},[g.current]),p=Object(a.useCallback)(function(){return m(!_)},[_]),f=function(){return document.removeEventListener("click",b)};return Object(a.useEffect)(function(){return g.current&&_?document.addEventListener("click",b):f(),f},[g.current,_]),r.a.createElement("div",{className:w()((t={},se()(t,_o.a.broadcastViewerMenu,!0),se()(t,_o.a.open,_),t))},r.a.createElement("div",{className:_o.a.socialHoverContent},r.a.createElement("div",{onClick:p,className:_o.a.trigger},r.a.createElement("div",{className:_o.a.socialHoverViewers},r.a.createElement(lo,null)),r.a.createElement("div",{className:w()((n={},se()(n,_o.a.dropdownWrapper,!0),se()(n,_o.a.open,_),n)),ref:g},r.a.createElement("div",{className:w()((i={},se()(i,_o.a.redesign_dropdown,!0),se()(i,_o.a.redesign_darkTheme,s),i))},r.a.createElement("div",{className:s?_o.a.broadcastViewersWithDarkTheme:_o.a.broadcastViewers},l.map(function(e){return r.a.createElement(mo,{key:"viewer-".concat(e.caid),viewer:e,darkTheme:s})})))))),r.a.createElement("div",{className:c===o.Yd?_o.a.liveBackground:_o.a.offAirBackground}))}),bo=n("./node_modules/react-infinite-scroll-component/dist/index.es.js"),po=n("./src/pieces/stage/tab.scss"),fo=n.n(po),ho=(n("./node_modules/bows/bows.js")("Tab"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({selectedTab:Te.selectSelectedTab}),{SetSelectedTab:Te.SetSelectedTab}))(function(e){var t,n=e.isActive,a=void 0!==n&&n,i=e.displayTitle,o=e.title,s=e.selectedTab,c=e.SetSelectedTab,l=e.handleTabClick;return r.a.createElement("div",{className:w()((t={},se()(t,fo.a.tab,!0),se()(t,fo.a.isActive,a),t)),onClick:function(){l&&s!==o&&l(),c(o)},"data-title":i||o},i||o)})),vo=n("./src/pieces/stage/stage-frame.scss"),wo=n.n(vo),Co=(n("./node_modules/bows/bows.js")("Profile-content"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({stageMode:Te.selectStageMode,selectedTab:Te.selectSelectedTab,entertainerFollowing:$i.selectFollowingUsers,entertainerFollowers:$i.selectFollowerUsers,editedBio:$i.selectEditedBio,followedWatchers:Te.selectFollowedWatchers,currentProfileUser:$i.selectCurrentProfileUser,isAuthenticated:i.selectIsAuthenticated,hasMoreFollowerUsers:$i.selectHasMoreFollowerUsers,hasMoreFollowingUsers:$i.selectHasMoreFollowingUsers}),{SetEditedBio:$i.SetEditedBio,SaveEditedUser:$i.SaveEditedUser,FetchInitialFollowerUsers:$i.FetchInitialFollowerUsers,FetchInitialFollowingUsers:$i.FetchInitialFollowingUsers,FetchMoreFollowerUsers:$i.FetchMoreFollowerUsers,FetchMoreFollowingUsers:$i.FetchMoreFollowingUsers,TrackFollowUserFromStage:Te.TrackFollowUserFromStage,TrackUnfollowUserFromStage:Te.TrackUnfollowUserFromStage}))),yo=function(e){var t=e.children;return r.a.createElement("div",{className:wo.a.redesign_emptyMessageWrapper},r.a.createElement("div",{className:wo.a.redesign_emptyMessageContent},t))},jo=Co(function(e){var t,n,i,s,c=e.currentUser,l=e.entertainer,u=e.stageMode,d=e.selectedTab,_=e.entertainerFollowing,m=e.editedBio,g=e.followedWatchers,b=e.currentProfileUser,p=e.entertainerFollowers,f=e.hasMoreFollowerUsers,v=e.hasMoreFollowingUsers,C=e.FetchInitialFollowerUsers,y=e.FetchInitialFollowingUsers,j=e.FetchMoreFollowerUsers,O=e.FetchMoreFollowingUsers,S=e.SetEditedBio,E=e.SaveEditedUser,x=e.TrackFollowUserFromStage,k=e.TrackUnfollowUserFromStage,I=e.isAuthenticated,T=Object(a.useRef)(null),F=Object(a.useState)(!1),P=h()(F,2),N=P[0],M=P[1],L=Object(a.useState)(o.ad),B=h()(L,2),A=B[0],D=B[1],U=Object(a.useState)(o.ad),R=h()(U,2),H=R[0],W=R[1],V=c&&l&&c.caid===l.caid,z=d===Le.c.Biography,G=be()([[function(){return V&&null!==m},function(){return m}],[function(){return V&&Boolean(b)},function(){return b.bio||""}],[function(){return!0},function(){return l.bio||""}]])(l),q=Object(a.useCallback)(function(){z&&T.current&&T.current.focus()},[z,T.current]);Object(a.useEffect)(function(){D(d===Le.c.Followers?p.length:0)},[p]),Object(a.useEffect)(function(){W(d===Le.c.Following?_.length:0)},[_]),Object(a.useEffect)(function(){I&&(d===Le.c.Followers?Z():d===Le.c.Following&&Y())},[I]);var J=function(){D(0),W(0)},Z=Object(a.useCallback)(function(){I&&C(),J()},[I]),Y=Object(a.useCallback)(function(){I&&y(),J()},[I]),Q=Object(a.useCallback)(function(e,t){return x({currentUserId:c.caid,lobbyPayloadId:l.stageId||Object(De.a)(l.caid),entertainerDetails:l,eventDetails:e,followedWatchers:g,type:t})},[x,l,c,g]),K=Object(a.useCallback)(function(e,t){return k({currentUserId:c.caid,lobbyPayloadId:l.stageId||Object(De.a)(l.caid),entertainerDetails:l,eventDetails:e,followedWatchers:g,type:t})},[k,l,c,g]),X=Object(a.useCallback)(function(e){Q(e,o.Cc.FOLLOWING_LIST)},[Q]),$=Object(a.useCallback)(function(e){K(e,o.Cc.FOLLOWING_LIST)},[K]),ee=Object(a.useCallback)(function(e){Q(e,o.Cc.FOLLOWER_LIST)},[Q]),te=Object(a.useCallback)(function(e){K(e,o.Cc.FOLLOWER_LIST)},[K]);Object(a.useEffect)(function(){d===Le.c.Followers&&(D(o.ad),W(0)),d===Le.c.Following&&(W(o.ad),D(0))},[d]),Object(a.useEffect)(function(){return function(){J()}},[]);var ne=l?"".concat(Ft(l.followingCount)," ").concat(Le.c.Following):"",ae=l?"".concat(Ft(l.followersCount)," ").concat(Le.c.Followers):"",re=H<o.Yc&&(v||H<_.length),ie=A<o.Yc&&(f||A<p.length),oe=Object(a.useState)(!1),ce=h()(oe,2),le=ce[0],ue=ce[1];Object(a.useEffect)(function(){_.length&&ue(!0)},[_]);var de=Object(a.useState)(!1),_e=h()(de,2),me=_e[0],ge=_e[1];return Object(a.useEffect)(function(){p.length&&ge(!0)},[p]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:wo.a.redesign_profileContent},r.a.createElement("div",{className:wo.a.redesign_tabs},r.a.createElement(ho,{title:Le.c.Biography,isActive:d===Le.c.Biography,handleTabClick:J}),r.a.createElement(ho,{title:Le.c.Followers,displayTitle:ae,isActive:d===Le.c.Followers,handleTabClick:Z}),r.a.createElement(ho,{title:Le.c.Following,displayTitle:ne,isActive:d===Le.c.Following,handleTabClick:Y})),d===Le.c.Biography&&r.a.createElement("div",{className:w()((t={},se()(t,wo.a.redesign_tabContent,!0),se()(t,wo.a.redesign_biographyTabContent,!0),t)),onClick:q},V||G?r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{ref:T,maxLength:300,className:w()((n={},se()(n,wo.a.redesign_biography,!0),se()(n,wo.a.editableField,V),n)),onChange:function(e){return S(e.target.value)},onBlur:function(){M(!1),null!==m&&c&&E(c.caid,{bio:m})},onFocus:function(){M(!0)},placeholder:V?"Add a description of yourself":void 0,value:G,disabled:!V||u===o.ne}),V&&!N&&u!==o.ne&&r.a.createElement("span",{className:wo.a.redesign_editBio},"tap to edit")):r.a.createElement(yo,null,l.username," does not have a bio available")),d===Le.c.Following&&r.a.createElement("div",{className:wo.a.redesign_tabContent,id:"scrollableFollowing"},r.a.createElement("div",{className:w()((i={},se()(i,wo.a.redesign_followContent,!0),se()(i,wo.a.redesign_profileAnonymousContainer,!I),i))},V||l.followingCount?r.a.createElement(r.a.Fragment,null,I&&r.a.createElement(bo.a,{dataLength:H,next:function(){H<_.length?W(H+o.ad):O()},hasMore:re,loader:r.a.createElement("h4",null,"Loading..."),scrollableTarget:"scrollableFollowing",scrollThreshold:.3,initialScrollY:0},_.slice(0,H).map(function(e){var t;return r.a.createElement("div",{key:e.caid,className:w()((t={},se()(t,wo.a.redesign_followPillWrapper,!0),se()(t,wo.a.redesign_followersPillWrapperOpacity,le),t))},r.a.createElement(Ye.a,{user:e,darkTheme:!0,accentColor:!0,linkToProfile:!0,hollow:!0,afterFollowHandler:X,afterUnfollowHandler:$}))})),!I&&r.a.createElement(yo,null,"Sign up to see who ",l&&l.username," is following")):I?r.a.createElement(yo,null,l.username," is not following anyone"):r.a.createElement(yo,null,"Sign up to follow ",l.username))),d===Le.c.Followers&&r.a.createElement("div",{className:wo.a.redesign_tabContent,id:"scrollableFollowers"},r.a.createElement("div",{className:w()((s={},se()(s,wo.a.redesign_followContent,!0),se()(s,wo.a.redesign_profileAnonymousContainer,!I),s))},V||l.followersCount>0?r.a.createElement(r.a.Fragment,null,I&&r.a.createElement(bo.a,{dataLength:A,next:function(){A<p.length?D(A+o.ad):j()},hasMore:ie,loader:r.a.createElement("h4",null,"Loading..."),scrollableTarget:"scrollableFollowers",scrollThreshold:.3,initialScrollY:0},p.slice(0,A).map(function(e){var t;return r.a.createElement("div",{key:e.caid,className:w()((t={},se()(t,wo.a.redesign_followPillWrapper,!0),se()(t,wo.a.redesign_followersPillWrapperOpacity,me),t))},r.a.createElement(Ye.a,{user:e,darkTheme:!0,accentColor:!0,linkToProfile:!0,hollow:!0,afterFollowHandler:ee,afterUnfollowHandler:te}))})),!I&&r.a.createElement(yo,null,"Sign up to see ",l&&l.username,"'s followers")):I?r.a.createElement(yo,null,l.username," has no followers"):r.a.createElement(yo,null,"Sign up to follow ",l.username)))))}),Oo=(n("./node_modules/bows/bows.js")("Live-badge"),function(e){return r.a.createElement(Fe.a,{className:e.className},r.a.createElement("svg",{viewBox:"0 0 108 56"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#FFF",d:"M-746-262h926v735h-926z"}),r.a.createElement("path",{fill:"#00F",d:"M0 0h108v56H0z"}),r.a.createElement("g",{fill:"#FFF"},r.a.createElement("path",{d:"M 44 25 c -0.552 0 -1 0.492 -1 1.1 v 8.8 c 0 0.608 0.448 1.1 1 1.1 s 1 -0.492 1 -1.1 v -8.8 c 0 -0.608 -0.448 -1.1 -1 -1.1 M 61.389 29.4 a 3.305 3.305 0 0 1 3.112 -2.2 c 1.434 0 2.657 0.92 3.11 2.2 H 61.39 z M 64.5 25 A 5.507 5.507 0 0 0 59 30.5 c 0 3.033 2.468 5.5 5.5 5.5 c 1.47 0 2.85 -0.572 3.89 -1.61 c 0.43 -0.43 0.43 -1.127 0 -1.556 a 1.098 1.098 0 0 0 -1.556 0 a 3.28 3.28 0 0 1 -2.333 0.966 a 3.306 3.306 0 0 1 -3.112 -2.2 H 68.9 a 1.1 1.1 0 0 0 1.1 -1.1 c 0 -3.033 -2.467 -5.5 -5.5 -5.5 z M 39 20 c -0.552 0 -1 0.511 -1 1.143 v 13.714 c 0 0.632 0.448 1.143 1 1.143 s 1 -0.511 1 -1.143 V 21.143 C 40 20.51 39.552 20 39 20 M 44 23 a 1 1 0 1 0 0 -2 a 1 1 0 0 0 0 2 M 57.392 25.117 a 1.1 1.1 0 0 0 -1.476 0.492 L 52.5 32.44 l -3.416 -6.832 a 1.099 1.099 0 1 0 -1.968 0.983 l 4.4 8.8 l 0.017 0.03 l 0.015 0.028 c 0.015 0.027 0.032 0.053 0.05 0.079 l 0.006 0.009 l 0.052 0.067 l 0.018 0.021 c 0.017 0.02 0.036 0.039 0.054 0.057 l 0.014 0.014 c 0.023 0.022 0.048 0.043 0.073 0.064 l 0.015 0.01 c 0.022 0.018 0.046 0.035 0.07 0.05 l 0.016 0.011 c 0.029 0.018 0.058 0.034 0.088 0.05 l 0.004 0.002 l 0.007 0.003 c 0.035 0.016 0.07 0.032 0.107 0.045 l 0.008 0.004 c 0.035 0.012 0.07 0.022 0.106 0.031 l 0.026 0.006 c 0.034 0.008 0.068 0.014 0.102 0.018 l 0.026 0.003 c 0.036 0.003 0.071 0.005 0.106 0.005 L 52.5 36 h 0.004 c 0.036 0 0.071 -0.003 0.106 -0.006 l 0.027 -0.003 c 0.034 -0.004 0.068 -0.01 0.102 -0.018 l 0.027 -0.006 c 0.035 -0.009 0.07 -0.019 0.104 -0.031 l 0.01 -0.004 c 0.036 -0.014 0.07 -0.028 0.105 -0.045 l 0.008 -0.003 l 0.003 -0.002 c 0.03 -0.016 0.06 -0.032 0.089 -0.05 l 0.016 -0.011 a 1 1 0 0 0 0.07 -0.05 l 0.015 -0.01 c 0.025 -0.02 0.05 -0.042 0.073 -0.064 l 0.015 -0.015 a 1.447 1.447 0 0 0 0.07 -0.077 c 0.019 -0.022 0.036 -0.044 0.052 -0.067 l 0.007 -0.01 c 0.018 -0.025 0.034 -0.05 0.05 -0.078 l 0.015 -0.028 l 0.017 -0.03 l 4.4 -8.8 a 1.1 1.1 0 0 0 -0.492 -1.475"})))))}),So=(n("./node_modules/bows/bows.js")("Off-air-badge"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{viewBox:"0 0 108 56",width:108,height:56,preserveAspectRatio:"none"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#28283C",d:"M0 0h108v56H0z"}),r.a.createElement("path",{d:"M 60.994 24.572 c 3.053 0 5.551 2.445 5.666 5.494 l 0.004 0.22 v 4.571 c 0 0.631 -0.508 1.143 -1.135 1.143 a 1.137 1.137 0 0 1 -1.126 -1.018 l -0.007 -0.125 A 5.63 5.63 0 0 1 60.994 36 c -3.124 0 -5.668 -2.564 -5.668 -5.715 c 0 -3.15 2.544 -5.713 5.668 -5.713 z m -30.326 0 c 3.126 0 5.67 2.562 5.67 5.713 c 0 3.151 -2.544 5.715 -5.67 5.715 C 27.543 36 25 33.436 25 30.285 c 0 -3.15 2.543 -5.713 5.668 -5.713 z m 38.262 0 c 0.585 0 1.067 0.445 1.128 1.018 l 0.007 0.124 v 9.143 c 0 0.63 -0.508 1.143 -1.135 1.143 a 1.138 1.138 0 0 1 -1.127 -1.019 l -0.007 -0.124 v -9.143 c 0 -0.63 0.508 -1.143 1.134 -1.143 z m 7.936 0 c 0.627 0 1.134 0.511 1.134 1.142 c 0 0.631 -0.507 1.143 -1.134 1.143 c -1.813 0 -3.3 1.437 -3.396 3.24 l -0.005 0.188 v 4.572 c 0 0.63 -0.507 1.143 -1.133 1.143 a 1.138 1.138 0 0 1 -1.127 -1.019 l -0.007 -0.124 v -4.572 c 0 -3.15 2.543 -5.714 5.668 -5.714 z M 49.374 20 c 0.626 0 1.134 0.512 1.134 1.143 c 0 0.63 -0.508 1.143 -1.134 1.143 c -1.41 0 -2.623 0.87 -3.137 2.107 l -0.069 0.179 h 3.206 c 0.626 0 1.134 0.51 1.134 1.143 a 1.14 1.14 0 0 1 -1.01 1.135 l -0.124 0.007 h -3.401 v 8 c 0 0.631 -0.507 1.142 -1.133 1.142 a 1.137 1.137 0 0 1 -1.128 -1.018 l -0.007 -0.125 v -8 h -3.968 v 8 c 0 0.632 -0.508 1.143 -1.133 1.143 a 1.137 1.137 0 0 1 -1.127 -1.018 l -0.006 -0.125 v -9.141 c 0 -3.151 2.542 -5.715 5.668 -5.715 c 0.627 0 1.134 0.512 1.134 1.143 c 0 0.63 -0.507 1.143 -1.134 1.143 c -1.41 0 -2.623 0.87 -3.138 2.107 l -0.068 0.179 h 3.886 C 44.347 21.967 46.637 20 49.374 20 z m 11.62 6.857 c -1.875 0 -3.401 1.538 -3.401 3.428 c 0 1.891 1.526 3.43 3.401 3.43 c 1.876 0 3.402 -1.539 3.402 -3.43 c 0 -1.89 -1.526 -3.428 -3.402 -3.428 z m -30.326 0 c -1.876 0 -3.401 1.538 -3.401 3.428 c 0 1.891 1.525 3.43 3.401 3.43 s 3.402 -1.539 3.402 -3.43 c 0 -1.89 -1.526 -3.428 -3.402 -3.428 z M 68.93 20 c 0.627 0 1.135 0.512 1.135 1.143 s -0.508 1.143 -1.135 1.143 a 1.139 1.139 0 0 1 -1.134 -1.143 c 0 -0.63 0.508 -1.143 1.134 -1.143 z",fill:"#9696BE"}))))}),Eo=(n("./node_modules/bows/bows.js")("Replay-badge"),function(e){return r.a.createElement(Fe.a,{className:e.className},r.a.createElement("svg",{width:"108",height:"56",fill:"none",viewBox:"0 0 108 56"},r.a.createElement("path",{fill:"#464657",d:"M0 0h108v56H0V0z"}),r.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M69 26a4.5 4.5 0 100 9 4.5 4.5 0 000-9zm4.5 10.5a1.5 1.5 0 003 0v-6a7.5 7.5 0 10-3 6zM58.5 17a1.5 1.5 0 011.5 1.5v18a1.5 1.5 0 01-3 0v-18a1.5 1.5 0 011.5-1.5z",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#fff",d:"M79.5 23a1.5 1.5 0 011.5 1.5v6a4.5 4.5 0 109 0v-6a1.5 1.5 0 113 0v14.25a7.5 7.5 0 01-7.5 7.5 1.5 1.5 0 010-3 4.5 4.5 0 004.5-4.5V36.5a7.5 7.5 0 01-12-6v-6a1.5 1.5 0 011.5-1.5z"}),r.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M48 26a4.5 4.5 0 100 9 4.5 4.5 0 000-9zm-4.5 10.5a7.5 7.5 0 10-3-6v12a1.5 1.5 0 003 0v-6zM26.197 25.197A7.5 7.5 0 0139 30.5a1.5 1.5 0 01-1.5 1.5H27.256a4.497 4.497 0 005.123 2.918 4.5 4.5 0 002.305-1.233 1.5 1.5 0 012.122 2.12 7.5 7.5 0 11-10.61-10.608zM27.257 29h8.486a4.499 4.499 0 00-8.486 0zM22.5 26a4.5 4.5 0 00-4.5 4.5v6a1.5 1.5 0 01-3 0v-6a7.5 7.5 0 017.5-7.5 1.5 1.5 0 010 3z",clipRule:"evenodd"})))}),xo=n("./node_modules/react-autosize-textarea/lib/index.js"),ko=n.n(xo),Io=n("./src/pieces/stage/editable-name.scss"),To=n.n(Io),Fo=(n("./node_modules/bows/bows.js")("Editable-name"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({editedName:$i.selectEditedName,currentProfileUser:$i.selectCurrentProfileUser}),{SetEditedName:$i.SetEditedName,SaveEditedUser:$i.SaveEditedUser}))(function(e){var t=e.caid,n=e.currentProfileUser,a=e.editedName,i=e.name,o=e.username,s=e.SetEditedName,c=e.SaveEditedUser,l=be()([[function(){return null!==a},function(){return a}],[function(){return Boolean(n)},function(){return n.name||""}],[function(){return!0},function(){return i||o}]])(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ko.a,{rows:1,className:To.a.editableName,value:l,onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},onChange:function(e){s(e.target.value)},onBlur:function(e){a?c(t,{name:a}):e.target.value||(s(o),c(t,{name:o}))},placeholder:"Name",maxLength:30}),r.a.createElement("div",{className:To.a.divider}))})),Po=(n("./node_modules/bows/bows.js")("Broadcast-stream-mp4"),navigator.userAgent.toLowerCase().includes("android")),No=Object(B.a)(Object(A.b)(null,{ResetStreamHasLoaded:Te.ResetStreamHasLoaded,SetStreamHasLoaded:Te.SetStreamHasLoaded}))(function(e){var t,n=e.className,i=void 0===n?"":n,o=e.handleAspectRatioUpdate,s=e.srcUrl,c=e.videoProps,l=void 0===c?{}:c,u=e.volume,d=void 0===u?100:u,_=e.ResetStreamHasLoaded,m=e.SetStreamHasLoaded,g=Object(a.useRef)(null),b=Object(a.useState)(!1),p=h()(b,2),f=p[0],v=p[1],C=Object(a.useCallback)(function(){v(!0)},[]),y=Object(a.useCallback)(function(){return g.current&&g.current.play()},[]),j=Object(a.useCallback)(function(){if(g&&g.current){var e=g.current.videoWidth/g.current.videoHeight;o(e)}},[o]);return Object(a.useEffect)(function(){return window.addEventListener("beforeunload",C),g.current&&g.current.addEventListener("pause",y),function(){window.removeEventListener("beforeunload",C),g.current&&g.current.removeEventListener("pause",y),_()}},[_]),Object(a.useEffect)(function(){g&&g.current&&(g.current.volume=Number.isFinite(d)?d/100:1)},[d]),Object(a.useEffect)(function(){g.current&&(g.current.load(),g.current.play())},[s]),r.a.createElement("video",nt()({ref:g,loop:!0,autoPlay:!0,playsInline:!0,className:w()((t={},se()(t,xt.a.broadcastStream,!0),se()(t,xt.a.hide,f),se()(t,xt.a.android,Po),se()(t,i,!!i),t)),onLoadedMetadata:j,onLoadedData:m,onCanPlay:y},l),r.a.createElement("source",{src:s,type:"video/mp4"}))}),Mo=n("./src/pieces/stage/trailer-stage.scss"),Lo=n.n(Mo),Bo=(n("./node_modules/bows/bows.js")("Trailer-stage"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({currentUser:Ue.selectCurrentUser,displayCursor:Te.selectOverlayIsActive,entertainer:Te.selectEntertainer,isMuted:Te.selectMute,isOwnStage:Te.selectIsCurrentUserOnOwnStage,stageVolume:Te.selectStageVolume,title:Be.selectStageDirectorTitle,trailerUrl:Be.selectStageDirectorTrailerUrl}),{SetDynamicRoleFeedAspectRatio:Te.SetDynamicRoleFeedAspectRatio}))(function(e){var t,n,a=e.currentUser,i=e.entertainer,o=e.handleFullscreenClick,s=e.handleUsernameClicked,c=e.hideCursor,l=e.isMuted,u=e.isOwnStage,d=e.displayCursor,_=e.showCursor,m=e.showFriendsWatching,g=e.stageVolume,b=e.title,p=e.trailerUrl,f=e.SetDynamicRoleFeedAspectRatio;return r.a.createElement("div",{className:w()((t={},se()(t,Lo.a.trailerFrameContainer,!0),se()(t,Lo.a.hideCursor,!d),t)),onMouseMove:_,onMouseLeave:c},r.a.createElement("div",{className:Lo.a.trailerFrame},r.a.createElement("div",null,m?r.a.createElement(go,{darkTheme:!0}):r.a.createElement("div",{className:Lo.a.badge},r.a.createElement(So,null))),r.a.createElement(No,{srcUrl:p,handleAspectRatioUpdate:f,volume:g,videoProps:{muted:l}}),r.a.createElement(zi,{isPrimaryFeed:!0,feedHasVideo:!0,alwaysVisible:!0,handleFullscreenClick:o}),r.a.createElement("div",{className:Lo.a.lowerThirdContainer},i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("span",{className:Lo.a.title},b),r.a.createElement("div",{className:w()((n={},se()(n,Lo.a.snippetSubtitle,!0),se()(n,Lo.a.noUserActionMenu,!a||u),n))},r.a.createElement(Ye.a,{darkTheme:!0,hideAvatar:!0,hideFollowButton:!0,size:"large",user:i,onUsernameClickedHandler:s,showUserActionsMenu:!u&&!!a}))),r.a.createElement(qe,{entertainer:i})))))})),Ao=n("./node_modules/bows/bows.js")("Stage-frame"),Do=ve()(function(e){return e(!1)},o.ae),Uo=fe()(function(e,t){e||t(!0),Do(t)},200),Ro=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({badge:Be.selectStageDirectorBadge,bottomFrameContent:Te.selectBottomFrameContent,contentRating:Be.selectStageDirectorContentRating,currentUser:Ue.selectCurrentUser,currentUserIsAuthenticated:i.selectIsAuthenticated,currentUserIsEmailUnverified:Ue.selectCurrentUserEmailUnverified,digitalItemPickerStep:Nt.selectDigitalItemPickerStep,entertainerFollowing:$i.selectFollowingUsers,entertainerFollowers:$i.selectFollowerUsers,entertainer:Te.selectEntertainer,followedWatchers:Te.selectFollowedWatchers,navbarIsVisible:Te.selectHeaderIsVisible,hasExceptionForBroadcastOverride:Be.selectStageDirectorHasExceptionForBroadcastOverride,isActiveInAnotherSession:et.selectWebBroadcastIsActiveInAnotherSession,isBouncerActive:i.selectBouncerDialogIsActive,isFullScreen:Te.selectFullScreen,isLive:et.selectIsWebBroadcastLive,isLiveAsStageWatcher:Te.selectIsLiveAndModeIsStageWatcher,isReactionsDisabled:Be.selectStageDirectorReactionsDisabled,isOwnStage:Te.selectIsCurrentUserOnOwnStage,isSelectSnapshotDialogOpen:et.selectIsSelectSnapshotDialogOpen,linkCopied:$n.selectLinkedCopied,initialStreamHasLoaded:Te.selectInitialStreamHasLoaded,overlayIsActive:Te.selectOverlayIsActive,reactionFrameContent:Te.selectReactionFrameContent,selectedShareTabIndex:$n.selectCurrentTabIndex,selectedTab:Te.selectSelectedTab,sessionType:i.selectUserSessionType,showMaxCapacityReactionMessage:Te.selectShowMaxCapacityReactionMessage,stageBroadcastContainerAspectRatio:Te.selectStageBroadcastContainerAspectRatio,stageDirectorViewingOptions:Be.selectStageDirectorViewingOptions,stageMediaProtocol:Te.selectStageMediaProtocol,stageMode:Te.selectStageMode,trailerUrl:Be.selectStageDirectorTrailerUrl,eagerlyFetchedTrailerUrl:Be.selectEagerlyFetchedTrailerUrl,stageTitle:Te.selectStageTitle,currentUserId:Ue.selectCurrentUserId,hasPaywall:Be.selectStageDirectorHasPaywall}),{LoadStage:Te.LoadStage,UnloadStage:Te.UnloadStage,PromptForNavigationFromLiveBroadcast:et.PromptForNavigationFromLiveBroadcast,PushRoute:X.push,SetBottomFrameContent:Te.SetBottomFrameContent,SetBroadcastOverlayActiveness:Te.SetBroadcastOverlayActiveness,SetFullScreen:Te.SetFullScreen,SetReactionFrameContent:Te.SetReactionFrameContent,SetSelectedTab:Te.SetSelectedTab,SwitchStageMode:Te.SwitchStageMode,TrackFollowUserFromStage:Te.TrackFollowUserFromStage,TrackUnfollowUserFromStage:Te.TrackUnfollowUserFromStage}),Object(B.d)({showOverlay:function(e){return function(){return Uo(e.overlayIsActive,e.SetBroadcastOverlayActiveness)}},hideOverlay:function(e){return function(){Uo.cancel(),e.SetBroadcastOverlayActiveness(!1)}}}),S.e),Ho=be()([[function(e){return e.stageMode===o.me},function(){return null}],[function(e){return e.badge===o.Yd},function(){return r.a.createElement(Oo,{className:wo.a.liveBadge})}],[function(e){var t=e.badge,n=e.stageMode;return t===o.Zd&&n===o.ne},function(){return r.a.createElement(So,null)}],[function(e){return e.badge===o.Zd},function(){return r.a.createElement(Eo,{className:wo.a.replayBadge})}],[function(){return!0},function(){return r.a.createElement(So,null)}]]),Wo=be()([[function(e){return e.stageMode===o.re},function(){return r.a.createElement(M,{darkTheme:!0,title:"You're off air",message:"Looks like your network is unavailable.\nCheck your internet connection and try again."})}],[function(e){return e.stageMode===o.oe},function(){return r.a.createElement(M,{darkTheme:!0,title:"Sorry about that.",message:"Something went wrong.\nTry reloading the page again."})}],[function(e){return e.stageMode===o.te},function(){return r.a.createElement(M,{darkTheme:!0,title:"This page isn\u2019t available.",message:"The link you followed may be broken or this page may have been removed.",buttonText:"go to caffeine",buttonRedirectURL:"/"})}],[function(e){return e.stageMode===o.se},function(){return r.a.createElement(M,{darkTheme:!0,title:"Out of capacity",message:"We are temporarily at capacity. We're working on it\nand you can check back in a little while."})}],[function(e){return e.stageMode===o.pe},function(){return r.a.createElement(M,{darkTheme:!0,title:"Broadcast Unavailable",message:"This broadcast is currently unavailable in your region.\nCheck out other broadcasts live on Caffeine."})}],[function(){return!0},function(){return r.a.createElement(M,{darkTheme:!0})}]]),Vo=Ro(function(e){var t,n,i=e.authenticationWall,s=e.badge,c=e.bottomFrameContent,l=e.contentRating,u=e.currentUser,d=e.currentUserIsAuthenticated,_=e.currentUserIsEmailUnverified,m=e.digitalItemPickerStep,g=e.entertainer,b=e.followedWatchers,p=e.hasExceptionForBroadcastOverride,f=e.hideOverlay,v=e.initialStreamHasLoaded,C=(e.hasPaywall,e.isActiveInAnotherSession),y=e.isBouncerActive,j=e.isFullScreen,O=e.isLive,S=e.isLiveAsStageWatcher,E=e.isOwnStage,x=e.isReactionsDisabled,k=e.isSelectSnapshotDialogOpen,I=e.linkCopied,T=e.location,F=e.location.pathname,P=e.overlayIsActive,N=e.params.username,M=e.router,L=e.route,B=e.reactionFrameContent,A=e.sessionType,D=e.showMaxCapacityReactionMessage,U=e.showOverlay,R=e.stageBroadcastContainerAspectRatio,H=e.stageMediaProtocol,W=e.stageDirectorViewingOptions,V=e.stageMode,z=e.trailerUrl,G=e.LoadStage,q=e.UnloadStage,J=e.PromptForNavigationFromLiveBroadcast,Z=e.PushRoute,Y=e.SetBottomFrameContent,Q=e.SetFullScreen,K=e.SetReactionFrameContent,X=e.SetSelectedTab,$=e.SwitchStageMode,ee=e.eagerlyFetchedTrailerUrl,te=e.stageTitle,ne=e.currentUserId,ae=e.TrackFollowUserFromStage,re=e.TrackUnfollowUserFromStage,ie=e.navbarIsVisible,oe=Object(a.useRef)(B),ce=Object(a.useRef)(m),ue=Object(a.useRef)(c),_e=Object(a.useRef)(N),ge=Object(a.useRef)(null),be=F&&F.split("/"),pe=be&&be.length>1&&"broadcast"===be[2],fe=E&&!pe,he=c===Le.a.Reactions,ve=!1===S&&!pe&&z,we=!1===S&&!pe&&!z,Se=(Object(a.useCallback)(function(){return te.match(o.A)?te.replace(o.A,""):te},[te])(),Object(a.useCallback)(function(){Ce.a&&Q(Ce.a.isFullscreen)},[Q])),Ee=function(){var e=de()(le.a.mark(function e(){return le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ce.a&&ge.current){e.next=3;break}return e.abrupt("return");case 3:if(j){e.next=8;break}return e.next=6,Ce.a.request(ge.current);case 6:e.next=10;break;case 8:return e.next=10,Ce.a.exit();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Ao(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),xe=Object(a.useCallback)(function(e){return ae({currentUserId:ne,lobbyPayloadId:g.stageId||Object(De.a)(g.caid),entertainerDetails:g,eventDetails:e,followedWatchers:b,type:c===Le.a.Reactions?o.Cc.STAGE_CHAT:o.Cc.STAGE_PROFILE})},[ae,g,ne,b,c]),Ie=Object(a.useCallback)(function(e){return re({currentUserId:ne,lobbyPayloadId:g.stageId||Object(De.a)(g.caid),entertainerDetails:g,eventDetails:e,followedWatchers:b,type:o.Cc.STAGE_PROFILE})},[ae,g,ne,b]),Te=function(){Y(Le.a.Profile),X(Le.c.Biography),K(Le.b.Chat);var e="/"+N+"/profile";window.open(e,"_blank")};Object(a.useEffect)(function(){return G(N),function(){q()}},[]),Object(a.useEffect)(function(){return Ce.a&&document.addEventListener(Ce.a.raw.fullscreenchange,Se),function(){Ce.a&&document.removeEventListener(Ce.a.raw.fullscreenchange,Se)}},[Se]),Object(a.useEffect)(function(){if(T.search){var e=!T.search.includes("redirect=false")||A&&!y?T.pathname:"".concat(T.pathname,"?redirect=false");window.history.replaceState({path:e},"",e)}},[A,y]),Object(a.useEffect)(function(){var e=g&&g.username&&N&&N.toLowerCase()===g.username.toLowerCase();!pe||!e||E&&!C&&d||p||Z("/"+g.username)},[p,g,N,pe,E,C,d]);var Fe=Object(je.a)(V),Pe=Object(je.a)(S);Object(a.useEffect)(function(){E&&pe&&Fe===o.ue&&V!==o.ne?$(o.ne):E&&!pe&&Fe===o.ne&&V!==o.ue&&$(o.ue)},[pe]),Object(a.useEffect)(function(){M.setRouteLeaveHook(L,function(e){if(O&&V===o.ne){if(e&&"POP"===e.action)return window.history.pushState({path:F},"",F),J(e),!1;if(!me()(e,function(e){return e.state.confirmed}))return J(e),!1}return!0})},[O,V]),Object(a.useEffect)(function(){!Pe&&g&&"Chat"===B&&Y(we?Le.a.Profile:Le.a.Reactions)},[g,S]),Object(a.useEffect)(function(){N&&N!==_e.current&&(q(),G(N),_e.current=N)},[N]),Object(a.useEffect)(function(){oe.current=B},[B]),Object(a.useEffect)(function(){ce.current=m},[m]),Object(a.useEffect)(function(){ue.current=c},[c]);var Ne=Object(a.useRef)(null),Me=Object(a.useCallback)(function(e){Ne.current&&!Ne.current.contains(e.target)&&oe.current!==Le.b.Chat&&ue.current!==Le.a.Reactions&&"Browsing"===ce.current&&(K(Le.b.Chat),Y(Le.a.Reactions))},[oe.current,Ne.current,ce.current,ue.current,K,Y]);Object(a.useEffect)(function(){return oe.current!==Le.b.Chat?document.addEventListener("click",Me):document.removeEventListener("click",Me),function(){return document.removeEventListener("click",Me)}},[oe.current]);var Be=Object(a.useState)(!1),Ae=h()(Be,2),Ue=Ae[0],Re=Ae[1],He=Object(a.useState)(W),We=h()(He,2),Ve=We[0],ze=We[1];Object(a.useEffect)(function(){Ue||ze(W)},[W]);var Ge,Ze=Object(a.useCallback)(function(){var e,t,n=Object(a.useState)(!0),i=h()(n,2),s=i[0],c=i[1];return V===o.te||V===o.se||V===o.pe?null:_&&V===o.ne?null:(Object(a.useEffect)(function(){var e=function(){return c(!document.hidden)};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}},[]),x?(Re(!1),r.a.createElement("div",{className:wo.a.redesign_reactionsAreaContainer},r.a.createElement("div",{className:wo.a.redesign_reactionsFrameForHls},r.a.createElement("div",{className:wo.a.redesign_reactionsHeader},r.a.createElement("div",{className:w()((t={},se()(t,wo.a.redesign_linkCopied,!0),se()(t,wo.a.redesign_showLinkCopied,I),t))},"Link copied to clipboard")),D?r.a.createElement("div",{className:wo.a.reactionsContainerForMaxCapacity},"The conversation is at max capacity"):r.a.createElement("div",{className:wo.a.reactionsContainerForHls},r.a.createElement("span",{className:wo.a.reactionSettingsButton},r.a.createElement(yi,{size:24})),r.a.createElement("br",null),"Turn on real-time in ",r.a.createElement("br",null),"Video Controls ",r.a.createElement("br",null)," to join the conversation")))):(Re(!0),r.a.createElement("div",{className:wo.a.redesign_reactionsAreaContainer},r.a.createElement("div",{className:wo.a.redesign_reactionsFrame},r.a.createElement("div",{className:wo.a.redesign_reactionsHeader},r.a.createElement("div",{className:w()((e={},se()(e,wo.a.redesign_linkCopied,!0),se()(e,wo.a.redesign_showLinkCopied,I),e))},"Link copied to clipboard")),s&&r.a.createElement(zr,null)))))},[S,D,x,V,H,I,j,K,Y,Ve]);return[o.re,o.oe,o.te,o.se,o.pe].includes(V)?r.a.createElement("div",{className:wo.a.redesign_stageFrame},r.a.createElement("div",{className:wo.a.redesign_mainContent},r.a.createElement(Oe.a,null),r.a.createElement(io,null,i),r.a.createElement("div",{className:wo.a.redesign_stageFrameWithErrorMessage},r.a.createElement(Oe.a,null),r.a.createElement(Wo,{stageMode:V})))):null!==S&&g&&V!==o.qe?ve?r.a.createElement("div",{className:wo.a.redesign_stageFrame,style:R?{"--redesign_aspect-ratio":R}:null},v&&r.a.createElement("div",null),r.a.createElement(Oe.a,null),r.a.createElement(io,null,i),r.a.createElement("div",{className:wo.a.redesign_mainContent,ref:ge},r.a.createElement(Bo,{handleFullscreenClick:Ee,handleUsernameClicked:Te,hideCursor:f,showCursor:U,showFriendsWatching:b.length>0}),!j&&r.a.createElement("div",{ref:Ne,className:wo.a.redesign_bottomFrameContentArea},he?r.a.createElement(Ze,null):r.a.createElement(jo,{currentUser:u,entertainer:g}),r.a.createElement("div",{className:wo.a.redesign_userReactionBar},r.a.createElement(nr,null))))):we?r.a.createElement("div",{className:wo.a.redesign_stageFrame},r.a.createElement("div",null),r.a.createElement(Oe.a,null),r.a.createElement(io,null,i),b.length>0&&r.a.createElement("div",{className:wo.a.redesign_broadcastViewerMenuOfflineContainer},r.a.createElement(go,{darkTheme:!0})),r.a.createElement("div",{className:wo.a.redesign_topFrame},r.a.createElement("div",{className:wo.a.redesign_topFrameTop},r.a.createElement(Ho,{stageMode:V,badge:s})),r.a.createElement("div",{className:wo.a.redesign_topFrameMiddle},r.a.createElement(bn.a,{size:"huge",user:fe?u:g,editable:fe})),r.a.createElement("div",{className:wo.a.redesign_topFrameBottom},g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,fe?r.a.createElement(Fo,{name:g.name||"",username:g.username,caid:g.caid}):r.a.createElement("span",{className:wo.a.redesign_displayName},g.name||g.username),r.a.createElement("div",{className:w()((Ge={},se()(Ge,wo.a.redesign_snippetSubtitle,!0),se()(Ge,wo.a.noUserActionMenu,!u||fe),Ge))},r.a.createElement(Ye.a,{darkTheme:!0,hideAvatar:!0,hideFollowButton:!0,size:"large",user:g,onUsernameClickedHandler:Te,showUserActionsMenu:!fe&&!!u}))),r.a.createElement(qe,{entertainer:g})))),r.a.createElement("div",{className:wo.a.redesign_bottomFrame},r.a.createElement("div",{className:wo.a.redesign_bottomFrameContentArea},he?r.a.createElement(Ze,null):r.a.createElement(jo,{currentUser:u,entertainer:g}),r.a.createElement("div",{className:wo.a.redesign_userReactionBar},r.a.createElement(nr,null))))):r.a.createElement("div",{className:wo.a.redesign_stageFrame,style:R?{"--redesign_aspect-ratio":R}:null},r.a.createElement(Oe.a,null),r.a.createElement(io,null,i),k&&r.a.createElement(ui,null),r.a.createElement("div",{className:wo.a.redesign_mainContent,ref:ge},r.a.createElement("div",{className:wo.a.redesign_broadcastFrame,onMouseMove:U,onMouseLeave:f},E?r.a.createElement("div",{className:w()((t={},se()(t,wo.a.redesign_liveIndicator,!0),se()(t,wo.a.show,E||P),t))},r.a.createElement(Ho,{stageMode:V,badge:s})):r.a.createElement("div",null,b.length?r.a.createElement(go,{darkTheme:!0}):r.a.createElement("div",{className:w()((n={},se()(n,wo.a.redesign_liveIndicator,!0),se()(n,wo.a.show,E||P),se()(n,wo.a.withNavbar,ie),n))},r.a.createElement(Ho,{stageMode:V,badge:s}))),!O&&l===o.U&&r.a.createElement("div",{className:wo.a.redesign_overlayExplicit},r.a.createElement(Je.a,{size:"xLarge"})),V===o.ue?r.a.createElement(Xi,{handleFullscreenClick:Ee,handleTrackFollow:xe,handleTrackUnfollow:Ie}):V===o.ne?r.a.createElement(Xn,null):V===o.me?r.a.createElement($e,{overlayTitleAreaVisible:!0,handleTrackFollow:xe,handleTrackUnfollow:Ie}):r.a.createElement("div",{className:wo.a.redesign_spinnerBackground},r.a.createElement(Wn,{loaded:!!ee}))),!j&&r.a.createElement("div",{ref:Ne,className:wo.a.redesign_bottomFrameContentArea},he?r.a.createElement(Ze,null):r.a.createElement(jo,{currentUser:u,entertainer:g}),r.a.createElement("div",{className:wo.a.redesign_userReactionBar},r.a.createElement(nr,null))),ye.a&&!d&&r.a.createElement(ke,{entertainerUsername:N}))):r.a.createElement("div",{className:wo.a.redesign_stageFrame},r.a.createElement(Oe.a,null))}),zo=n("./src/pieces/stage-mobile/stage-broadcast-mobile.scss"),Go=n.n(zo),qo=n("./src/pieces/stage-mobile/overlay/overlay-mobile.scss"),Jo=n.n(qo),Zo=n("./src/pieces/stage-mobile/overlay/overlay-controls-area-mobile.scss"),Yo=n.n(Zo),Qo=n("./src/pieces/stage-mobile/mute-button.scss"),Ko=n.n(Qo),Xo=(n("./node_modules/bows/bows.js")("Mute-button"),function(e){var t=e.isMuted,n=e.volume,i=e.handleUnmute,o=e.handleMute,s=e.setVolumeOnChange,c=e.saveVolumeOnMouseUp,l=e.className,u=void 0===l?"":l,d=Object(a.useState)(!0),_=h()(d,2),m=_[0],g=_[1],b=Object(a.useRef)(null),p=Object(a.useCallback)(t?i:o,[t,i,o]);Object(a.useCallback)(function(e){return s(parseInt(e.target.value,10))},[s]),Object(a.useCallback)(function(e){b&&b.current&&c&&c(parseInt(b.current.value,10))},[c]);return Object(a.useEffect)(function(){g(!!t)},[t]),r.a.createElement("div",{className:w()(Ko.a.volumeSliderWrapper,u)},r.a.createElement("button",{onClick:p,className:Ko.a.muteButton},m&&r.a.createElement(Ae.b.div,{whileHover:{color:"#00ffff"},initial:{color:"#9696be"}},t||0===n?r.a.createElement(Sn,{width:170,height:170}):r.a.createElement(En,{width:56,height:56}))))}),$o=(n("./node_modules/bows/bows.js")("Overlay-controls-area-mobile"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({broadcastViewersListIsOpen:Ct.selectBroadcastViewersListIsOpen,isFollowAnimationOn:Te.selectIsFollowAnimationOn,isMuted:Te.selectMute,isStageSettingsMenuOpen:Te.selectStageSettingsMenuIsOpen,overlayIsActive:Te.selectOverlayIsActive,stageDirectorViewingOptions:Be.selectStageDirectorViewingOptions,stageVolume:Te.selectStageVolume,stageBadge:Be.selectStageDirectorBadge}),{CloseBroadcastViewersList:Ct.CloseBroadcastViewersList,CloseStageSettingsMenu:Te.CloseStageSettingsMenu,MuteStage:Te.MuteStage,OpenStageSettingsMenu:Te.OpenStageSettingsMenu,SetMobileStageVolume:Te.SetMobileStageVolume,UnmuteStage:Te.UnmuteStage}))(function(e){var t=e.alwaysVisible,n=void 0!==t&&t,i=e.broadcastViewersListIsOpen,o=e.isFollowAnimationOn,s=e.isMuted,c=e.isStageSettingsMenuOpen,l=e.overlayIsActive,u=e.stageVolume,d=e.MuteStage,_=e.SetMobileStageVolume,m=e.UnmuteStage,g=e.OpenStageSettingsMenu,b=e.CloseStageSettingsMenu,p=e.CloseBroadcastViewersList,f=n||l||o||i?Yo.a.visible:Yo.a.invisible;Object(a.useCallback)(function(){c?b():(g(),p())},[c,p,b,g]);return r.a.createElement("div",{className:w()(Yo.a.broadcastOverlayControls,f)},r.a.createElement("div",{className:Yo.a.volumeSliderContainer},r.a.createElement(Xo,{isMuted:s,volume:u,handleUnmute:m,handleMute:d,setVolumeOnChange:_})))})),es=(n("./node_modules/bows/bows.js")("Overlay-mobile"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({bottomFrameContent:Te.selectBottomFrameContent,calibratedStageVolumes:Te.selectCalibratedStageVolumes,dynamicRoleFeedAspectRatio:Te.selectSecondaryStreamAspectRatio,entertainer:Te.selectEntertainer,hasFeedbackPreventionMute:Te.selectHasFeedbackPreventionMute,hlsIsBuffering:Te.selectHlsIsBuffering,hlsUrl:Be.selectStageDirectorHlsUrl,hostConnectionQuality:Te.selectHostConnectionQuality,isFollowAnimationOn:Te.selectIsFollowAnimationOn,isLive:Te.selectIsLiveAndModeIsStageWatcher,isMuted:Te.selectMute,isOwnStage:Te.selectIsCurrentUserOnOwnStage,mediaStreamIds:Te.selectMediaStreamIds,overlayIsActive:Te.selectOverlayIsActive,secondaryFeedIsHidden:Te.selectSecondaryFeedIsHidden,secondaryFeedPosition:Te.selectSecondaryFeedPosition,stageConfigurationTransition:Te.selectStageConfigurationTransition,stageMediaProtocol:Te.selectStageMediaProtocol,stageTitle:Te.selectStageTitle}),{SetSecondaryFeedAlignment:Te.SetSecondaryFeedAlignment}))),ts=es(function(e){var t,n,i,s,c,l,u=e.calibratedStageVolumes,d=e.dynamicRoleFeedAspectRatio,_=e.entertainer,m=e.feed,g=(e.handleTrackFollow,e.handleTrackUnfollow,e.handleFullscreenClick),b=e.hasFeedbackPreventionMute,p=(e.hasSlowLoadingWebRTCConnection,e.hlsIsBuffering),f=e.hlsUrl,h=e.hostConnectionQuality,v=e.isFollowAnimationOn,C=e.isLive,y=e.isMuted,j=e.isOwnStage,O=e.mediaStreamIds,S=e.overlayIsActive,E=e.stageBroadcastElementRef,x=e.stageConfigurationTransition,k=e.stageMediaProtocol,I=e.stageTitle,T=e.secondaryFeedPosition,F=e.secondaryFeedIsHidden,P=e.SetSecondaryFeedAlignment,N=(e.titleIsHidden,Object(a.useRef)(null)),M=S||v,L=h!==o.zb,B=Object(a.useCallback)(function(){if(E.current&&N.current){var e=function(e,t){var n=e.left+e.width/2,a=e.top+e.height/2,r=t.left+t.width/2,i=t.top+t.height/2,o=r>n?"Right":"Left";return"".concat(i>a?"bottom":"top").concat(o)}(E.current.getBoundingClientRect(),N.current.getBoundingClientRect());P(e)}},[E.current]);return r.a.createElement("div",{className:w()((t={},se()(t,Jo.a.overlay,!0),se()(t,Jo.a.invisibleOverlay,!M),t)),id:"stageOverlayDragBoundsDynamicRoleFeed"},k===o.le&&O[m.id]&&r.a.createElement("div",{className:w()(se()({},Jo.a.feedHasNoVideo,!m.video))},r.a.createElement(_i.a,{bounds:"#stageOverlayDragBoundsDynamicRoleFeed",onStop:B,position:{x:0,y:0},defaultClassNameDragging:Jo.a.dynamicRoleFeedAreaBeingDragged},r.a.createElement("div",{className:w()((n={},se()(n,Jo.a.dynamicRoleFeedStreamContainer,!0),se()(n,Jo.a.nonWidescreen,d<1.5),se()(n,Jo.a["".concat(T,"SecondaryFeedPosition")],!0),se()(n,Jo.a.isPrimary,m.isPrimary),se()(n,Jo.a.noVideoStream,!m.video),se()(n,Jo.a[x],x),n)),ref:N},r.a.createElement("div",{className:w()((i={},se()(i,Jo.a.secondaryFeedWrapper,!0),se()(i,Jo.a.isPrimary,m.isPrimary),se()(i,Jo.a[x],x),i))},r.a.createElement(Tt,{mediaStreamId:O[m.id],className:w()((s={},se()(s,Jo.a.dynamicRoleFeedStream,!0),se()(s,Jo.a.invisible,F&&!m.isPrimary),se()(s,Jo.a.visible,!F),s)),videoProps:{muted:y||!m.audio},handleAspectRatioUpdate:Te.SetDynamicRoleFeedAspectRatio,volume:u&&u.dynamicRoleFeedVolume}))))),k===o.ke&&C&&r.a.createElement("div",{className:w()(se()({},Jo.a.feedHasNoVideo,!f))},r.a.createElement(_i.a,{bounds:"#stageOverlayDragBoundsDynamicRoleFeed",onStop:B,position:{x:0,y:0},defaultClassNameDragging:Jo.a.dynamicRoleFeedAreaBeingDragged},r.a.createElement("div",{className:w()((c={},se()(c,Jo.a.dynamicRoleFeedStreamContainer,!0),se()(c,Jo.a.nonWidescreen,d<1.5),se()(c,Jo.a["".concat(T,"SecondaryFeedPosition")],!0),se()(c,Jo.a.isPrimary,!0),se()(c,Jo.a.noVideoStream,!f),se()(c,Jo.a[x],x),c)),ref:N},r.a.createElement("div",{className:w()((l={},se()(l,Jo.a.secondaryFeedWrapper,!0),se()(l,Jo.a.isPrimary,!0),se()(l,Jo.a[x],x),l))},r.a.createElement(wi,{className:w()(Jo.a.dynamicRoleFeedStream,Jo.a.visible),videoProps:{muted:y},handleAspectRatioUpdate:Te.SetDynamicRoleFeedAspectRatio,volume:u&&u.dynamicRoleFeedVolume}),r.a.createElement(Ae.a,null,p&&r.a.createElement(Ae.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:Jo.a.hlsBufferContainer},r.a.createElement(gi,{grayscale:!0}))))))),j&&C&&r.a.createElement(r.a.Fragment,null,r.a.createElement(en,{showBadConnectionIcon:L}),r.a.createElement(An,null)),b&&r.a.createElement("div",{className:Jo.a.feedbackPreventionMuteMessage},"you are muted to prevent feedback",r.a.createElement("br",null),"only you can see your viewers and credits"),I&&_&&r.a.createElement(r.a.Fragment,null,r.a.createElement($o,{isPrimaryFeed:!!m.isPrimary,feedHasVideo:!!m.video,handleFullscreenClick:g})))}),ns=(n("./node_modules/bows/bows.js")("Stage-broadcast-mobile"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({bottomFrameContent:Te.selectBottomFrameContent,calibratedStageVolumes:Te.selectCalibratedStageVolumes,currentUserId:Ue.selectCurrentUserId,followedWatchers:Te.selectFollowedWatchers,entertainer:Te.selectEntertainer,hlsUrl:Be.selectStageDirectorHlsUrl,isLive:Te.selectIsLiveAndModeIsStageWatcher,isMuted:Te.selectMute,isOwnStage:Te.selectIsCurrentUserOnOwnStage,mediaStreamIds:Te.selectMediaStreamIds,stageConfiguration:Te.selectStageConfiguration,stageConfigurationTransition:Te.selectStageConfigurationTransition,stageIsOnline:Te.selectIsLiveAndModeIsStageWatcher,stageMediaProtocol:Te.selectStageMediaProtocol,streamHasLoaded:Te.selectStreamHasLoaded,eagerlyFetchedTrailerUrl:Be.selectEagerlyFetchedTrailerUrl}),{SetOptionalPrimaryFeedAspectRatio:Te.SetOptionalPrimaryFeedAspectRatio,SetSecondaryFeedAlignment:Te.SetSecondaryFeedAlignment,SubscribeToCurrentUserWallet:Ue.SubscribeToCurrentUserWallet,TrackFollowUserFromStage:Te.TrackFollowUserFromStage,TrackUnfollowUserFromStage:Te.TrackUnfollowUserFromStage,UnsubscribeFromCurrentUserWallet:Ue.UnsubscribeFromCurrentUserWallet}))(function(e){var t,n,i=e.bottomFrameContent,s=e.calibratedStageVolumes,c=e.currentUserId,l=e.entertainer,u=e.followedWatchers,d=e.handleFullscreenClick,_=e.hlsUrl,m=e.isLive,g=e.isMuted,b=e.isOwnStage,p=e.mediaStreamIds,f=e.stageConfiguration,v=e.stageConfigurationTransition,C=e.stageIsOnline,y=e.stageMediaProtocol,j=e.streamHasLoaded,O=e.SetOptionalPrimaryFeedAspectRatio,S=e.SetSecondaryFeedAlignment,E=e.SubscribeToCurrentUserWallet,x=e.TrackFollowUserFromStage,k=e.TrackUnfollowUserFromStage,I=e.UnsubscribeFromCurrentUserWallet,T=e.eagerlyFetchedTrailerUrl,F=e.titleIsHidden,P=Object(a.useState)(!1),N=h()(P,2),M=N[0],L=N[1],B=Object(a.useRef)(null),A=Object(a.useRef)(null),D=y===o.le,U=Object(a.useCallback)(function(e){return x({currentUserId:c,lobbyPayloadId:l.stageId||Object(De.a)(l.caid),entertainerDetails:l,eventDetails:e,followedWatchers:u,type:i===Le.a.Reactions?o.Cc.STAGE_CHAT:o.Cc.STAGE_PROFILE})},[x,l,c,u,i]),R=Object(a.useCallback)(function(e){return k({currentUserId:c,lobbyPayloadId:l.stageId||Object(De.a)(l.caid),entertainerDetails:l,eventDetails:e,followedWatchers:u,type:o.Cc.STAGE_PROFILE})},[x,l,c,u]);Object(a.useEffect)(function(){return S("topRight"),function(){return I()}},[]),Object(a.useEffect)(function(){!B.current&&_&&D?B.current=setTimeout(function(){return L(!0)},3e3):j&&B.current&&(clearTimeout(B.current),B.current=null,L(!1))},[j,_,D]),Object(a.useEffect)(function(){b&&m&&E()},[m]);var H={optionalPrimaryFeed:f.optionalPrimaryFeed||{},dynamicRoleFeed:f.dynamicRoleFeed||{}};return r.a.createElement(r.a.Fragment,null,j?r.a.createElement("div",null):r.a.createElement("div",{className:Go.a.redesign_spinnerBackground},r.a.createElement(Wn,{loaded:!!y&&!D||!!T})),r.a.createElement("div",{className:Go.a.redesign_broadcast,ref:A},r.a.createElement("div",{className:w()((t={},se()(t,Go.a.placeholderVideoContainer,!0),se()(t,Go.a.isVisible,!H.optionalPrimaryFeed.video&&!H.dynamicRoleFeed.video&&C),t))},r.a.createElement(Wn,{loaded:!!y&&!D||!!T})),r.a.createElement("div",{className:w()((n={},se()(n,Go.a.optionalPrimaryFeedStreamContainer,!0),se()(n,Go.a.noVideoStream,!H.optionalPrimaryFeed.video),se()(n,Go.a[v],v),n))},p[H.optionalPrimaryFeed.id]&&r.a.createElement(Tt,{mediaStreamId:p[H.optionalPrimaryFeed.id],className:Go.a.optionalPrimaryFeedStream,handleAspectRatioUpdate:O,videoProps:{muted:g||!H.optionalPrimaryFeed.audio},volume:s&&s.optionalPrimaryFeedVolume})),r.a.createElement(ts,{feed:H.dynamicRoleFeed,handleFullscreenClick:d,handleTrackFollow:U,handleTrackUnfollow:R,hasSlowLoadingWebRTCConnection:M,stageBroadcastElementRef:A,titleIsHidden:!!F})))})),as=n("./src/pieces/stage-mobile/stage-mobile.reducer.js"),rs=n("./src/pieces/stage-mobile/stage-frame-mobile.scss"),is=n.n(rs),os=(n("./node_modules/bows/bows.js")("Seventeenplus-icon"),function(e){var t=e.color,n=e.display,a=void 0===n?"block":n,i=(e.width,e.height,e.source,t||"#ffffff");return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"16",height:"12",display:a,viewBox:"0 0 16 12",fill:"none"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0C3.6176 0 1.63587 0 0.739742 0.986322C0 1.80051 0 3.2868 0 6C0 8.7132 0 10.1995 0.739742 11.0137C1.63587 12 3.6176 12 8 12C12.3824 12 14.3641 12 15.2603 11.0137C16 10.1995 16 8.7132 16 6C16 3.2868 16 1.80051 15.2603 0.986322C14.3641 0 12.3824 0 8 0ZM3 3.5C3 3.22386 3.22386 3 3.5 3C3.77614 3 4 3.22386 4 3.5V8.5C4 8.77614 3.77614 9 3.5 9C3.22386 9 3 8.77614 3 8.5V3.5ZM10.5 4.5C10.5 4.22386 10.7239 4 11 4C11.2761 4 11.5 4.22386 11.5 4.5V5.5H12.5C12.7761 5.5 13 5.72386 13 6C13 6.27614 12.7761 6.5 12.5 6.5H11.5V7.5C11.5 7.77614 11.2761 8 11 8C10.7239 8 10.5 7.77614 10.5 7.5V6.5H9.5C9.22386 6.5 9 6.27614 9 6C9 5.72386 9.22386 5.5 9.5 5.5H10.5V4.5ZM5 3.5C5 3.22386 5.22386 3 5.5 3H8C8.27614 3 8.5 3.22386 8.5 3.5C8.5 3.52292 8.49846 3.54549 8.49547 3.56759C8.48868 3.62203 8.47275 3.67627 8.44696 3.72819L5.96803 8.71785C5.84517 8.96515 5.54509 9.06603 5.29778 8.94317C5.05048 8.8203 4.9496 8.52022 5.07246 8.27292L7.19531 4H5.5C5.22386 4 5 3.77614 5 3.5Z",fill:i})))}),ss=(n("./node_modules/bows/bows.js")("Live-badge-glow"),function(e){return r.a.createElement(Fe.a,{className:e.className},r.a.createElement("svg",{width:"202",height:"146",viewBox:"0 0 92 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{clipPath:"url(#clip0_883_2186)"},r.a.createElement("rect",{width:"74",height:"62",transform:"translate(-14 -7)",fill:"url(#paint0_radial_883_2186)"}),r.a.createElement("rect",{width:"74",height:"62",transform:"translate(-14 -7)",fill:"url(#paint1_radial_883_2186)"}),r.a.createElement("rect",{width:"74",height:"62",transform:"translate(2 -6)",fill:"url(#paint2_radial_883_2186)"}),r.a.createElement("rect",{width:"74",height:"62",transform:"translate(2 -6)",fill:"url(#paint3_radial_883_2186)"}),r.a.createElement("rect",{x:"8.5",y:"8.5",width:"47",height:"27",stroke:"#0000FF",fill:"none"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.394 20.6828C38.1975 19.8792 39.2874 19.4278 40.4237 19.4278C41.5601 19.4278 42.65 19.8792 43.4535 20.6828C44.2571 21.4863 44.7085 22.5762 44.7085 23.7125C44.7085 24.1858 44.3248 24.5695 43.8515 24.5695H37.999C38.0698 24.7707 38.1658 24.9633 38.2855 25.1426C38.568 25.5657 38.9696 25.8955 39.4397 26.0903C39.9097 26.285 40.4269 26.336 40.9259 26.2366C41.4248 26.1372 41.8831 25.892 42.2426 25.5321C42.5771 25.1973 43.1197 25.197 43.4545 25.5314C43.7894 25.8659 43.7897 26.4085 43.4552 26.7433C42.856 27.3432 42.0922 27.7519 41.2606 27.9175C40.429 28.0831 39.5669 27.9982 38.7836 27.6737C38.0002 27.3491 37.3308 26.7994 36.86 26.0941C36.3893 25.389 36.1384 24.56 36.139 23.7122C36.139 23.7121 36.139 23.7123 36.139 23.7122C36.1392 22.5761 36.5906 21.4862 37.394 20.6828ZM37.9999 22.8556H42.8476C42.7209 22.4975 42.5153 22.1684 42.2416 21.8947C41.7595 21.4126 41.1056 21.1417 40.4237 21.1417C39.7419 21.1417 39.088 21.4126 38.6059 21.8947C38.3322 22.1684 38.1266 22.4975 37.9999 22.8556ZM36.139 23.7122C36.139 23.7121 36.139 23.7123 36.139 23.7122Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.1864 19.5185C27.6098 19.3068 28.1245 19.4784 28.3362 19.9017L30.9975 25.2243L33.6588 19.9017C33.8705 19.4784 34.3852 19.3068 34.8085 19.5185C35.2318 19.7301 35.4034 20.2449 35.1918 20.6682L31.764 27.5238C31.6188 27.8141 31.3221 27.9975 30.9975 27.9975C30.6729 27.9975 30.3762 27.8141 30.231 27.5238L26.8032 20.6682C26.5916 20.2449 26.7631 19.7301 27.1864 19.5185Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.1417 19.4278C24.615 19.4278 24.9987 19.8115 24.9987 20.2847V27.1403C24.9987 27.6136 24.615 27.9973 24.1417 27.9973C23.6684 27.9973 23.2847 27.6136 23.2847 27.1403V20.2847C23.2847 19.8115 23.6684 19.4278 24.1417 19.4278Z",fill:"white"}),r.a.createElement("path",{d:"M24.9987 16.8569C24.9987 17.3302 24.615 17.7139 24.1417 17.7139C23.6684 17.7139 23.2847 17.3302 23.2847 16.8569C23.2847 16.3837 23.6684 16 24.1417 16C24.615 16 24.9987 16.3837 24.9987 16.8569Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.8569 16C20.3302 16 20.7139 16.3837 20.7139 16.8569V27.1403C20.7139 27.6136 20.3302 27.9973 19.8569 27.9973C19.3837 27.9973 19 27.6136 19 27.1403V16.8569C19 16.3837 19.3837 16 19.8569 16Z",fill:"white"})),r.a.createElement("defs",null,r.a.createElement("radialGradient",{id:"paint0_radial_883_2186",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(37 28.6604) rotate(90) scale(26.9057 34.0379)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("radialGradient",{id:"paint1_radial_883_2186",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(37 28.6604) rotate(90) scale(26.9057 34.0379)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("radialGradient",{id:"paint2_radial_883_2186",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(37 28.6604) rotate(90) scale(26.9057 34.0379)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("radialGradient",{id:"paint3_radial_883_2186",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(37 28.6604) rotate(90) scale(26.9057 34.0379)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("clipPath",{id:"clip0_883_2186"},r.a.createElement("rect",{width:"92",height:"56",fill:"white"})))))}),cs=(n("./node_modules/bows/bows.js")("Heart-icon"),function(e){var t=e.liked,n=void 0!==t&&t,a=e.className,i=e.onClick;return r.a.createElement(Fe.a,{className:a},r.a.createElement("svg",{onClick:i,width:"18",height:"16",viewBox:"0 0 16 16",fill:"none"},n?r.a.createElement("path",{d:"M14.1632 8.96144L8 15.1247L1.83676 8.96144L1.83683 8.96137L1.82972 8.95453C1.01517 8.17149 0.53882 7.10116 0.50227 5.97186C0.46572 4.84256 0.871866 3.74368 1.63408 2.9096C2.39629 2.07552 3.45424 1.57227 4.58225 1.5072C5.71027 1.44212 6.81907 1.82037 7.67214 2.56126L8 2.84601L8.32786 2.56126C9.18093 1.82037 10.2897 1.44212 11.4177 1.5072C12.5458 1.57227 13.6037 2.07552 14.3659 2.9096C15.1281 3.74368 15.5343 4.84256 15.4977 5.97186C15.4612 7.10116 14.9848 8.17149 14.1703 8.95453L14.1702 8.95446L14.1632 8.96144Z",stroke:"black"}):r.a.createElement("path",{d:"M8 15.8318L1.48321 9.31499C0.574638 8.44156 0.0433003 7.24769 0.00253133 5.98804C-0.0382377 4.72839 0.414789 3.50266 1.26498 2.57231C2.11517 1.64195 3.29524 1.08061 4.55346 1.00803C5.81168 0.93544 7.04846 1.35735 8 2.18376C8.95154 1.35735 10.1883 0.93544 11.4465 1.00803C12.7048 1.08061 13.8848 1.64195 14.735 2.57231C15.5852 3.50266 16.0382 4.72839 15.9975 5.98804C15.9567 7.24769 15.4254 8.44156 14.5168 9.31499L8 15.8318Z",stroke:"#AAAAAA",fill:"none"})))}),ls=n("./src/pieces/video/video.reducer.js"),us=n("./src/pieces/footer/footer.reducer.js"),ds=n("./src/pieces/users/follow-link.tsx"),_s=n("./node_modules/bows/bows.js")("Stage-frame-mobile"),ms=(ve()(function(e){return e(!1)},o.ae),fe()(function(e,t){e||t(!0)},200)),gs=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({badge:Be.selectStageDirectorBadge,bottomFrameContent:Te.selectBottomFrameContent,contentRating:Be.selectStageDirectorContentRating,currentUser:Ue.selectCurrentUser,currentUserIsAuthenticated:i.selectIsAuthenticated,currentUserIsEmailUnverified:Ue.selectCurrentUserEmailUnverified,digitalItemPickerStep:Nt.selectDigitalItemPickerStep,entertainerFollowing:$i.selectFollowingUsers,entertainerFollowers:$i.selectFollowerUsers,entertainer:Te.selectEntertainer,followedWatchers:Te.selectFollowedWatchers,hasExceptionForBroadcastOverride:Be.selectStageDirectorHasExceptionForBroadcastOverride,isActiveInAnotherSession:et.selectWebBroadcastIsActiveInAnotherSession,isBouncerActive:i.selectBouncerDialogIsActive,isFullScreen:Te.selectFullScreen,isLive:et.selectIsWebBroadcastLive,isLiveAsStageWatcher:Te.selectIsLiveAndModeIsStageWatcher,isReactionsDisabled:Be.selectStageDirectorReactionsDisabled,isOwnStage:Te.selectIsCurrentUserOnOwnStage,isSelectSnapshotDialogOpen:et.selectIsSelectSnapshotDialogOpen,linkCopied:$n.selectLinkedCopied,initialStreamHasLoaded:Te.selectInitialStreamHasLoaded,overlayIsActive:Te.selectOverlayIsActive,reactionFrameContent:Te.selectReactionFrameContent,selectedShareTabIndex:$n.selectCurrentTabIndex,selectedTab:Te.selectSelectedTab,sessionType:i.selectUserSessionType,showMaxCapacityReactionMessage:Te.selectShowMaxCapacityReactionMessage,stageBroadcastContainerAspectRatio:Te.selectStageBroadcastContainerAspectRatio,stageDirectorViewingOptions:Be.selectStageDirectorViewingOptions,stageMediaProtocol:Te.selectStageMediaProtocol,stageMode:Te.selectStageMode,trailerUrl:Be.selectStageDirectorTrailerUrl,eagerlyFetchedTrailerUrl:Be.selectEagerlyFetchedTrailerUrl,stageTitle:Te.selectStageTitle,stageLiveActivityHashtags:Te.selectStageLiveActivityHashtags,currentUserId:Ue.selectCurrentUserId,stageLiveActivityId:Te.selectStageLiveActivityId,stageLiveActivityViewCount:Te.selectStageLiveActivityViewCount,stageLiveActivityLikeCount:Te.selectStageLiveActivityLikeCount,stageLiveActivityPropCount:Te.selectStageLiveActivityPropCount,stageLiveActivityLikedByMe:Te.selectStageLiveActivityLikedByMe}),{LoadMobileStage:as.LoadMobileStage,UnloadStage:Te.UnloadStage,PromptForNavigationFromLiveBroadcast:et.PromptForNavigationFromLiveBroadcast,PushRoute:X.push,SetBottomFrameContent:Te.SetBottomFrameContent,SetBroadcastOverlayActiveness:Te.SetBroadcastOverlayActiveness,SetFullScreen:Te.SetFullScreen,SetReactionFrameContent:Te.SetReactionFrameContent,SetSelectedTab:Te.SetSelectedTab,SwitchStageMode:Te.SwitchStageMode,TrackFollowUserFromStage:Te.TrackFollowUserFromStage,TrackUnfollowUserFromStage:Te.TrackUnfollowUserFromStage,LikeActivity:ls.LikeActivity,UnlikeActivity:ls.UnlikeActivity,AnimateFooter:us.AnimateFooter,setAuthBannerTriggerDetails:i.setBannerTriggerDetails}),Object(B.d)({showOverlay:function(e){return function(){return ms(e.overlayIsActive,e.SetBroadcastOverlayActiveness)}},hideOverlay:function(e){return function(){ms.cancel(),e.SetBroadcastOverlayActiveness(!1)}}}),S.e),bs=be()([[function(e){return e.stageMode===o.me},function(){return null}],[function(e){return e.badge===o.Yd},function(){return r.a.createElement(ss,{className:is.a.liveBadge})}],[function(e){var t=e.badge,n=e.stageMode;return t===o.Zd&&n===o.ne},function(){return r.a.createElement(So,null)}],[function(e){return e.badge===o.Zd},function(){return r.a.createElement(Eo,{className:is.a.replayBadge})}],[function(){return!0},function(){return r.a.createElement(So,null)}]]),ps=be()([[function(e){return e.stageMode===o.re},function(){return r.a.createElement(M,{darkTheme:!0,title:"You're off air",message:"Looks like your network is unavailable.\nCheck your internet connection and try again."})}],[function(e){return e.stageMode===o.oe},function(){return r.a.createElement(M,{darkTheme:!0,title:"Sorry about that.",message:"Something went wrong.\nTry reloading the page again."})}],[function(e){return e.stageMode===o.te},function(){return r.a.createElement(M,{darkTheme:!0,title:"This page isn\u2019t available.",message:"The link you followed may be broken or this page may have been removed.",buttonText:"go to caffeine",buttonRedirectURL:"/"})}],[function(e){return e.stageMode===o.se},function(){return r.a.createElement(M,{darkTheme:!0,title:"Out of capacity",message:"We are temporarily at capacity. We're working on it\nand you can check back in a little while."})}],[function(e){return e.stageMode===o.pe},function(){return r.a.createElement(M,{darkTheme:!0,title:"Broadcast Unavailable",message:"This broadcast is currently unavailable in your region.\nCheck out other broadcasts live on Caffeine."})}],[function(){return!0},function(){return r.a.createElement(M,{darkTheme:!0})}]]),fs=gs(function(e){var t,n,i,s,c,l,u,d,_,m,g,b,p,f,v,C,y,j,O,E,x,k,I=e.authenticationWall,T=e.badge,F=e.bottomFrameContent,P=e.contentRating,N=e.currentUser,M=e.currentUserIsAuthenticated,L=e.currentUserIsEmailUnverified,B=e.digitalItemPickerStep,A=e.entertainer,D=e.followedWatchers,U=e.hasExceptionForBroadcastOverride,R=e.hideOverlay,H=e.initialStreamHasLoaded,W=e.isActiveInAnotherSession,V=e.isBouncerActive,z=e.isFullScreen,G=e.isLive,q=e.isLiveAsStageWatcher,J=e.isOwnStage,Z=e.isReactionsDisabled,Y=e.isSelectSnapshotDialogOpen,Q=e.linkCopied,K=e.location,X=e.location.pathname,$=e.overlayIsActive,ee=e.params.username,te=e.router,ne=e.route,ae=e.reactionFrameContent,re=e.sessionType,ie=e.showMaxCapacityReactionMessage,oe=e.showOverlay,ce=e.stageBroadcastContainerAspectRatio,ue=e.stageMediaProtocol,_e=e.stageDirectorViewingOptions,ge=e.stageMode,be=e.trailerUrl,pe=e.LoadMobileStage,fe=e.UnloadStage,he=e.PromptForNavigationFromLiveBroadcast,ve=e.PushRoute,we=e.SetBottomFrameContent,ye=e.SetFullScreen,Se=e.SetReactionFrameContent,Ee=e.SetSelectedTab,xe=e.SwitchStageMode,ke=e.eagerlyFetchedTrailerUrl,Te=e.stageTitle,Fe=e.stageLiveActivityHashtags,Pe=e.currentUserId,Ne=e.TrackFollowUserFromStage,Me=e.TrackUnfollowUserFromStage,Be=e.stageLiveActivityId,Ae=e.stageLiveActivityViewCount,Ue=e.stageLiveActivityLikeCount,Re=e.stageLiveActivityPropCount,He=e.stageLiveActivityLikedByMe,We=e.LikeActivity,Ve=e.UnlikeActivity,ze=e.AnimateFooter,Ge=e.setAuthBannerTriggerDetails,Ze=Object(a.useRef)(ae),Qe=Object(a.useRef)(B),Ke=Object(a.useRef)(F),Xe=Object(a.useRef)(ee),et=Object(a.useRef)(null),tt=X&&X.split("/"),nt=tt&&tt.length>1&&"broadcast"===tt[2],at=J&&!nt,rt=F===Le.a.Reactions,it=!1===q&&!nt&&be,ot=!1===q&&!nt&&!be,st=A&&A.avatarImagePath||"/defaults/avatar-001.png",ct=Object(Ie.c)(st,{auto:"webp",fit:"crop",width:48,height:48,enable:"upscale"}),lt=Object(a.useState)(!1),ut=h()(lt,2),dt=ut[0],_t=ut[1],mt=Object(a.useState)(Ue||0),gt=h()(mt,2),bt=gt[0],pt=gt[1],ft=Ft((dt&&0===bt?1:bt)||0),ht=Ft(Ae||0),vt=Ft(Re||0),wt=Object(a.useCallback)(function(){return Te.match(o.A)?Te.replace(o.A,"").trimStart():Te},[Te])(),Ct=Object(a.useCallback)(function(){Ce.a&&ye(Ce.a.isFullscreen)},[ye]),yt=function(){var e=de()(le.a.mark(function e(){return le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ce.a&&et.current){e.next=3;break}return e.abrupt("return");case 3:if(z){e.next=8;break}return e.next=6,Ce.a.request(et.current);case 6:e.next=10;break;case 8:return e.next=10,Ce.a.exit();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),_s(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),jt=Object(a.useCallback)(function(e){return Ne({currentUserId:Pe,lobbyPayloadId:A.stageId||Object(De.a)(A.caid),entertainerDetails:A,eventDetails:e,followedWatchers:D,type:F===Le.a.Reactions?o.Cc.STAGE_CHAT:o.Cc.STAGE_PROFILE})},[Ne,A,Pe,D,F]),Ot=Object(a.useCallback)(function(e){return Me({currentUserId:Pe,lobbyPayloadId:A.stageId||Object(De.a)(A.caid),entertainerDetails:A,eventDetails:e,followedWatchers:D,type:o.Cc.STAGE_PROFILE})},[Ne,A,Pe,D]),St=function(){we(Le.a.Profile),Ee(Le.c.Biography),Se(Le.b.Chat);var e="/"+ee+"/profile";window.open(e,"_blank")};function Et(e){var t=e.target.getAttribute("data-name");M&&"like"===t&&(dt?function(e){e.preventDefault(),Ve(Be),_t(!1),pt(0===bt?0:bt-1)}(e):function(e){e.preventDefault(),We(Be),_t(!0),pt(bt+1)}(e)),M&&"give"===t&&ze({triggerType:t,entertainerUsername:ee}),M||Ge({triggerType:t,entertainerUsername:ee});var n="";switch(t){case"like":n=o.Lb;break;case"give":n=o.yb;case"follow":n=o.wb}if(t){var a={clicked_at:Date.now()||null,viewer_id:Pe||null,item_type:o.Cc.ACTIVITY||null,item_source:o.Id,broadcaster_caid:A.caid||null,broadcaster_username:ee||null,web_presentation:o.of};globalThis.mParticle.logEvent(n,globalThis.mParticle.EventType.Other,a)}}Object(a.useEffect)(function(){He&&_t(!0),He&&0===bt&&pt(1)},[He]),Object(a.useEffect)(function(){Ue&&pt(Ue)},[Ue]),Object(a.useEffect)(function(){pe(ee);var e=document.createElement("style");return e.innerHTML="body::-webkit-scrollbar {\n      width: 0px;\n    }",document.head.appendChild(e),document.body.style.overflowY="scroll",function(){var e=document.createElement("style");e.innerHTML="body::-webkit-scrollbar {\n        width: auto;\n      }",document.head.appendChild(e),document.body.style.overflow="unset",fe()}},[]),Object(a.useEffect)(function(){return Ce.a&&document.addEventListener(Ce.a.raw.fullscreenchange,Ct),function(){Ce.a&&document.removeEventListener(Ce.a.raw.fullscreenchange,Ct)}},[Ct]),Object(a.useEffect)(function(){if(K.search){var e=!K.search.includes("redirect=false")||re&&!V?K.pathname:"".concat(K.pathname,"?redirect=false");window.history.replaceState({path:e},"",e)}},[re,V]),Object(a.useEffect)(function(){var e=A&&A.username&&ee&&ee.toLowerCase()===A.username.toLowerCase();!nt||!e||J&&!W&&M||U||ve("/"+A.username)},[U,A,ee,nt,J,W,M]);var xt=Object(je.a)(ge),kt=Object(je.a)(q);Object(a.useEffect)(function(){J&&nt&&xt===o.ue&&ge!==o.ne?xe(o.ne):J&&!nt&&xt===o.ne&&ge!==o.ue&&xe(o.ue)},[nt]),Object(a.useEffect)(function(){te.setRouteLeaveHook(ne,function(e){if(G&&ge===o.ne){if(e&&"POP"===e.action)return window.history.pushState({path:X},"",X),he(e),!1;if(!me()(e,function(e){return e.state.confirmed}))return he(e),!1}return!0})},[G,ge]),Object(a.useEffect)(function(){!kt&&A&&"Chat"===ae&&we(ot?Le.a.Profile:Le.a.Reactions)},[A,q]),Object(a.useEffect)(function(){ee&&ee!==Xe.current&&(fe(),pe(ee),Xe.current=ee)},[ee]),Object(a.useEffect)(function(){Ze.current=ae},[ae]),Object(a.useEffect)(function(){Qe.current=B},[B]),Object(a.useEffect)(function(){Ke.current=F},[F]);var It=Object(a.useRef)(null),Tt=Object(a.useCallback)(function(e){It.current&&!It.current.contains(e.target)&&Ze.current!==Le.b.Chat&&Ke.current!==Le.a.Reactions&&"Browsing"===Qe.current&&(Se(Le.b.Chat),we(Le.a.Reactions))},[Ze.current,It.current,Qe.current,Ke.current,Se,we]);Object(a.useEffect)(function(){return Ze.current!==Le.b.Chat?document.addEventListener("click",Tt):document.removeEventListener("click",Tt),function(){return document.removeEventListener("click",Tt)}},[Ze.current]);var Pt=Object(a.useState)(!1),Nt=h()(Pt,2),Mt=Nt[0],Lt=Nt[1],Bt=Object(a.useState)(_e),At=h()(Bt,2),Dt=At[0],Ut=At[1];Object(a.useEffect)(function(){Mt||Ut(_e)},[_e]);var Rt,Ht,Wt,Vt,zt,Gt,qt,Jt,Zt,Yt,Qt=Object(a.useCallback)(function(){var e,t,n=Object(a.useState)(!0),i=h()(n,2),s=i[0],c=i[1];return ge===o.te||ge===o.se||ge===o.pe?null:L&&ge===o.ne?null:(Object(a.useEffect)(function(){var e=function(){return c(!document.hidden)};return document.addEventListener("visibilitychange",e),oe(),function(){document.removeEventListener("visibilitychange",e)}},[]),Z?(Lt(!1),r.a.createElement("div",{className:is.a.redesign_reactionsAreaContainer},r.a.createElement("div",{className:is.a.redesign_reactionsFrameForHls},r.a.createElement("div",{className:is.a.redesign_reactionsHeader},r.a.createElement("div",{className:w()((t={},se()(t,is.a.redesign_linkCopied,!0),se()(t,is.a.redesign_showLinkCopied,Q),t))},"Link copied to clipboard")),ie?r.a.createElement("div",{className:is.a.reactionsContainerForMaxCapacity},"The conversation is at max capacity"):r.a.createElement("div",{className:is.a.reactionsContainerForHls},r.a.createElement("span",{className:is.a.reactionSettingsButton},r.a.createElement(yi,{size:24})),r.a.createElement("br",null),"Turn on real-time in ",r.a.createElement("br",null),"Video Controls ",r.a.createElement("br",null)," to join the conversation")))):(Lt(!0),r.a.createElement("div",{className:is.a.redesign_reactionsAreaContainer},r.a.createElement("div",{className:is.a.redesign_reactionsFrame},r.a.createElement("div",{className:is.a.redesign_reactionsHeader},r.a.createElement("div",{className:w()((e={},se()(e,is.a.redesign_linkCopied,!0),se()(e,is.a.redesign_showLinkCopied,Q),e))},"Link copied to clipboard")),s&&r.a.createElement(zr,null)))))},[q,ie,Z,ge,ue,Q,z,Se,we,Dt]);return[o.re,o.oe,o.te,o.se,o.pe].includes(ge)?r.a.createElement("div",{className:is.a.redesign_stageFrame},r.a.createElement("div",{className:is.a.redesign_mainContent},r.a.createElement(Oe.a,null),r.a.createElement(io,null,I),r.a.createElement("div",{className:is.a.redesign_stageFrameWithErrorMessage},r.a.createElement(Oe.a,null),r.a.createElement(ps,{stageMode:ge})))):null!==q&&A&&ge!==o.qe?it?r.a.createElement("div",{className:is.a.redesign_stageFrame,style:ce?{"--redesign_aspect-ratio":ce}:null},H&&r.a.createElement("div",null),r.a.createElement(Oe.a,null),r.a.createElement(io,null,I),r.a.createElement("div",{className:is.a.redesign_mainContent,ref:et},r.a.createElement("div",{className:w()((Rt={},se()(Rt,is.a.broadcastCardActions,!0),se()(Rt,is.a.stagePageMobilebroadcastCardActions,!0),Rt))},r.a.createElement("div",{className:w()((Ht={},se()(Ht,is.a.cardHeader,!0),se()(Ht,is.a.cardHeaderMobile,!0),Ht))},r.a.createElement("div",{className:w()((Wt={},se()(Wt,is.a.userContainer,!0),se()(Wt,is.a.userContainerMobile,!0),Wt))},r.a.createElement("div",{className:w()((Vt={},se()(Vt,"image",!0),se()(Vt,"is-48x48",!0),se()(Vt,is.a.stagePageMobileEntertainerProfileImage,!0),Vt))},r.a.createElement("a",{href:"/".concat(A.username,"/profile/")},r.a.createElement("img",{className:w()(is.a.avatar,"is-rounded"),src:ct}))),r.a.createElement("p",{className:w()((zt={},se()(zt,is.a.usernameContainer,!0),se()(zt,is.a.stagePageMobileUsernameContainer,!0),zt))},r.a.createElement("a",{href:"/".concat(A.username,"/profile/")},r.a.createElement("span",{className:w()((Gt={},se()(Gt,is.a.username,!0),se()(Gt,is.a.usernameMobile,!0),Gt))},A&&A.username," "))),r.a.createElement("div",{className:w()(se()({},is.a.badge,!0))},r.a.createElement(pn.a,{badge:A.badge}))),r.a.createElement(mi.a,null,A.caid&&r.a.createElement("div",{"data-name":"follow",className:w()((qt={},se()(qt,is.a.followUser,!0),se()(qt,is.a.followUserMobile,!0),se()(qt,is.a.stagePageFollowUserMobile,!0),se()(qt,is.a.disableInsideButton,!M),qt)),onClick:Et},r.a.createElement(ds.a,{caid:A.caid,hideUnfollow:!0}))))),r.a.createElement(Bo,{handleFullscreenClick:yt,handleUsernameClicked:St,hideCursor:R,showCursor:oe,showFriendsWatching:D.length>0}),r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:w()((Jt={},se()(Jt,is.a.titleContainer,!0),se()(Jt,is.a.titleContainerMobile,!0),Jt))},r.a.createElement("span",{className:w()((Zt={},se()(Zt,is.a.title,!0),se()(Zt,is.a.stagePageMobileTitle,!0),Zt))},P===o.U&&r.a.createElement(os,{display:"inline-flex",source:o.Kd}),wt)))),!z&&r.a.createElement("div",{ref:It,className:is.a.redesign_bottomFrameContentArea},rt?r.a.createElement(Qt,null):r.a.createElement(jo,{currentUser:N,entertainer:A}),r.a.createElement("div",{className:is.a.redesign_userReactionBar},r.a.createElement(nr,null))))):ot?r.a.createElement("div",{className:is.a.redesign_stageFrame},r.a.createElement("div",null),r.a.createElement(Oe.a,null),r.a.createElement(io,null,I),D.length>0&&r.a.createElement("div",{className:is.a.redesign_broadcastViewerMenuOfflineContainer},r.a.createElement(go,{darkTheme:!0})),r.a.createElement("div",{className:is.a.redesign_topFrame},r.a.createElement("div",{className:is.a.redesign_topFrameTop},r.a.createElement(bs,{stageMode:ge,badge:T})),r.a.createElement("div",{className:is.a.redesign_topFrameMiddle},r.a.createElement(bn.a,{size:"huge",user:at?N:A,editable:at})),r.a.createElement("div",{className:is.a.redesign_topFrameBottom},A&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,at?r.a.createElement(Fo,{name:A.name||"",username:A.username,caid:A.caid}):r.a.createElement("span",{className:is.a.redesign_displayName},A.name||A.username),r.a.createElement("div",{className:w()((Yt={},se()(Yt,is.a.redesign_snippetSubtitle,!0),se()(Yt,is.a.noUserActionMenu,!N||at),Yt))},r.a.createElement(Ye.a,{darkTheme:!0,hideAvatar:!0,hideFollowButton:!0,size:"large",user:A,onUsernameClickedHandler:St,showUserActionsMenu:!at&&!!N}))),r.a.createElement(qe,{entertainer:A})))),r.a.createElement("div",{className:is.a.redesign_bottomFrame},r.a.createElement("div",{className:is.a.redesign_bottomFrameContentArea},rt?r.a.createElement(Qt,null):r.a.createElement(jo,{currentUser:N,entertainer:A}),r.a.createElement("div",{className:is.a.redesign_userReactionBar},r.a.createElement(nr,null))))):r.a.createElement("div",{className:is.a.redesign_stageFrame,style:ce?{"--redesign_aspect-ratio":ce}:null},r.a.createElement(Oe.a,null),r.a.createElement(io,null,I),Y&&r.a.createElement(ui,null),r.a.createElement("div",{className:is.a.redesign_mainContent,ref:et},r.a.createElement("div",{className:w()((t={},se()(t,is.a.broadcastCardActions,!0),se()(t,is.a.stagePageMobilebroadcastCardActions,!0),t))},r.a.createElement("div",{className:w()((n={},se()(n,is.a.cardHeader,!0),se()(n,is.a.cardHeaderMobile,!0),n))},r.a.createElement("div",{className:w()((i={},se()(i,is.a.userContainer,!0),se()(i,is.a.userContainerMobile,!0),i))},r.a.createElement("div",{className:w()((s={},se()(s,"image",!0),se()(s,"is-48x48",!0),se()(s,is.a.stagePageMobileEntertainerProfileImage,!0),s))},r.a.createElement("a",{href:"/".concat(A.username,"/profile/")},r.a.createElement("img",{className:w()(is.a.avatar,"is-rounded"),src:ct}))),r.a.createElement("div",{className:w()(se()({},is.a.profileInfo,!0))},r.a.createElement("div",{className:w()(se()({},is.a.profileInfoMain,!0))},r.a.createElement("p",{className:w()((c={},se()(c,is.a.usernameContainer,!0),se()(c,is.a.stagePageMobileUsernameContainer,!0),c))},r.a.createElement("a",{href:"/".concat(A.username,"/profile/")},r.a.createElement("span",{className:w()((l={},se()(l,is.a.username,!0),se()(l,is.a.usernameMobile,!0),l))},A&&A.username," "))),r.a.createElement("div",{className:w()(se()({},is.a.badge,!0))},r.a.createElement(pn.a,{width:28,height:28,badge:A.badge})),r.a.createElement(mi.a,null,!!A&&!!A.caid&&r.a.createElement("div",{"data-name":"follow",className:w()(se()({},is.a.followStage,!0)),onClick:jt},r.a.createElement(ds.a,{caid:A.caid,hideUnfollow:!0})))),A&&A.name&&r.a.createElement("span",{className:w()(se()({},is.a.nameMobile,!0))},A.name))))),r.a.createElement("div",{className:is.a.redesign_broadcastFrame,onMouseMove:oe,onMouseLeave:R},J?r.a.createElement("div",{className:w()((u={},se()(u,is.a.redesign_liveIndicator,!0),se()(u,is.a.show,J||$),u))},r.a.createElement(bs,{stageMode:ge,badge:T})):r.a.createElement("div",null,D.length?r.a.createElement(go,{darkTheme:!0}):r.a.createElement("div",{className:w()((d={},se()(d,is.a.redesign_liveIndicator,!0),se()(d,is.a.show,J||$),d))},r.a.createElement(bs,{stageMode:ge,badge:T}))),!G&&P===o.U&&r.a.createElement("div",{className:is.a.redesign_overlayExplicit},r.a.createElement(Je.a,{size:"xLarge"})),ge===o.ue?r.a.createElement(ns,{handleFullscreenClick:yt,titleIsHidden:!0}):ge===o.ne?r.a.createElement(Xn,null):ge===o.me?r.a.createElement($e,{overlayTitleAreaVisible:!1,handleTrackFollow:jt,handleTrackUnfollow:Ot}):r.a.createElement("div",{className:is.a.redesign_spinnerBackground},r.a.createElement(Wn,{loaded:!!ke}))),r.a.createElement("div",{className:w()((_={},se()(_,is.a.cardContent,!0),se()(_,is.a.stagePageMobileCardContent,!0),_))},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:w()((m={},se()(m,is.a.titleContainer,!0),se()(m,is.a.titleContainerMobile,!0),m))},r.a.createElement("span",{className:w()((g={},se()(g,is.a.title,!0),se()(g,is.a.stagePageMobileTitle,!0),g))},P===o.U&&r.a.createElement(os,{display:"inline-flex",source:o.Kd}),wt)))),Fe?r.a.createElement("div",{className:w()((b={},se()(b,is.a.tagContainer,!0),se()(b,is.a.stagePageMobileTagContainer,!0),b))},Fe&&Fe.split(",").map(function(e){var t=e.replace(/^(tag\:)/,""),n="/tag/"+t;return r.a.createElement("a",{href:n,className:is.a.tag,key:e},"#",t," ")}),r.a.createElement("br",null)):null,r.a.createElement("hr",null),r.a.createElement("div",{className:w()((p={},se()(p,is.a.iconsList,!0),se()(p,is.a.stagePageMobileIconsList,!0),p))},r.a.createElement(S.b,{to:"/".concat(A.username,"/")},r.a.createElement("div",{className:w()((f={},se()(f,is.a.statIconContainer,!0),se()(f,is.a.statIconContainerMobile,!0),se()(f,is.a.stagePageMobileViewCountContainer,!0),f))},r.a.createElement("span",{className:w()((v={},se()(v,is.a.counterIcon,!0),se()(v,is.a.counterIconMobile,!0),v))},r.a.createElement(Xt,null)),r.a.createElement("div",{className:w()((C={},se()(C,is.a.counter,!0),se()(C,is.a.stagePageMobileCounter,!0),C))},ht))),r.a.createElement(mi.a,{disabled:!1},r.a.createElement("div",{"data-name":"give",className:w()((y={},se()(y,is.a.statIconContainer,!0),se()(y,is.a.statIconContainerMobile,!0),se()(y,is.a.disableInsideButton,!0),y)),onClick:Et},r.a.createElement("span",{"data-name":"give",className:w()((j={},se()(j,is.a.giveIcon,!0),se()(j,is.a.giveIconMobile,!0),j))},r.a.createElement(na,{"data-name":"give",width:"16px",height:"16px"})),r.a.createElement("div",{"data-name":"give",className:w()((O={},se()(O,is.a.counter,!0),se()(O,is.a.stagePageMobilePropsCounter,!0),O))},vt))),r.a.createElement(mi.a,{disabled:!1},r.a.createElement("div",{"data-name":"like",onClick:Et,className:w()((E={},se()(E,is.a.statIconContainer,!0),se()(E,is.a.statIconContainerMobile,!0),se()(E,is.a.disableInsideButton,!0),E))},r.a.createElement("span",{className:w()((x={},se()(x,is.a.heartIcon,!0),se()(x,is.a.heartIconMobile,!0),x))},r.a.createElement(cs,{liked:dt})),r.a.createElement("div",{className:w()((k={},se()(k,is.a.counter,!0),se()(k,is.a.stagePageMobileCounter,!0),k))},ft))))),r.a.createElement("div",{id:"gradient-limit"}),!z&&r.a.createElement("div",{ref:It,className:is.a.redesign_bottomFrameContentArea},rt?r.a.createElement(Qt,null):r.a.createElement(jo,{currentUser:N,entertainer:A}),r.a.createElement("div",{className:is.a.redesign_userReactionBar},r.a.createElement(nr,null))))):r.a.createElement("div",{className:is.a.redesign_stageFrame},r.a.createElement(Oe.a,null))}),hs=n("./src/pieces/footer/footer.tsx"),vs=n("./src/pieces/base/simple-dialog/simple-dialog.tsx"),ws=n("./src/pieces/base/ticket-modal/ticket-modal.scss"),Cs=n.n(ws),ys=n("./src/pieces/base/path.js"),js=n("./src/pieces/settings/settings.reducer.js"),Os=n("./src/pieces/payment/gold-purchase-flow.tsx"),Ss=n("./src/pieces/base/forms/text-field.js"),Es=n("./src/pieces/payment/link-account-flow.scss"),xs=n.n(Es),ks=n("./node_modules/redux-form/es/formValueSelector.js"),Is=n("./node_modules/redux-form/es/index.js"),Ts=n("./node_modules/redux-form/es/getFormInitialValues.js"),Fs=(n("./node_modules/bows/bows.js")("Link-account-flow"),Object(ks.a)("account-link-form")),Ps=Object(B.a)(Object(A.b)(function(e){var t=Fs(e,"email"),n=Fs(e,"otp"),a=t&&t.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/);return{email:t,otp:n,isValidEmail:a,userEntitlementState:Object(Nt.selectUserEntitlementState)(e),paymentType:Object(Nt.selectPaymentType)(e),accountLinkFlowStep:Object(Nt.selectAccountLinkFlowStep)(e),isInMaintenanceMode:Object(Nt.selectIsInMaintenanceMode)(e),goldPurchaseLimitIsExceeded:Object(Nt.selectGoldPurchaseLimitIsExceeded)(e),goldBundleLimitDisplayMessage:Object(Nt.selectGoldBundleLimitDisplayMessage)(e),currentUserEmail:Object(Ue.selectCurrentUserEmail)(e)}},{TriggerLinkAccount:Nt.TriggerLinkAccount,TriggerLinkAccountVerifyEmail:Nt.TriggerLinkAccountVerifyEmail,SetAccountLinkFlowStep:Nt.SetAccountLinkFlowStep}),Object(va.a)({form:"account-link-form",enableReinitialize:!0,onSubmit:js.PromiseProfileSettingsFormSubmission,onSubmitSuccess:function(e,t){t(Object(Is.b)("account-link-form",Object(Ts.a)("account-link-form"),{keepValues:!0,keepSubmitSucceeded:!0}))}})),Ns=function(e){e.darkTheme;var t=rt()(e,["darkTheme"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:xs.a.title},r.a.createElement("div",null,"PROBLEM WITH YOUR URLTV SUBSCRIPTION")),r.a.createElement("div",{className:xs.a.body},r.a.createElement("div",{className:xs.a.dangerMessage},"Your subscription is not active"),r.a.createElement("div",null,"Go to urltv.tv/subscribe to update your subscription information to get exclusive discounts on the biggest live battles and free access to some of the best videos from URLTV on Caffeine."),r.a.createElement("div",{className:xs.a.bottomContainer},r.a.createElement("div",{className:xs.a.anchoredButtonContainer},r.a.createElement("div",{onClick:function(){window.open("https://urltv.tv","_blank")},className:w()(xs.a.button,xs.a.main)},r.a.createElement("span",null,"UPDATE SUBSCRIPTION")),r.a.createElement("div",{onClick:function(){t.TriggerLinkAccount()},className:w()(xs.a.button)},r.a.createElement("span",null,"TRY AGAIN"))))))},Ms=function(e){e.darkTheme;var t=rt()(e,["darkTheme"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:xs.a.title},r.a.createElement("div",null,"URLTV ACCOUNT ALREADY LINKED")),r.a.createElement("div",{className:xs.a.body},r.a.createElement("div",{className:xs.a.dangerMessage},"This URLTV account is already linked to another account"),r.a.createElement("div",null,"Try signing out and in to another account if you have multiple accounts. If you believe this is in error, please contact support@caffeine.tv to help resolve this issue."),r.a.createElement("div",{className:xs.a.bottomContainer},r.a.createElement("div",{onClick:function(){t.onRequestClose&&t.onRequestClose()},className:w()(xs.a.button,xs.a.main)},r.a.createElement("span",null,"BACK")))))},Ls=function(e){var t=e.darkTheme,n=rt()(e,["darkTheme"]);return r.a.createElement("div",null,r.a.createElement("div",{className:xs.a.purchaseFailureContainer},r.a.createElement("div",{className:t?xs.a.purchaseFailureHeaderWithDarkTheme:xs.a.purchaseFailureHeader},"Error"),r.a.createElement("div",{className:xs.a.purchaseFailureMessage},me()(n,function(e){return e.goldPurchaseFlowError.body})||o.d)))},Bs=function(e){e.darkTheme;var t=rt()(e,["darkTheme"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:xs.a.title},r.a.createElement("div",null,"ACCOUNT LINKED SUCCESSFULLY")),r.a.createElement("div",{className:xs.a.body},r.a.createElement("div",null,"With your URLTV subscription you now get exclusive discounts on the biggest live battles and free access to some of the best videos from URLTV on Caffeine."),r.a.createElement("div",{className:xs.a.bottomContainer},r.a.createElement("div",{onClick:function(){t.onRequestClose&&t.onRequestClose()},className:w()(xs.a.button,xs.a.main)},r.a.createElement("span",null,"DONE")))))},As=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:xs.a.title},r.a.createElement("div",null,"CHECK YOUR EMAIL")),r.a.createElement("div",{className:xs.a.body},r.a.createElement("div",null,"We just sent you an email to verify your URLTV account. Find the email from community@caffeine.live, and enter the code below"),r.a.createElement("form",{className:w()(se()({},xs.a.form,!0))},r.a.createElement(wa.a,{name:"otp",type:"text",label:"",component:Ss.a,inputClassName:xs.a.accountInputBase,inputProps:{autoComplete:"off"}})),r.a.createElement("div",{className:xs.a.bottomContainer},r.a.createElement("div",{className:xs.a.anchoredButtonContainer},r.a.createElement("div",{onClick:function(){e.TriggerLinkAccount(e.email,e.otp)},className:w()(xs.a.button,xs.a.main)},r.a.createElement("span",null,"SUBMIT CODE")),r.a.createElement("div",{onClick:function(){e.TriggerLinkAccountVerifyEmail(e.email)},className:xs.a.button},r.a.createElement("span",null,"RESEND EMAIL"))))))},Ds=function(e){var t=e.darkTheme,n=void 0!==t&&t;return r.a.createElement("div",{className:xs.a.loadingContainer},r.a.createElement(R.a,{size:"medium",darkTheme:n}))},Us=function(e){var t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:xs.a.title},r.a.createElement("div",null,"URLTV SUBSCRIBER BENEFITS")),r.a.createElement("div",{className:xs.a.body},r.a.createElement("div",null,"Link your URLTV app subscription to get exclusive discounts on the biggest live battles and free access to some of the best videos from URLTV on Caffeine."),r.a.createElement("br",null),r.a.createElement("ul",null,r.a.createElement("li",null,"\u2022 Discounts on the biggest live events"),r.a.createElement("li",null,"\u2022 Access to the largest battle rap library"),r.a.createElement("li",null,"\u2022 First announcements of battle cards"),r.a.createElement("li",null,"\u2022 Chance to get prizes like stage passes")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:xs.a.urltvEmailAddress},"URLTV EMAIL ADDRESS"),e.accountLinkFlowStep===o.Qb&&r.a.createElement("div",{className:xs.a.currentUserEmail},e.currentUserEmail),e.accountLinkFlowStep!==o.Qb&&r.a.createElement("form",{className:w()(se()({},xs.a.form,!0))},r.a.createElement(wa.a,{name:"email",type:"text",label:"",component:Ss.a,inputClassName:xs.a.accountInputBase,inputProps:{autoComplete:"off"}})),r.a.createElement("div",{className:xs.a.caption},"By linking your accounts you agree to share your URLTV subscription status with Caffeine."),e.accountLinkFlowStep===o.Qb&&r.a.createElement("div",{className:xs.a.buttonContainer},r.a.createElement("div",{onClick:function(){e.TriggerLinkAccount()},className:w()(xs.a.button,xs.a.main)},r.a.createElement("span",null,"LINK ACCOUNT")),r.a.createElement("div",{onClick:function(){e.onRequestClose&&e.onRequestClose()},className:w()(xs.a.button)},r.a.createElement("span",null,"NOT NOW"))),e.accountLinkFlowStep!==o.Qb&&r.a.createElement("div",{className:xs.a.buttonContainer},r.a.createElement("button",{onClick:function(){e.TriggerLinkAccountVerifyEmail(e.email)},className:w()((t={},se()(t,xs.a.button,!0),se()(t,xs.a.main,!0),se()(t,xs.a.disabledButton,!e.isValidEmail),t)),disabled:!e.isValidEmail},r.a.createElement("span",null,"VERIFY EMAIL ADDRESS")),r.a.createElement("div",{onClick:function(){window.open("https://urltv.tv","_blank")},className:w()(xs.a.button)},r.a.createElement("span",null,"CREATE URL ACCOUNT")))))},Rs=Ps(function(e){var t=Object(a.useCallback)(function(){e.onRequestClose&&e.onRequestClose()},[e.onRequestClose]);Object(a.useCallback)(function(){e.successButtonAction&&e.successButtonAction()},[e.successButtonAction]);return r.a.createElement(Ae.b.div,nt()({},{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2}},{className:w()(se()({},xs.a.accountLinkFlow,!0))}),be()([[function(e){return"Processing"===e.accountLinkFlowStep},Ds],[function(e){return e.accountLinkFlowStep===o.Ob},Ls],[function(e){return e.accountLinkFlowStep===o.Pb},Ns],[function(e){return e.accountLinkFlowStep===o.Nb},Ms],[function(e){return e.accountLinkFlowStep===o.Sb},Bs],[function(e){return e.accountLinkFlowStep===o.Qb},Us],[function(e){return e.accountLinkFlowStep===o.Rb},Us],[function(e){return e.accountLinkFlowStep===o.Tb},As],[function(){return!0},Us]])(e),r.a.createElement("button",{onClick:t,className:xs.a.redesign_goldPurchaseClose},r.a.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.440765 13.4394L13.4407 0.439342C14.0265 -0.146445 14.9763 -0.146448 15.5621 0.439337C16.1478 1.02512 16.1478 1.97487 15.5621 2.56066L2.56209 15.5607C1.97631 16.1465 1.02656 16.1465 0.440771 15.5607C-0.145017 14.9749 -0.14502 14.0252 0.440765 13.4394Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5622 15.5601C14.9763 16.1458 14.0265 16.1458 13.4407 15.5601L0.439383 2.56138C-0.146461 1.97565 -0.146461 1.026 0.439383 0.440268C1.02523 -0.145461 1.97507 -0.14546 2.56091 0.440268L15.5622 13.439C16.148 14.0247 16.148 14.9744 15.5622 15.5601Z",fill:"white"}))))}),Hs=(n("./node_modules/bows/bows.js")("Arrow-thin-line-icon"),function(e){var t=e.className;return r.a.createElement(Fe.a,{className:t},r.a.createElement("svg",{width:"24",height:"12",viewBox:"0 0 24 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{y:"5.5",width:"23",height:"1",fill:"black"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2998 11.3L17.9998 12L23.9998 6L17.9998 0L17.2998 0.700012L22.5998 6L17.2998 11.3Z",fill:"black"})))}),Ws=(n("./node_modules/bows/bows.js")("Ticket-modal"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({ticketIsOpen:bi.selectTicketIsOpen,digitalItemPickerStep:Nt.selectDigitalItemPickerStep,video:ls.selectVideoOrLiveActivity,liveActivity:Te.selectStageLiveActivity,stageId:Te.selectStageId,stageIsLive:Be.selectIsStageDirectorLive,ppvshowId:ls.selectUnlockPaywallPPVShowId,price:ls.selectUnlockPaywallPPVPrice,header:ls.selectUnlockPaywallHeader,title:ls.selectUnlockPaywallTitle,description:ls.selectUnlockPaywallDescription,isPaywallEnforced:ls.selectUnlockPaywallIsPaywallEnforced,isVideoUnlocked:ls.selectUnlockPaywallIsUnlocked,previewImagePath:ls.selectUnlockPaywallPreviewImagePath,unlockOptions:ls.selectUnlockOptions,paywallCAID:ls.selectUnlockUserCAID,currentUserId:Ue.selectCurrentUserId,modalContent:js.selectModalContent,unlockModalIsOpen:ls.selectUnlockModalIsOpen}),{StartURLTVLinkFlow:Nt.StartURLTVLinkFlow,ToggleTicketModal:bi.ToggleTicketModal,HideTicketModal:bi.HideTicketModal,BuyPPVShowItem:Nt.BuyPPVShowItem,BuyTicket:Nt.BuyTicket,SetModalContent:js.SetModalContent,UnloadStage:Te.UnloadStage}))),Vs="true"===localStorage.getItem(o.Fb),zs=Ws(function(e){Object(a.useEffect)(function(){if(e.unlockModalIsOpen){var t=Object(ys.a)().currentPath,n=t===o.Kd?o.Ec.VOD:t===o.Id?o.Ec.STAGE:null,a={modal_name:o.Uc,screen_name:n,canonical_path:window.location.pathname,web_presentation:Vs?o.of:o.nf};window.mParticle.logEvent("modal_view",window.mParticle.EventType.Other,a)}},[e.unlockModalIsOpen]);var t=Object(ys.a)().currentPath;if(t!==o.Id&&t!==o.Kd||!e.video)return null;var n=e.video&&e.video.broadcastInfo&&e.video.broadcastInfo.previewImagePath,i=e.previewImagePath||n,s=Object(Ie.b)(i,{auto:"webp",fit:"crop",width:265,height:149,enable:"upscale"}),c=function(){return e.SetModalContent(js.ModalContentEnum.None)};if((t===o.Kd||t===o.Jd)&&e.modalContent===js.ModalContentEnum.BuyingGold)return r.a.createElement(to.a,{isOpen:e.modalContent===js.ModalContentEnum.BuyingGold,className:Cs.a.modalContent,overlayClassName:Cs.a.modalOverlay,onRequestClose:c},r.a.createElement(Os.a,{darkTheme:!0,successButtonAction:c,onlyViewPaymentType:"CreditCard",onRequestClose:c}));if(e.modalContent===js.ModalContentEnum.LinkURLTVAccount)return r.a.createElement(to.a,{isOpen:e.modalContent===js.ModalContentEnum.LinkURLTVAccount,className:Cs.a.modalContent,overlayClassName:Cs.a.modalOverlay,onRequestClose:c},r.a.createElement(Rs,{darkTheme:!0,onRequestClose:c}));if(t===o.Id&&"BuyingGoldFromFinalizing"===e.digitalItemPickerStep)return null;var l=1,u="";function d(){window.rdt&&window.rdt("track","Custom",{customEventName:"unlock_to_watch_click"}),e.StartURLTVLinkFlow()}function _(){window.rdt&&window.rdt("track","Custom",{customEventName:"unlock_to_watch_click"}),e.BuyPPVShowItem(e.ppvshowId,e.paywallCAID,e.price,l,u,e.video&&e.video.activityId)}function m(t,n){window.rdt&&window.rdt("track","Custom",{customEventName:"unlock_to_watch_click"}),e.BuyTicket(t,n,l,e.video&&e.video.activityId)}var g=!e.unlockOptions;return r.a.createElement(to.a,{overlayClassName:Cs.a.overlay,className:w()(Cs.a.container),isOpen:e.unlockModalIsOpen&&!Vs,onRequestClose:_,contentLabel:"Buy a ticket to unlock a show."},r.a.createElement("div",{className:Cs.a.content},r.a.createElement("div",{className:Cs.a.meta},r.a.createElement("div",{className:Cs.a.metaInner},r.a.createElement("div",{className:w()(Cs.a.previewImageContainer)},r.a.createElement("img",{src:s})),r.a.createElement("div",{className:Cs.a.metaContent},r.a.createElement("div",{className:Cs.a.paywallHeader},r.a.createElement("svg",{width:"10",height:"12",viewBox:"0 0 10 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M0 8.5C0 7.09554 0 6.39331 0.337061 5.88886C0.482978 5.67048 0.670479 5.48298 0.88886 5.33706C1.39331 5 2.09554 5 3.5 5H6.5C7.90446 5 8.60669 5 9.11114 5.33706C9.32952 5.48298 9.51702 5.67048 9.66294 5.88886C10 6.39331 10 7.09554 10 8.5C10 9.90446 10 10.6067 9.66294 11.1111C9.51702 11.3295 9.32952 11.517 9.11114 11.6629C8.60669 12 7.90446 12 6.5 12H3.5C2.09554 12 1.39331 12 0.88886 11.6629C0.670479 11.517 0.482978 11.3295 0.337061 11.1111C0 10.6067 0 9.90446 0 8.5Z",fill:"#EDC45B"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3.5C1.5 1.567 3.067 0 5 0C6.933 0 8.5 1.567 8.5 3.5V7C8.5 8.933 6.933 10.5 5 10.5C3.067 10.5 1.5 8.933 1.5 7V3.5ZM5 1.5C3.89543 1.5 3 2.39543 3 3.5V7C3 8.10457 3.89543 9 5 9C6.10457 9 7 8.10457 7 7V3.5C7 2.39543 6.10457 1.5 5 1.5Z",fill:"#EDC45B"})),r.a.createElement("span",null," ",e.header)),r.a.createElement("div",{className:Cs.a.paywallTitle},e.title),r.a.createElement("span",{className:Cs.a.broadcastTitle},e.video.broadcastInfo.broadcastTitle),r.a.createElement("p",{className:Cs.a.description},e.description)))),r.a.createElement(mi.a,null,r.a.createElement("div",{className:Cs.a.controls},!g&&1===e.unlockOptions.length&&e.unlockOptions.map(function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:e.entitlementId?function(){return d()}:function(){return m(e.priceId,e.price)},className:w()(Cs.a.button,Cs.a.main)},r.a.createElement("span",null,0===e.price?"FREE TO SUBSCRIBERS":"UNLOCK WITH GOLD"),0===e.price&&r.a.createElement("span",{className:Cs.a.icon},r.a.createElement(Hs,null)),0!==e.price&&r.a.createElement("span",{className:Cs.a.price},r.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"10",cy:"10",r:"9.5",stroke:"black"}),r.a.createElement("circle",{cx:"10",cy:"10",r:"6",fill:"black"})),r.a.createElement("span",null,e.price))))}),!g&&e.unlockOptions.length>1&&e.unlockOptions.map(function(t,n){return r.a.createElement(r.a.Fragment,null,n<e.unlockOptions.length-1&&r.a.createElement("div",{onClick:t.entitlementId?function(){return d()}:function(){return m(t.priceId,t.price)},className:w()(Cs.a.button,Cs.a.main)},r.a.createElement("span",null,0===t.price?"FREE TO SUBSCRIBERS":"SUBSCRIBER DISCOUNT"),0===t.price&&r.a.createElement("span",{className:Cs.a.icon},r.a.createElement(Hs,null)),0!==t.price&&r.a.createElement("span",{className:Cs.a.price},r.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"10",cy:"10",r:"9.5",stroke:"black"}),r.a.createElement("circle",{cx:"10",cy:"10",r:"6",fill:"black"})),r.a.createElement("span",null,t.price))),n===e.unlockOptions.length-1&&r.a.createElement("div",{onClick:t.entitlementId?function(){return d()}:function(){return m(t.priceId,t.price)},className:w()(Cs.a.button,Cs.a.secondary)},r.a.createElement("span",null,"UNLOCK WITH GOLD"),r.a.createElement("span",{className:Cs.a.price},r.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"10",cy:"10",r:"9.5",stroke:"#edc45b"}),r.a.createElement("circle",{cx:"10",cy:"10",r:"6",fill:"#edc45b"})),r.a.createElement("span",null,t.price))))}),g&&r.a.createElement("div",{onClick:_,className:w()(Cs.a.button,Cs.a.main)},r.a.createElement("span",null,"UNLOCK WITH GOLD"),r.a.createElement("span",{className:Cs.a.price},r.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"10",cy:"10",r:"9.5",stroke:"black"}),r.a.createElement("circle",{cx:"10",cy:"10",r:"6",fill:"black"})),r.a.createElement("span",null,e.price))))),r.a.createElement("div",{onClick:function(){if(e.HideTicketModal(),e.isPaywallEnforced)return e.UnloadStage(),void window.location.assign("/")},className:Cs.a.close},r.a.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.440765 13.4394L13.4407 0.439342C14.0265 -0.146445 14.9763 -0.146448 15.5621 0.439337C16.1478 1.02512 16.1478 1.97487 15.5621 2.56066L2.56209 15.5607C1.97631 16.1465 1.02656 16.1465 0.440771 15.5607C-0.145017 14.9749 -0.14502 14.0252 0.440765 13.4394Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5622 15.5601C14.9763 16.1458 14.0265 16.1458 13.4407 15.5601L0.439383 2.56138C-0.146461 1.97565 -0.146461 1.026 0.439383 0.440268C1.02523 -0.145461 1.97507 -0.14546 2.56091 0.440268L15.5622 13.439C16.148 14.0247 16.148 14.9744 15.5622 15.5601Z",fill:"white"})))))}),Gs=(n("./node_modules/bows/bows.js")("Close-icon"),function(e){var t=e.size,n=void 0===t?20:t;return r.a.createElement(pt.a,null,r.a.createElement("svg",{style:{width:n,height:n},viewBox:"0 0 18 18"},r.a.createElement("path",{d:"M1237,226l-1,1-8-8-8,8-1-1,8-8-8-8,1-1,8,8,8-8,1,1-8,8Z",transform:"translate(-1219 -209)"})))}),qs=n("./src/pieces/base/forms/radio.scss"),Js=n.n(qs),Zs=(n("./node_modules/bows/bows.js")("Radio"),function(e){return r.a.createElement("label",{className:e.radioClassName?e.radioClassName:Js.a.radio},r.a.createElement("input",{className:e.inputClassName?e.inputClassName:Js.a.radioInput,name:e.groupName,onChange:e.onChange,checked:e.checked,type:"radio",value:e.value}),r.a.createElement("span",{className:e.radioButtonClassName?e.radioButtonClassName:Js.a.radioButton}),r.a.createElement("span",{className:e.radioLabelClassName?e.radioLabelClassName:Js.a.radioLabel},e.label))}),Ys=(n("./node_modules/bows/bows.js")("Radio-group"),Object(B.d)({updateChoiceSelection:function(e){var t=e.onChange;return function(e){return t(e.target.value)}}})(function(e){return r.a.createElement("div",{className:e.className},e.options.map(function(t){return r.a.createElement(Zs,{key:"radio-".concat(e.groupName,"-").concat(t.value),label:t.label,value:t.value,checked:t.value===e.selectedValue,onChange:e.updateChoiceSelection,groupName:e.groupName,radioClassName:e.radioClassName,inputClassName:e.inputClassName,radioButtonClassName:e.radioButtonClassName,radioLabelClassName:e.radioLabelClassName})}))})),Qs=(n("./node_modules/bows/bows.js")("Textarea"),Object(B.e)("isFocused","setFocused")(function(e){var t=e.className,n=e.children,a=e.darkTheme,i=e.input,o=e.inputClassName,s=e.label,c=e.isFocused,l=e.setFocused,u=e.redesignClassName,d=e.redesignFocusClassName,_=e.redesignTextareaInputClassName;return r.a.createElement("div",{className:d?w()(st.a.inputField,c&&d,u):w()(st.a.inputField,a?st.a.textareaFieldWithDarkTheme:st.a.textareaField,c&&st.a.focused,t),onFocus:function(){return l(!0)},onBlur:function(){return l(!1)}},r.a.createElement("textarea",nt()({},i,{placeholder:s,"aria-label":s,className:_||w()(a?st.a.textareaInputWithDarkTheme:st.a.textareaInput,o)})),n)})),Ks=n("./src/pieces/current-user/report-dialog/report-dialog.reducer.js"),Xs=n("./src/pieces/current-user/report-dialog/report-dialog.scss"),$s=n.n(Xs),ec=(n("./node_modules/bows/bows.js")("Report-dialog"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({configuration:Ks.selectCurrentDialogConfiguration,isActive:Ks.selectDialogIsActive,reportReason:Ks.selectReportReason,reportDescription:Ks.selectReportDescription,reportDialogWasSubmitted:Ks.selectReportWasSubmitted}),{CompleteReportDialog:Ks.CompleteReportDialog,SubmitReportDialog:Ks.SubmitReportDialog,SetReportReason:Ks.SetReportReason,SetReportDescription:Ks.SetReportDescription}),Object(B.d)({handleClose:function(e){return function(){return e.CompleteReportDialog({})}},handleReportReasonChange:function(e){return function(t){return e.SetReportReason(t)}},handleReportDescriptionChange:function(e){return function(t){return e.SetReportDescription(t.target.value)}},submit:function(e){return function(){e.SubmitReportDialog({reason:e.reportReason,description:e.reportDescription})}}}))),tc=ec(function(e){return Object(a.useEffect)(function(){e.isActive&&Ce.a&&Ce.a.isFullscreen&&Ce.a.exit()},[e.isActive]),r.a.createElement(to.a,{overlayClassName:$s.a.redesign_overlay,className:$s.a.redesign_modalContainer,isOpen:e.isActive,onRequestClose:e.handleClose,contentLabel:"Report"},r.a.createElement("div",{className:$s.a.redesign_content},r.a.createElement("div",{className:$s.a.redesign_closeButtonContainer},r.a.createElement("button",{onClick:e.handleClose,className:$s.a.redesign_closeButton},r.a.createElement(Gs,null))),e.reportDialogWasSubmitted?function(e){return r.a.createElement("div",{className:$s.a.redesign_successfulReportMessage},r.a.createElement("div",{className:$s.a.redesign_successfulAvatar},r.a.createElement(bn.a,{user:e.configuration.user,size:"largeToVeryLarge2",allowAnimation:!1})),e.configuration.reportType===o.ud&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:$s.a.redesign_titleOnSuccess},"Video reported"),r.a.createElement("div",{className:$s.a.redesign_thankYouMessage},"Thank you for helping us stick",r.a.createElement("br",null),"to our community guidelines.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{href:"/rules.html",target:"_blank",className:$s.a.redesign_exploreLink},"Explore More >"))),e.configuration.reportType===o.sd&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:$s.a.redesign_titleOnSuccess},"Show reported"),r.a.createElement("div",{className:$s.a.redesign_thankYouMessage},"Thank you for helping us stick",r.a.createElement("br",null),"to our community guidelines.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{href:"/rules.html",target:"_blank",className:$s.a.redesign_exploreLink},"Explore More >"))),e.configuration.reportType===o.td&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:$s.a.redesign_titleOnSuccess},e.configuration.user&&e.configuration.user.username,r.a.createElement("br",null),"reported"),r.a.createElement("div",{className:$s.a.redesign_thankYouMessage},"Thank you for helping us stick",r.a.createElement("br",null),"to our community guidelines.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{href:"/rules.html",target:"_blank",className:$s.a.redesign_exploreLink},"Explore More >"))))}(e):function(e){return r.a.createElement("div",{className:$s.a.redesign_reportFormContainer},r.a.createElement("div",{className:$s.a.redesign_leftContainer},r.a.createElement("div",{className:e.configuration.reportType===o.sd?$s.a.redesign_titleWithShow:$s.a.redesign_titleWithUser},e.configuration.title),r.a.createElement("div",{className:$s.a.redesign_body},e.configuration.body),r.a.createElement("div",{className:$s.a.redesign_avatarContainer},r.a.createElement("div",{className:$s.a.redesign_avatar},r.a.createElement(bn.a,{user:e.configuration.user,size:"largeToVeryLarge",allowAnimation:!1})),e.configuration.user&&e.configuration.user.username&&r.a.createElement("div",{className:$s.a.redesign_message},r.a.createElement("span",{className:$s.a.redesign_emphasis},e.configuration.user&&e.configuration.user.username),r.a.createElement("br",null),"will be added to your ignore list."))),r.a.createElement("div",{className:$s.a.redesign_mainContainer},r.a.createElement("div",{className:$s.a.redesign_emphasizeReason},"Choose a reason for",r.a.createElement("br",null),"reporting this ",e.configuration.reportType||o.td),e.configuration.options&&r.a.createElement(Ys,{radioClassName:$s.a.redesign_radio,inputClassName:$s.a.redesign_radioInput,radioButtonClassName:$s.a.redesign_radioButton,radioLabelClassName:$s.a.redesign_radioLabel,groupName:"reason",options:e.configuration.options,onChange:e.handleReportReasonChange,selectedValue:e.reportReason}),r.a.createElement(Qs,{redesignClassName:$s.a.redesign_reportTextareaField,redesignTextareaInputClassName:$s.a.redesign_reportTextareaInput,redesignFocusClassName:$s.a.redesign_focus,darkTheme:!0,label:"Description (optional)",input:{onInput:e.handleReportDescriptionChange,maxLength:740}}),r.a.createElement("div",{className:$s.a.redesign_reportButtonContainer},r.a.createElement("button",{className:$s.a.redesign_reportButton,disabled:!e.reportReason,onClick:e.submit},"submit"))))}(e)))}),nc=n("./src/pieces/current-user/report-dialog/ignore-dialog.scss"),ac=n.n(nc),rc=(n("./node_modules/bows/bows.js")("Ignore-dialog"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({configuration:Ks.selectCurrentDialogConfiguration,isActive:Ks.selectIgnoreDialogIsActive,ignoreDialogWasSubmitted:Ks.selectIgnoreWasSubmitted}),{CompleteIgnoreDialog:Ks.CompleteIgnoreDialog,SubmitIgnoreDialog:Ks.SubmitIgnoreDialog}),Object(B.d)({handleClose:function(e){return function(){return e.CompleteIgnoreDialog({})}},submit:function(e){return function(){e.SubmitIgnoreDialog()}}}))),ic=rc(function(e){return Object(a.useEffect)(function(){e.isActive&&Ce.a&&Ce.a.isFullscreen&&Ce.a.exit()},[e.isActive]),r.a.createElement(to.a,{overlayClassName:ac.a.redesign_overlay,className:ac.a.redesign_modalContainer,isOpen:e.isActive,onRequestClose:e.handleClose,contentLabel:"Ignore"},r.a.createElement("div",{className:ac.a.redesign_content},r.a.createElement("div",{className:ac.a.redesign_closeButtonContainer},r.a.createElement("button",{onClick:e.handleClose,className:ac.a.redesign_closeButton},r.a.createElement(Gs,null))),e.ignoreDialogWasSubmitted?function(e){return r.a.createElement("div",{className:ac.a.redesign_successfulIgnoreMessage},r.a.createElement("div",{className:ac.a.redesign_avatar},r.a.createElement(bn.a,{user:e.configuration.user,size:"largeToVeryLarge2",allowAnimation:!1})),r.a.createElement("div",{className:ac.a.redesign_bodyOnSuccess},r.a.createElement("div",{className:ac.a.redesign_title},e.configuration.user&&e.configuration.user.username,r.a.createElement("br",null),"ignored"),r.a.createElement("div",{className:ac.a.redesign_successMessage},"You can remove"," ",r.a.createElement("span",{className:ac.a.redesign_emphasis},e.configuration.user&&e.configuration.user.username),r.a.createElement("br",null),"from your ignore list on your settings page.")))}(e):function(e){return r.a.createElement("div",{className:ac.a.redesign_ignoreFormContainer},r.a.createElement("div",{className:ac.a.redesign_avatar},r.a.createElement(bn.a,{user:e.configuration.user,size:"largeToVeryLarge2",allowAnimation:!1})),r.a.createElement("div",{className:ac.a.redesign_body},r.a.createElement("div",{className:ac.a.redesign_title},"ignore",r.a.createElement("br",null),e.configuration.user&&e.configuration.user.username,"?"),r.a.createElement("div",{className:ac.a.redesign_ignorePromptMessage},"You won\u2019t see broadcasts or messages from"," ",r.a.createElement("span",{className:ac.a.redesign_emphasis},e.configuration.user&&e.configuration.user.username)," ","and no one will see their messages in your broadcast."),r.a.createElement("button",{className:ac.a.redesign_submitButton,onClick:e.submit},"ignore")))}(e)))}),oc=n("./src/pieces/authentication/terms-of-service-dialog.scss"),sc=n.n(oc),cc=(n("./node_modules/bows/bows.js")("Terms-of-service-dialog"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({termsOfServiceDialogIsActive:i.selectTermsOfServiceDialogIsActive}),{CompleteTermsOfServiceDialog:i.CompleteTermsOfServiceDialog}))(function(e){var t=e.termsOfServiceDialogIsActive,n=rt()(e,["termsOfServiceDialogIsActive"]);return r.a.createElement(to.a,{overlayClassName:sc.a.overlay,className:sc.a.termsOfServiceDialog,isOpen:t,contentLabel:"Please agree to the new terms of service to continue"},r.a.createElement("div",{className:sc.a.messageContainer},r.a.createElement("div",{className:sc.a.title},"New Terms of Service"),r.a.createElement("div",{className:sc.a.body},"We have new"," ",r.a.createElement("a",{href:"/tos.html",target:"_blank",className:sc.a.agreementLinks},"Terms of Service"),","," ",r.a.createElement("a",{href:"/privacy.html",target:"_blank",className:sc.a.agreementLinks},"Privacy Policy"),", and"," ",r.a.createElement("a",{href:"/rules.html",target:"_blank",className:sc.a.agreementLinks},"Community Rules"),". Please agree to them to continue using Caffeine.")),r.a.createElement("button",{key:"I agree",className:sc.a.agreeButton,onClick:n.CompleteTermsOfServiceDialog},"I agree"))})),lc=n("./src/pieces/authentication/verification-dialog.scss"),uc=n.n(lc),dc=(n("./node_modules/bows/bows.js")("Verification-dialog"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({body:i.selectVerificationDialogBody,currentUser:Ue.selectCurrentUser,darkTheme:i.selectVerificationDialogDarkTheme,verificationDialogIsActive:i.selectVerificationDialogIsActive,verificationDialogueButtonClicked:i.selectEmailVerificationDialogButtonClicked}),{CompleteVerificationDialog:i.CompleteVerificationDialog,ResendVerificationEmailFromDialog:i.ResendVerificationEmailFromDialog}))(function(e){var t=e.body,n=e.currentUser,i=e.darkTheme,o=e.verificationDialogIsActive,s=e.verificationDialogueButtonClicked,c=e.CompleteVerificationDialog,l=e.ResendVerificationEmailFromDialog;return Object(a.useEffect)(function(){o&&Ce.a&&Ce.a.isFullscreen&&Ce.a.exit()},[o]),r.a.createElement(to.a,{overlayClassName:uc.a.redesign_overlay,className:uc.a.redesign_modalContainer,isOpen:o,onRequestClose:c,contentLabel:"Resend verification email"},r.a.createElement("div",{className:uc.a.redesign_content},r.a.createElement("button",{className:uc.a.redesign_closeButton,onClick:c},r.a.createElement(mn.a,{size:"medium",darkTheme:i})),r.a.createElement("div",{className:i?uc.a.redesign_verificationContainerDarkTheme:uc.a.redesign_verificationContainer},r.a.createElement("div",{className:uc.a.redesign_title},"Hey there,"),r.a.createElement("div",{className:uc.a.redesign_body},t),s?r.a.createElement("div",{className:uc.a.redesign_message,"data-private":!0},"Email sent to ",n.email):r.a.createElement("div",{className:uc.a.redesign_message},"Check your email to confirm your account"),r.a.createElement("button",{className:i?uc.a.redesign_resendButtonDarkTheme:uc.a.redesign_resendButton,onClick:l,disabled:s},"resend confirmation email"))))})),_c=n("./src/pieces/authentication/welcome-dialog.scss"),mc=n.n(_c),gc=(n("./node_modules/bows/bows.js")("Welcome-dialog"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({currentUser:Ue.selectCurrentUser,showConfirmEmailMessage:Ue.selectCurrentUserEmailUnverified,welcomeDialogIsActive:i.selectWelcomeDialogIsActive,welcomeDialogEmailButtonClicked:i.selectWelcomeDialogEmailButtonClicked}),{CompleteWelcomeDialog:i.CompleteWelcomeDialog,ResendVerificationEmailFromWelcomeDialog:i.ResendVerificationEmailFromWelcomeDialog}))(function(e){var t=e.currentUser,n=e.showConfirmEmailMessage,i=e.welcomeDialogIsActive,s=e.welcomeDialogEmailButtonClicked,c=e.CompleteWelcomeDialog,l=e.ResendVerificationEmailFromWelcomeDialog,u=Object(vr.a)();return Object(a.useEffect)(function(){if(i){var e="true"===localStorage.getItem(o.Fb),t=Object(ys.a)().currentPath,a=t===o.Kd?o.Ec.VOD:t===o.Id?o.Ec.STAGE:null,r=n?o.Dc.AUTHENTICATION_VERIFY_EMAIL:o.Dc.AUTHENTICATION_COMPLETE_REGISTRATION,s=location.pathname.replace(/\/sign-up$/,""),c={modal_name:r||null,screen_name:a,clicked_at:Date.now()||null,viewer_id:null,item_type:o.Cc.AUTHENTICATION_MODAL||null,item_source:"".concat(s),web_presentation:e?o.of:o.nf};globalThis.mParticle.logEvent("modal_view",globalThis.mParticle.EventType.Other,c)}},[i]),u?r.a.createElement(to.a,{overlayClassName:mc.a.redesign_overlay,className:mc.a.redesign_modalContainer,isOpen:i,onRequestClose:c,contentLabel:"Welcome Dialog"},r.a.createElement("div",{className:w()(se()({},mc.a.welcomeDialogMobile,!0))},r.a.createElement("div",null,r.a.createElement("button",{className:mc.a.redesign_closeButtonMobile,onClick:c},r.a.createElement(mn.a,{height:"28px",width:"28px"})),r.a.createElement("div",{className:mc.a.redesign_welcomeContainerMobile},r.a.createElement("div",{className:mc.a.redesign_titleMobile},n?"VERIFY YOUR EMAIL":"WELCOME TO CAFFEINE"),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:mc.a.redesign_bodyMobile},"To continue watching, verify your account at ".concat(t.email," and refresh this\n                  page.")),s?r.a.createElement("div",{className:mc.a.redesign_emailSentMessageMobile,"data-private":!0},"Email sent to"," ",r.a.createElement("span",{className:mc.a.redesign_emailAddressMobile},t.email)):r.a.createElement("button",{className:mc.a.mobileWelcomeDialogButtonContainer,onClick:l},r.a.createElement("span",{className:mc.a.buttonText},"RESEND EMAIL"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:mc.a.redesign_bodyMobile},"Watch the best in gaming,\n                  entertainment and sports live with friends!"),r.a.createElement("button",{className:mc.a.mobileWelcomeDialogButtonContainer,onClick:c},r.a.createElement("span",{className:mc.a.buttonText},"LET'S GO"))))))):r.a.createElement(to.a,{overlayClassName:mc.a.redesign_overlay,className:mc.a.redesign_modalContainer,isOpen:i,onRequestClose:c,contentLabel:"Welcome Dialog"},r.a.createElement("div",{className:mc.a.redesign_content},r.a.createElement("button",{className:mc.a.redesign_closeButton,onClick:c},r.a.createElement(mn.a,{size:"medium"})),r.a.createElement("div",{className:mc.a.redesign_welcomeContainer},r.a.createElement("div",{className:mc.a.redesign_title},"Welcome to Caffeine"),r.a.createElement("div",{className:mc.a.redesign_body},"Get ready to watch, interact and",r.a.createElement("br",null),"broadcast to your heart's content"),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:mc.a.redesign_body},"But before you do, check your email",r.a.createElement("br",null),"to confirm your account"),s?r.a.createElement("div",{className:mc.a.redesign_emailSentMessage,"data-private":!0},"Email sent to"," ",r.a.createElement("span",{className:mc.a.redesign_emailAddress},t.email)):r.a.createElement("button",{className:mc.a.redesign_actionButton,onClick:l},"resend confirmation email")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:mc.a.redesign_body},"Watch the best in gaming,",r.a.createElement("br",null),"entertainment and sports live with friends!"),r.a.createElement("button",{className:mc.a.redesign_actionButton,onClick:c},"let's go")))))})),bc=n("./src/pieces/authentication/bouncer-dialog.scss"),pc=n.n(bc),fc=n("./node_modules/@babel/runtime/helpers/objectDestructuringEmpty.js"),hc=n.n(fc),vc=n("./node_modules/zxcvbn/lib/main.js"),wc=n.n(vc),Cc=n("./node_modules/prop-types/index.js"),yc=n.n(Cc),jc=n("./src/pieces/base/recompose-extras.js"),Oc=n("./src/pieces/authentication/authentication.scss"),Sc=n.n(Oc);function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(n,!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Sign-up");var kc=Object(ks.a)("signUp"),Ic=function(e){var t=Object(a.useRef)({username:!1,password:!1}),n=Object(a.useState)(!1),i=h()(n,2),s=i[0],c=i[1],l=Object(a.useState)({}),u=h()(l,2),d=u[0],_=u[1],m=Object(a.useState)({}),g=h()(m,2),b=g[0],p=g[1],f=e.provider,v=e.username,C=void 0===v?"":v,y=e.password,j=void 0===y?"":y,O=e.socialConnectionError,E=e.usernameIsAvailable,x=d.username?null:me()(e,function(e){return e.error.username[0]}),k=d.password?null:me()(e,function(e){return e.error.password[0]}),I=d.email?null:me()(e,function(e){return e.error.email[0]}),T=d.dateOfBirth?null:me()(e,function(e){return e.error.dob[0]}),F=me()(e,function(e){return e.error._signup[0]}),P=me()(e,function(e){return e.error._denied[0]}),N=me()(e,function(e){return e.error._error[0]}),M=e.error&&!["username","password","email","dob","_signup","_denied","_error"].includes(Object.keys(e.error)[0])?"An unknown error occurred, please try again.":null,L=e.error&&!(x||k||I||T||F)?P||N||M:null,B=!e.hasRequiredFormValues||0!==Object.keys(b).length,A="Welcome ".concat(C,",\nLet's finish setting you up."),D=O?"Something went wrong. Try email?":f?A:"Let's get started",U=Object(a.useCallback)(function(e){var t=xc({},b);if(C&&(/[^a-zA-Z0-9\-_]/.test(C)?t.username="Username may only contain letters, numbers, dashes or underscores.":/^[^a-zA-Z0-9]/.test(C)?t.username="Username must start with a letter or number.":C.length<3?t.username="Username must be 3 or more characters.":e||E?delete t.username:t.username='Username "'.concat(C,'" is not available. Try another?')),j){var n=wc()(j);j.length<7?t.password="Password needs to be at least 7 characters.":o.Kc>n.guesses_log10?t.password="Password is too weak. Try another?":delete t.password}p(t)},[C,j,b,E]),R=Object(a.useCallback)(function(e){var t=e.target.name;_(xc({},d,se()({},t,!0)))},[d]),H=Object(a.useCallback)(function(t){t.preventDefault(),_({}),0===Object.keys(b).length&&e.handleSubmit()},[b]),W=ve()(function(t,n){e.SetUsernameUniqueness(!0),n(t)},300);Object(a.useEffect)(function(){C&&C.length>=3?(W(C,e.ValidateUsernameUniqueness),U(!0)):U(!1)},[C]),Object(a.useEffect)(function(){U(!1)},[j,E]),Object(a.useEffect)(function(){b.username&&"Username must start with a letter or number."!==b.username&&"Username may only contain letters, numbers, dashes or underscores."!==b.username&&"Username must be 3 or more characters."!==b.username&&!t.current.username&&d.username&&(t.current.username=!0,e.ReportSignUpClientUsernameError(b.username)),b.password&&"Password needs to be at least 7 characters."!==b.password&&!t.current.password&&d.password&&(t.current.password=!0,e.ReportSignUpClientPasswordError(b.password))},[b,d]),Object(a.useEffect)(function(){var t="true"===localStorage.getItem(o.Fb),n=Object(ys.a)(),a=n.currentPath;if(n.currentModal===o.Dc.AUTHENTICATION_SIGN_UP){var r=a===o.Kd?o.Ec.VOD:a===o.Id?o.Ec.STAGE:null,i={modal_name:o.Dc.AUTHENTICATION_SIGN_UP,screen_name:r,clicked_at:Date.now()||null,viewer_id:null,item_type:o.Cc.AUTHENTICATION_MODAL||null,item_source:"".concat(e.pathPrefix,"/sign-up"),broadcaster_caid:Ee||null,broadcaster_username:Se?Se.username:null,web_presentation:t?o.of:o.nf};globalThis.mParticle.logEvent("modal_view",globalThis.mParticle.EventType.Other,i)}},[]);var V,z,G,q,J,Z,Y,Q,K,X,$,ee,te,ne,ae,re,ie,oe,ce,le,ue,de,_e,ge,be,pe,fe,he,we,Ce,ye,je,Oe,Se=e.video?e.video.user:e.entertainer,Ee=Se&&Se.stageId?"CAID".concat(String(Se.stageId)):null;Se&&Object(Ie.c)(Se.avatarImagePath,{auto:"webp",fit:"crop",width:120,height:120,enable:"upscale"});return Object(vr.a)()?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:w()(se()({},Sc.a.contentLockedOverlay,!0)),onClick:e.close}),r.a.createElement("div",{className:w()((V={},se()(V,Sc.a.authenticationScreenContainer,!0),se()(V,Sc.a.hideNag,!0),se()(V,Sc.a.showNag,!0),se()(V,Sc.a.contentLocked,!0),V))},r.a.createElement("button",{className:Sc.a.redesign_closeButtonMobile,onClick:e.close},r.a.createElement(mn.a,{height:"28px",width:"28px"})),r.a.createElement("div",{className:w()(se()({},Sc.a.signUpTitleMobile,!0))},r.a.createElement(S.b,{to:"".concat(window.location.pathname.replace("/sign-up","/"),"join")},"<"),r.a.createElement("span",null,"SIGN UP")),r.a.createElement("form",{onSubmit:H,className:w()((z={},se()(z,Sc.a.form,!0),se()(z,Sc.a.redesign_form,!0),se()(z,Sc.a.redesign_signInFormMobile,!0),se()(z,Sc.a.isSubmitting,e.submitting),z))},r.a.createElement("div",{className:w()((G={},se()(G,Sc.a.bodyMinimal,e.inline),se()(G,Sc.a.bodyWithHomepageTheme,"Homepage"===e.theme&&!e.inline),se()(G,Sc.a.body,"Homepage"!==e.theme),se()(G,Sc.a.redesign_body,!0),se()(G,Sc.a.redesign_signInBodyMobile,!0),G))},r.a.createElement("div",{className:w()((q={},se()(q,Sc.a.redesign_signUpFormFieldContainers,!0),se()(q,Sc.a.redesign_signUpFormFieldContainersMobile,!0),q))},r.a.createElement("div",{className:w()((J={},se()(J,Sc.a.redesign_fields,!0),se()(J,Sc.a.redesign_signInFieldsMobile,!0),J))},r.a.createElement(wa.a,{name:"email",type:"email",label:"Email Address",component:Ss.a,className:w()((Z={},se()(Z,Sc.a.redesign_signUpTextContainer,!0),se()(Z,Sc.a.redesign_signUpTextContainerMobile,!0),Z)),onChange:R,inputClassName:I&&!e.submitting?Sc.a.redesign_signUpInputFieldDarkThemeWithErrorMobile:w()((Y={},se()(Y,Sc.a.redesign_signUpInputFieldDarkTheme,!0),se()(Y,Sc.a.redesign_signUpInputFieldDarkThemeMobile,!0),Y)),darkTheme:"Homepage"!==e.theme,dataPrivate:!0,inputProps:{autoFocus:!0,autoComplete:"off",tabIndex:1},required:!0,children:I&&!e.submitting?r.a.createElement("div",{className:w()((Q={},se()(Q,Sc.a.redesign_signUpInputHelperError,!0),se()(Q,Sc.a.redesign_signUpInputHelperMobile,!0),Q))},I):r.a.createElement("div",{className:w()((K={},se()(K,Sc.a.redesign_signUpInputHelper,!0),se()(K,Sc.a.redesign_signUpInputHelperMobile,!0),se()(K,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasEmail),K))},"Email Address")}),r.a.createElement(wa.a,{name:"username",type:"text",label:"Create a Username",component:Ss.a,className:w()((X={},se()(X,Sc.a.redesign_signUpTextContainer,!0),se()(X,Sc.a.redesign_signUpTextContainerMobile,!0),X)),onChange:R,inputClassName:x&&!e.submitting?Sc.a.redesign_signUpInputFieldDarkThemeWithErrorMobile:w()(($={},se()($,Sc.a.redesign_signUpInputFieldDarkTheme,!0),se()($,Sc.a.redesign_signUpInputFieldDarkThemeMobile,!0),$)),errorClassName:w()((ee={},se()(ee,Sc.a.redesign_signUpInputHelper,!0),se()(ee,Sc.a.redesign_signUpInputHelperMobile,!0),se()(ee,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasUsername),ee)),inputProps:{autoComplete:"off",maxLength:o.nc,tabIndex:2},darkTheme:"Homepage"!==e.theme,required:!0,children:x&&!e.submitting?r.a.createElement("div",{className:w()((te={},se()(te,Sc.a.redesign_signUpInputHelperError,!0),se()(te,Sc.a.redesign_signUpInputHelperMobile,!0),te))},x):r.a.createElement("div",{className:w()((ne={},se()(ne,Sc.a.redesign_signUpInputHelper,!0),se()(ne,Sc.a.redesign_signUpInputHelperMobile,!0),se()(ne,Sc.a.redesign_signUpInputHelperWithClientError,b.username),se()(ne,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasUsername),ne))},b.username||"Username")}),r.a.createElement(wa.a,{name:"password",type:"password",label:"Create a Password",component:Ss.a,className:w()((ae={},se()(ae,Sc.a.redesign_signUpTextContainer,!0),se()(ae,Sc.a.redesign_signUpTextContainerMobile,!0),ae)),onChange:R,inputClassName:k&&!e.submitting?Sc.a.redesign_signUpInputFieldDarkThemeWithErrorMobile:w()((re={},se()(re,Sc.a.redesign_signUpInputFieldDarkTheme,!0),se()(re,Sc.a.redesign_signUpInputFieldDarkThemeMobile,!0),re)),darkTheme:"Homepage"!==e.theme,errorClassName:w()((ie={},se()(ie,Sc.a.redesign_signUpInputHelper,!0),se()(ie,Sc.a.redesign_signUpInputHelperMobile,!0),se()(ie,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasPassword),ie)),inputProps:{autoComplete:"new-password",tabIndex:3},required:!0,children:k&&!e.submitting?r.a.createElement("div",{className:w()((oe={},se()(oe,Sc.a.redesign_signUpInputHelperError,!0),se()(oe,Sc.a.redesign_signUpInputHelperMobile,!0),oe))},k):r.a.createElement("div",{className:w()((ce={},se()(ce,Sc.a.redesign_signUpInputHelper,!0),se()(ce,Sc.a.redesign_signUpInputHelperMobile,!0),se()(ce,Sc.a.redesign_signUpInputHelperWithClientError,b.password),se()(ce,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasPassword),ce))},b.password||"Password")}),r.a.createElement(wa.a,{name:"dateOfBirth",type:"text",formId:"signUpDateOfBirthSelector",label:"Birthdate",patternFormat:"##/##/####",component:Ss.a,className:w()((le={},se()(le,Sc.a.redesign_signUpTextContainer,!0),se()(le,Sc.a.redesign_signUpTextContainerMobile,!0),le)),onChange:R,inputClassName:x&&!e.submitting?Sc.a.redesign_signUpInputFieldDarkThemeWithErrorMobile:w()((ue={},se()(ue,Sc.a.redesign_signUpInputFieldDarkTheme,!0),se()(ue,Sc.a.redesign_signUpInputFieldDarkThemeMobile,!0),ue)),errorClassName:w()((de={},se()(de,Sc.a.redesign_signUpInputHelper,!0),se()(de,Sc.a.redesign_signUpInputHelperMobile,!0),se()(de,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasUsername),de)),inputProps:{autoComplete:"off",tabIndex:4},darkTheme:"Homepage"!==e.theme,required:!0,children:T&&!e.submitting?r.a.createElement("div",{className:w()((_e={},se()(_e,Sc.a.redesign_signUpInputHelperError,!0),se()(_e,Sc.a.redesign_signUpInputHelperMobile,!0),_e))},T):r.a.createElement("div",{className:w()((ge={},se()(ge,Sc.a.redesign_signUpInputHelper,!0),se()(ge,Sc.a.redesign_signUpInputHelperMobile,!0),se()(ge,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasDateOfBirth),se()(ge,Sc.a.redesign_signUpInputHelperAlwaysDisplayOnFocused,!0),ge))},e.hasDateOfBirth?r.a.createElement("span",null,"Birthdate (MM/DD/YYYY)"):r.a.createElement("span",null,"Don't worry, your birthday won't be public"))}))),r.a.createElement(wa.a,{name:"iid",component:"span"}),r.a.createElement(wa.a,{name:"provider",component:"span"}),r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessageContainer},r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessagePlaceholder}),!e.submitting&&r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessage},L))),r.a.createElement("button",{className:Sc.a.mobileSignUpSubmitButtonContainer,disabled:B||e.submitting,type:"submit"},r.a.createElement("span",{className:Sc.a.mobileSignUpButtonText},"SIGN UP"),r.a.createElement("div",{className:Sc.a.signUpButtonIconMobile},r.a.createElement("svg",{width:"60",height:"24",viewBox:"0 0 60 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M59.0607 13.0607C59.6464 12.4749 59.6464 11.5251 59.0607 10.9393L49.5147 1.3934C48.9289 0.807612 47.9792 0.807612 47.3934 1.3934C46.8076 1.97918 46.8076 2.92893 47.3934 3.51472L55.8787 12L47.3934 20.4853C46.8076 21.0711 46.8076 22.0208 47.3934 22.6066C47.9792 23.1924 48.9289 23.1924 49.5147 22.6066L59.0607 13.0607ZM0 13.5H58V10.5H0V13.5Z",fill:"white"}))))),r.a.createElement("div",{className:Sc.a.redesign_mainContainerFooter},r.a.createElement("div",{className:w()((be={},se()(be,Sc.a.redesign_agreementText,!0),se()(be,Sc.a.redesign_agreementTextMobile,!0),be))},"By continuing you agree to Caffeine's"," ",r.a.createElement("a",{href:"/tos.html",target:"_blank",className:Sc.a.redesign_agreementLinks},"Terms of Service"),","," ",r.a.createElement("a",{href:"/rules.html",target:"_blank",className:Sc.a.redesign_agreementLinks},"Community Rules")," ","and"," ",r.a.createElement("a",{href:"/privacy.html",target:"_blank",className:Sc.a.redesign_agreementLinks},"Privacy Policy"),".")))):r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:Sc.a.redesign_title},D),r.a.createElement("form",{onSubmit:H,className:w()((pe={},se()(pe,Sc.a.form,!0),se()(pe,Sc.a.redesign_form,!0),se()(pe,Sc.a.isSubmitting,e.submitting),pe))},r.a.createElement("div",{className:w()((fe={},se()(fe,Sc.a.bodyMinimal,e.inline),se()(fe,Sc.a.bodyWithHomepageTheme,"Homepage"===e.theme&&!e.inline),se()(fe,Sc.a.body,"Homepage"!==e.theme),se()(fe,Sc.a.redesign_body,!0),fe))},!e.inline&&r.a.createElement("div",{className:"Homepage"===e.theme?Sc.a.headerWithHomepageTheme:Sc.a.header},"New Account"),r.a.createElement("div",{className:Sc.a.redesign_signUpFormFieldContainers},r.a.createElement("div",{className:w()(Sc.a.redesign_fields)},r.a.createElement(wa.a,{name:"email",type:"email",label:"Email Address",component:Ss.a,className:Sc.a.redesign_signUpTextContainer,onChange:R,inputClassName:I&&!e.submitting?Sc.a.redesign_signUpInputFieldWithError:Sc.a.redesign_signUpInputField,darkTheme:"Homepage"!==e.theme,dataPrivate:!0,inputProps:{autoFocus:!0,autoComplete:"off",tabIndex:1},required:!0,children:I&&!e.submitting?r.a.createElement("div",{className:Sc.a.redesign_signUpInputHelperError},I):r.a.createElement("div",{className:w()((he={},se()(he,Sc.a.redesign_signUpInputHelper,!0),se()(he,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasEmail),he))},"Email Address")}),r.a.createElement(wa.a,{name:"username",type:"text",label:"Create a Username",component:Ss.a,className:Sc.a.redesign_signUpTextContainer,onChange:R,inputClassName:x&&!e.submitting?Sc.a.redesign_signUpInputFieldWithError:Sc.a.redesign_signUpInputField,errorClassName:w()((we={},se()(we,Sc.a.redesign_signUpInputHelper,!0),se()(we,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasUsername),we)),inputProps:{autoComplete:"off",maxLength:o.nc,tabIndex:2},darkTheme:"Homepage"!==e.theme,required:!0,children:x&&!e.submitting?r.a.createElement("div",{className:Sc.a.redesign_signUpInputHelperError},x):r.a.createElement("div",{className:w()((Ce={},se()(Ce,Sc.a.redesign_signUpInputHelper,!0),se()(Ce,Sc.a.redesign_signUpInputHelperWithClientError,b.username),se()(Ce,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasUsername),Ce))},b.username||"Username")}),r.a.createElement(wa.a,{name:"password",type:"password",label:"Create a Password",component:Ss.a,className:Sc.a.redesign_signUpTextContainer,onChange:R,inputClassName:k&&!e.submitting?Sc.a.redesign_signUpInputFieldWithError:Sc.a.redesign_signUpInputField,darkTheme:"Homepage"!==e.theme,errorClassName:w()((ye={},se()(ye,Sc.a.redesign_signUpInputHelper,!0),se()(ye,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasPassword),ye)),inputProps:{autoComplete:"new-password",tabIndex:3},required:!0,children:k&&!e.submitting?r.a.createElement("div",{className:Sc.a.redesign_signUpInputHelperError},k):r.a.createElement("div",{className:w()((je={},se()(je,Sc.a.redesign_signUpInputHelper,!0),se()(je,Sc.a.redesign_signUpInputHelperWithClientError,b.password),se()(je,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasPassword),je))},b.password||"Password")}),r.a.createElement(wa.a,{name:"dateOfBirth",type:s?"date":"text",onFocus:function(){return c(!0)},component:Ss.a,className:Sc.a.redesign_signUpTextContainer,onChange:R,inputClassName:T&&!e.submitting?Sc.a.redesign_signUpInputFieldWithError:Sc.a.redesign_signUpInputField,formId:"signUpDateOfBirthSelector",label:"Birthdate",hideLabel:"Homepage"===e.theme,darkTheme:"Homepage"!==e.theme,required:!0,inputProps:{required:!0,tabIndex:4},children:T&&!e.submitting?r.a.createElement("div",{className:Sc.a.redesign_signUpInputHelperError},T):r.a.createElement("div",{className:w()((Oe={},se()(Oe,Sc.a.redesign_signUpInputHelper,!0),se()(Oe,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasDateOfBirth),se()(Oe,Sc.a.redesign_signUpInputHelperAlwaysDisplayOnFocused,!0),Oe))},e.hasDateOfBirth?r.a.createElement("span",null,"Birthdate"):r.a.createElement("span",null,"Don't worry, your birthday won't be public"))}))),r.a.createElement(wa.a,{name:"iid",component:"span"}),r.a.createElement(wa.a,{name:"provider",component:"span"}),r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessageContainer},r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessagePlaceholder}),!e.submitting&&r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessage},L))),r.a.createElement("div",{className:"g-recaptcha","data-sitekey":o.jd,"data-callback":o.kd,"data-size":"invisible","data-badge":"inline",style:{height:0,overflow:"hidden"}}),r.a.createElement("div",{className:Sc.a.redesign_mainContainerFooter},r.a.createElement("div",{className:Sc.a.redesign_agreementText},"By clicking \u201csign up\u201d you agree to our"," ",r.a.createElement("a",{href:"/tos.html",target:"_blank",className:Sc.a.redesign_agreementLinks},"Terms of Service"),","," ",r.a.createElement("a",{href:"/rules.html",target:"_blank",className:Sc.a.redesign_agreementLinks},"Community Rules")," ","and acknowledge that you have read our"," ",r.a.createElement("a",{href:"/privacy.html",target:"_blank",className:Sc.a.redesign_agreementLinks},"Privacy Policy"),"."),r.a.createElement("div",null,r.a.createElement("button",{className:Sc.a.redesign_signUpButton,disabled:B||e.submitting,type:"submit"},"sign up")))))},Tc=Object(B.a)(Object(va.a)({form:"signUp",onSubmit:i.PromiseSignUpFormSubmission}),Object(B.c)({handleSubmit:yc.a.func.isRequired,error:yc.a.shape({username:yc.a.array,password:yc.a.array,email:yc.a.array,_denied:yc.a.array,_error:yc.a.array}),submitting:yc.a.bool,password:yc.a.string,pathPrefix:yc.a.string,inline:yc.a.bool,theme:yc.a.string}),Object(jc.a)(function(){var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.async=!0,document.body.appendChild(e)}),Object(A.b)(function(e){var t=kc(e,"username"),n=kc(e,"password"),a=Object(i.selectUsernameIsAvailable)(e),r=!!t,o=!!n,s=!!kc(e,"email"),c=!!kc(e,"dateOfBirth"),l=!!kc(e,"provider"),u=Object(ls.selectVideo)(e),d=Object(Te.selectEntertainer)(e),_=window.location.pathname.replace(/\/join$/,"");return{hasRequiredFormValues:r&&o&&s&&c,socialConnectionError:Object(i.selectSocialConnectionError)(e),hasUsername:r,hasPassword:o,hasEmail:s,hasDateOfBirth:c,username:t,password:n,usernameIsAvailable:a,provider:l,video:u,entertainer:d,pathPrefix:_}},{ValidateUsernameUniqueness:i.ValidateUsernameUniqueness,ReportSignUpClientUsernameError:i.ReportSignUpClientUsernameError,ReportSignUpClientPasswordError:i.ReportSignUpClientPasswordError,SetUsernameUniqueness:i.SetUsernameUniqueness,PushRoute:X.push}),S.e,Object(B.d)({close:function(e){e.PushRoute;return function(){window.location.replace("/")}}}))(Ic),Fc=(n("./node_modules/bows/bows.js")("Facebook-halo-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 400 400"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.a.createElement("path",{d:"M400,201.178782 C400,90.0707269 310.457031,0 200,0 C89.5429688,0 0,90.0707269 0,201.178782 C0,301.592927 73.1371094,384.821218 168.75,399.913556 L168.75,259.332024 L117.96875,259.332024 L117.96875,201.178782 L168.75,201.178782 L168.75,156.856582 C168.75,106.436149 198.608594,78.5854617 244.292969,78.5854617 C266.174609,78.5854617 289.0625,82.5147348 289.0625,82.5147348 L289.0625,132.023576 L263.842969,132.023576 C238.998047,132.023576 231.25,147.531238 231.25,163.440864 L231.25,201.178782 L286.71875,201.178782 L277.851562,259.332024 L231.25,259.332024 L231.25,399.913556 C326.862891,384.821218 400,301.592927 400,201.178782"})))))}),Pc=(n("./node_modules/bows/bows.js")("Twitter-halo-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 400 400"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.a.createElement("path",{d:"M400,200 C400,310.5 310.5,400 200,400 C89.5,400 0,310.5 0,200 C0,89.5 89.5,0 200,0 C310.5,0 400,89.5 400,200 Z M163.4,305.5 C252.1,305.5 300.6,232 300.6,168.3 C300.6,166.2 300.6,164.1 300.5,162.1 C309.9,155.3 318.1,146.8 324.6,137.1 C316,140.9 306.7,143.5 296.9,144.7 C306.9,138.7 314.5,129.3 318.1,118 C308.8,123.5 298.5,127.5 287.5,129.7 C278.7,120.3 266.2,114.5 252.3,114.5 C225.7,114.5 204.1,136.1 204.1,162.7 C204.1,166.5 204.5,170.2 205.4,173.7 C165.3,171.7 129.8,152.5 106,123.3 C101.9,130.4 99.5,138.7 99.5,147.5 C99.5,164.2 108,179 121,187.6 C113.1,187.4 105.7,185.2 99.2,181.6 C99.2,181.8 99.2,182 99.2,182.2 C99.2,205.6 115.8,225 137.9,229.5 C133.9,230.6 129.6,231.2 125.2,231.2 C122.1,231.2 119.1,230.9 116.1,230.3 C122.2,249.5 140,263.4 161.1,263.8 C144.6,276.7 123.8,284.4 101.2,284.4 C97.3,284.4 93.5,284.2 89.7,283.7 C110.8,297.5 136.2,305.5 163.4,305.5 L163.4,305.5 Z"})))))}),Nc=(n("./node_modules/bows/bows.js")("Outline-caffeine-icon"),function(e){var t=e.color||"#fff";return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"80px",height:"69px",viewBox:"0 0 93 80"},r.a.createElement("defs",null,r.a.createElement("path",{d:"M70.06666,53.60976 L88.27194,43.09608 L70.06666,74.637126 L70.06666,53.60976 Z M53.73406,63.042 L66.4537,77.733276 L28.29479,77.733276 L53.73406,63.042 Z M22.93334,45.25457 L22.93334,74.637126 L3.853958,41.58172 L22.93334,45.25457 Z M22.93334,26.3901 L4.728059,36.90378 L22.93334,5.36287 L22.93334,26.3901 Z M39.26608,16.95786 L26.5463,2.26658 L64.70536,2.26658 L39.26608,16.95786 Z M70.06666,34.74543 L70.06666,5.36287 L89.14618,38.41828 L70.06666,34.74543 Z M70.06666,50.99243 L70.06666,37.05366 L88.16898,40.53838 L70.06666,50.99243 Z M67.80068,54.91829 L67.80068,75.826798 L55.73237,61.88803 L67.80068,54.91829 Z M42.59126,49.03863 L65.73538,53.49402 L53.42617,60.60259 C53.42419,60.60358 53.42249,60.60472 53.42051,60.60585 L53.4113,60.61109 L27.1618,75.770417 L42.59126,49.03863 Z M25.19932,44.31848 L25.19932,44.30714 C25.19932,44.30544 25.19932,44.30374 25.19932,44.30204 L25.19932,30.0842 L40.62878,47.9052 L25.19932,74.637126 L25.19932,44.31848 Z M22.93334,29.00729 L22.93334,42.94634 L4.831019,39.46147 L22.93334,29.00729 Z M25.19932,25.08143 L25.19932,4.17306 L37.26763,18.11197 L25.19932,25.08143 Z M50.40874,30.96137 L27.26462,26.50598 L39.5887,19.38891 L39.5904,19.38777 C39.59281,19.3865 39.59521,19.38508 39.59748,19.38381 L65.83834,4.22958 L50.40874,30.96137 Z M67.80068,35.68138 L67.80068,35.69215 C67.80082,35.69413 67.80068,35.69626 67.80068,35.69838 L67.8007422,49.9158 L52.37136,32.09466 L67.8007422,5.36287 L67.80068,35.68138 Z M42.61279,46.73465 L27.06394,28.77553 L50.38721,33.26535 L65.93606,51.22433 L42.61279,46.73465 Z M92.49374,40.11567 C92.49473,40.10688 92.49572,40.0981 92.49643,40.08946 C92.49728,40.07827 92.49771,40.06722 92.49827,40.05617 C92.49912,40.03988 92.49941,40.02359 92.49955,40.0073 C92.49969,39.99724 92.50011,39.98732 92.49997,39.97741 C92.49969,39.96607 92.49884,39.95488 92.49827,39.94369 C92.49756,39.9291 92.49643,39.91465 92.49516,39.9002 C92.49416,39.88901 92.49374,39.87768 92.49247,39.86663 C92.49119,39.85515 92.48878,39.84382 92.48723,39.83234 C92.48524,39.81931 92.48298,39.80628 92.48071,39.79339 C92.47844,39.78135 92.4766,39.7693 92.47405,39.75755 C92.47165,39.7465 92.46853,39.73559 92.4657,39.72468 C92.46244,39.71193 92.4589,39.69918 92.45522,39.68643 C92.45196,39.67439 92.44885,39.66221 92.44502,39.65045 C92.44176,39.64068 92.43794,39.6309 92.4344,39.62113 C92.42958,39.60767 92.42449,39.59435 92.41925,39.58104 C92.41457,39.56928 92.41018,39.55738 92.40494,39.54576 C92.4014,39.53755 92.39744,39.52933 92.39347,39.52111 C92.38696,39.50695 92.37987,39.49306 92.37265,39.47904 C92.3667,39.46742 92.36076,39.45595 92.35438,39.44476 C92.35226,39.44093 92.3507,39.43711 92.34858,39.43328 L69.91498,0.56665 C69.91285,0.56325 69.91045,0.56013 69.90846,0.55673 C69.90082,0.54384 69.89289,0.53137 69.88495,0.51891 C69.87716,0.50701 69.86923,0.49525 69.8613,0.48377 C69.8562,0.47641 69.85125,0.46918 69.84601,0.46196 C69.83765,0.45048 69.82859,0.43929 69.81967,0.4281 C69.81159,0.41804 69.80352,0.40798 69.79502,0.39821 C69.78794,0.38999 69.78129,0.38164 69.7742,0.3737 C69.76557,0.36407 69.75636,0.35486 69.7473,0.34551 C69.73866,0.33659 69.72988,0.32795 69.72095,0.3193 C69.71189,0.31052 69.70311,0.30146 69.69362,0.2931 C69.68555,0.28573 69.67677,0.27879 69.66841,0.27156 C69.6585,0.26307 69.64858,0.25499 69.63839,0.24692 C69.62734,0.23813 69.61658,0.22935 69.60539,0.22113 C69.59788,0.21575 69.59052,0.21065 69.58301,0.20541 C69.5714,0.19733 69.5595,0.1894 69.54761,0.18175 C69.53529,0.17382 69.52296,0.16589 69.5105,0.15852 C69.50696,0.15639 69.5037,0.15399 69.50016,0.15186 C69.49676,0.14988 69.49308,0.14832 69.48954,0.14648 C69.47651,0.13911 69.46334,0.13231 69.45003,0.12537 C69.43771,0.11914 69.42539,0.1129 69.41264,0.1071 C69.40443,0.10327 69.39635,0.09916 69.388,0.09548 C69.37497,0.08981 69.36151,0.08471 69.3482,0.07947 C69.33659,0.0748 69.32469,0.07041 69.31279,0.06616 C69.30231,0.06233 69.29198,0.05836 69.2815,0.05496 C69.26917,0.051 69.25671,0.04774 69.24425,0.0442 C69.23264,0.04094 69.22088,0.03782 69.20927,0.03485 C69.19652,0.03173 69.18406,0.02819 69.17145,0.0255 C69.16083,0.02323 69.14993,0.02153 69.13931,0.01955 C69.12656,0.01728 69.1141,0.01516 69.10149,0.01332 C69.08733,0.01119 69.07303,0.00892 69.05886,0.00737 C69.04994,0.00637 69.04116,0.00581 69.03224,0.0051 C69.01822,0.00382 69.0042,0.00297 68.99003,0.00227 C68.97531,0.00142 68.96044,0.00085 68.94571,0.00071 C68.9416,0.00057 68.93763,0 68.93367,0 L24.06633,0 C24.06208,0 24.05783,0.00057 24.05359,0.00071 C24.04056,0.00085 24.02753,0.00156 24.0145,0.00212 C23.99892,0.00283 23.98334,0.00368 23.96776,0.0051 C23.95884,0.00581 23.94992,0.00637 23.94099,0.00737 C23.92825,0.00878 23.9155,0.01091 23.90276,0.01275 C23.88859,0.01487 23.87472,0.017 23.86084,0.01955 C23.85064,0.02139 23.84044,0.02295 23.83039,0.02507 C23.81792,0.02762 23.80574,0.03117 23.79328,0.03428 C23.78068,0.0374 23.76807,0.04066 23.75575,0.0442 C23.74485,0.04731 23.7338,0.05001 23.72318,0.05326 C23.71128,0.05709 23.69967,0.06176 23.68806,0.06587 C23.67588,0.07026 23.66384,0.07466 23.6518,0.07947 C23.64104,0.08372 23.62999,0.08741 23.61951,0.09194 C23.60889,0.09647 23.59869,0.10185 23.58821,0.10667 C23.57532,0.11262 23.56258,0.119 23.54983,0.12551 C23.53992,0.13061 23.52958,0.13543 23.51981,0.14081 C23.51088,0.14563 23.50225,0.15129 23.49332,0.15639 C23.47959,0.16461 23.46599,0.17297 23.45239,0.18175 C23.44305,0.18784 23.4337,0.19365 23.42449,0.19988 C23.41713,0.20498 23.41005,0.21037 23.40268,0.21561 C23.3888,0.22567 23.37521,0.23615 23.36161,0.24692 C23.35255,0.25414 23.34363,0.26122 23.33485,0.26873 C23.33145,0.27142 23.32791,0.27383 23.32465,0.27666 C23.32125,0.27964 23.31842,0.2829 23.31502,0.28587 C23.30284,0.29678 23.2908,0.30797 23.27905,0.31945 C23.27041,0.3278 23.26191,0.33616 23.25355,0.3448 C23.24619,0.35231 23.23897,0.35996 23.23174,0.36761 C23.22254,0.37767 23.21376,0.38787 23.20498,0.39835 C23.1969,0.4077 23.18897,0.41733 23.18104,0.42711 C23.17283,0.43745 23.16476,0.44779 23.15683,0.45842 C23.15074,0.46663 23.14479,0.47513 23.13884,0.48377 C23.13119,0.49454 23.12383,0.50545 23.11675,0.5165 C23.10825,0.52939 23.10018,0.54242 23.09224,0.5556 C23.08998,0.55942 23.08729,0.56282 23.08516,0.56665 L0.6514245,39.43328 C0.6494418,39.43697 0.6478839,39.44065 0.6459012,39.44419 C0.6381119,39.45822 0.6306058,39.47224 0.623383,39.48641 C0.6175765,39.49802 0.6119115,39.5095 0.6065298,39.52111 C0.6021395,39.53046 0.5977492,39.53981 0.5936421,39.5493 C0.588402,39.56163 0.5833036,39.57395 0.5784884,39.58656 C0.5739564,39.59804 0.5697077,39.60951 0.5656006,39.62113 C0.5610687,39.63402 0.5565367,39.64691 0.5524296,39.6598 C0.5493139,39.67 0.5463398,39.68006 0.5435073,39.69026 C0.54025,39.70173 0.5372759,39.71306 0.5344434,39.72468 C0.5303363,39.74083 0.5265125,39.75684 0.5232552,39.77313 C0.5222638,39.77738 0.5208476,39.78149 0.5201394,39.78588 C0.5192897,39.79013 0.5190065,39.79438 0.5182983,39.79863 C0.516174,39.80982 0.5146161,39.82115 0.5129166,39.83234 C0.5102258,39.84963 0.5081014,39.86691 0.5062603,39.88433 C0.5054106,39.89312 0.5042776,39.90176 0.5035695,39.91054 C0.5027198,39.92159 0.5024365,39.93264 0.50187,39.94369 C0.5010203,39.96012 0.5004538,39.97627 0.5003121,39.99256 C0.5003121,40.00262 0.4998873,40.01268 0.5000289,40.02259 C0.5001705,40.03379 0.5013035,40.04498 0.50187,40.05617 C0.5025781,40.0709 0.5034279,40.08521 0.5048441,40.0998 C0.5058355,40.11099 0.5062603,40.12218 0.507535,40.13337 C0.5089512,40.14471 0.5112172,40.15618 0.5129166,40.16751 C0.5147578,40.18069 0.5170237,40.19358 0.5194313,40.20661 C0.5216973,40.21851 0.5233968,40.23055 0.525946,40.24245 C0.5283536,40.2535 0.531611,40.26427 0.5344434,40.27532 C0.5375591,40.28807 0.5410997,40.30082 0.5446403,40.31343 C0.5481809,40.32547 0.551155,40.33765 0.5551205,40.34955 C0.5582362,40.35932 0.56206,40.36896 0.5656006,40.37873 C0.5704158,40.39219 0.5755143,40.40565 0.580896,40.41896 C0.5855695,40.43072 0.5899599,40.44262 0.5950583,40.45424 C0.5985989,40.46231 0.602706,40.47053 0.6065298,40.47874 C0.6130445,40.49291 0.6202673,40.50694 0.6273485,40.52082 C0.6332967,40.53243 0.6392449,40.54391 0.6456179,40.55524 C0.6477423,40.55892 0.6493001,40.56275 0.6514245,40.56657 L23.08516,79.4332129 C23.08672,79.4360461 23.08885,79.4384543 23.09055,79.4412876 C23.09833,79.4546037 23.10669,79.4677782 23.11519,79.4809527 C23.12411,79.4948356 23.13346,79.5082934 23.14295,79.5217512 C23.15159,79.5340758 23.15994,79.5464003 23.16915,79.5584415 C23.17283,79.563258 23.17708,79.5675078 23.18076,79.5723243 C23.18997,79.5839406 23.1996,79.5952735 23.20923,79.6064647 C23.22339,79.6227558 23.23783,79.6387635 23.25285,79.6544879 C23.25794,79.6595877 23.26262,79.6651125 23.26772,79.6702123 C23.27437,79.6768704 23.2816,79.6828202 23.28854,79.6894783 C23.3027,79.7025111 23.31686,79.7156856 23.33159,79.7282935 C23.34363,79.7384931 23.35581,79.7482677 23.36813,79.7579007 C23.37691,79.7647005 23.38526,79.7719252 23.39404,79.7784416 C23.40169,79.7839664 23.40934,79.7892079 23.41699,79.7944494 C23.43554,79.8074822 23.45466,79.8193818 23.47378,79.8312813 C23.4827,79.8366644 23.49077,79.8428975 23.49984,79.8479974 C23.50083,79.848564 23.50182,79.848989 23.50281,79.8495556 C23.50706,79.8518222 23.51131,79.8542305 23.51556,79.856497 C23.55365,79.8777462 23.59288,79.8968705 23.63339,79.9137282 C23.63509,79.9144365 23.63693,79.9152865 23.63877,79.9159948 C23.64359,79.9179781 23.64854,79.919253 23.65322,79.920953 C23.68777,79.9345524 23.72318,79.946452 23.75915,79.95651 C23.77317,79.9604765 23.78705,79.9638764 23.80107,79.9674179 C23.83039,79.9743593 23.86027,79.9800257 23.89044,79.9848422 C23.90559,79.9872505 23.9206,79.9900837 23.93575,79.991642 C23.97201,79.9960335 24.00883,79.9981584 24.04608,79.9988667 C24.05245,79.9988667 24.05897,80 24.06534,80 L24.06633,80 L24.06746,80 C24.06846,80 24.06959,79.9998583 24.07072,79.9998583 L68.92942,79.9998583 C68.93055,79.9998583 68.93154,80 68.93268,80 C68.93494,80 68.93693,79.999575 68.93919,79.999575 C68.97332,79.9994334 69.0076,79.9975918 69.04187,79.9943335 C69.05008,79.9936252 69.0583,79.9923503 69.06651,79.9913587 C69.076,79.990367 69.08535,79.9888088 69.09498,79.9873921 C69.11254,79.9849839 69.12996,79.982434 69.14738,79.9791758 C69.16168,79.9763425 69.17584,79.9729427 69.19029,79.9695428 C69.20049,79.9672762 69.21083,79.9654346 69.22102,79.9627431 C69.22131,79.9626014 69.22173,79.9626014 69.22201,79.9624597 C69.23164,79.9600515 69.24113,79.9567933 69.25048,79.9541017 C69.26521,79.9498519 69.27965,79.9450354 69.2941,79.9402189 C69.31279,79.9339858 69.33121,79.9273277 69.34962,79.920103 C69.35429,79.9182614 69.35925,79.9167031 69.36392,79.9147199 C69.37383,79.9106117 69.38361,79.9062202 69.39338,79.9018287 C69.41179,79.8936123 69.42992,79.8848293 69.44805,79.8754797 C69.46023,79.8692466 69.47255,79.8632968 69.48458,79.856497 C69.48869,79.8542305 69.4928,79.8519639 69.49719,79.8495556 C69.51135,79.8413393 69.52523,79.8321313 69.53925,79.8232066 C69.55271,79.8147069 69.5663,79.8063489 69.57947,79.7971409 C69.58754,79.7914745 69.59576,79.7855247 69.60397,79.7795749 C69.61346,79.7727752 69.62253,79.7652671 69.63201,79.7579007 C69.64292,79.7492594 69.65397,79.7407597 69.66459,79.7316934 C69.66827,79.7288601 69.67195,79.7261686 69.67535,79.7231937 C69.6847,79.7152606 69.69249,79.7064776 69.70155,79.6982613 C69.70368,79.696278 69.70566,79.6945781 69.70778,79.6925948 C69.71571,79.6849451 69.72449,79.6781454 69.73243,79.6702123 C69.73738,79.6653958 69.74177,79.6600127 69.74645,79.6550546 C69.75948,79.6418801 69.77137,79.6279972 69.78355,79.6142561 C69.79559,79.6006566 69.80763,79.5870571 69.81896,79.5727493 C69.81938,79.5721827 69.81981,79.5718993 69.82023,79.5713327 C69.82321,79.5673662 69.82675,79.5639663 69.82972,79.5601414 C69.8385,79.5488085 69.84601,79.5370506 69.85422,79.5255761 C69.86414,79.5116933 69.87405,79.4978104 69.8834,79.4835026 C69.89232,79.4697615 69.90082,79.4558787 69.90917,79.4419959 C69.91073,79.4388793 69.91314,79.4363294 69.91498,79.4332129 L92.33654,40.5874 C92.33725,40.58627 92.33795,40.58513 92.33852,40.58386 L92.34858,40.56657 C92.35155,40.56162 92.35353,40.55623 92.35637,40.55128 C92.36996,40.52691 92.38271,40.50212 92.3946,40.47648 C92.39984,40.46529 92.4048,40.45395 92.40962,40.44248 C92.41542,40.42874 92.42151,40.41514 92.42675,40.40111 C92.42958,40.39375 92.43171,40.3861 92.4344,40.37873 C92.43964,40.36414 92.44446,40.34955 92.44913,40.33482 C92.45239,40.32405 92.45578,40.31328 92.45876,40.30238 C92.46131,40.29331 92.46343,40.28439 92.4657,40.27532 C92.46966,40.25959 92.47335,40.24387 92.47646,40.228 C92.47759,40.22333 92.47901,40.21894 92.48,40.21398 C92.48085,40.20973 92.48099,40.20548 92.4817,40.20123 C92.48368,40.19004 92.48538,40.17871 92.48723,40.16751 C92.48977,40.15023 92.49204,40.13295 92.49374,40.11567 L92.49374,40.11567 Z",id:"path-1"})),r.a.createElement("g",{id:"Mark/White",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("mask",{id:"mask-2",fill:"white"},r.a.createElement("use",{href:"#path-1"})),r.a.createElement("g",{id:"Clip-2"}),r.a.createElement("polygon",{id:"Fill-1",style:{fill:t},mask:"url(#mask-2)",points:"-4.5 -5 97.5 -5 97.5 85 -4.5 85"}))))}),Mc=(n("./node_modules/bows/bows.js")("Facebook-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"57",height:"57",viewBox:"0 0 57 57",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M56.5002 27.9996C56.5002 12.5347 43.9635 -0.00202942 28.4986 -0.00202942C13.0337 -0.00202942 0.496948 12.5347 0.496948 27.9996C0.496948 41.976 10.7367 53.5604 24.1233 55.6611V36.0938H17.0135V27.9996H24.1233V21.8305C24.1233 14.8126 28.3038 10.9361 34.7 10.9361C37.7636 10.9361 40.9681 11.483 40.9681 11.483V18.374H37.4371C33.9586 18.374 32.8738 20.5325 32.8738 22.747V27.9996H40.6399L39.3984 36.0938H32.8738V55.6611C46.2604 53.5604 56.5002 41.976 56.5002 27.9996",fill:"#4267B2"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.3982 36.0938L40.6397 27.9995H32.8736V22.7469C32.8736 20.5324 33.9584 18.374 37.4369 18.374H40.9678V11.4829C40.9678 11.4829 37.7634 10.936 34.6997 10.936C28.3036 10.936 24.1231 14.8125 24.1231 21.8304V27.9995H17.0133V36.0938H24.1231V56.0012C24.1231 56.0012 27.0099 56.0012 28.4984 56.0012C29.9868 56.0012 32.8736 56 32.8736 56V36.0938H39.3982Z",fill:"white"})))}),Lc=(n("./node_modules/bows/bows.js")("Twitter-icon"),function(){return r.a.createElement(Fe.a,null,r.a.createElement("svg",{width:"57",height:"56",viewBox:"0 0 57 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M28.5 56C43.964 56 56.5 43.464 56.5 28C56.5 12.536 43.964 0 28.5 0C13.036 0 0.5 12.536 0.5 28C0.5 43.464 13.036 56 28.5 56Z",fill:"#1DA1F2"}),r.a.createElement("path",{d:"M23.376 42.77C35.794 42.77 42.584 32.48 42.584 23.562C42.584 23.268 42.584 22.974 42.57 22.694C43.886 21.742 45.034 20.552 45.944 19.194C44.74 19.726 43.438 20.09 42.066 20.258C43.466 19.418 44.53 18.102 45.034 16.52C43.732 17.29 42.29 17.85 40.75 18.158C39.518 16.842 37.768 16.03 35.822 16.03C32.098 16.03 29.074 19.054 29.074 22.778C29.074 23.31 29.13 23.828 29.256 24.318C23.642 24.038 18.672 21.35 15.34 17.262C14.766 18.256 14.43 19.418 14.43 20.65C14.43 22.988 15.62 25.06 17.44 26.264C16.334 26.236 15.298 25.928 14.388 25.424C14.388 25.452 14.388 25.48 14.388 25.508C14.388 28.784 16.712 31.5 19.806 32.13C19.246 32.284 18.644 32.368 18.028 32.368C17.594 32.368 17.174 32.326 16.754 32.242C17.608 34.93 20.1 36.876 23.054 36.932C20.744 38.738 17.832 39.816 14.668 39.816C14.122 39.816 13.59 39.788 13.058 39.718C16.012 41.65 19.568 42.77 23.376 42.77Z",fill:"white"})))}),Bc=n("./src/pieces/base/banner-message.tsx"),Ac=(n("./node_modules/bows/bows.js")("Authentication-sign-up-menu"),function(e){var t,n,i,s,c=e.video?e.video.user:e.stageEntertainer?e.stageEntertainer:e.profileUser,l=e.video&&e.video.user&&e.video.user.stageId?"CAID".concat(String(e.video.user.stageId)):null,u=c?Object(Ie.c)(c.avatarImagePath,{auto:"webp",fit:"crop",width:120,height:120,enable:"upscale"}):"",d=(c&&c.username,Object(vr.a)());Object(a.useEffect)(function(){Ce.a&&Ce.a.isFullscreen&&Ce.a.exit(),g(o.Dc.AUTHENTICATION_MENU_LANDING),e.SetAuthenticationLockDialogAlreadyTriggered(!0)},[]);var _=function(t){g(o.Dc.AUTHENTICATION_FACEBOOK),e.handleFacebookSignIn(t)},m=function(t){g(o.Dc.AUTHENTICATION_TWITTER),e.handleTwitterSignIn(t)},g=function(t){var n="true"===localStorage.getItem(o.Fb),a=Object(ys.a)().currentPath,r={modal_name:t||null,screen_name:a===o.Kd?o.Ec.VOD:a===o.Id?o.Ec.STAGE:null,clicked_at:Date.now()||null,viewer_id:null,item_type:o.Cc.AUTHENTICATION_MODAL||null,item_source:"".concat(e.pathPrefix,"/join"),broadcaster_caid:l||null,broadcaster_username:c?c.username:null,web_presentation:n?o.of:o.nf};globalThis.mParticle.logEvent("modal_view",globalThis.mParticle.EventType.Other,r)};return r.a.createElement(r.a.Fragment,null,d?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:e.close,className:w()(se()({},Sc.a.contentLockedOverlay,!0))}),r.a.createElement("div",{className:w()((t={},se()(t,Sc.a.authenticationScreenContainer,!0),se()(t,Sc.a.hideNag,!0),se()(t,Sc.a.showNag,!0),se()(t,Sc.a.contentLocked,!0),t))},r.a.createElement("button",{className:Sc.a.redesign_closeButtonMobile,onClick:e.close},r.a.createElement(mn.a,{height:"28px",width:"28px"})),r.a.createElement("div",null,c&&r.a.createElement("div",{className:Sc.a.broadcasterInfo},r.a.createElement("img",{className:w()(Sc.a.avatarMobile,"is-rounded"),src:u}),r.a.createElement("span",{className:Sc.a.broadcasterUsername},c.username,r.a.createElement(pn.a,{badge:c.badge})),r.a.createElement("span",{className:Sc.a.broadcasterName},c.name)),r.a.createElement("div",{className:w()(Sc.a.contentLockMessage,se()({},Sc.a.contentLocked,!0))},r.a.createElement(Bc.a,{bannerTriggerDetails:e.bannerTriggerDetails,isAuthenticated:!1}))),r.a.createElement("hr",{className:Sc.a.authSignUpMenuSeparatorMobile}),r.a.createElement("div",{className:w()([se()({},Sc.a.redesign_authenticationSocialIconMainContainer,!0)])},r.a.createElement("span",{className:w()([se()({},Sc.a.redesign_authenticationSocialIconTitle,!0)])},"CONTINUE WITH"),r.a.createElement("div",{className:w()([(n={},se()(n,Sc.a.redesign_authenticationSocialIconContainer,!1),se()(n,Sc.a.redesign_authenticationSocialIconContainerMobile,!0),n)])},r.a.createElement("div",{onClick:_,className:w()((i={},se()(i,Sc.a.redesign_authenticationSocialIcons,!0),se()(i,Sc.a.facebookSignInIconMobile,!0),i))},r.a.createElement(Mc,null)),r.a.createElement("div",{onClick:m,className:w()((s={},se()(s,Sc.a.redesign_authenticationSocialIcons,!0),se()(s,Sc.a.twitterSignInIconMobile,!0),s))},r.a.createElement(Lc,null)))),r.a.createElement("div",{className:Sc.a.signUnSignInButtonsContainer},r.a.createElement(S.b,{className:Sc.a.mobileSignUpButtonContainer,onClick:e.TrackSignInButtonClick,to:"".concat(e.pathPrefix,"/sign-up")},r.a.createElement("span",{className:Sc.a.mobileSignUpButtonText},"JOIN WITH EMAIL")),r.a.createElement(S.b,{className:Sc.a.mobileLogInButtonContainer,onClick:e.TrackSignInButtonClick,to:"".concat(e.pathPrefix,"/sign-in")},r.a.createElement("span",{className:Sc.a.mobileLogInButtonText},"LOG IN"))))):r.a.createElement("div",{className:Sc.a.redesign_authenticationContainer},r.a.createElement("div",{className:Sc.a.redesign_sideContainer},r.a.createElement("div",{className:Sc.a.redesign_caffeineLogoOutline},r.a.createElement(Nc,null)),r.a.createElement("div",null,"Sign Up With",r.a.createElement("div",{className:Sc.a.redesign_authenticationSocialIconContainer},r.a.createElement("div",{onClick:_,className:Sc.a.redesign_authenticationSocialIcons},r.a.createElement(Fc,null)),r.a.createElement("div",{onClick:m,className:Sc.a.redesign_authenticationSocialIcons},r.a.createElement(Pc,null)))),r.a.createElement("div",null,r.a.createElement("div",null,"Already have an account?"),r.a.createElement(S.b,{className:Sc.a.redesign_loginLink,onClick:e.TrackSignInButtonClick,to:"".concat(e.pathPrefix,"/sign-in")},"log in"))),r.a.createElement("div",{className:Sc.a.redesign_mainContainer},r.a.createElement(Tc,{theme:e.theme,inline:!0}))))}),Dc=Object(B.a)(Object(A.b)(function(e,t){return hc()(t),{pathPrefix:window.location.pathname.replace(/\/join$/,""),video:Object(ls.selectVideo)(e),stageEntertainer:Object(Te.selectEntertainer)(e),profileUser:Object($i.selectCurrentProfileUser)(e),bannerTriggerDetails:Object(i.selectBannerTriggerDetails)(e)}},{NavigateToSocialAuthenticationPage:i.NavigateToSocialAuthenticationPage,TrackSignInButtonClick:i.TrackSignInButtonClick,TrackSignUpButtonClick:i.TrackSignUpButtonClick,TrackSocialSignInOrUpButtonClick:i.TrackSocialSignInOrUpButtonClick,SetAuthenticationLockDialogAlreadyTriggered:i.SetAuthenticationLockDialogAlreadyTriggered,PushRoute:X.push}),S.e,Object(B.d)({handleTwitterSignIn:function(e){return function(){e.TrackSocialSignInOrUpButtonClick(o.Ve),e.NavigateToSocialAuthenticationPage(o.Ve,e.pathPrefix,"".concat(e.pathPrefix,"/join"))}},handleFacebookSignIn:function(e){return function(){e.TrackSocialSignInOrUpButtonClick(o.pb),e.NavigateToSocialAuthenticationPage(o.pb,e.pathPrefix,"".concat(e.pathPrefix,"/join"))}},close:function(e){e.PushRoute;return function(){window.location.replace("/")}}}))(Ac),Uc=(n("./node_modules/bows/bows.js")("Bouncer-dialog-signin"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({bouncerDialogIsActive:i.selectBouncerDialogIsActive,bouncerDialogAuthenticationLockIsActive:i.selectBouncerDialogAuthenticationLockIsActive,whitelistLoginDialogIsActive:i.selectWhitelistLoginDialogIsActive}),{DismissWhitelistLoginDialog:i.DismissWhitelistLoginDialog}))(function(e){var t=e.bouncerDialogIsActive,n=e.whitelistLoginDialogIsActive,a=e.DismissWhitelistLoginDialog,i=e.bouncerDialogAuthenticationLockIsActive;return r.a.createElement(to.a,{overlayClassName:w()(pc.a.overlay,se()({},pc.a.authLock,i)),shouldCloseOnOverlayClick:!i,className:pc.a.signInContainer,isOpen:t&&n||i,contentLabel:"Please sign up or sign in to watch with your friends on Caffeine"},r.a.createElement("div",null,r.a.createElement("div",{className:pc.a.signInContent},!i&&!t&&r.a.createElement("button",{className:pc.a.signInCloseButton,onClick:a},r.a.createElement(mn.a,{size:"small"})),r.a.createElement(Dc,null))))})),Rc=(n("./src/global-styles/core.scss"),n("./src/pieces/site-frame/site-frame.scss")),Hc=n.n(Rc),Wc=(n("./node_modules/bows/bows.js")("Site-frame"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({bouncerDialogIsActive:i.selectBouncerDialogIsActive,bouncerDialogAuthenticationLockIsActive:i.selectBouncerDialogAuthenticationLockIsActive,authenticationLockDialogAlreadyTriggered:i.selectAuthenticationLockDialogAlreadyTriggered,showBanner:us.selectShowBanner,isAuthenticated:i.selectIsAuthenticated,video:ls.selectVideo,stageVideoStartMs:Te.selectStageVideoStartMs}),{ShowWhitelistLoginDialog:i.ShowWhitelistLoginDialog,ShowBouncerDialogAuthenticationLock:i.ShowBouncerDialogAuthenticationLock,DismissBouncerDialogAuthenticationLock:i.DismissBouncerDialogAuthenticationLock,ShowAuthenticationWallWithMultiPaths:i.ShowAuthenticationWallWithMultiPaths,setAuthBannerTriggerDetails:i.setBannerTriggerDetails}))(function(e){var t,n,i=r.a.useState(!1),s=h()(i,2),c=(s[0],s[1]);Object(a.useEffect)(function(){e.bouncerDialogIsActive&&("?redirect=false"===window.location.search?e.ShowWhitelistLoginDialog():window.location.replace(o.v))},[e.bouncerDialogIsActive,e.ShowWhitelistLoginDialog]);var l=Object(ys.c)(e.location.pathname),u=["ballislife","alldef","tommytheclown","whistle","playmaker","theberrics","inthelab","drewleague"].includes(l?l.toLowerCase():""),d=fe()(function(){var t=e.location.pathname.replace(/\/$/,"");e.setAuthBannerTriggerDetails({triggerType:o.o.COMMENT_SCROLL,entertainerUsername:l}),e.ShowAuthenticationWallWithMultiPaths({authenticationWallRootPath:t,isLogin:!1})},6048e5);Object(a.useEffect)(function(){setTimeout(function(){c(!0)},6e3)},[]);var _=Object(vr.a)(),m=Object(ys.a)().currentPath,g=m===o.Dd||m===o.xd||m===o.Ad||m===o.Bd||m===o.Ed||m===o.Kd,b=m===o.Id||m===o.Kd,p=Object(a.useRef)(null);function f(e){e.target.scrollTop>500&&d()}return Object(a.useEffect)(function(){return function(){var t=Object(ys.a)(),n=t.currentModal,a=t.currentPath,r=n===o.Cd||n===o.Hd||n===o.Gd,i=a===o.Id&&e.stageVideoStartMs||a===o.Kd&&e.video;if(!b||!i||e.bouncerDialogIsActive||e.bouncerDialogAuthenticationLockIsActive||e.isAuthenticated||r||!u&&!_)clearTimeout(p.current),document.body.style.overflow="auto";else{var s=6e4;_&&(a===o.Id?s=65e3:a===o.Kd&&(s=62e3)),p.current=setTimeout(function(){var t=Object(ys.a)().currentModal,n=t===o.Cd||t===o.Hd||t===o.Gd,a=e.location.pathname.replace(/\/$/,"");n||(e.setAuthBannerTriggerDetails({triggerType:o.o.TIMEOUT,entertainerUsername:l}),e.ShowAuthenticationWallWithMultiPaths({authenticationWallRootPath:a,isLogin:!1})),document.body.style.overflow="hidden"},s)}(e.bouncerDialogAuthenticationLockIsActive||r)&&p&&clearTimeout(p.current);var c=document.getElementById("vodCommentScrollableArea");c&&!e.isAuthenticated&&c.addEventListener("scroll",f)}(),function(){p&&clearTimeout(p.current)}},[e.isAuthenticated,_,e.bouncerDialogAuthenticationLockIsActive,e.stageVideoStartMs,e.video]),Object(a.useEffect)(function(){e.authenticationLockDialogAlreadyTriggered&&clearTimeout(p.current)},[e.authenticationLockDialogAlreadyTriggered]),r.a.createElement("div",{className:null!==e.footer?Hc.a.pageWithFooter:Hc.a.basePage},null!==e.header&&r.a.createElement("header",{className:w()((t={},se()(t,Hc.a.headerContainer,!0),se()(t,Hc.a.headerContainerMobile,_),t))},e.header||r.a.createElement(ae.a,null)),r.a.createElement("main",{className:w()((n={},se()(n,Hc.a.redesign_mainContainerWithHeader,null!==e.header&&!e.headerIsFloating&&!g),se()(n,Hc.a.redesign_mainContainerDarkWithHeader,null!==e.header&&g),se()(n,Hc.a.mainContainer,null===e.header||e.headerIsFloating),se()(n,Hc.a.mainContainerMobile,_&&e.showBanner),se()(n,Hc.a.mainContainerMobileNoMargin,_&&!e.showBanner),se()(n,Hc.a.redesign_mainContainerStage,e.isStage),se()(n,Hc.a.redesign_mainContainerWithHeaderMobile,_),n))},e.main||e.children,r.a.createElement(vs.a,null),r.a.createElement(tc,null),r.a.createElement(zs,null),r.a.createElement(ic,null),r.a.createElement(cc,null),r.a.createElement(dc,null),r.a.createElement(gc,null),r.a.createElement(Uc,null)),null!==e.footer&&r.a.createElement("footer",{className:Hc.a.footerContainer},e.footer||r.a.createElement(hs.a,null)))})),Vc=n("./src/pieces/lobby/lobby-footer.tsx"),zc=n("./src/pieces/settings/settings-frame.tsx"),Gc=n("./src/pieces/stage/stage-footer.tsx"),qc=n("./src/pieces/settings/transaction-history/transaction-history.scss"),Jc=n.n(qc),Zc=(n("./node_modules/bows/bows.js")("Date-cell"),function(e){var t=e.date;return r.a.createElement("div",{title:_n()(t,"M/DD/YYYY h:mm:ss A"),className:Jc.a.dateColumn},_n()(t,"M/DD/YYYY"))}),Yc=n("./src/pieces/payment/digital-currency.tsx"),Qc=n("./src/pieces/payment/digital-item-stack.js"),Kc=n("./src/pieces/payment/prettify-price.js"),Xc=(n("./node_modules/bows/bows.js")("Description-cell"),be()([[function(e){return"USD"===e.costCurrencyCode},function(e){return r.a.createElement("div",{className:Jc.a.cashCurrency},Object(Kc.a)(e.cost))}],[function(e){return"CREDITS"===e.costCurrencyCode},function(e){return r.a.createElement(r.a.Fragment,null,"\xa0",r.a.createElement("div",{className:Jc.a.currency},r.a.createElement(Yc.a,{size:"medium",type:"credit",amount:e.cost})))}]])),$c=function(e){var t,n,a,i,o=e.transaction;switch(o.type){case"CashOut":return function(e){return r.a.createElement("div",{className:Jc.a.descriptionColumn},"Your cash out of",r.a.createElement("div",{className:Jc.a.cashCurrency},Object(Kc.a)(e.value)),"for\xa0",r.a.createElement("div",{className:Jc.a.currency},r.a.createElement(Yc.a,{size:"medium",type:"credit",amount:e.cost})),r.a.createElement("div",{className:Jc.a.stateText},"deposited"===(t=e.state)?"was successful":"pending"===t?"is pending":"failed"===t?"failed":t),"failed"===e.state&&r.a.createElement(S.b,{to:"https://link.caffeine.tv/cash-out-learn-more",className:Jc.a.helpLink,target:"_blank"},"Need help?"));var t}(o);case"Bundle":return i=o,r.a.createElement("div",{className:Jc.a.descriptionColumn},"CREDITS"!==i.costCurrencyCode?r.a.createElement(r.a.Fragment,null,"You purchased\xa0",r.a.createElement("div",{className:Jc.a.currency},r.a.createElement(Yc.a,{size:"medium",type:"gold",amount:i.value})),"for",Xc(i)):r.a.createElement(r.a.Fragment,null,"You redeemed",Xc(i),"for\xa0",r.a.createElement("div",{className:Jc.a.currency},r.a.createElement(Yc.a,{size:"medium",type:"gold",amount:i.value}))));case"SendDigitalItem":return a=o,r.a.createElement("div",{className:Jc.a.descriptionColumn},"You sent",r.a.createElement("div",{className:Jc.a.sentDigitalItem},r.a.createElement(Qc.a,{itemAssetPath:me()(a,function(e){return e.assets.staticImagePath}),name:a.name,pluralName:a.pluralName,quantity:a.quantity})),"for\xa0",r.a.createElement("div",{className:Jc.a.currency},r.a.createElement(Yc.a,{size:"medium",type:"gold",amount:a.cost})),"watching\xa0",r.a.createElement("div",{className:Jc.a.recipientUserSnippet},a.recipient?r.a.createElement(S.b,{className:Jc.a.link,to:"/".concat(a.recipient.username),target:"_blank"},a.recipient.username):r.a.createElement("span",null,"Caffeine User")));case"ReceiveDigitalItem":return n=o,r.a.createElement("div",{className:Jc.a.descriptionColumn},r.a.createElement("div",{className:Jc.a.senderUserSnippet},n.sender?r.a.createElement(S.b,{className:Jc.a.link,to:"/".concat(n.sender.username),target:"_blank"},n.sender.username):r.a.createElement("span",null,"Caffeine User")),"sent",r.a.createElement("div",{className:Jc.a.receivedDigitalItem},r.a.createElement(Qc.a,{itemAssetPath:me()(n,function(e){return e.assets.staticImagePath}),name:n.name,pluralName:n.pluralName,quantity:n.quantity})),",\xa0",r.a.createElement("div",{className:Jc.a.emphasizedName},"Caffeine"),"\xa0awarded\xa0",r.a.createElement("div",{className:Jc.a.currency},r.a.createElement(Yc.a,{size:"medium",type:"credit",amount:n.value})));case"Adjustment":return t=o,r.a.createElement("div",{className:Jc.a.descriptionColumn},r.a.createElement("div",{className:Jc.a.emphasizedName},"Caffeine"),"\xa0",t.quantity<0?"debited":"awarded","\xa0",r.a.createElement("div",{className:Jc.a.currency},r.a.createElement(Yc.a,{size:"medium",type:"GOLD"===t.currencyCode?"gold":"credit",amount:Math.abs(t.quantity)})));default:throw Error("Transaction Type ".concat(o.type," is not being handled properly"))}},el=(n("./node_modules/bows/bows.js")("Time-cell"),function(e){var t=e.date;return r.a.createElement("div",{title:_n()(t,"M/DD/YYYY h:mm:ss A"),className:Jc.a.timeColumn},_n()(t,"h:mma"))}),tl=n("./src/pieces/base/infinite-scroll/index.tsx"),nl=(n("./node_modules/bows/bows.js")("Transaction-history"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({hasMoreTransactions:js.selectHasMoreTransactions,hasMoreCashOutTransactions:js.selectHasMoreCashOutTransactions}),{LoadMoreUserTransactionHistory:js.LoadMoreUserTransactionHistory,LoadMoreUserCashOutHistory:js.LoadMoreUserCashOutHistory}))),al=function(e){for(var t=e.transactions,n=[],a=0;a<t.length;a+=o.Ue)n.push(r.a.createElement("div",{className:Jc.a.historyGridContainer,key:"container-".concat(a)},t.slice(a,t.length>a+o.Ue?a+o.Ue:t.length).map(function(e){return r.a.createElement(r.a.Fragment,{key:"transaction-".concat(e.id)},r.a.createElement(Zc,{key:"transaction-date-".concat(e.id),date:e.createdAt}),r.a.createElement(el,{key:"transaction-time-".concat(e.id),date:e.createdAt}),r.a.createElement($c,{key:"transaction-description-".concat(e.id),transaction:e}))})));return r.a.createElement(r.a.Fragment,null,n)},rl=nl(function(e){var t=e.cashOuts,n=e.currentTab,a=e.transactions;switch(n){case"ALL":return a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Jc.a.historySubHeader},"Your transactions from the last 18 months"),r.a.createElement(tl.a,{loadMore:e.LoadMoreUserTransactionHistory,hasMore:e.hasMoreTransactions,loadingComponent:r.a.createElement("h4",null,"Loading...")},r.a.createElement(al,{transactions:a}))):r.a.createElement("div",{className:Jc.a.basicLabel},"Your transaction history will appear here.");case"CASHOUT":return t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Jc.a.historySubHeader},"Cash-out transactions over the last 18 months"),r.a.createElement(tl.a,{loadMore:e.LoadMoreUserCashOutHistory,hasMore:e.hasMoreCashOutTransactions,loadingComponent:r.a.createElement("h4",null,"Loading...")},r.a.createElement(al,{transactions:t}))):r.a.createElement("div",{className:Jc.a.basicLabel},"Your cash out transaction history will appear here.")}}),il=(n("./node_modules/bows/bows.js")("Transaction-history-frame"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({transactions:js.selectUserTransactionHistory,cashOuts:js.selectUserCashOutHistory,userTransactionHistoryIsLoading:js.selectUserTransactionHistoryIsLoading,activeTransactionHistoryTab:js.selectActiveTransactionHistoryTab}),{LoadUserTransactionHistory:js.LoadUserTransactionHistory,LoadUserCashOutHistory:js.LoadUserCashOutHistory,SetActiveTransactionHistoryTab:js.SetActiveTransactionHistoryTab}))(function(e){var t,n,i=e.userTransactionHistoryIsLoading,o=e.transactions,s=e.LoadUserTransactionHistory,c=e.LoadUserCashOutHistory,l=e.SetActiveTransactionHistoryTab,u=e.cashOuts,d=e.activeTransactionHistoryTab;return Object(a.useEffect)(function(){s(),c()},[]),r.a.createElement("div",{className:Jc.a.historyFrame},r.a.createElement("div",{className:Jc.a.header},"Transaction history"),r.a.createElement("div",{className:Jc.a.tabs},r.a.createElement("a",{className:w()((t={},se()(t,Jc.a.tab,!0),se()(t,Jc.a.activeTab,"ALL"===d),t)),onClick:function(){return l("ALL")},role:"link",tabIndex:0},"All transactions"),r.a.createElement("a",{className:w()((n={},se()(n,Jc.a.tab,!0),se()(n,Jc.a.activeTab,"CASHOUT"===d),n)),onClick:function(){return l("CASHOUT")},role:"link",tabIndex:0},"Cash out transactions")),r.a.createElement("div",{className:Jc.a.historyContent},i&&r.a.createElement("div",{className:Jc.a.loadingIndicator},r.a.createElement(R.a,{size:"small"})),i&&!o.length?null:r.a.createElement(rl,{transactions:o,cashOuts:u,currentTab:d})))}));function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}n("./node_modules/bows/bows.js")("Sign-in-username-password");var sl=Object(ks.a)("signIn"),cl=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({bouncerDialogIsActive:i.selectBouncerDialogIsActive,bouncerDialogAuthenticationLockIsActive:i.selectBouncerDialogAuthenticationLockIsActive}),{DismissWhitelistLoginDialog:i.DismissWhitelistLoginDialog}),Object(va.a)({form:"signIn",onSubmit:i.PromiseSignInFormSubmission}),Object(A.b)(function(e){var t=!!sl(e,"username"),n=!!sl(e,"password");return{hasUsername:t,hasPassword:n,submissionIsDisabled:!t||!n}},{NavigateToSocialAuthenticationPage:i.NavigateToSocialAuthenticationPage,TrackSocialSignInOrUpButtonClick:i.TrackSocialSignInOrUpButtonClick,CompleteMultiFactorDialog:i.CompleteMultiFactorDialog,ResetMultiFactorSignInDialog:i.ResetMultiFactorSignInDialog,SetPostAuthenticationRedirectPath:i.SetPostAuthenticationRedirectPath,PushRoute:X.push}),S.e,Object(B.d)({close:function(e){e.PushRoute;return function(){window.location.replace("/")}}}))(function(e){var t,n,i,s,c,l,u,d,_,m,g,b,p,f=Object(a.useState)({}),v=h()(f,2),C=v[0],y=v[1],j=Object.keys(C).length?null:me()(e,function(e){return e.error._error}),O=function(e){var t=e.target.name;y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(n,!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},C,se()({},t,!0)))},E=function(t){t.preventDefault(),y({});var n=e.pathPrefix.replace(/^\/lobby$/,"/");e.SetPostAuthenticationRedirectPath(n),e.handleSubmit()},x=Object(a.useCallback)(function(){e.bouncerDialogIsActive?e.DismissWhitelistLoginDialog():(e.TrackSocialSignInOrUpButtonClick(o.Ve),e.NavigateToSocialAuthenticationPage(o.Ve,e.pathPrefix,"".concat(e.pathPrefix,"/join")))},[e.pathPrefix]),k=Object(a.useCallback)(function(){e.bouncerDialogIsActive?e.DismissWhitelistLoginDialog():(e.TrackSocialSignInOrUpButtonClick(o.pb),e.NavigateToSocialAuthenticationPage(o.pb,e.pathPrefix,"".concat(e.pathPrefix,"/join")))},[e.pathPrefix]);return Object(vr.a)()?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:w()(se()({},Sc.a.contentLockedOverlay,!0)),onClick:e.close}),r.a.createElement("div",{className:w()((t={},se()(t,Sc.a.authenticationScreenContainer,!0),se()(t,Sc.a.contentLocked,!0),t))},r.a.createElement("button",{className:Sc.a.redesign_closeButtonMobile,onClick:e.close},r.a.createElement(mn.a,{height:"28px",width:"28px"})),r.a.createElement("div",{className:w()(se()({},Sc.a.signUpTitleMobile,!0))},r.a.createElement(S.b,{to:function(){var e=window.location.pathname.replace("/sign-in","");return e=e.slice(-1).includes("/")?e.substring(0,e.length-1)+"/join":"".concat(e,"/join")}()},"<"),r.a.createElement("span",null,"SIGN IN")),r.a.createElement("form",{onSubmit:E,className:w()((n={},se()(n,Sc.a.redesign_formSignIn,!0),se()(n,Sc.a.redesign_signInFormMobile,!0),se()(n,Sc.a.isSubmitting,e.submitting),n))},r.a.createElement("div",{className:w()((i={},se()(i,Sc.a.redesign_body,!0),se()(i,Sc.a.redesign_signInBodyMobile,!0),i))},r.a.createElement("div",{className:Sc.a.redesign_signUpFormFieldContainers},r.a.createElement("div",{className:w()((s={},se()(s,Sc.a.redesign_fields,!0),se()(s,Sc.a.redesign_signInFieldsMobile,!0),s))},r.a.createElement(wa.a,{name:"username",inputProps:{onBlur:O,autoFocus:!0,tabIndex:1},className:w()((c={},se()(c,Sc.a.redesign_signUpTextContainer,!0),se()(c,Sc.a.redesign_signUpTextContainerMobile,!0),c)),inputClassName:j?Sc.a.redesign_signUpInputFieldDarkThemeWithErrorMobile:w()((l={},se()(l,Sc.a.redesign_signUpInputFieldDarkTheme,!0),se()(l,Sc.a.redesign_signUpInputFieldDarkThemeMobile,!0),l)),darkTheme:!0,type:"text",label:"Username",component:Ss.a,required:!0,children:r.a.createElement("div",{className:w()((u={},se()(u,Sc.a.redesign_signUpInputHelper,!0),se()(u,Sc.a.redesign_signUpInputHelperMobile,!0),se()(u,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasUsername),u))},"Username")}),r.a.createElement(wa.a,{name:"password",className:w()((d={},se()(d,Sc.a.redesign_signUpTextContainer,!0),se()(d,Sc.a.redesign_signUpTextContainerMobile,!0),d)),inputClassName:j?Sc.a.redesign_signUpInputFieldDarkThemeWithErrorMobile:w()((_={},se()(_,Sc.a.redesign_signUpInputFieldDarkTheme,!0),se()(_,Sc.a.redesign_signUpInputFieldDarkThemeMobile,!0),_)),darkTheme:!0,type:"password",label:"Password",component:Ss.a,required:!0,inputProps:{onBlur:O,tabIndex:2},children:r.a.createElement("div",{className:w()((m={},se()(m,Sc.a.redesign_signUpInputHelper,!0),se()(m,Sc.a.redesign_signUpInputHelperMobile,!0),se()(m,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasPassword),m))},"Password")}))),r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessageContainer},r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessagePlaceholder},""),r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessageMobile},j)),r.a.createElement("button",{className:Sc.a.mobileLogInSubmitButtonContainer,disabled:e.submissionIsDisabled||e.submitting,type:"submit"},r.a.createElement("span",{className:Sc.a.mobileLogInSubmitButtonText},"LOG IN")))))):r.a.createElement("div",{className:Sc.a.redesign_mainContainerInverted},r.a.createElement("div",{className:Sc.a.redesign_title},e.bouncerDialogAuthenticationLockIsActive&&!e.bouncerDialogIsActive?"Sign in to continue watching":"Welcome back"),r.a.createElement("form",{onSubmit:E,className:w()((g={},se()(g,Sc.a.redesign_formSignIn,!0),se()(g,Sc.a.isSubmitting,e.submitting),g))},r.a.createElement("div",{className:w()(se()({},Sc.a.redesign_body,!0))},r.a.createElement("div",{className:Sc.a.redesign_signUpFormFieldContainers},r.a.createElement("div",{className:w()(Sc.a.redesign_fields)},r.a.createElement(wa.a,{name:"username",inputProps:{onBlur:O,autoFocus:!0,tabIndex:1},className:Sc.a.redesign_signUpTextContainer,inputClassName:j?Sc.a.redesign_signUpInputFieldDarkThemeWithError:Sc.a.redesign_signUpInputFieldDarkTheme,darkTheme:!0,type:"text",label:"Username",component:Ss.a,required:!0,children:r.a.createElement("div",{className:w()((b={},se()(b,Sc.a.redesign_signUpInputHelper,!0),se()(b,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasUsername),b))},"Username")}),r.a.createElement(wa.a,{name:"password",className:Sc.a.redesign_signUpTextContainer,inputClassName:j?Sc.a.redesign_signUpInputFieldDarkThemeWithError:Sc.a.redesign_signUpInputFieldDarkTheme,darkTheme:!0,type:"password",label:"Password",component:Ss.a,required:!0,inputProps:{onBlur:O,tabIndex:2},children:r.a.createElement("div",{className:w()((p={},se()(p,Sc.a.redesign_signUpInputHelper,!0),se()(p,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasPassword),p))},"Password")})),r.a.createElement("div",{className:Sc.a.redesign_forgotPasswordContainer},e.bouncerDialogIsActive?r.a.createElement("div",{className:Sc.a.redesign_forgotPasswordAction,onClick:e.DismissWhitelistLoginDialog,tabIndex:0},"Forgot Password?"):r.a.createElement(S.b,{className:Sc.a.redesign_forgotPasswordAction,to:"".concat(e.pathPrefix,"/forgot-password"),tabIndex:0},"Forgot Password?"))),r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessageContainer},r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessagePlaceholder},""),r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessageDarkTheme},j))),r.a.createElement("div",{className:Sc.a.redesign_signInFooter},r.a.createElement("div",{className:Sc.a.redesign_signInSocialContainer},r.a.createElement("div",{className:Sc.a.redesign_signInSocialHelperText},"Log in with"),r.a.createElement("div",{className:Sc.a.redesign_authenticationSocialIconContainer},r.a.createElement("div",{onClick:k,className:Sc.a.redesign_authenticationSocialIcons},r.a.createElement(Fc,null)),r.a.createElement("div",{onClick:x,className:Sc.a.redesign_authenticationSocialIcons},r.a.createElement(Pc,null)))),r.a.createElement("button",{className:Sc.a.redesign_signInButton,disabled:e.submissionIsDisabled||e.submitting,type:"submit"},"log in"))))}),ll=(n("./node_modules/bows/bows.js")("Sign-in-multi-factor-code"),Object(ks.a)("signInWithMultifactor")),ul=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({isMultiFactorCodeFailure:i.selectMultiFactorCodeFailed,bouncerDialogIsActive:i.selectBouncerDialogIsActive}),{}),Object(va.a)({form:"signInWithMultifactor"}),Object(A.b)(function(e){var t=ll(e,"code");return{hasPartialCode:!!t&&t.length>0,hasFullCode:!!t&&t.length>=6,multiFactorCode:t}},{TrackSocialSignInOrUpButtonClick:i.TrackSocialSignInOrUpButtonClick,CompleteMultiFactorDialog:i.CompleteMultiFactorDialog,ResetMultiFactorSignInDialog:i.ResetMultiFactorSignInDialog}),S.e)(function(e){var t,n,i,s,c,l,u,d,_,m,g=Object(a.useCallback)(function(){e.CompleteMultiFactorDialog({choice:o.Gc})},[]),b=Object(a.useCallback)(function(){e.ResetMultiFactorSignInDialog()},[]),p=function(t){t.preventDefault(),function(){var t=e.multiFactorCode;e.CompleteMultiFactorDialog({choice:o.Fc,oneTimePassword:t})}()};return Object(vr.a)()?r.a.createElement("div",{className:w()((t={},se()(t,Sc.a.redesign_mainContainerInverted,!0),se()(t,Sc.a.authenticationScreenContainer,!0),se()(t,Sc.a.twoStepAuthenticationScreenContainerMobile,!0),se()(t,Sc.a.contentLocked,!0),t))},r.a.createElement("div",{className:w()(se()({},Sc.a.twoStepVerificationTitleMobile,!0))},r.a.createElement("button",{type:"button",onClick:b},"<"),r.a.createElement("span",null,"2-STEP VERIFICATION")),r.a.createElement("div",{className:w()(se()({},Sc.a.redisign_TwoStepVerificationDescriptionMobile,!0))},"Enter the verification code sent to your email."),r.a.createElement("form",{onSubmit:p,className:w()((n={},se()(n,Sc.a.redesign_formMultiFactor,!0),se()(n,Sc.a.redesign_formMultiFactorMobile,!0),n))},r.a.createElement("div",{className:Sc.a.redesign_bodyMultiFactor},r.a.createElement("div",{className:w()((i={},se()(i,Sc.a.redesign_multiFactorFormFieldContainers,!0),se()(i,Sc.a.redesign_multiFactorFormFieldContainersMobile,!0),i))},r.a.createElement("div",{className:w()((s={},se()(s,Sc.a.redesign_fields,!0),se()(s,Sc.a.redesign_signInFieldsMobile,!0),s))},r.a.createElement(wa.a,{name:"code",inputProps:{autoComplete:"off",autoFocus:!0,tabIndex:0},className:w()((c={},se()(c,Sc.a.redesign_signUpTextContainer,!0),se()(c,Sc.a.redesign_signUpTextContainerMobile,!0),se()(c,Sc.a.redesign_twoStepVerificationTextContainerMobile,!0),c)),inputClassName:e.isMultiFactorCodeFailure?Sc.a.redesign_signUpInputFieldDarkThemeWithErrorMobile:w()((l={},se()(l,Sc.a.redesign_signUpInputFieldDarkTheme,!0),se()(l,Sc.a.redesign_signUpInputFieldDarkThemeMobile,!0),l)),darkTheme:!0,type:"text",label:"Verification Code",component:Ss.a,required:!0,children:e.isMultiFactorCodeFailure?r.a.createElement("div",{className:Sc.a.redesign_signUpInputHelperErrorDarkTheme},"The code you entered is invalid. Please try again."):r.a.createElement("div",{className:w()((u={},se()(u,Sc.a.redesign_signUpInputHelper,!0),se()(u,Sc.a.redesign_signUpInputHelperMobile,!0),se()(u,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasPartialCode),u))},"Verification Code")}),r.a.createElement("a",{className:w()((d={},se()(d,Sc.a.redesign_sendAnotherCodeAction,!0),se()(d,Sc.a.redesign_sendAnotherCodeActionMobile,!0),d)),onClick:g},"Send another code")))),r.a.createElement("div",null,r.a.createElement("button",{className:Sc.a.twoStepAuthContinueButtonContainerMobile,disabled:!e.hasFullCode,type:"submit"},r.a.createElement("span",{className:Sc.a.mobileSignUpButtonText},"CONTINUE")),r.a.createElement("button",{className:Sc.a.twoStepAuthBackButtonContainerMobile,type:"button",onClick:b},r.a.createElement("span",{className:Sc.a.mobileSignUpButtonText},"BACK"))))):r.a.createElement("div",{className:Sc.a.redesign_mainContainerInverted},r.a.createElement("div",{className:Sc.a.redesign_title},"2-Step Verification"),r.a.createElement("div",{className:Sc.a.redesign_multiFactorMessage},"Enter the verification code sent to your email."),r.a.createElement("form",{onSubmit:p,className:Sc.a.redesign_formMultiFactor},r.a.createElement("div",{className:Sc.a.redesign_bodyMultiFactor},r.a.createElement("div",{className:Sc.a.redesign_multiFactorFormFieldContainers},r.a.createElement("div",{className:w()(Sc.a.redesign_fields)},r.a.createElement(wa.a,{name:"code",inputProps:{autoComplete:"off",autoFocus:!0,tabIndex:0},className:Sc.a.redesign_signUpTextContainer,inputClassName:e.isMultiFactorCodeFailure?Sc.a.redesign_signUpInputFieldDarkThemeWithError:Sc.a.redesign_signUpInputFieldDarkTheme,darkTheme:!0,type:"text",label:"Verification Code",component:Ss.a,required:!0,children:e.isMultiFactorCodeFailure?r.a.createElement("div",{className:Sc.a.redesign_signUpInputHelperErrorDarkTheme},"The code you entered is invalid. Please try again."):r.a.createElement("div",{className:w()((_={},se()(_,Sc.a.redesign_signUpInputHelper,!0),se()(_,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasPartialCode),_))},"Verification Code")}),r.a.createElement("a",{className:Sc.a.redesign_sendAnotherCodeAction,onClick:g},"Send another code")))),r.a.createElement("div",{className:Sc.a.redesign_signInFooterForgotPasswordFooter},r.a.createElement("button",{className:w()((m={},se()(m,Sc.a.redesign_secondaryButton,!0),se()(m,Sc.a.redesign_signInFooterMultiFactorBackAction,!0),m)),type:"button",onClick:b},"back"),r.a.createElement("button",{className:Sc.a.redesign_continueMultiFactorButton,disabled:!e.hasFullCode,type:"submit"},"continue"))))}),dl=(n("./node_modules/bows/bows.js")("Sign-in"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({showMultiFactorSignIn:i.selectMultiFactorSignInDialogIsActive,bouncerDialogIsActive:i.selectBouncerDialogIsActive,video:ls.selectVideo,entertainer:Te.selectEntertainer}),{DismissWhitelistLoginDialog:i.DismissWhitelistLoginDialog}),S.e)(function(e){var t=Object(a.useState)("/"),n=h()(t,2),i=n[0],s=n[1],c=e.video?e.video.user:e.entertainer,l=e.video&&e.video.user&&e.video.user.stageId?"CAID".concat(String(e.video.user.stageId)):null;c&&Object(Ie.c)(c.avatarImagePath,{auto:"webp",fit:"crop",width:120,height:120,enable:"upscale"}),Object(a.useMemo)(function(){return me()(e.params,function(t){return e.params.username})||""},[e.params.username]);return Object(a.useEffect)(function(){s(e.location.pathname.replace(/\/sign-in$/,""))},[location.pathname]),Object(a.useEffect)(function(){var t="true"===localStorage.getItem(o.Fb),n=Object(ys.a)().currentPath,a=n===o.Kd?o.Ec.VOD:n===o.Id?o.Ec.STAGE:null,r={modal_name:o.Dc.AUTHENTICATION_SIGN_IN,screen_name:a,clicked_at:Date.now()||null,viewer_id:null,item_type:o.Cc.AUTHENTICATION_MODAL||null,item_source:"".concat(e.location.pathname),broadcaster_caid:l||null,broadcaster_username:c?c.username:null,web_presentation:t?o.of:o.nf};globalThis.mParticle.logEvent("modal_view",globalThis.mParticle.EventType.Other,r)},[]),Object(vr.a)()?r.a.createElement(r.a.Fragment,null,e.showMultiFactorSignIn?r.a.createElement(ul,{theme:e.theme}):r.a.createElement(cl,{theme:e.theme,pathPrefix:i})):r.a.createElement("div",{className:Sc.a.redesign_authenticationContainer},e.showMultiFactorSignIn?r.a.createElement(ul,{theme:e.theme}):r.a.createElement(cl,{theme:e.theme,pathPrefix:i}),r.a.createElement("div",{className:Sc.a.redesign_sideContainerInverted},r.a.createElement("div",{className:Sc.a.redesign_caffeineLogoOutline},r.a.createElement(Nc,{color:"black"})),r.a.createElement("div",null,r.a.createElement("div",null,"New to Caffeine?"),e.bouncerDialogIsActive?r.a.createElement("div",{className:Sc.a.redesign_loginLinkInverted,onClick:e.DismissWhitelistLoginDialog,tabIndex:0},"sign up"):r.a.createElement(S.b,{className:Sc.a.redesign_loginLinkInverted,to:"".concat(i,"/join")},"sign up"))))})),_l=(n("./node_modules/bows/bows.js")("Forgot-password"),Object(ks.a)("forgotPassword")),ml=Object(B.a)(Object(A.b)(null,{push:X.push}),Object(va.a)({form:"forgotPassword",onSubmit:i.PromiseForgotPasswordFormSubmission}),Object(A.b)(function(e,t){var n=t.location.pathname,a=!!_l(e,"email"),r=!a;return{hasEmail:a,pathPrefix:n.replace(/\/forgot-password$/,""),submissionIsDisabled:r}}),S.e),gl=function(e){return r.a.createElement("div",{className:Sc.a.authenticationPage},e.submitSucceeded?function(e){return r.a.createElement("div",{className:Sc.a.redesign_authenticationContainer},r.a.createElement("div",{className:Sc.a.redesign_mainContainerInverted},r.a.createElement("div",{className:Sc.a.redesign_title},"Help is on the way"),r.a.createElement("div",{className:Sc.a.redesign_bodyForgotPasswordSuccess},r.a.createElement("div",{className:Sc.a.redesignMessageEmailSuccess},"Check your email to reset your password"))),r.a.createElement("div",{className:Sc.a.redesign_sideContainerInverted},r.a.createElement("div",{className:Sc.a.redesign_caffeineLogoOutline},r.a.createElement(Nc,{color:"black"})),r.a.createElement("div",null,r.a.createElement("div",null,"New to Caffeine?"),r.a.createElement(S.b,{className:Sc.a.redesign_loginLinkInverted,to:"".concat(e.pathPrefix,"/join")},"sign up"))))}(e):function(e){var t,n,a=e.error,i=Object(vr.a)();return r.a.createElement("div",{className:Sc.a.redesign_authenticationContainer},r.a.createElement("div",{className:Sc.a.redesign_mainContainerInverted},r.a.createElement("div",{className:Sc.a.redesign_title},"Forgot your password?",r.a.createElement("br",null),"No worries."),r.a.createElement("form",{onSubmit:e.handleSubmit,className:w()((t={},se()(t,Sc.a.redesign_formForgotPassword,!0),se()(t,Sc.a.redesign_formForgotPasswordMobile,i),se()(t,Sc.a.isSubmitting,e.submitting),t))},r.a.createElement("div",{className:w()(se()({},Sc.a.redesign_body,!0))},r.a.createElement("div",{className:Sc.a.redesign_signUpFormFieldContainers},r.a.createElement("div",{className:w()(Sc.a.redesign_fields)},r.a.createElement(wa.a,{name:"email",inputProps:{autoFocus:!0,tabIndex:0},className:Sc.a.redesign_signUpTextContainer,inputClassName:a?Sc.a.redesign_signUpInputFieldDarkThemeWithError:Sc.a.redesign_signUpInputFieldDarkTheme,darkTheme:!0,dataPrivate:!0,type:"email",label:"Email",component:Ss.a,required:!0,children:r.a.createElement("div",{className:w()((n={},se()(n,Sc.a.redesign_signUpInputHelper,!0),se()(n,Sc.a.redesign_signUpInputHelperWithFieldSet,e.hasEmail),n))},"Email")}))),r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessageContainer},r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessagePlaceholder},""),r.a.createElement("div",{className:Sc.a.redesign_generalErrorMessageDarkTheme},a))),r.a.createElement("div",{className:Sc.a.redesign_signInFooterForgotPasswordFooter},r.a.createElement(S.b,{className:Sc.a.redesign_signInFooterForgotPasswordBackAction,to:"".concat(e.pathPrefix,"/sign-in"),tabIndex:-1},r.a.createElement("button",{className:Sc.a.redesign_secondaryButton,type:"button"},"back")),r.a.createElement("button",{className:Sc.a.redesign_resetPasswordButton,disabled:e.submissionIsDisabled||e.submitting,type:"submit"},"reset password")))),r.a.createElement("div",{className:Sc.a.redesign_sideContainerInverted},r.a.createElement("div",{className:Sc.a.redesign_caffeineLogoOutline},r.a.createElement(Nc,{color:"black"})),r.a.createElement("div",null,r.a.createElement("div",null,"New to Caffeine?"),r.a.createElement(S.b,{className:Sc.a.redesign_loginLinkInverted,to:"".concat(e.pathPrefix,"/join"),tabIndex:-1},"sign up"))))}(e))},bl=ml(gl),pl=n("./src/pieces/lobby/lobby.reducer.js"),fl=n("./src/pieces/feed/feed-loading-placeholder.scss"),hl=n.n(fl),vl=(n("./node_modules/bows/bows.js")("Feed-loading-placeholder-lobby"),function(){return Array(6).fill(null).map(function(e,t){return r.a.createElement("div",{key:t,className:hl.a.feedItem},r.a.createElement("div",{className:hl.a.feedItemInnerMedium}))})}),wl=function(){var e,t,n;return r.a.createElement("div",{className:hl.a.feedLoadingPlaceholder},r.a.createElement("div",{className:hl.a.navigationHeaderPlaceholder}),r.a.createElement("div",{className:hl.a.feed},r.a.createElement("div",{className:hl.a.feedSection},r.a.createElement("div",{className:hl.a.simpleCardListSection},r.a.createElement("div",{className:w()((e={},se()(e,hl.a.feedSectionHeader,!0),se()(e,hl.a.medium,!0),e))},"\xa0"),r.a.createElement("div",{className:hl.a.shimmer},r.a.createElement("div",{className:hl.a.simpleCardListSection},vl())))),r.a.createElement("div",{className:hl.a.feedSection},r.a.createElement("div",{className:hl.a.simpleCardListSection},r.a.createElement("div",{className:w()((t={},se()(t,hl.a.feedSectionHeader,!0),se()(t,hl.a.small,!0),t))},"\xa0"),r.a.createElement("div",{className:hl.a.shimmer},r.a.createElement("div",{className:hl.a.simpleCardListSection},Array(4).fill(null).map(function(e,t){return r.a.createElement("div",{key:t,className:hl.a.feedItem},r.a.createElement("div",{className:hl.a.feedItemInnerSmall}))}))))),r.a.createElement("div",{className:hl.a.feedSection},r.a.createElement("div",{className:hl.a.simpleCardListSection},r.a.createElement("div",{className:w()((n={},se()(n,hl.a.feedSectionHeader,!0),se()(n,hl.a.small,!0),n))},"\xa0"),r.a.createElement("div",{className:hl.a.shimmer},r.a.createElement("div",{className:hl.a.simpleCardListSection},vl()))))))},Cl=n("./src/pieces/lobby/lobby-browse-frame.scss"),yl=n.n(Cl),jl=(n("./node_modules/bows/bows.js")("Hashtags-row"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({}),{}),Object(B.d)({}),S.e)(function(e){var t;return e.hashtags?r.a.createElement("div",{className:yl.a.feedSection},r.a.createElement("div",{className:w()((t={},se()(t,yl.a.feedSectionHeader,!0),se()(t,yl.a.large,!0),t))},"Trending"),r.a.createElement("div",{className:yl.a.tagButtonContainer},e.hashtags.map(function(e){var t;return r.a.createElement("a",{key:e,href:"/tag/".concat(e)},r.a.createElement("button",{className:w()((t={},se()(t,yl.a.tagButton,!0),se()(t,"button",!0),t))},"#",e))}))):null})),Ol=n("./src/pieces/current-user/ellipsis-icon.js"),Sl=n("./src/pieces/base/popover/popover.js"),El=n("./src/pieces/activity/activity-actions-menu.scss"),xl=n.n(El),kl=(n("./node_modules/bows/bows.js")("Activity-actions-menu"),Object(B.a)(Object(A.b)(null,{PromptToReportActivity:Ue.PromptToReportActivity,ClearPopovers:_a.ClearPopovers}),S.e,Object(B.d)({reportActivity:function(e){return function(){var t=e.activityId;e.PromptToReportActivity(t)}}}))),Il=function(e){return r.a.createElement("div",{className:xl.a.userActionsMenu},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.reportActivity()},className:e.darkTheme?xl.a.redesign_reportButtonWithDarkTheme:xl.a.redesign_reportButton},"Report this video"),e.isLobby&&r.a.createElement(ds.a,{caid:e.caid,className:xl.a.followLink}))},Tl=kl(function(e){return r.a.createElement(Sl.a,nt()({show:!0,size:"isRedesignTooltip",orientation:"aboveRight"},e.popoverSettings,{content:r.a.createElement(Il,e),clearOnClick:!0,isLargeTooltip:e.isLobby,isRedesignTooltip:!0,isUserAction:!0,darkTheme:e.darkTheme}),r.a.createElement("button",{className:e.className||xl.a.trigger},r.a.createElement(Ol.a,{size:e.size,orientation:"vertical",color:"#ffffff"})))}),Fl=n("./src/pieces/base/date-time-helpers.ts"),Pl=n("./src/pieces/activity/activity-card.scss"),Nl=n.n(Pl),Ml=(n("./node_modules/bows/bows.js")("Live-badge"),function(e){var t=e.width,n=void 0===t?80:t,a=e.height,i=void 0===a?56:a;return r.a.createElement("svg",{width:n,height:i,viewBox:"0 0 80 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{clipPath:"url(#clip0_1336_4679)"},r.a.createElement("rect",{width:"74",height:"62",transform:"translate(-14 -7)",fill:"url(#paint0_radial_1336_4679)"}),r.a.createElement("rect",{width:"74",height:"62",transform:"translate(-14 -7)",fill:"url(#paint1_radial_1336_4679)"}),r.a.createElement("rect",{width:"74",height:"62",transform:"translate(2 -6)",fill:"url(#paint2_radial_1336_4679)"}),r.a.createElement("rect",{width:"74",height:"62",transform:"translate(2 -6)",fill:"url(#paint3_radial_1336_4679)"}),r.a.createElement("rect",{x:"8.5",y:"8.5",width:"47",height:"27",stroke:"#0000FF"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.394 20.6828C38.1975 19.8792 39.2874 19.4278 40.4237 19.4278C41.5601 19.4278 42.65 19.8792 43.4535 20.6828C44.2571 21.4863 44.7085 22.5762 44.7085 23.7125C44.7085 24.1858 44.3248 24.5695 43.8515 24.5695H37.999C38.0698 24.7707 38.1658 24.9633 38.2855 25.1426C38.568 25.5657 38.9696 25.8955 39.4397 26.0903C39.9097 26.285 40.4269 26.336 40.9259 26.2366C41.4248 26.1372 41.8831 25.892 42.2426 25.5321C42.5771 25.1973 43.1197 25.197 43.4545 25.5314C43.7894 25.8659 43.7897 26.4085 43.4552 26.7433C42.856 27.3432 42.0922 27.7519 41.2606 27.9175C40.429 28.0831 39.5669 27.9982 38.7836 27.6737C38.0002 27.3491 37.3308 26.7994 36.86 26.0941C36.3893 25.389 36.1384 24.56 36.139 23.7122C36.139 23.7121 36.139 23.7123 36.139 23.7122C36.1392 22.5761 36.5906 21.4862 37.394 20.6828ZM37.9999 22.8556H42.8476C42.7209 22.4975 42.5153 22.1684 42.2416 21.8947C41.7595 21.4126 41.1056 21.1417 40.4237 21.1417C39.7419 21.1417 39.088 21.4126 38.6059 21.8947C38.3322 22.1684 38.1266 22.4975 37.9999 22.8556ZM36.139 23.7122C36.139 23.7121 36.139 23.7123 36.139 23.7122V23.7122Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.1864 19.5185C27.6098 19.3068 28.1245 19.4784 28.3362 19.9017L30.9975 25.2243L33.6588 19.9017C33.8705 19.4784 34.3852 19.3068 34.8085 19.5185C35.2318 19.7301 35.4034 20.2449 35.1918 20.6682L31.764 27.5238C31.6188 27.8141 31.3221 27.9975 30.9975 27.9975C30.6729 27.9975 30.3762 27.8141 30.231 27.5238L26.8032 20.6682C26.5916 20.2449 26.7631 19.7301 27.1864 19.5185Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.1417 19.4278C24.615 19.4278 24.9987 19.8115 24.9987 20.2847V27.1403C24.9987 27.6136 24.615 27.9973 24.1417 27.9973C23.6684 27.9973 23.2847 27.6136 23.2847 27.1403V20.2847C23.2847 19.8115 23.6684 19.4278 24.1417 19.4278Z",fill:"white"}),r.a.createElement("path",{d:"M24.9987 16.8569C24.9987 17.3302 24.615 17.7139 24.1417 17.7139C23.6684 17.7139 23.2847 17.3302 23.2847 16.8569C23.2847 16.3837 23.6684 16 24.1417 16C24.615 16 24.9987 16.3837 24.9987 16.8569Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.8569 16C20.3302 16 20.7139 16.3837 20.7139 16.8569V27.1403C20.7139 27.6136 20.3302 27.9973 19.8569 27.9973C19.3837 27.9973 19 27.6136 19 27.1403V16.8569C19 16.3837 19.3837 16 19.8569 16Z",fill:"white"})),r.a.createElement("defs",null,r.a.createElement("radialGradient",{id:"paint0_radial_1336_4679",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(37 28.6604) rotate(90) scale(26.9057 34.0379)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("radialGradient",{id:"paint1_radial_1336_4679",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(37 28.6604) rotate(90) scale(26.9057 34.0379)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("radialGradient",{id:"paint2_radial_1336_4679",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(37 28.6604) rotate(90) scale(26.9057 34.0379)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("radialGradient",{id:"paint3_radial_1336_4679",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(37 28.6604) rotate(90) scale(26.9057 34.0379)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("clipPath",{id:"clip0_1336_4679"},r.a.createElement("rect",{width:"80",height:"56",fill:"white"}))))}),Ll=(n("./node_modules/bows/bows.js")("Replay-badge"),function(){return r.a.createElement("svg",{width:"80",height:"56",viewBox:"0 0 80 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{x:"9",y:"9",width:"60",height:"26",fill:"black",stroke:"#8B8BB6","stroke-width":"2"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.6923 19.8454C45.4178 19.8454 44.3846 20.8786 44.3846 22.1531C44.3846 23.4276 45.4178 24.4608 46.6923 24.4608C47.9668 24.4608 49 23.4276 49 22.1531C49 20.8786 47.9668 19.8454 46.6923 19.8454ZM49 25.2303C49.0001 25.655 49.3445 25.9992 49.7692 25.9992C50.1941 25.9992 50.5385 25.6548 50.5385 25.23V22.1531C50.5385 20.0289 48.8165 18.3069 46.6923 18.3069C44.5681 18.3069 42.8461 20.0289 42.8461 22.1531C42.8461 24.2773 44.5681 25.9992 46.6923 25.9992C47.5581 25.9992 48.3572 25.7131 49 25.2303Z",fill:"#8B8BB6"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.3077 15.23C41.7325 15.23 42.0769 15.5744 42.0769 15.9992V25.23C42.0769 25.6548 41.7325 25.9992 41.3077 25.9992C40.8829 25.9992 40.5385 25.6548 40.5385 25.23V15.9992C40.5385 15.5744 40.8829 15.23 41.3077 15.23Z",fill:"#8B8BB6"}),r.a.createElement("path",{d:"M52.0769 18.3069C52.5017 18.3069 52.8461 18.6513 52.8461 19.0762V22.1532C52.8461 23.4277 53.8793 24.4609 55.1538 24.4609C56.4284 24.4609 57.4615 23.4277 57.4615 22.1532L57.4615 19.0762C57.4615 18.6513 57.8059 18.3069 58.2308 18.3069C58.6556 18.3069 59 18.6513 59 19.0762L59 22.1532L59 26.384C59 28.5082 57.278 30.2301 55.1538 30.2301C54.729 30.2301 54.3846 29.8857 54.3846 29.4608C54.3846 29.036 54.729 28.6916 55.1538 28.6916C56.4284 28.6916 57.4615 27.6585 57.4615 26.384V25.2304C56.8187 25.7133 56.0197 25.9994 55.1538 25.9994C53.0296 25.9994 51.3077 24.2774 51.3077 22.1532V19.0762C51.3077 18.6513 51.6521 18.3069 52.0769 18.3069Z",fill:"#8B8BB6"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.9231 19.8454C34.6486 19.8454 33.6154 20.8786 33.6154 22.1531C33.6154 23.4276 34.6486 24.4608 35.9231 24.4608C37.1976 24.4608 38.2308 23.4276 38.2308 22.1531C38.2308 20.8786 37.1976 19.8454 35.9231 19.8454ZM33.6154 25.2303C34.2582 25.7131 35.0572 25.9992 35.9231 25.9992C38.0472 25.9992 39.7692 24.2773 39.7692 22.1531C39.7692 20.0289 38.0472 18.3069 35.9231 18.3069C33.7989 18.3069 32.0769 20.0289 32.0769 22.1531V28.3069C32.0769 28.7318 32.4213 29.0762 32.8461 29.0762C33.271 29.0762 33.6154 28.7318 33.6154 28.3069V25.2303Z",fill:"#8B8BB6"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.7419 19.4334C25.4632 18.7122 26.4415 18.3069 27.4615 18.3069C28.4816 18.3069 29.4599 18.7122 30.1812 19.4334C30.9025 20.1547 31.3077 21.133 31.3077 22.1531C31.3077 22.5779 30.9633 22.9223 30.5385 22.9223H25.285C25.3486 23.1029 25.4348 23.2758 25.5422 23.4367C25.7957 23.8166 26.1563 24.1126 26.5782 24.2874C27.0001 24.4622 27.4644 24.508 27.9122 24.4188C28.3601 24.3296 28.7715 24.1095 29.0942 23.7864C29.3945 23.4858 29.8815 23.4855 30.1821 23.7858C30.4827 24.086 30.4829 24.5731 30.1827 24.8736C29.6448 25.4121 28.9592 25.7789 28.2127 25.9276C27.4662 26.0762 26.6924 26.0001 25.9893 25.7087C25.2861 25.4174 24.6852 24.9239 24.2626 24.2909C23.8401 23.6579 23.6148 22.9138 23.6154 22.1528C23.6155 21.1329 24.0207 20.1546 24.7419 19.4334ZM25.2858 21.3839H29.6372C29.5236 21.0624 29.339 20.767 29.0933 20.5213C28.6605 20.0885 28.0736 19.8454 27.4615 19.8454C26.8495 19.8454 26.2625 20.0885 25.8298 20.5213C25.5841 20.767 25.3995 21.0624 25.2858 21.3839Z",fill:"#8B8BB6"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8462 19.8454C22.2341 19.8454 21.6471 20.0885 21.2144 20.5213C20.7816 20.9541 20.5385 21.541 20.5385 22.1531V25.23C20.5385 25.6548 20.1941 25.9992 19.7692 25.9992C19.3444 25.9992 19 25.6548 19 25.23V22.1531C19 21.133 19.4052 20.1547 20.1265 19.4334C20.8478 18.7122 21.8261 18.3069 22.8462 18.3069C23.271 18.3069 23.6154 18.6513 23.6154 19.0762C23.6154 19.501 23.271 19.8454 22.8462 19.8454Z",fill:"#8B8BB6"}))}),Bl=n("./src/pieces/stage/vod-stream-hls.tsx"),Al=n("./src/pieces/activity/embed-button.scss"),Dl=n.n(Al),Ul=(n("./node_modules/bows/bows.js")("Embed-button"),function(e){return r.a.createElement("button",{className:Dl.a.embedButton,onClick:e.handleEmbedClick},"Embed",r.a.createElement("svg",{id:"svg6",clipRule:"evenodd",fillRule:"evenodd",height:24,strokeLinejoin:"round",strokeMiterlimit:2,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{id:"path2",d:"m13.038 4.725-4 14c-.151.531.157 1.085.687 1.237.531.151 1.085-.157 1.237-.687l4-14c.151-.531-.157-1.085-.687-1.237-.531-.151-1.085.157-1.237.687zm-8.624 7.275 3.293 3.293c.39.39.39 1.024 0 1.414s-1.024.39-1.414 0l-4-4c-.391-.39-.391-1.024 0-1.414l4-4c.39-.39 1.024-.39 1.414 0s.39 1.024 0 1.414zm15.172 0-3.293-3.293c-.39-.39-.39-1.024 0-1.414s1.024-.39 1.414 0l4 4c.391.39.391 1.024 0 1.414l-4 4c-.39.39-1.024.39-1.414 0s-.39-1.024 0-1.414z"})))}),Rl=(n("./node_modules/bows/bows.js")("External-activity-card"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({}),{}),Object(B.d)({}),S.e)(function(e){var t;if(!e.activity)return null;var n=e.activity,a=Object(vr.a)()?{border:"0px",width:"400px",height:"225px",aspectRatio:"16/9",transform:"scale(2)",position:"absolute",left:"200px",top:"100px"}:{border:"0px",width:"836px",height:"470px"},i=e.urlParams.aoverride?e.urlParams.aoverride:"",o=Object(Ot.d)()?"https://www.staging.caffeine.tv":"https://www.caffeine.tv",s="".concat(o,"/embed/").concat(n.username,"/video/").concat(n.activityId,"?pname=cafplayer&autoPlay=true;").concat(e.startTime?"&start=".concat(e.startTime):"").concat(i?"&aoverride=".concat(i):""),c="activity-".concat(e.activity.activityId);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:w()((t={},se()(t,Nl.a.externalCard,!0),se()(t,Nl.a["".concat(e.size)],!!e.size),t))},r.a.createElement("iframe",{id:c,src:s,role:"caffeine-embed",style:a,scrolling:"no",allow:"clipboard-read; clipboard-write",allowFullScreen:"","allow-popups":"","allow-popups-to-escape-sandbox":"","allow-scripts":"","allow-top-navigation":"","allow-same-origin":""})))})),Hl=(n("./node_modules/bows/bows.js")("Is-ios"),["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document),Wl=(n("./node_modules/bows/bows.js")("Activity-card"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({showBanner:us.selectShowBanner,isAuthenticated:i.selectIsAuthenticated,paywallHeader:ls.selectUnlockPaywallHeader,paywallTitle:ls.selectUnlockPaywallTitle,paywallIsUnlocked:ls.selectUnlockPaywallIsUnlocked,hasPaywall:ls.selectHasPaywall}),{LikeActivity:ls.LikeActivity,UnlikeActivity:ls.UnlikeActivity,ShowDialog:bi.ShowDialog,SetShowBanner:us.SetShowBanner,setAuthBannerTriggerDetails:i.setBannerTriggerDetails,AnimateFooter:us.AnimateFooter,ToggleTicketModal:bi.ToggleTicketModal}),Object(B.d)({}),S.e)(function(e){var t,n,i,s,c,l,u,d,_,m,g,b,p,f,v,C,y,j,O,E,x,k,I,T,F,P,N,M,L,B,A,D,U,R,H;if(!e.activity)return null;var W=Object(a.useRef)(null),V=Object(a.useState)(!1),z=h()(V,2),G=z[0],q=z[1],J=Object(a.useState)(e.activity.likeCount),Z=h()(J,2),Y=Z[0],Q=Z[1],K=Object(a.useState)(0),X=h()(K,2),$=X[0],ee=X[1],te=Object(vr.a)(),ne=Object(ys.a)().currentPath,ae=ne===o.Kd||ne===o.Jd,re=e.activity,ie=re.broadcastInfo.contentRating===o.U,oe=e.avatar||"/defaults/avatar-001.png",ce=re.user&&re.user.stageId?"CAID".concat(String(re.user.stageId)):null,le=re.broadcastInfo&&Object(Ie.b)(re.broadcastInfo.previewImagePath,{auto:"webp",fit:"crop",width:1280,height:720,enable:"upscale"}),ue=Object(Ie.c)(oe,{auto:"webp",fit:"crop",width:48,height:48,enable:"upscale"}),de=re.broadcastInfo&&re.broadcastInfo.broadcastStartTime,_e=new Date(de).getTime(),me=Object(Fl.b)(de),ge=Object(Fl.c)(de),pe=Object(Fl.a)(de,"en"),fe=Ft(re.viewCount||0),he=Ft((G&&0===Y?1:Y)||0),ve=Ft(re.commentCount||0),we=Ft(re.propCount||0),Ce="live"===re.activityType?"/".concat(re.username,"/"):"/".concat(re.username,"/video/")+re.activityId,ye=re&&"live"===re.activityType,je=["/","/following","/browse"].includes(window.location.pathname),Oe=e.source===o.Dd,Se=e.source===o.Kd,Ee=e.source===o.Bd,xe=e.source===o.Ed,ke=re&&"upcoming"===re.activityType,Te=xe,Fe=be()([[function(e){return e.presentationMode===o.Vc},function(){return r.a.createElement(Ml,{width:te?150:80,height:te?126:56})}],[function(e){return e.presentationMode===o.Wc},function(){return r.a.createElement(Ll,null)}],[function(){return!0},function(){return null}]]);function Pe(t){var n=t.target.getAttribute("data-name");e.isAuthenticated&&"like"===n&&(G?function(t){t.preventDefault(),e.UnlikeActivity(e.id),q(!1),Q(0===Y?0:Y-1)}(t):function(t){t.preventDefault(),e.LikeActivity(e.id),q(!0),Q(Y+1)}(t)),(te&&!ae||te&&e.isAuthenticated&&"give"===n)&&e.AnimateFooter({triggerType:n,entertainerUsername:re.username}),te&&ae&&!e.isAuthenticated&&e.setAuthBannerTriggerDetails({triggerType:n,entertainerUsername:re.username});var a="";switch(n){case"like":a=o.Lb;break;case"comment":a=o.Q;break;case"give":a=o.yb;case"follow":a=o.wb}if(n){var r={clicked_at:Date.now()||null,viewer_id:e.currentUserId||null,item_type:o.Cc.ACTIVITY||null,item_source:e.source||null,broadcaster_caid:ce||null,broadcaster_username:re.username||null,web_presentation:te?o.of:o.nf};globalThis.mParticle.logEvent(a,globalThis.mParticle.EventType.Other,r)}}Object(a.useEffect)(function(){if(e.activity.likedByMe&&q(!0),e.activity.likedByMe&&0===e.activity.likeCounter&&Q(1),location.search){var t=new URLSearchParams(location.search).get("start");if(t){if(e.source===o.Kd)ee(t);else if(t.match(/^([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})$/)){var n=t.split(":").map(function(e){return Number(e)}),a=h()(n,3),r=a[0],i=a[1],s=a[2];ee(3600*r+60*i+s)}}}},[]);var Ne=re&&re.user&&re.user.name&&Se,Me=e.activity&&e.activity.broadcastInfo&&Object(Ie.c)(e.activity.broadcastInfo.previewImagePath,{auto:"webp",fit:"crop",width:1280,height:720,enable:"upscale"}),Le=e.activity&&e.activity.broadcastInfo.videoUrl?{activityId:e.activity.activityId,broadcastId:e.activity.broadcastInfo.broadcastId,broadcastTitle:e.activity.broadcastInfo.broadcastTitle,contentUrl:e.activity.broadcastInfo.videoUrl,posterUrl:Me,username:e.activity.username}:null,Be=Object(ys.b)(),Ae=ne===o.Kd,De=parseFloat(fe)>0;function Ue(){e.isAuthenticated&&(e.ToggleTicketModal(),window.rdt&&window.rdt("track","Custom",{customEventName:"unlock_video_button_click"}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:w()((t={},se()(t,Nl.a.card,!0),se()(t,Nl.a["".concat(e.size)],!!e.size),t))},!Te&&r.a.createElement("div",{className:w()((n={},se()(n,Nl.a.broadcastCardActions,!0),se()(n,Nl.a.vodPageMobilebroadcastCardActions,Se&&te),se()(n,Nl.a.hashtagPageMobileBroadcastCardActions,Ee&&te),se()(n,Nl.a.lobbyPageMobileBroadcastCardActions,Oe&&te),n))},r.a.createElement("div",{className:w()((i={},se()(i,Nl.a.cardHeader,!0),se()(i,Nl.a.cardHeaderMobile,te),i))},r.a.createElement("div",{className:w()((s={},se()(s,Nl.a.userContainer,!0),se()(s,Nl.a.lobbyPageMobileUserContainer,Oe&&te),s))},r.a.createElement("div",{className:w()((c={},se()(c,"image",!0),se()(c,"is-48x48",!0),se()(c,Nl.a.vodPageMobileEntertainerProfileImage,Se&&te),se()(c,Nl.a.hashtagPageMobileEntertainerProfileImage,Ee&&te),se()(c,Nl.a.profilePageMobileEntertainerProfileImage,xe&&te),se()(c,Nl.a.lobbyPageMobileEntertainerProfileImage,Oe&&te),c))},r.a.createElement("a",{href:"/".concat(re.username,"/profile/")},r.a.createElement("img",{className:w()(Nl.a.avatar,"is-rounded"),src:ue}))),r.a.createElement("div",{className:w()((l={},se()(l,Nl.a.usernameContainer,!0),se()(l,Nl.a.vodPageUsernameContainer,Se),se()(l,Nl.a.vodPageMobileUsernameContainer,Se&&te),se()(l,Nl.a.hashtagPageMobileUsernameContainer,Ee&&te),se()(l,Nl.a.profilePageMobileUsernameContainer,xe&&te),se()(l,Nl.a.lobbyPageMobileUsernameContainer,Oe&&te),l))},r.a.createElement("div",{className:w()((u={},se()(u,Nl.a.profileLinkContainer,!0),se()(u,Nl.a.hashtagPageProfileLinkContainer,Ee),se()(u,Nl.a.hashtagPageMobileProfileLinkContainer,Ee&&te),se()(u,Nl.a.vodPageProfileLinkContainer,Se),se()(u,Nl.a.lobbyPageProfileLinkContainer,Oe),se()(u,Nl.a.lobbyPageMobileProfileLinkContainer,Oe&&te),u))},r.a.createElement("div",{className:w()(se()({},Nl.a.profileLinkAndBadgeContainer,!0))},r.a.createElement("a",{href:"/".concat(re.username,"/profile/"),className:w()((d={},se()(d,Nl.a.username,!0),se()(d,Nl.a.usernameMobile,te),se()(d,Nl.a.vodPageUsername,Se),se()(d,Nl.a.vodPageMobileUsername,Se&&te),se()(d,Nl.a.profilePageMobileUsername,xe&&te),d))},re&&re.user&&re.user.username," "),r.a.createElement("div",{className:w()((_={},se()(_,Nl.a.badge,!0),se()(_,Nl.a.vodPageMobileBadge,Se&&te),se()(_,Nl.a.hashtagPageMobileBadge,Ee&&te),_))},r.a.createElement(pn.a,{badge:e.badge,width:Oe&&te?25:null,height:Oe&&te?23:null}))),r.a.createElement(mi.a,null,ce&&r.a.createElement("div",{"data-name":"follow",className:w()((m={},se()(m,Nl.a.followUser,!0),se()(m,Nl.a.followUserMobile,te),se()(m,Nl.a.vodPageFollowUser,Se),se()(m,Nl.a.vodPageFollowUserMobile,Se&&te),se()(m,Nl.a.hashtagPageFollowUserMobile,Ee&&te),se()(m,Nl.a.lobbyPageFollowUserMobile,Oe&&te),se()(m,Nl.a.disableInsideButton,te&&!e.isAuthenticated),m)),onClick:Pe},r.a.createElement(ds.a,{caid:ce,hideUnfollow:!0})))),Ne&&r.a.createElement("span",{className:w()((g={},se()(g,Nl.a.name,!0),se()(g,Nl.a.nameMobile,te),g))},re&&re.user&&re.user.name," ")))),!te&&r.a.createElement("div",{className:Nl.a.embedButtonPopover},e.source===o.Kd&&r.a.createElement(Ul,{handleEmbedClick:function(){var t=document.getElementById("vodHlsStreamId"),n="00:00:00";t&&t.currentTime>0&&(n=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),a=Math.floor(e-3600*t-60*n),r=t<10?"0".concat(t):"".concat(t),i=n<10?"0".concat(n):"".concat(n),o=a<10?"0".concat(a):"".concat(a);return"".concat(r,":").concat(i,":").concat(o)}(t.currentTime).toString()),e.ShowDialog({title:re.broadcastInfo.broadcastTitle,body:Ce,dialogType:"embed",subheader:n})}}),"live"==re.activityType?r.a.createElement(Ze.a,{darkTheme:!0,entertainer:e.activity,popoverSettings:{orientation:"belowLeft",horizontalOffset:15},isLobby:je,caid:ce,size:te?"medium":"tiny"}):r.a.createElement(Tl,{darkTheme:!0,activityId:e.activity.activityId,popoverSettings:{orientation:"belowLeft",horizontalOffset:15},isLobby:je,caid:ce,size:te?"medium":"tiny"}))),r.a.createElement("div",{className:w()((b={},se()(b,Nl.a.hideActivityCardImageContainer,e.videoDetails||e.playPreviewCard&&Le),se()(b,Nl.a.showActivityCardImageContainer,e.videoDetails||e.playPreviewCard&&!Le),b))},r.a.createElement("span",{className:w()(se()({},Nl.a.loader,e.playPreviewCard))}),r.a.createElement("div",{className:Nl.a.stageStatusBadge},r.a.createElement(Fe,{presentationMode:re&&re.presentation&&re.presentation.badge})),"upcoming"===re.activityType&&r.a.createElement("div",{className:Nl.a.top},r.a.createElement("div",{className:w()((p={},se()(p,Nl.a.dateTime,!0),se()(p,Nl.a.dateTimeMobileUpcoming,te&&ke),p))},Date.now()<_e?me:pe)),ye?r.a.createElement(S.b,{to:"/".concat(re.username)},r.a.createElement("div",{className:w()(Nl.a.previewImageContainer,"image","is-16by9")},r.a.createElement("img",{loading:"lazy",src:le}))):r.a.createElement("a",{href:Ce},r.a.createElement("div",{className:w()(Nl.a.previewImageContainer,"image","is-16by9")},r.a.createElement("img",{loading:"lazy",src:le})))),r.a.createElement("div",{className:w()((f={},se()(f,Nl.a.hideActivityCardVideoContainer,!Le),se()(f,Nl.a.showActivityCardVideoContainer,Le),se()(f,Nl.a.eventImageWrapper,ke||ne===o.Kd),f))},r.a.createElement("a",{href:Ce},"upcoming"===re.activityType&&r.a.createElement("div",{className:Nl.a.top},r.a.createElement("div",{className:w()((v={},se()(v,Nl.a.dateTime,!0),se()(v,Nl.a.dateTimeMobileUpcoming,te&&ke),v))},Date.now()<_e?me:pe)),Ae&&!!e.videoDetails&&r.a.createElement(Rl,{id:re.activityId,activity:re,avatar:re.user.avatarImagePath,badge:re.user.badge,videoDetails:e.videoDetails,size:te?"":"large",source:o.Kd,startTime:$,urlParams:Be}),e.videoDetails&&!Ae&&r.a.createElement(Bl.a,{activity:e.activity,className:Nl.a.visible,videoDetails:e.videoDetails,startTime:$,muted:te}),!e.videoDetails&&e.source!==o.Kd&&e.playPreviewCard&&Le&&r.a.createElement(Bl.a,{activity:e.activity,className:Nl.a.visible,videoDetails:Le,controls:!1,startTime:e.startTime,muted:!0}))),r.a.createElement("div",{className:w()((C={},se()(C,Nl.a.cardContent,!0),se()(C,Nl.a.vodPageMobileCardContent,Se&&te),se()(C,Nl.a.hashtagPageMobileCardContent,Ee&&te),se()(C,Nl.a.profilePageMobileCardContent,xe&&te),se()(C,Nl.a.lobbyPageMobileCardContent,Oe&&te),C))},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},e.hasPaywall&&!e.paywallIsUnlocked&&!te&&r.a.createElement("div",{className:w()((y={},se()(y,Nl.a.titleContainer,!0),se()(y,Nl.a.titleContainerMobile,te),se()(y,Nl.a.vodPageMobileTitleContainer,Se&&te),se()(y,Nl.a.profilePageMobileTitleContainer,xe&&te),se()(y,Nl.a.hashtagPageMobileTitleContainer,Ee&&te),se()(y,Nl.a.lobbyPageMobileTitleContainer,Oe&&te),y))},r.a.createElement("div",{className:Nl.a.unenforcedTitleContainer},r.a.createElement(mi.a,null,r.a.createElement("div",{className:Nl.a.paywallHeader,onClick:Ue},r.a.createElement("svg",{width:"10",height:"12",viewBox:"0 0 10 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M0 8.5C0 7.09554 0 6.39331 0.337061 5.88886C0.482978 5.67048 0.670479 5.48298 0.88886 5.33706C1.39331 5 2.09554 5 3.5 5H6.5C7.90446 5 8.60669 5 9.11114 5.33706C9.32952 5.48298 9.51702 5.67048 9.66294 5.88886C10 6.39331 10 7.09554 10 8.5C10 9.90446 10 10.6067 9.66294 11.1111C9.51702 11.3295 9.32952 11.517 9.11114 11.6629C8.60669 12 7.90446 12 6.5 12H3.5C2.09554 12 1.39331 12 0.88886 11.6629C0.670479 11.517 0.482978 11.3295 0.337061 11.1111C0 10.6067 0 9.90446 0 8.5Z",fill:"#EDC45B"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3.5C1.5 1.567 3.067 0 5 0C6.933 0 8.5 1.567 8.5 3.5V7C8.5 8.933 6.933 10.5 5 10.5C3.067 10.5 1.5 8.933 1.5 7V3.5ZM5 1.5C3.89543 1.5 3 2.39543 3 3.5V7C3 8.10457 3.89543 9 5 9C6.10457 9 7 8.10457 7 7V3.5C7 2.39543 6.10457 1.5 5 1.5Z",fill:"#EDC45B"})),r.a.createElement("div",{className:Nl.a.paywallTitle}," ",e.paywallHeader))),r.a.createElement("div",{className:w()((j={},se()(j,Nl.a.title,!0),se()(j,Nl.a.vodPageMobileTitle,Se&&te),se()(j,Nl.a.vodPageMobileTitleIos,Se&&te&&Hl),se()(j,Nl.a.hashtagPageMobileTitle,Ee&&te),se()(j,Nl.a.profilePageMobileTitle,xe&&te),se()(j,Nl.a.lobbyPageMobileTitle,Oe&&te),se()(j,Nl.a.vodTitle,Se&&!Se&&te),j))},ie&&r.a.createElement(os,{display:"inline-flex",source:e.source}),re.broadcastInfo&&re.broadcastInfo.broadcastTitle)),r.a.createElement(mi.a,null,r.a.createElement("div",{className:Nl.a.unenforcedButton,onClick:Ue},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"88",height:"56",fill:"none",viewBox:"0 0 88 56"},r.a.createElement("path",{fill:"#EDC45B",d:"M32 27.5H55V28.5H32z"}),r.a.createElement("path",{fill:"#EDC45B",fillRule:"evenodd",d:"M49.3 33.3l.7.7 6-6-6-6-.7.7 5.3 5.3-5.3 5.3z",clipRule:"evenodd"}),r.a.createElement("path",{stroke:"#EDC45B",strokeWidth:"2",d:"M1 1H87V55H1z"}))))),e.hasPaywall&&e.paywallIsUnlocked&&!te&&r.a.createElement("div",null,r.a.createElement("div",{className:Nl.a.paywallHeader},"\u{1f513} Unlocked"),r.a.createElement("div",{className:w()((O={},se()(O,Nl.a.title,!0),se()(O,Nl.a.vodPageMobileTitle,Se&&te),se()(O,Nl.a.vodPageMobileTitleIos,Se&&te&&Hl),se()(O,Nl.a.hashtagPageMobileTitle,Ee&&te),se()(O,Nl.a.profilePageMobileTitle,xe&&te),se()(O,Nl.a.lobbyPageMobileTitle,Oe&&te),se()(O,Nl.a.vodTitle,Se&&!Se&&te),O))},ie&&r.a.createElement(os,{display:"inline-flex",source:e.source}),re.broadcastInfo&&re.broadcastInfo.broadcastTitle)),!e.hasPaywall&&r.a.createElement("a",{href:Ce},r.a.createElement("div",{className:w()((E={},se()(E,Nl.a.titleContainer,!0),se()(E,Nl.a.titleContainerMobile,te),se()(E,Nl.a.vodPageMobileTitleContainer,Se&&te),se()(E,Nl.a.profilePageMobileTitleContainer,xe&&te),se()(E,Nl.a.hashtagPageMobileTitleContainer,Ee&&te),se()(E,Nl.a.lobbyPageMobileTitleContainer,Oe&&te),E))},r.a.createElement("span",{className:w()((x={},se()(x,Nl.a.title,!0),se()(x,Nl.a.vodPageMobileTitle,Se&&te),se()(x,Nl.a.vodPageMobileTitleIos,Se&&te&&Hl),se()(x,Nl.a.hashtagPageMobileTitle,Ee&&te),se()(x,Nl.a.profilePageMobileTitle,xe&&te),se()(x,Nl.a.lobbyPageMobileTitle,Oe&&te),se()(x,Nl.a.vodTitle,Se&&!Se&&te),x))},ie&&r.a.createElement(os,{display:"inline-flex",source:e.source}),re.broadcastInfo&&re.broadcastInfo.broadcastTitle))))),re.tags&&r.a.createElement("div",{ref:W,className:w()((k={},se()(k,Nl.a.tagContainer,!0),se()(k,Nl.a.vodPageMobileTagContainer,Se&&te),se()(k,Nl.a.hashtagPageMobileTagContainer,Ee&&te),se()(k,Nl.a.profilePageMobileTagContainer,xe&&te),se()(k,Nl.a.lobbyPageMobileTagContainer,Oe&&te),k))},re.tags&&re.tags.map(function(e){var t=e.replace(/^(tag\:)/,""),n="/tag/"+t;return r.a.createElement("a",{key:e,href:n,className:Nl.a.tag},"#",t," ")}),r.a.createElement("br",null)),!ye&&!(te&&ke)&&r.a.createElement("p",{className:w()((I={},se()(I,Nl.a.eventDate,!0),se()(I,Nl.a.vodPageMobileEventDate,Se&&te),se()(I,Nl.a.hashtagPageMobileEventdate,Ee&&te),se()(I,Nl.a.profilePageMobileEventdate,xe&&te),se()(I,Nl.a.lobbyPageMobileEventdate,Oe&&te),I))},re&&"upcoming"===re.activityType?ge:pe),r.a.createElement("hr",null),r.a.createElement("div",{id:"gradient-limit"}),r.a.createElement("div",{className:w()((T={},se()(T,Nl.a.iconsList,!0),se()(T,Nl.a.vodPageMobileIconsList,Se&&te),se()(T,Nl.a.hashtagPageMobileIconsList,Ee&&te),se()(T,Nl.a.profilePageMobileIconsList,xe&&te),se()(T,Nl.a.lobbyPageMobileIconsList,Oe&&te),se()(T,Nl.a.upcomingPageMobileIconsList,te&&ke),T))},De&&r.a.createElement("a",{href:Ce},r.a.createElement("div",{className:w()((F={},se()(F,Nl.a.statIconContainer,!0),se()(F,Nl.a.statIconContainerMobile,te),se()(F,Nl.a.vodPageMobileViewCountContainer,Se&&te),se()(F,Nl.a.upcomingPageViewCountContainer,Se&&ke),F))},r.a.createElement("span",{className:w()((P={},se()(P,Nl.a.counterIcon,!0),se()(P,Nl.a.counterIconMobile,te),P))},r.a.createElement(Xt,null)),r.a.createElement("div",{className:w()((N={},se()(N,Nl.a.counter,!0),se()(N,Nl.a.vodPageMobileCounter,Se&&te),se()(N,Nl.a.hashtagPageMobileCounter,Ee&&te),se()(N,Nl.a.profilePageMobileCounter,xe&&te),se()(N,Nl.a.lobbyPageMobileCounter,Oe&&te),se()(N,Nl.a.upcomingPageMobileCounter,te&&ke),N))},fe))),!ye&&!(Oe||parseInt(we)>0)&&r.a.createElement(mi.a,{disabled:te&&!ae},r.a.createElement("div",{"data-name":"comment",className:w()((M={},se()(M,Nl.a.statIconContainer,!0),se()(M,Nl.a.statIconContainerMobile,te),se()(M,Nl.a.statIconContainerUpcomingMobile,te&&ke),se()(M,Nl.a.disableInsideButton,!0),M)),onClick:Pe},r.a.createElement("span",{className:w()((L={},se()(L,Nl.a.chatIcon,!0),se()(L,Nl.a.counterIcon,!0),se()(L,Nl.a.chatIconMobile,te),se()(L,Nl.a.chatIconMobileUpcoming,te&&ke),L))},r.a.createElement($t,null)),r.a.createElement("div",{className:Nl.a.commentCounter},ve))),"0"!==we&&!ye&&!(Oe||"0"===we)&&r.a.createElement(mi.a,{disabled:te&&!ae},r.a.createElement("div",{"data-name":"give",className:w()((B={},se()(B,Nl.a.statIconContainer,!0),se()(B,Nl.a.statIconContainerMobile,te),se()(B,Nl.a.disableInsideButton,!0),B)),onClick:Pe},r.a.createElement("span",{"data-name":"give",className:w()((A={},se()(A,Nl.a.giveIcon,!0),se()(A,Nl.a.giveIconMobile,te),A))},r.a.createElement(na,{"data-name":"give",width:"16px",height:"16px"})),r.a.createElement("div",{"data-name":"give",className:w()((D={},se()(D,Nl.a.counter,!0),se()(D,Nl.a.vodPageMobilePropsCounter,Se&&te),se()(D,Nl.a.hashtagPageMobilePropsCounter,Ee&&te),se()(D,Nl.a.profilePageMobilePropsCounter,xe&&te),se()(D,Nl.a.lobbyPageMobilePropsCounter,Oe&&te),se()(D,Nl.a.upcomingPageMobilePropsCounter,te&&ke),D))},we))),!ye&&!Oe&&r.a.createElement(mi.a,{disabled:te&&!ae},r.a.createElement("div",{"data-name":"like",onClick:Pe,className:w()((U={},se()(U,Nl.a.statIconContainer,!0),se()(U,Nl.a.statIconContainerMobile,te),se()(U,Nl.a.statIconContainerUpcomingMobile,te&&ke),se()(U,Nl.a.disableInsideButton,!0),U))},r.a.createElement("span",{className:w()((R={},se()(R,Nl.a.heartIcon,!0),se()(R,Nl.a.heartIconMobile,te),se()(R,Nl.a.heartIconMobileUpcoming,te&&ke),R))},r.a.createElement(cs,{liked:G})),r.a.createElement("div",{className:w()((H={},se()(H,Nl.a.counter,!0),se()(H,Nl.a.vodPageMobileCounter,Se&&te),se()(H,Nl.a.hashtagPageMobileCounter,Ee&&te),se()(H,Nl.a.profilePageMobileCounter,xe&&te),se()(H,Nl.a.lobbyPageMobileCounter,Oe&&te),se()(H,Nl.a.upcomingPageMobileCounter,te&&ke),H))},he)))))))})),Vl=n("./src/pieces/activity/upcoming-card.scss"),zl=n.n(Vl),Gl=n("./src/pieces/current-user/current-user.sagas.js"),ql=(n("./node_modules/bows/bows.js")("Upcoming-card"),{auto:"webp",fit:"fill",height:200}),Jl=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({showBanner:us.selectShowBanner,currentUserId:Gl.getCurrentUserId}),{LikeActivity:ls.LikeActivity,UnlikeActivity:ls.UnlikeActivity,SetShowBanner:us.SetShowBanner,setBannerTriggerDetails:us.setBannerTriggerDetails,AnimateFooter:us.AnimateFooter}),Object(B.d)({}),S.e)(function(e){var t,n,i,s,c,l,u,d,_,m,g,b,p,f,v,C;if(!e.activity)return null;var y=Object(a.useState)(!1),j=h()(y,2),O=j[0],S=j[1],E=Object(a.useState)(e.activity.likeCount),x=h()(E,2),k=x[0],I=x[1],T=Object(vr.a)(),F=["/","/following","/browse"].includes(window.location.pathname);Object(a.useEffect)(function(){e.activity.likedByMe&&S(!0),e.activity.likedByMe&&0===e.activity.likeCounter&&I(1)},[]);var P=O&&0===k?1:k,N=Ft(e.activity.viewCount||0),M=Ft(P||0),L=Ft(e.activity.commentCount||0),B=Ft(e.activity.propsCount||0),A=e.activity.broadcastInfo&&e.activity.broadcastInfo.contentRating===o.U,D="/".concat(e.activity.username,"/video/")+e.activity.activityId,U=e.activity,R=U.broadcastInfo,H=R.previewImagePath,W=R.broadcastTitle,V=R.broadcastStartTime,z=(U.user,Object(Fl.b)(V)),G=e.avatar||"/defaults/avatar-001.png",q=Object(Ie.c)(G,{auto:"web",fit:"crop",width:48,height:48,enable:"upscale"}),J=e.activity.user&&e.activity.user.stageId?"CAID".concat(String(e.activity.user.stageId)):null,Z=e.activity&&e.activity.broadcastInfo&&Object(Ie.b)(e.activity.broadcastInfo.previewImagePath,{auto:"webp",fit:"crop",width:1280,height:720,enable:"upscale"}),Y=e.activity&&e.activity.broadcastInfo.videoUrl?{activityId:e.activity.activityId,broadcastId:e.activity.broadcastInfo.broadcastId,broadcastTitle:e.activity.broadcastInfo.broadcastTitle,contentUrl:e.activity.broadcastInfo.videoUrl,posterUrl:Z,username:e.activity.username}:null;function Q(t,n){e.AnimateFooter({triggerType:n,entertainerUsername:e.activity.username});var a="";switch(n){case"like":a=o.Lb;break;case"comment":a=o.Q;break;case"give":a=o.yb;case"follow":a=o.wb}var r={clicked_at:Date.now()||null,viewer_id:e.currentUserId||null,item_type:o.Cc.UPCOMING_CARD||null,item_source:e.source||null,broadcaster_caid:J||null,broadcaster_username:e.activity.username||null,web_presentation:T?o.of:o.nf};window.mParticle.logEvent(a,window.mParticle.EventType.Other,r)}var K=parseFloat(N)>0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:w()((t={},se()(t,zl.a.isLobbyCard,F),se()(t,zl.a.eventCard,!0),se()(t,zl.a.eventCardMobile,T),t))},r.a.createElement("div",{className:w()((n={},se()(n,zl.a.hideUpcomingCardImageContainer,e.playPreviewCard&&Y),se()(n,zl.a.showUpcomingCardImageContainer,e.playPreviewCard&&!Y),n))},r.a.createElement("span",{className:w()(se()({},zl.a.loader,e.playPreviewCard))}),r.a.createElement("a",{href:D},r.a.createElement("div",{className:zl.a.top},r.a.createElement("div",{className:w()((i={},se()(i,zl.a.dateTime,!0),se()(i,zl.a.isLobbyDateTime,F),i))},z)),r.a.createElement("div",{className:zl.a.eventImageWrapper,style:{backgroundImage:"url('".concat(Object(Ie.b)(H,ql),"')")}}))),e.playPreviewCard&&r.a.createElement("a",{href:D,className:w()((s={},se()(s,zl.a.hideUpcomingCardVideoContainer,!Y),se()(s,zl.a.showUpcomingCardVideoContainer,Y),s))},r.a.createElement("div",{className:zl.a.top},r.a.createElement("div",{className:w()((c={},se()(c,zl.a.dateTime,!0),se()(c,zl.a.isLobbyDateTime,F),c))},z)),r.a.createElement("div",{className:zl.a.eventImageWrapper},Y&&r.a.createElement(Bl.a,{className:zl.a.visible,videoDetails:Y,muted:!0,controls:!1}))),F&&r.a.createElement("div",{className:w()((l={},se()(l,zl.a.cardHeader,!0),se()(l,zl.a.cardHeaderMobile,T),l))},r.a.createElement("div",{className:w()(se()({},zl.a.userContainer,!0))},r.a.createElement("div",{className:w()((u={},se()(u,"image",!0),se()(u,"is-48x48",!0),se()(u,zl.a.lobbyPageMobileEntertainerProfileImage,F&&T),u))},r.a.createElement("a",{href:"/".concat(e.activity.username,"/profile/")},r.a.createElement("img",{className:w()(zl.a.avatar,"is-rounded"),src:q}))),r.a.createElement("a",{href:"/".concat(e.activity.username,"/profile/"),className:w()((d={},se()(d,zl.a.usernameContainer,!0),se()(d,zl.a.usernameContainerMobile,T),d))},r.a.createElement("div",{className:w()((_={},se()(_,zl.a.profileLinkContainer,!0),se()(_,zl.a.profileLinkContainerMobile,T),_))},r.a.createElement("div",{className:w()(se()({},zl.a.profileLinkAndBadgeContainer,!0))},r.a.createElement("div",{className:w()((m={},se()(m,zl.a.username,!0),se()(m,zl.a.usernameMobile,T),m))},e.activity&&e.activity.user&&e.activity.user.username," "),r.a.createElement("div",{className:w()(se()({},zl.a.badge,!0))},r.a.createElement(pn.a,{badge:e.badge}))),r.a.createElement("div",{className:w()((g={},se()(g,zl.a.realName,!0),se()(g,zl.a.realNameMobile,T),g))},r.a.createElement("p",null,e.activity.user.name)))))),r.a.createElement("div",{className:w()((b={},se()(b,zl.a.userSnippetTextWrapper,!0),se()(b,zl.a.userSnippetTextWrapperLobby,F&&!T),se()(b,zl.a.userSnippetTextWrapperLobbyMobile,F&&T),b))},A&&r.a.createElement("div",{className:zl.a.seventeenPlusIcon},r.a.createElement(os,{display:"inline-flex"})),r.a.createElement("a",{href:D,className:w()((p={},se()(p,zl.a.isLobbyTitle,F),se()(p,zl.a.title,!0),p))},W)),r.a.createElement("div",{className:zl.a.interactionWrapper},r.a.createElement("div",{className:zl.a.iconsList},K&&r.a.createElement("div",{className:w()(se()({},zl.a.statIconContainer,!0))},r.a.createElement("span",{className:w()(zl.a.chatIcon,zl.a.counterIcon)},r.a.createElement(Xt,null)),r.a.createElement("div",{className:zl.a.commentCounter},N)),!F&&r.a.createElement("div",{className:w()(se()({},zl.a.statIconContainer,!0)),onClick:function(e){T&&Q(0,"comment")}},r.a.createElement("span",{className:w()(zl.a.chatIcon,zl.a.counterIcon)},r.a.createElement($t,null)),r.a.createElement("div",{className:zl.a.commentCounter},L)),"0"!==B&&!F&&r.a.createElement("div",{className:w()(se()({},zl.a.statIconContainer,!0)),onClick:function(e){T&&Q(0,"give")}},r.a.createElement("span",{className:w()(zl.a.chatIcon,zl.a.counterIcon)},r.a.createElement(na,{width:"16px",height:"16px"})),r.a.createElement("div",{className:zl.a.counter},B)),!F&&r.a.createElement("div",{className:w()((f={},se()(f,zl.a.statIconContainer,!0),se()(f,zl.a.likeCounts,!0),f)),onClick:function(t){O?function(t){t.preventDefault(),e.UnlikeActivity(e.activity.activityId),S(!1),I(0===k?0:k-1),Q(t,"like")}(t):function(t){t.preventDefault(),e.LikeActivity(e.activity.activityId),S(!0),I(k+1),Q(t,"like")}(t)}},r.a.createElement("span",{className:zl.a.heartIcon},r.a.createElement(cs,{liked:O})),r.a.createElement("span",{className:w()(zl.a.counter)},M))),r.a.createElement("div",{className:w()((v={},se()(v,zl.a.followButton,!0),se()(v,zl.a.followButtonMobile,T),v)),onClick:function(e){T&&Q(0,"follow")}},J&&r.a.createElement(ds.a,{caid:J,className:w()((C={},se()(C,zl.a.restyledButton,!0),se()(C,zl.a.followButtonLobby,F),C)),hideUnfollow:!0})))))}),Zl=n("./src/pieces/lobby/carousel.scss"),Yl=n.n(Zl),Ql=(n("./node_modules/bows/bows.js")("Arrow-next-icon"),function(e){var t=e.className;return r.a.createElement(Fe.a,{className:t},r.a.createElement("svg",{width:"20",height:"34",viewBox:"0 0 20 34",fill:"none"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.41421 0L1 1.41421L16.5563 16.9706L1 32.5269L2.41421 33.9411L19.3848 16.9706L2.41421 0Z",fill:"white"})))}),Kl=(n("./node_modules/bows/bows.js")("Arrow-previous-icon"),function(e){var t=e.className;return r.a.createElement(Fe.a,{className:t},r.a.createElement("svg",{width:"20",height:"34",viewBox:"0 0 20 34",fill:"none"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.9706 0L19.3848 1.41421L3.82842 16.9706L19.3848 32.5269L17.9706 33.9411L0.99999 16.9706L17.9706 0Z",fill:"white"})))});function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}n("./node_modules/bows/bows.js")("Carousel");var $l=function(e){var t,n=e.children,i=(e.maxWidth,e.numberOfItemsToScroll),s=e.gutterWidth,c=e.size,l=e.cardWidth,u=e.screenSize,d=Object(a.useRef)(null),_=Object(a.useState)({rowWidth:0,childrensWidth:0,numberOfChildren:0,maxWidthScrollableRow:0}),m=h()(_,2),g=m[0],b=m[1],p=Object(a.useState)(!1),f=h()(p,2),v=f[0],C=f[1],y=Object(a.useState)(!0),j=h()(y,2),O=j[0],S=j[1];Object(a.useEffect)(function(){if(d.current){var e=d.current.clientWidth,t=l,n=d.current.children.item(0).clientWidth,a=d.current.children.length;b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xl(n,!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},g,{rowWidth:e,numberOfChildren:a,childrensWidth:t,maxWidthScrollableRow:(a-3)*(s+t)+2*n}))}},[d,u]);return r.a.createElement("div",{style:{maxWidth:g&&n.length>i?g.maxWidthScrollableRow:null},className:Yl.a.relativeContainer},r.a.createElement("div",{className:1===n.length?Yl.a.containerSingle:Yl.a.container,ref:d,onScroll:function(e){d.current.scrollLeft+80>=d.current.scrollWidth-d.current.clientWidth?S(!1):O||S(!0),d.current.scrollLeft-80<=0?C(!1):v||C(!0)}},r.a.createElement("div",{className:Yl.a.feedItem},r.a.createElement("div",{className:Yl.a.fillerChild}," ")),n,r.a.createElement("div",{className:Yl.a.feedItem},r.a.createElement("div",{className:Yl.a.fillerChild}," ")),n.length>i&&r.a.createElement("div",{className:w()((t={},se()(t,Yl.a.buttonsSinglePrevious,v&&!O),se()(t,Yl.a.buttonsSingleNext,O&&!v),se()(t,Yl.a.buttons,v&&O),se()(t,Yl.a[c],!0),t))},v&&r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=(g.childrensWidth+s)*i;d.current.scrollLeft-=t;var n=d.current.scrollLeft<g.maxWidthScrollableRow,a=d.current.scrollLeft-t>0;S(n),C(a);var r={screen_name:o.zd,canonical_path:window.location.pathname,web_presentation:o.nf};window.mParticle&&window.mParticle.logEvent("screen_view",window.mParticle.EventType.Other,r)},className:Yl.a.previous},r.a.createElement(Kl,null)),O&&r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=(g.childrensWidth+s)*i;d.current.scrollLeft+=t;var n=d.current.scrollLeft+2*t+2*d.current.children.item(0).clientWidth<g.maxWidthScrollableRow,a=d.current.scrollLeft>=0;S(n),C(a);var r={screen_name:o.yd,canonical_path:window.location.pathname,web_presentation:o.nf};window.mParticle&&window.mParticle.logEvent("screen_view",window.mParticle.EventType.Other,r)},className:Yl.a.next},r.a.createElement(Ql,null)))))},eu=(n("./node_modules/bows/bows.js")("UseMediaQuery"),function(e){var t=Object(a.useState)(!1),n=h()(t,2),r=n[0],i=n[1];return Object(a.useEffect)(function(){var t=window.matchMedia(e);t.matches!==r&&i(t.matches);var n=function(){return i(t.matches)};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}},[r,e]),r}),tu=n("./src/pieces/category/category-card.scss"),nu=n.n(tu),au=(n("./node_modules/bows/bows.js")("Category-card"),function(e){var t,n,a=Object(vr.a)();return r.a.createElement("a",{href:e.category.destinationPath,className:w()(se()({},nu.a.cardContainerDesktop,!a))},r.a.createElement("img",{className:w()(se()({},nu.a.categoryImage,a)),src:"".concat(o.Se).concat(e.category.imagePath,"?width=640&format=webp"),alt:e.category.title}),r.a.createElement("div",{className:w()((t={},se()(t,nu.a.overlay,a),se()(t,nu.a.overlayDesktop,!a),t))}),r.a.createElement("p",{className:w()((n={},se()(n,nu.a.categoryText,a),se()(n,nu.a.categoryTextDesktop,!a),n))},e.category.title))}),ru=(n("./node_modules/bows/bows.js")("Social-activity-row"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({}),{}),Object(B.d)({}),S.e)(function(e){var t,n=Object(a.useState)(window.innerWidth),i=h()(n,2),s=(i[0],i[1]);Object(a.useEffect)(function(){var e=function(){return s(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[window.innerWidth]);var c,l,u,d=e.feed&&e.feed.length>o.ec?e.feed.slice(0,o.ec):e.feed,_=(eu("(max-width: 1439px)"),eu("(min-width: 1440px)")),m=eu("(min-width: 1808px)"),g=eu("(min-width: 2168px)"),b=eu("(min-width: 2532px)")?"isUltraLargeScreen":g?"isExtraLargeScreen":m?"isLargeScreen":_?"isMediumScreen":"isSmallScreen";switch(e.type){case"upcoming":l="large",u=o.Gb+o.Me,"isUltraLargeScreen"===b?c=6:"isExtraLargeScreen"===b?c=5:"isLargeScreen"===b?c=4:"isMediumScreen"===b?c=3:"isSmallScreen"===b&&(c=2);break;case"live":l="medium","isUltraLargeScreen"===b?(c=6,u=o.We):"isExtraLargeScreen"===b?(c=5,u=o.mb):"isLargeScreen"===b?(c=4,u=o.Ib):"isMediumScreen"===b?(c=3,u=o.tc):"isSmallScreen"===b&&(c=2,u=o.Od);break;default:l="small","isUltraLargeScreen"===b?(c=8,u=o.Xe):"isExtraLargeScreen"===b?(c=7,u=o.nb):"isLargeScreen"===b?(c=5,u=o.Jb):"isMediumScreen"===b?(c=4,u=o.uc):"isSmallScreen"===b&&(c=3,u=o.Pd)}return r.a.createElement("div",{className:w()(se()({},yl.a.feedSection,!0))},e.title&&r.a.createElement("div",{className:w()((t={},se()(t,yl.a.feedSectionHeader,!0),se()(t,yl.a[e.titleSize],!0),t))},e.title),e.feed&&e.feed.length>0&&r.a.createElement($l,{numberOfItemsToScroll:c,gutterWidth:"upcoming"===e.type?10:12,size:l,cardWidth:u,screenSize:b},d.map(function(t,n){return r.a.createElement("div",{key:n,className:yl.a.feedItem},"upcoming"===e.type?r.a.createElement(Jl,{activity:t,avatar:t.user.avatarImagePath,badge:t.user.badge,source:o.Dd}):"category"===e.type?r.a.createElement(au,{category:t}):r.a.createElement(Wl,{id:t.activityId,activity:t,avatar:t.user.avatarImagePath,badge:t.user.badge,size:e.size||"medium",source:e.source}))})))})),iu=n("./src/pieces/activity/hero-activity-card.scss"),ou=n.n(iu),su=(n("./node_modules/bows/bows.js")("Hero-live-badge"),function(){return r.a.createElement("svg",{width:"116",height:"72",viewBox:"0 0 116 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"99",height:"72",fill:"url(#paint0_radial_260_7106)"}),r.a.createElement("rect",{width:"99",height:"72",fill:"url(#paint1_radial_260_7106)"}),r.a.createElement("rect",{width:"99",height:"72",transform:"translate(17)",fill:"url(#paint2_radial_260_7106)"}),r.a.createElement("rect",{width:"99",height:"72",transform:"translate(17)",fill:"url(#paint3_radial_260_7106)"}),r.a.createElement("rect",{x:"27.6328",y:"18.6328",width:"60.7344",height:"34.7344",stroke:"#0000FF",strokeWidth:"1.26562"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M64.4645 34.4632C65.4021 33.5258 66.6739 32.9991 68 32.9991C69.3261 32.9991 70.5979 33.5258 71.5355 34.4632C72.4732 35.4007 73 36.6722 73 37.998C73 38.5501 72.5523 38.9978 72 38.9978H65.1705C65.2532 39.2324 65.3652 39.4572 65.5048 39.6663C65.8345 40.16 66.3032 40.5448 66.8516 40.772C67.4001 40.9992 68.0037 41.0586 68.5859 40.9427C69.1682 40.8268 69.7029 40.5407 70.1225 40.1208C70.5128 39.7301 71.146 39.7298 71.5367 40.12C71.9275 40.5102 71.9278 41.1432 71.5375 41.5339C70.8382 42.2338 69.947 42.7105 68.9765 42.9037C68.0061 43.0969 67.0002 42.9979 66.086 42.6193C65.1719 42.2406 64.3908 41.5993 63.8414 40.7765C63.2921 39.9538 62.9993 38.9867 63 37.9976C63.0002 36.6721 63.527 35.4005 64.4645 34.4632ZM65.1716 36.9982H70.8284C70.6807 36.5804 70.4407 36.1965 70.1213 35.8771C69.5587 35.3146 68.7956 34.9987 68 34.9987C67.2043 34.9987 66.4413 35.3146 65.8787 35.8771C65.5593 36.1965 65.3193 36.5804 65.1716 36.9982Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.553 33.1049C53.047 32.8579 53.6477 33.0581 53.8946 33.552L57.0002 39.7617L60.1058 33.552C60.3528 33.0581 60.9535 32.8579 61.4474 33.1049C61.9414 33.3518 62.1416 33.9523 61.8946 34.4462L57.8946 42.4444C57.7253 42.7831 57.379 42.9971 57.0002 42.9971C56.6214 42.9971 56.2752 42.7831 56.1058 42.4444L52.1058 34.4462C51.8588 33.9523 52.059 33.3518 52.553 33.1049Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49 32.9991C49.5523 32.9991 50 33.4467 50 33.9989V41.9971C50 42.5492 49.5523 42.9969 49 42.9969C48.4477 42.9969 48 42.5492 48 41.9971V33.9989C48 33.4467 48.4477 32.9991 49 32.9991Z",fill:"white"}),r.a.createElement("path",{d:"M50 29.9998C50 30.5519 49.5523 30.9995 49 30.9995C48.4477 30.9995 48 30.5519 48 29.9998C48 29.4476 48.4477 29 49 29C49.5523 29 50 29.4476 50 29.9998Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M44 29C44.5523 29 45 29.4476 45 29.9998V41.9971C45 42.5492 44.5523 42.9969 44 42.9969C43.4477 42.9969 43 42.5492 43 41.9971V29.9998C43 29.4476 43.4477 29 44 29Z",fill:"white"}),r.a.createElement("defs",null,r.a.createElement("radialGradient",{id:"paint0_radial_260_7106",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(49.5 36) rotate(90) scale(36 49.5)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("radialGradient",{id:"paint1_radial_260_7106",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(49.5 36) rotate(90) scale(36 49.5)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("radialGradient",{id:"paint2_radial_260_7106",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(49.5 36) rotate(90) scale(36 49.5)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"})),r.a.createElement("radialGradient",{id:"paint3_radial_260_7106",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(49.5 36) rotate(90) scale(36 49.5)"},r.a.createElement("stop",{stopColor:"#0000FF"}),r.a.createElement("stop",{offset:"0.132812",stopColor:"#0000FF",stopOpacity:"0.75"}),r.a.createElement("stop",{offset:"0.291667",stopColor:"#0000FF",stopOpacity:"0.5"}),r.a.createElement("stop",{offset:"0.385417",stopColor:"#0000FF",stopOpacity:"0.375"}),r.a.createElement("stop",{offset:"0.502083",stopColor:"#0000FF",stopOpacity:"0.25"}),r.a.createElement("stop",{offset:"0.645833",stopColor:"#0000FF",stopOpacity:"0.125"}),r.a.createElement("stop",{offset:"0.75",stopColor:"#0000FF",stopOpacity:"0.0625"}),r.a.createElement("stop",{offset:"0.825",stopColor:"#0000FF",stopOpacity:"0.03125"}),r.a.createElement("stop",{offset:"1",stopColor:"#0000FF",stopOpacity:"0"}))))}),cu=(n("./node_modules/bows/bows.js")("Hero-activity-card"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({}),{LikeActivity:ls.LikeActivity,UnlikeActivity:ls.UnlikeActivity}),Object(B.d)({}),S.e)(function(e){var t,n,i,s,c;if(!e.activity)return null;var l=Object(a.useRef)(null),u=Object(a.useState)(!1),d=h()(u,2),_=d[0],m=d[1],g=Object(a.useState)(e.activity.likeCount),b=h()(g,2),p=b[0],f=b[1],v=e.activity,C=v.broadcastInfo.contentRating===o.U,y=e.avatar||"/defaults/avatar-001.png",j=v.stageId?"CAID".concat(String(v.stageId)):null,O=v.broadcastInfo&&Object(Ie.b)(v.broadcastInfo.previewImagePath,{auto:"webp",fit:"crop",width:1280,height:720,enable:"upscale"}),E=Object(Ie.c)(y,{auto:"webp",fit:"crop",width:48,height:48,enable:"upscale"}),x=Ft(v.viewCount||0),k=Ft((_&&0===p?1:p)||0),I=Ft(v.commentCount||0),T=v&&"live"===v.activityType,F=be()([[function(e){return e.presentationMode===o.Vc},function(){return r.a.createElement(su,null)}],[function(e){return e.presentationMode===o.Wc},function(){return r.a.createElement(Ll,null)}],[function(){return!0},function(){return null}]]);Object(a.useEffect)(function(){e.activity.likedByMe&&m(!0),e.activity.likedByMe&&0===e.activity.likeCounter&&f(1)},[]);var P=parseFloat(x)>0;return r.a.createElement("div",{className:ou.a.pr},r.a.createElement("div",{className:w()((t={},se()(t,ou.a.feed,!0),se()(t,ou.a.followBrowseContainer,!0),se()(t,ou.a.heroContainer,!0),t))},e.videoDetails?r.a.createElement(Bl.a,{activity:e.activity,className:ou.a.visible,videoDetails:e.videoDetails,muted:!0,playerName:"Web Hero Player",autoHeight:!0,controls:!1}):r.a.createElement("div",{className:"card-image"},r.a.createElement("div",{className:ou.a.stageStatusBadge},r.a.createElement(F,{presentationMode:v&&v.presentation&&v.presentation.badge})),r.a.createElement("div",{className:w()(ou.a.previewImageContainer,"image","is-16by9")},r.a.createElement("img",{loading:"lazy",src:O}))),r.a.createElement("div",{className:ou.a.heroWrapperContainer},r.a.createElement("div",{className:ou.a.heroOverlayStyle},r.a.createElement("div",{className:w()((n={},se()(n,ou.a.feed,!0),se()(n,ou.a.followBrowseContainer,!0),se()(n,ou.a.topPicks,!0),n))},"Top Picks"),r.a.createElement("div",{className:w()((i={},se()(i,ou.a.feed,!0),se()(i,ou.a.followBrowseContainer,!0),se()(i,ou.a.mt0,!0),i))},r.a.createElement("div",{className:ou.a.stageStatusBadge},r.a.createElement(F,{presentationMode:v&&v.presentation&&v.presentation.badge}))),r.a.createElement("div",{className:ou.a.bottomToolbar},r.a.createElement("div",{className:w()((s={},se()(s,ou.a.feed,!0),se()(s,ou.a.followBrowseContainer,!0),se()(s,ou.a.bottomToolbar_content,!0),s))},r.a.createElement("div",{className:ou.a.cardHeader},r.a.createElement("div",{className:ou.a.avatarImageContainer},r.a.createElement("a",{href:"/".concat(v.username,"/profile/")},r.a.createElement("img",{className:w()(ou.a.avatarImageContainer_avatar,"image is-48x48"),src:E,alt:"Placeholder image"}))),r.a.createElement("div",{className:ou.a.userContainer},r.a.createElement("div",{className:w()(ou.a.pa,ou.a.t50)},r.a.createElement("div",{className:ou.a.userInfoContainer},r.a.createElement("p",{className:ou.a.userInfoContainer_username},r.a.createElement("a",{href:"/".concat(v.username,"/profile/")},v&&v.user&&v.user.username)),r.a.createElement("div",{className:ou.a.userInfoContainer_badge},r.a.createElement(pn.a,{badge:v&&v.user&&v.user.badge})),j&&v.user.name&&r.a.createElement(ds.a,{caid:j,hideUnfollow:!0,className:ou.a.userInfoContainer_followLink})),r.a.createElement("div",{className:ou.a.aboutContainer},v.user.name?r.a.createElement("div",{className:ou.a.aboutContainerText},v.user.name):j&&r.a.createElement(ds.a,{caid:j,hideUnfollow:!0,className:ou.a.userInfoContainer_followLink}))))),r.a.createElement("hr",{className:ou.a.my20}),r.a.createElement("div",{className:ou.a.w100},r.a.createElement("div",{className:w()(ou.a.cardContent,"card-content",ou.a.floatLeft)},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:ou.a.titleContainer},r.a.createElement("span",{className:w()((c={},se()(c,ou.a.title,!0),se()(c,ou.a.heroTitle,!0),c))},C&&r.a.createElement(os,{display:"inline-flex",width:28,height:28}),v.broadcastInfo&&v.broadcastInfo.broadcastTitle))))),r.a.createElement("div",{className:ou.a.floatRight},r.a.createElement("div",{className:ou.a.iconsList},P&&r.a.createElement("div",{className:w()(ou.a.statIconContainer)},r.a.createElement("span",{className:ou.a.counterIcon},r.a.createElement(Xt,null)),r.a.createElement("div",{className:ou.a.counter},x)),!T&&r.a.createElement(mi.a,null,r.a.createElement("div",{onClick:function(t){return _?function(t){t.preventDefault(),e.UnlikeActivity(e.id),m(!1),f(0===p?0:p-1)}(t):function(t){t.preventDefault(),e.LikeActivity(e.id),m(!0),f(p+1)}(t)},className:w()(ou.a.statIconContainer)},r.a.createElement("span",{className:ou.a.heartIcon},r.a.createElement(cs,{liked:_})),r.a.createElement("div",{className:w()(ou.a.likeCount,ou.a.counter)},k))),!T&&r.a.createElement(mi.a,null,r.a.createElement("div",null,r.a.createElement("span",{className:w()(ou.a.chatIcon,ou.a.counterIcon)},r.a.createElement($t,null)),r.a.createElement("div",{className:ou.a.counter},I)))),r.a.createElement("div",{ref:l,className:w()(ou.a.text_right)},v.tags&&v.tags.map(function(e){var t=e.replace(/^(tag\:)/,""),n="/tag/"+t;return r.a.createElement("a",{key:e,href:n,className:ou.a.tag},"#",t," ")}))))))),r.a.createElement(S.b,{className:ou.a.absolutely,to:"/".concat(v.username)}))))})),lu=n("./node_modules/bows/bows.js")("Lobby-browse-frame"),uu=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({currentUserCaid:Ue.selectCurrentUserId,isBouncerActive:i.selectBouncerDialogIsActive,lobbyBrowseContent:pl.selectLobbyBrowseContent,sessionType:i.selectUserSessionType}),{LoadLobbyBrowse:pl.LoadLobbyBrowse,UnloadLobbyBrowse:pl.UnloadLobbyBrowse}))(function(e){var t=Object(a.useState)(window.innerWidth),n=h()(t,2),i=(n[0],n[1]);if(Object(a.useEffect)(function(){if(location.search){var t=!location.search.includes("redirect=false")||e.sessionType&&!e.isBouncerActive?location.pathname:"".concat(location.pathname,"?redirect=false");window.history.replaceState({path:t},"",t)}},[e.isBouncerActive,e.sessionType]),Object(a.useEffect)(function(){var t=function(){return i(window.innerWidth)};return window.addEventListener("resize",t),e.LoadLobbyBrowse(),localStorage.setItem(o.J,o.Wb),function(){window.removeEventListener("resize",t),e.UnloadLobbyBrowse()}},[]),e.lobbyBrowseContent.loading)return r.a.createElement(wl,null);if(e.lobbyBrowseContent.error)return lu("lobby-browse-frame",e.lobbyBrowseContent.error),r.a.createElement(r.a.Fragment,null,r.a.createElement(io,null,e.authenticationWall),r.a.createElement(M,{darkTheme:!0}));if(e.lobbyBrowseContent.data){var s,c,l=e.lobbyBrowseContent.data,u=l.find(function(e){return"image_items"===e.type&&"lobby/hero_categories"===e.slug}),d=e.lobbyBrowseContent.data.find(function(e){return"activities"===e.type&&"top/live"===e.slug}),_=d&&d.activities&&d.activities.length>0?d.activities[0]:null,m=_&&_.broadcastInfo.videoUrl?{activityId:_.activityId,broadcastId:_.broadcastInfo.broadcastId,broadcastTitle:_.broadcastInfo.broadcastTitle,contentUrl:_.broadcastInfo.videoUrl,posterUrl:_,username:_.username}:null;return r.a.createElement("div",{className:yl.a.feedFrame},r.a.createElement(io,null,e.authenticationWall),r.a.createElement("div",{className:w()((s={},se()(s,yl.a.feed,!0),se()(s,yl.a.followBrowseContainer,!0),s))},r.a.createElement(S.b,{className:w()(yl.a.followBrowseTabInactive),to:"/following"},"Following"),r.a.createElement(S.b,{className:w()(yl.a.followBrowseTab),to:"/browse"},"Browse"),r.a.createElement("hr",null)),r.a.createElement("div",{className:w()((c={},se()(c,yl.a.feed,!0),se()(c,yl.a.categoriesContainer,!0),c))},r.a.createElement(ru,{feed:u.imageItems,size:"small",type:"category",source:o.Dd})),_&&r.a.createElement(cu,{id:_.activityId,activity:_,avatar:_.user.avatarImagePath,badge:_.presentation.badge,size:"extraLarge",videoDetails:m,hideHeader:!0}),l&&l.map(function(e,t){var n,a,i,s="upcoming/all"===e.slug,c="items"===e.type,u=!s&&"activities"==e.type,d="top/live"===e.slug;return u&&e.activities&&e.activities.length>0?r.a.createElement("div",{key:t,className:w()((n={},se()(n,yl.a.feed,!0),se()(n,yl.a.lastFeed,t==l.length),n))},r.a.createElement(ru,{feed:_&&d&&e.activities?e.activities.slice(1):e.activities,title:_&&d?"":e.presentation.title.text,titleSize:e.presentation.title.size,size:e.presentation.section.size,source:o.Dd})):s&&e.activities&&e.activities.length>0?r.a.createElement("div",{key:t,className:w()((a={},se()(a,yl.a.feed,!0),se()(a,yl.a.lastFeed,t==l.length),a))},r.a.createElement(ru,{feed:e.activities,title:e.presentation.title.text,titleSize:e.presentation.title.size,size:e.presentation.section.size,type:"upcoming",source:o.Dd})):c?r.a.createElement("div",{key:t,className:w()((i={},se()(i,yl.a.feed,!0),se()(i,yl.a.lastFeed,t==l.length),i))},r.a.createElement(jl,{hashtags:e.items})):void 0}))}return r.a.createElement(wl,null)}),du=n("./src/pieces/lobby/lobby-following-frame.scss"),_u=n.n(du),mu=(n("./node_modules/bows/bows.js")("Lobby-following-frame"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({currentUserCaid:Ue.selectCurrentUserId,isBouncerActive:i.selectBouncerDialogIsActive,lobbyFollowingContent:pl.selectLobbyFollowingContent,sessionType:i.selectUserSessionType}),{LoadLobbyFollowing:pl.LoadLobbyFollowing,UnloadLobbyFollowing:pl.UnloadLobbyFollowing}))(function(e){var t,n=Object(a.useState)(window.innerWidth),i=h()(n,2),s=(i[0],i[1]);if(Object(a.useEffect)(function(){if(location.search){var t=!location.search.includes("redirect=false")||e.sessionType&&!e.isBouncerActive?location.pathname:"".concat(location.pathname,"?redirect=false");window.history.replaceState({path:t},"",t)}},[e.isBouncerActive,e.sessionType]),Object(a.useEffect)(function(){var t=function(){return s(window.innerWidth)};return window.addEventListener("resize",t),e.LoadLobbyFollowing(),localStorage.setItem(o.J,o.Xb),function(){window.removeEventListener("resize",t),e.UnloadLobbyFollowing()}},[e.sessionType]),e.lobbyFollowingContent.loading)return r.a.createElement(wl,null);if(e.lobbyFollowingContent.error)return r.a.createElement(r.a.Fragment,null,r.a.createElement(io,null,e.authenticationWall),r.a.createElement(M,{darkTheme:!0}));if(e.lobbyFollowingContent.data&&e.sessionType===o.c)return r.a.createElement("div",{className:_u.a.feedFrame},r.a.createElement(io,null,e.authenticationWall),r.a.createElement("div",{className:w()((t={},se()(t,_u.a.feed,!0),se()(t,_u.a.followBrowseContainer,!0),t))},r.a.createElement(S.b,{className:w()(_u.a.followingTab),to:"/following"},"Following"),r.a.createElement(S.b,{className:w()(_u.a.followBrowseTabInactive),to:"/browse"},"Browse"),r.a.createElement("hr",null)),r.a.createElement(M,{darkTheme:!0,title:"Friends You're Following",message:"Sign up and follow your favorite people"}));if(e.lobbyFollowingContent.data){var c,l=e.lobbyFollowingContent.data,u=!l;return r.a.createElement("div",{className:_u.a.feedFrame},r.a.createElement(io,null,e.authenticationWall),r.a.createElement("div",{className:w()((c={},se()(c,_u.a.feed,!0),se()(c,_u.a.followBrowseContainer,!0),c))},r.a.createElement(S.b,{className:w()(_u.a.followingTab),to:"/following"},"Following"),r.a.createElement(S.b,{className:w()(_u.a.followBrowseTabInactive),to:"/browse"},"Browse"),r.a.createElement("hr",null)),u&&r.a.createElement(M,{darkTheme:!0,title:"Friends You're Following",message:"Follow your favorite people to see shows they're watching or broadcasting"}),!u&&l&&l.map(function(e,t){var n,a,i,s="upcoming"===e.slug,c="items"===e.type;return!s&&"activities"==e.type&&e.activities&&e.activities.length>0?r.a.createElement("div",{className:w()((n={},se()(n,_u.a.feed,!0),se()(n,_u.a.lastFeed,t==l.length),n))},r.a.createElement(ru,{feed:e.activities,title:e.presentation.title.text,titleSize:e.presentation.title.size,size:e.presentation.section.size,source:o.Dd})):s&&e.activities&&e.activities.length>0?r.a.createElement("div",{className:w()((a={},se()(a,_u.a.feed,!0),se()(a,_u.a.lastFeed,t==l.length),a))},r.a.createElement(ru,{feed:e.activities,title:e.presentation.title.text,titleSize:e.presentation.title.size,size:e.presentation.section.size,type:"upcoming",source:o.Dd})):c?r.a.createElement("div",{className:w()((i={},se()(i,_u.a.feed,!0),se()(i,_u.a.lastFeed,t==l.length),i))},r.a.createElement(jl,{hashtags:e.items})):void 0}))}return r.a.createElement(wl,null)})),gu=n("./src/pieces/lobby/lobby-browse-frame-mobile.scss"),bu=n.n(gu),pu=n("./src/pieces/activity/live-activity-card.scss"),fu=n.n(pu),hu=(n("./node_modules/bows/bows.js")("Live-activity-card"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({showBanner:us.selectShowBanner,isAuthenticated:i.selectIsAuthenticated}),{LikeActivity:ls.LikeActivity,UnlikeActivity:ls.UnlikeActivity,SetShowBanner:us.SetShowBanner,AnimateFooter:us.AnimateFooter,setAuthBannerTriggerDetails:i.setBannerTriggerDetails}),Object(B.d)({}),S.e)(function(e){var t,n,i,s,c,l,u,d,_,m,g,b,p,f,v,C,y,j,O,E,x,k,I,T,F;if(!e.activity)return null;var P=Object(a.useRef)(null),N=Object(a.useState)(!1),M=h()(N,2),L=M[0],B=M[1],A=Object(a.useState)(e.activity.likeCount),D=h()(A,2),U=D[0],R=D[1],H=e.activity,W=H.broadcastInfo.contentRating===o.U,V=H.broadcastInfo&&Object(Ie.b)(H.broadcastInfo.previewImagePath,{auto:"webp",fit:"crop",width:1280,height:720,enable:"upscale"}),z=Ft(H.viewCount||0),G=Ft((L&&0===U?1:U)||0),q=Ft(H.commentCount||0),J="live"===H.activityType?"/".concat(H.username,"/"):"/".concat(H.username,"/video/")+H.activityId,Z=H.broadcastInfo&&H.broadcastInfo.broadcastStartTime,Y=(new Date(Z).getTime(),Object(Fl.b)(Z),Object(Fl.c)(Z)),Q=Object(Fl.a)(Z,"en"),K=Object(ys.a)().currentPath,X=(K===o.Kd||o.Jd,H.user&&H.user.stageId?"CAID".concat(String(H.user.stageId)):null),$=e.avatar||"/defaults/avatar-001.png",ee=Object(Ie.c)($,{auto:"webp",fit:"crop",width:48,height:48,enable:"upscale"}),te=e.source===o.Dd,ne=e.source===o.Kd,ae=e.source===o.Bd,re=e.source===o.Ed,ie=Object(vr.a)(),oe=be()([[function(e){return e.presentationMode===o.Vc},function(){return r.a.createElement(su,null)}],[function(e){return e.presentationMode===o.Wc},function(){return r.a.createElement(Ll,null)}],[function(){return!0},function(){return null}]]);function ce(t){var n=t.target.getAttribute("data-name");e.isAuthenticated&&("like"===n&&(L?function(t){t.preventDefault(),e.UnlikeActivity(e.id),B(!1),R(0===U?0:U-1)}(t):function(t){t.preventDefault(),e.LikeActivity(e.id),B(!0),R(U+1)}(t)),e.setAuthBannerTriggerDetails({triggerType:n,entertainerUsername:H.username})),(ie&&e.isAuthenticated&&"follow"===n||ie&&("like"!==n||"comment"!==n))&&e.AnimateFooter({triggerType:n,entertainerUsername:H.username});var a="";switch(n){case"like":a=o.Lb;break;case"comment":a=o.Q;break;case"give":a=o.yb;case"follow":a=o.wb}if(n){var r={clicked_at:Date.now()||null,viewer_id:e.currentUserId||null,item_type:o.Cc.LIVE_CARD||null,item_source:e.source||null,broadcaster_caid:X||null,broadcaster_username:e.activity.username||null,web_presentation:ie?o.of:o.nf};window.mParticle.logEvent(a,window.mParticle.EventType.Other,r)}}Object(a.useEffect)(function(){e.activity.likedByMe&&B(!0),e.activity.likedByMe&&0===e.activity.likeCounter&&R(1)},[]);var le=parseFloat(z)>0;return r.a.createElement("div",{className:w()((t={},se()(t,fu.a.liveActivityCardContainer,!0),se()(t,fu.a.lobbyPageLiveActivityCardContainer,te),t))},r.a.createElement("div",{className:w()((n={},se()(n,fu.a.feed,!0),se()(n,fu.a.followBrowseContainer,!0),se()(n,fu.a.heroContainer,!0),n))},e.showHeader&&r.a.createElement("div",{className:w()((i={},se()(i,fu.a.broadcastCardActions,!0),se()(i,fu.a.lobbyPageMobileBroadcastCardActions,ie),i))},r.a.createElement("div",{className:w()((s={},se()(s,fu.a.cardHeader,!0),se()(s,fu.a.cardHeaderMobile,ie),s))},r.a.createElement("div",{className:w()(se()({},fu.a.userContainer,!0))},r.a.createElement("div",{className:w()((c={},se()(c,"image",!0),se()(c,"is-48x48",!0),se()(c,fu.a.lobbyPageMobileEntertainerProfileImage,ie),c))},r.a.createElement("a",{href:"/".concat(H.username,"/profile/")},r.a.createElement("img",{className:w()(fu.a.avatar,"is-rounded"),src:ee}))),r.a.createElement("div",{className:w()((l={},se()(l,fu.a.usernameContainer,!0),se()(l,fu.a.lobbyPageMobileUsernameContainer,ie),l))},r.a.createElement("div",{className:w()((u={},se()(u,fu.a.profileLinkContainer,!0),se()(u,fu.a.lobbyPageProfileLinkContainer,te),u))},r.a.createElement("div",{className:w()(se()({},fu.a.profileLinkAndBadgeContainer,!0))},r.a.createElement("a",{href:"/".concat(H.username,"/profile/"),className:w()((d={},se()(d,fu.a.username,!0),se()(d,fu.a.usernameMobile,ie),d))},H&&H.user&&H.user.username," "),r.a.createElement("div",{className:w()((_={},se()(_,fu.a.badge,!0),se()(_,fu.a.lobbyPageMobileBadge,te&&ie),_))},r.a.createElement(pn.a,{badge:e.badge}))),r.a.createElement(mi.a,null,X&&r.a.createElement("div",{"data-name":"follow",className:w()((m={},se()(m,fu.a.followUser,!0),se()(m,fu.a.followUserMobile,ie),se()(m,fu.a.vodPageFollowUserMobile,ne&&ie),se()(m,fu.a.lobbyPageFollowUserMobile,te&&ie),se()(m,fu.a.disableInsideButton,ie&&!e.isAuthenticated),m)),onClick:ce},r.a.createElement(ds.a,{caid:X,hideUnfollow:!0})))),e.showName&&r.a.createElement("span",{className:w()((g={},se()(g,fu.a.name,!0),se()(g,fu.a.nameMobile,ie),g))},H&&H.user&&H.user.name," "))))),r.a.createElement("div",{className:w()(se()({},fu.a.videoContainer,!0))},e.videoDetails?r.a.createElement(Bl.a,{activity:e.activity,className:fu.a.visible,videoDetails:e.videoDetails,muted:!0,playerName:"Web Hero Player",autoHeight:!0,controls:!1}):r.a.createElement("div",{className:"card-image"},r.a.createElement("div",{className:fu.a.stageStatusBadge},r.a.createElement(oe,{presentationMode:H&&H.presentation&&H.presentation.badge})),r.a.createElement("div",{className:w()(fu.a.previewImageContainer,"image","is-16by9")},r.a.createElement("img",{loading:"lazy",src:V}))),r.a.createElement(S.b,{to:"/".concat(H.username)},r.a.createElement("div",{className:fu.a.heroOverlayStyle},r.a.createElement("div",{className:w()(se()({},fu.a.feed,!0))},r.a.createElement("div",{className:fu.a.stageStatusBadge},r.a.createElement(oe,{presentationMode:H&&H.presentation&&H.presentation.badge}))))))),r.a.createElement("div",{className:w()((b={},se()(b,fu.a.cardContent,!0),se()(b,fu.a.profilePageMobileCardContent,ie),se()(b,fu.a.lobbyPageMobileCardContent,te),b))},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:w()((p={},se()(p,fu.a.titleContainer,!0),se()(p,fu.a.titleContainerMobile,ie),se()(p,fu.a.lobbyPageMobileTitleContainer,te&&ie),se()(p,fu.a.profilePageMobileTitleContainer,re&&ie),p))},r.a.createElement("span",{className:w()((f={},se()(f,fu.a.title,!0),se()(f,fu.a.mobileTitle,ie),f))},W&&r.a.createElement(os,{display:"inline-flex",source:o.Ed}),H.broadcastInfo&&H.broadcastInfo.broadcastTitle)))),H.tags&&r.a.createElement("div",{ref:P,className:w()((v={},se()(v,fu.a.tagContainer,!0),se()(v,fu.a.profilePageMobileTagContainer,ie),v))},H.tags&&H.tags.map(function(e){var t=e.replace(/^(tag\:)/,""),n="/tag/"+t;return r.a.createElement("a",{key:e,href:n,className:fu.a.tag},"#",t," ")}),r.a.createElement("br",null)),e.showEventDate&&r.a.createElement("p",{className:w()((C={},se()(C,fu.a.eventDate,!0),se()(C,fu.a.vodPageMobileEventDate,ne&&ie),se()(C,fu.a.hashtagPageMobileEventdate,ae&&ie),se()(C,fu.a.profilePageMobileEventdate,re&&ie),se()(C,fu.a.lobbyPageMobileEventdate,te&&ie),C))},H&&"upcoming"===H.activityType?Y:Q),r.a.createElement("hr",null),r.a.createElement("div",{className:w()((y={},se()(y,fu.a.iconsList,!0),se()(y,fu.a.profilePageMobileIconsList,re&&ie),se()(y,fu.a.lobbyPageMobileIconsList,te&&ie),y))},le&&r.a.createElement(S.b,{to:J},r.a.createElement("div",{className:w()((j={},se()(j,fu.a.statIconContainer,!0),se()(j,fu.a.statIconContainerMobile,ie),j))},r.a.createElement("span",{className:w()((O={},se()(O,fu.a.counterIcon,!0),se()(O,fu.a.counterIconMobile,ie),O))},r.a.createElement(Xt,null)),r.a.createElement("div",{className:w()((E={},se()(E,fu.a.counter,!0),se()(E,fu.a.profilePageMobileCounter,re&&ie),se()(E,fu.a.lobbyPageMobilePropsCounter,te&&ie),E))},z))),!te&&r.a.createElement(r.a.Fragment,null,r.a.createElement(mi.a,{disabled:ie},r.a.createElement("div",{"data-name":"like",onClick:ce,className:w()((x={},se()(x,fu.a.statIconContainer,!0),se()(x,fu.a.statIconContainerMobile,ie),se()(x,fu.a.disableInsideButton,!0),x))},r.a.createElement("span",{className:w()((k={},se()(k,fu.a.heartIcon,!0),se()(k,fu.a.heartIconMobile,ie),k))},r.a.createElement(cs,{liked:L})),r.a.createElement("div",{className:w()((I={},se()(I,fu.a.counter,!0),se()(I,fu.a.profilePageMobileCounter,re&&ie),se()(I,fu.a.lobbyPageMobileCounter,te&&ie),I))},G))),r.a.createElement(mi.a,{disabled:ie},r.a.createElement("div",{"data-name":"comment",className:w()((T={},se()(T,fu.a.statIconContainer,!0),se()(T,fu.a.statIconContainerMobile,ie),se()(T,fu.a.disableInsideButton,!0),T)),onClick:ce},r.a.createElement("span",{className:w()((F={},se()(F,fu.a.chatIcon,!0),se()(F,fu.a.counterIcon,!0),se()(F,fu.a.chatIconMobile,ie),F))},r.a.createElement($t,null)),r.a.createElement("div",null,q)))))))})),vu=n("./src/pieces/category/categories-mobile.scss"),wu=n.n(vu),Cu=(n("./node_modules/bows/bows.js")("Categories-mobile"),function(e){var t=e.categories;if(!t)return null;var n=t.imageItems||[];return r.a.createElement("ul",{className:w()(se()({},wu.a.categoriesList,!0))},n.map(function(e){var t=e.title;return r.a.createElement("li",{key:t,className:w()(se()({},wu.a.categoryCard,!0))},r.a.createElement(au,{category:e}))}))}),yu=n("./node_modules/bows/bows.js")("Lobby-browse-frame-mobile"),ju=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({currentUserCaid:Ue.selectCurrentUserId,isBouncerActive:i.selectBouncerDialogIsActive,lobbyBrowseContent:pl.selectLobbyBrowseContent,sessionType:i.selectUserSessionType}),{LoadLobbyBrowse:pl.LoadLobbyBrowse,UnloadLobbyBrowse:pl.UnloadLobbyBrowse}))(function(e){var t=Object(a.useState)(window.innerWidth),n=h()(t,2),i=(n[0],n[1]);Object(a.useEffect)(function(){if(location.search){var t=!location.search.includes("redirect=false")||e.sessionType&&!e.isBouncerActive?location.pathname:"".concat(location.pathname,"?redirect=false");window.history.replaceState({path:t},"",t)}},[e.isBouncerActive,e.sessionType]),Object(a.useEffect)(function(){var t=function(){return i(window.innerWidth)};return window.addEventListener("resize",t),e.LoadLobbyBrowse(),localStorage.setItem(o.J,o.Wb),function(){window.removeEventListener("resize",t),e.UnloadLobbyBrowse()}},[]);var s=Object(vr.a)();if(e.lobbyBrowseContent.loading)return r.a.createElement(wl,null);if(e.lobbyBrowseContent.error)return yu("lobby-browse-frame",e.lobbyBrowseContent.error),r.a.createElement(r.a.Fragment,null,r.a.createElement(io,null,e.authenticationWall),r.a.createElement(M,{darkTheme:!0}));if(e.lobbyBrowseContent.data){var c,l=e.lobbyBrowseContent.data,u=l.find(function(e){return"image_items"===e.type&&"lobby/hero_categories"===e.slug}),d=e.lobbyBrowseContent.data.find(function(e){return"activities"===e.type&&"top/live"===e.slug}),_=d&&d.activities&&d.activities.length>0?d.activities[0]:null,m=_&&_.broadcastInfo.videoUrl?{activityId:_.activityId,broadcastId:_.broadcastInfo.broadcastId,broadcastTitle:_.broadcastInfo.broadcastTitle,contentUrl:_.broadcastInfo.videoUrl,posterUrl:_,username:_.username}:null;return r.a.createElement("div",null,r.a.createElement(io,null,e.authenticationWall),r.a.createElement(Cu,{categories:u}),_&&r.a.createElement("div",{className:w()((c={},se()(c,bu.a.videosTitle,!0),se()(c,bu.a.videosTitleMobile,s),c))},"Top Picks"),r.a.createElement("div",{className:w()(se()({},bu.a.featuredActivityContainer,!0))},_&&r.a.createElement(hu,{id:_.activityId,activity:_,avatar:_.user.avatarImagePath,badge:_.user.badge,size:"extraLarge",videoDetails:m,showHeader:!0,source:o.Dd,showEventDate:!1})),r.a.createElement("div",{className:w()(se()({},bu.a.lobbyActivitiesContainer,!0))},l&&l.map(function(e,t){var n,a,i,c,l="upcoming/all"===e.slug,u="items"===e.type,d=!l&&"activities"==e.type,m="top/live"===e.slug;return d&&e.activities&&e.activities.length>0?r.a.createElement(r.a.Fragment,{key:+t},r.a.createElement("div",{className:w()((n={},se()(n,bu.a.videosTitle,!0),se()(n,bu.a.videosTitleMobile,s),n))},_&&m?"":e.presentation.title.text),r.a.createElement("div",{className:w()((a={},se()(a,"columns",!s),se()(a,"is-multiline",!s),se()(a,bu.a.desktopColumns,!s),se()(a,bu.a.infiniteScrollChild,s),a))},e.activities.map(function(e,n){var a,i=r.a.createElement("div",{key:n,className:w()((a={},se()(a,"column",!s),se()(a,"is-one-third",!s),se()(a,bu.a.mobileColumn,s),se()(a,bu.a.showThree,s),a))},r.a.createElement(Wl,{id:e.activityId,activity:e,avatar:e.user.avatarImagePath,badge:e.user.badge,source:o.Dd,key:"".concat(n,"-").concat(e.activityId),playPreviewCard:!_&&0===t&&0===n}));return _?_.activityId!==e.activityId?i:null:i}))):l&&e.activities&&e.activities.length>0?r.a.createElement(r.a.Fragment,{key:+t},r.a.createElement("div",{className:w()((i={},se()(i,bu.a.videosTitle,!0),se()(i,bu.a.videosTitleMobile,s),i))},e.presentation.title.text),r.a.createElement("div",{className:w()((c={},se()(c,"columns",!s),se()(c,"is-multiline",!s),se()(c,bu.a.desktopColumns,!s),se()(c,bu.a.infiniteScrollChild,s),c))},e.activities.map(function(e,t){var n;return r.a.createElement("div",{key:t,className:w()((n={},se()(n,"column",!s),se()(n,"is-one-third",!s),se()(n,bu.a.mobileColumn,s),se()(n,bu.a.showThree,s),n))},r.a.createElement(Jl,{activity:e,avatar:e.user.avatarImagePath,badge:e.user.badge,source:o.Dd}))}))):u?null:void 0})))}return r.a.createElement(wl,null)}),Ou=n("./src/pieces/video/video-frame.scss"),Su=n.n(Ou),Eu=n("./src/pieces/video/video-metadata.js");function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(n,!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Video-frame");var Iu=Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({video:ls.selectVideo,user:Ue.selectCurrentUser,comments:ls.selectComments,nextComment:ls.selectNextComment,activityLikes:ls.selectActivityLikes,repliesMap:ls.selectRepliesMap,hasMoreComments:ls.selectHasMoreComments,isAuthenticated:i.selectIsAuthenticated,videoTitle:ls.selectVideoTitle}),{LoadVideo:ls.LoadVideo,TriggerVodVideoStopEvent:ls.TriggerVodVideoStopEvent,LikeComment:ls.LikeComment,UnlikeComment:ls.UnlikeComment,LikeReply:ls.LikeReply,UnlikeReply:ls.UnlikeReply,UnloadVideo:ls.UnloadVideo,GetComments:ls.GetComments,GetMoreComments:ls.GetMoreComments,CreateComment:ls.CreateComment,CreateReply:ls.CreateReply,PromptToDeleteCommentReply:ls.PromptToDeleteCommentReply,PromptToDeleteComment:ls.PromptToDeleteComment,PromptToReportComment:ls.PromptToReportComment,PromptToReportCommentReply:ls.PromptToReportCommentReply,GetReplies:ls.GetReplies,LikeActivity:ls.LikeActivity,UnlikeActivity:ls.UnlikeActivity,SetShowBanner:us.SetShowBanner,AnimateFooter:us.AnimateFooter,setAuthBannerTriggerDetails:i.setBannerTriggerDetails}),Object(B.d)({}),S.e),Tu=function(e){var t=Object(a.useState)(!1),n=h()(t,2),i=n[0],s=n[1],c=e.reply,l=e.video&&e.video.user&&e.video.user.stageId?"CAID".concat(String(e.video.user.stageId)):null,u=Object(vr.a)();Object(a.useEffect)(function(){c.likedByMe&&s(!0)},[]);var d=c.messageType!==o.yc&&c.capabilities.includes("delete"),_=c.author.avatarImagePath||o.Y,m=Object(Fl.a)(c.timestamp,"en"),g=Object(Ie.c)(_,{auto:"webp",fit:"crop",width:40,height:40,enable:"upscale"});return r.a.createElement("div",{className:Su.a.replyOutsideContainer},r.a.createElement("figure",{className:w()(Su.a.conversationCommentAvatar)},r.a.createElement("img",{src:g,className:Su.a.conversationAvatar})),r.a.createElement("p",{className:Su.a.conversationCommentContainer},r.a.createElement("strong",{className:Su.a.usernameDate},r.a.createElement("div",{className:Su.a.flexAlignCenter},r.a.createElement("a",{href:"/".concat(c.author.username,"/profile/"),className:Su.a.conversationCommentUsername},c.author.username," ")," ",r.a.createElement(pn.a,{badge:c.author.badgevv||void 0})," "),r.a.createElement("span",{className:w()(Su.a.conversationCommentDate,Su.a.normalWeightFont)},m)),c.messageType===o.yc?r.a.createElement("span",{className:Su.a.deletedMessage},"Message deleted"):r.a.createElement("div",{className:Su.a.commentTextAndPropContainer},r.a.createElement("span",{className:Su.a.conversationCommentText},c.text),c.prop&&r.a.createElement("div",{className:Su.a.propsContainer},r.a.createElement(wr,{digitalItem:ku({},c.prop),reactionPosition:1,withMessage:!1,source:o.Kd}))),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("div",{"data-name":"like",onClick:function(t){t.stopPropagation();var n=c.capabilities.find(function(e){return"like"===e}),a=c.capabilities.find(function(e){return"unlike"===e})&&c.likedByMe;n?(e.LikeReply(c.activityId,c.parentCommentId,c.id),s(!0)):a&&(e.UnlikeReply(c.activityId,c.parentCommentId,c.id),s(!1)),function(t){var n=t.target.getAttribute("data-name");e.isAuthenticated?e.AnimateFooter({triggerType:n,entertainerUsername:e.video.user.username}):e.setAuthBannerTriggerDetails({triggerType:n,entertainerUsername:e.video.user.username});var a=o.Mb;if(n){var r={clicked_at:Date.now()||null,viewer_id:e.user.userId||null,item_type:o.Cc.ACTIVITY||null,item_source:o.Kd,broadcaster_caid:l||null,broadcaster_username:e.video.user.username||null,web_presentation:u?o.of:o.nf};globalThis.mParticle.logEvent(a,globalThis.mParticle.EventType.Other,r)}}(t)},className:w()(Su.a.conversationCommentActionsContainer,Su.a.flexAlignCenter)},r.a.createElement(cs,{liked:i})," ",r.a.createElement("span",{className:Su.a.IconMargin}),c.likeCount,d&&r.a.createElement("a",{className:Su.a.conversationCommentActions,onClick:function(t){return function(t){t.stopPropagation(),e.PromptToDeleteCommentReply(c.activityId,c.parentCommentId,c.id)}(t)}},"DELETE"),r.a.createElement("a",{className:Su.a.conversationCommentActions,onClick:function(t){return function(t){t.stopPropagation(),e.PromptToReportCommentReply(c.activityId,c.parentCommentId,c.id)}(t)}},"REPORT")))))},Fu=function(e){var t=e.comment,n=e.isAuthenticated,i=e.comment.author.badge||void 0,s=e.video&&e.video.user&&e.video.user.stageId?"CAID".concat(String(e.video.user.stageId)):null;if(!t)return null;var c=Object(a.useState)(""),l=h()(c,2),u=l[0],d=l[1],_=Object(a.useState)(!1),m=h()(_,2),g=m[0],b=m[1],p=e.repliesMap&&e.repliesMap[t.id],f=Object(a.useState)(!1),v=h()(f,2),C=v[0],y=v[1],j=Object(a.useState)(!0),O=h()(j,2),S=O[0],E=O[1];function x(){e.GetReplies(t.activityId,t.id),y(!1)}function k(){y(!0)}Object(a.useEffect)(function(){t.likedByMe&&b(!0)},[]);var I=t.messageType!==o.yc&&t.capabilities.includes("delete"),T=t.messageType!==o.yc,F=Object(Fl.a)(t.timestamp,"en"),P=e.comment.author.avatarImagePath||o.Y,N=Object(Ie.c)(P,{auto:"webp",fit:"crop",width:40,height:40,enable:"upscale"}),M=Object(Ie.c)(e.user?e.user.avatarImagePath:o.Y,{auto:"webp",fit:"crop",width:40,height:40,enable:"upscale"}),L=Object(vr.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Eu.a,null),r.a.createElement("div",{style:{display:"flex"},className:w()(Su.a.conversationCommentOutContainer,Su.a.positionRelative)},r.a.createElement("figure",{className:w()(Su.a.conversationCommentAvatar)},r.a.createElement("img",{src:N,className:Su.a.conversationAvatar})),r.a.createElement("div",{className:Su.a.conversationCommentContainer},r.a.createElement("strong",{className:Su.a.usernameDate},r.a.createElement("div",{className:Su.a.flexAlignCenter},r.a.createElement("a",{href:"/".concat(t.author.username,"/profile/"),className:Su.a.conversationCommentUsername},t.author.username," ")," ",r.a.createElement(pn.a,{badge:i})," "),r.a.createElement("span",{className:w()(Su.a.conversationCommentDate,Su.a.normalWeightFont)},F)),t.messageType===o.yc?r.a.createElement("span",{className:Su.a.deletedMessage},"Message deleted"):r.a.createElement("div",{className:Su.a.commentTextAndPropContainer},r.a.createElement("span",{className:Su.a.conversationCommentText},t.text),t.prop&&r.a.createElement("div",{className:Su.a.propsContainer},r.a.createElement(wr,{digitalItem:ku({},t.prop),reactionPosition:1,withMessage:!1,source:o.Kd}))),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("div",{className:w()(Su.a.conversationCommentActionsContainer,Su.a.flexAlignCenter)},T&&e.isMobile&&r.a.createElement("div",{className:w()(Su.a.flexAlignCenter,Su.a.commentIcon)},r.a.createElement(He,{width:50,height:50,onClick:!p||C?x:k})," ",r.a.createElement("span",null),t.replyCount,r.a.createElement("span",{className:Su.a.commentMargin}))," ",r.a.createElement(mi.a,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(cs,{onClick:function(a){var r=t.capabilities.find(function(e){return"like"===e}),i=t.capabilities.find(function(e){return"unlike"===e})&&t.likedByMe;r?(e.LikeComment(t.activityId,t.id),b(!0)):i&&(e.UnlikeComment(t.activityId,t.id),b(!1)),function(t,a){var r=a||t.target.getAttribute("data-name");n?e.AnimateFooter({triggerType:r,entertainerUsername:e.video.user.username}):e.setAuthBannerTriggerDetails({triggerType:r,entertainerUsername:e.video.user.username});var i=o.Mb;if(r){var c={clicked_at:Date.now()||null,viewer_id:e.user.userId||null,item_type:o.Cc.ACTIVITY||null,item_source:o.Kd,broadcaster_caid:s||null,broadcaster_username:e.video.user.username||null,web_presentation:L?o.of:o.nf};globalThis.mParticle.logEvent(i,globalThis.mParticle.EventType.Other,c)}}(a,o.o.LIKE)},className:Su.a.heartIcon,liked:g})," ",r.a.createElement("span",{className:Su.a.IconMargin}),t.likeCount,e.isMobile&&r.a.createElement("div",{style:{flex:1}}))),r.a.createElement("div",{className:w()(Su.a.flexAlignCenter,Su.a.textActions)},I&&r.a.createElement("a",{className:Su.a.conversationCommentActions,onClick:function(n){e.PromptToDeleteComment(t.activityId,t.id)}},"DELETE"),r.a.createElement("a",{className:Su.a.conversationCommentActions,onClick:function(n){e.PromptToReportComment(t.activityId,t.id)}},"REPORT"),T&&r.a.createElement("a",{className:Su.a.conversationCommentActions,onClick:function(e){E(!1)}},"REPLY")," "))))),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,!S&&r.a.createElement("div",{className:Su.a.replyContainer},r.a.createElement("div",{className:Su.a.positionRelative},r.a.createElement("figure",{className:Su.a.conversationFigure},r.a.createElement("img",{className:Su.a.conversationAvatar,src:M}))),r.a.createElement("p",{className:Su.a.conversationTitle},"Add a Reply for this comment"),r.a.createElement("input",{type:"text",id:"comment",name:"comment",value:u,onChange:function(e){d(e.target.value)},className:Su.a.conversationInput,autoComplete:"off"}),r.a.createElement(mi.a,null,r.a.createElement("button",{className:Su.a.postCommentButton,type:"button",onClick:function(a){return function(a){n&&(a.stopPropagation(),e.CreateReply(t.activityId,t.id,u),d(""),E(!0),y(!1))}(a)}},"Add a Reply")))),1===t.replyCount&&r.a.createElement("p",{style:{marginBottom:"20px"}}," ",(!p||C)&&r.a.createElement("span",{className:Su.a.replyViewComment},r.a.createElement("span",{className:"icon is-small"},r.a.createElement("i",{className:"fas fa-caret-down"})),r.a.createElement("a",{onClick:x},"View reply")),p&&!C&&r.a.createElement("span",{className:Su.a.replyViewComment},r.a.createElement("span",{className:"icon is-small"},r.a.createElement("i",{className:"fas fa-caret-up"})),r.a.createElement("a",{onClick:k},"Hide reply"))),t.replyCount>1&&r.a.createElement("p",{style:{marginBottom:"20px"}},(!p||C)&&r.a.createElement("span",{className:Su.a.replyViewComment},r.a.createElement("span",{className:"icon is-small"},r.a.createElement("i",{className:"fas fa-caret-down"})),r.a.createElement("a",{onClick:x},"View ",t.replyCount," replies")),p&&!C&&r.a.createElement("span",{className:Su.a.replyViewComment},r.a.createElement("span",{className:"icon is-small"},r.a.createElement("i",{className:"fas fa-caret-up"})),r.a.createElement("a",{onClick:k},"Hide ",t.replyCount," replies")))),p&&!C&&p.map(function(t){return r.a.createElement(Tu,nt()({reply:t},e))})))},Pu=Iu(function(e){var t,n=e.router.params.id,i=e.video,s=e.isAuthenticated,c=e.video&&e.video.user&&e.video.user.stageId?"CAID".concat(String(e.video.user.stageId)):null;Object(a.useEffect)(function(){return e.LoadVideo(n),e.GetComments(n),function(){e.TriggerVodVideoStopEvent(),e.UnloadVideo()}},[]);var l=Object(vr.a)(),u=Object(a.useState)(""),d=h()(u,2),_=d[0],m=d[1];function g(t){var n=t.target.getAttribute("data-name");s?e.AnimateFooter({triggerType:n,entertainerUsername:e.video.user.username}):e.setAuthBannerTriggerDetails({triggerType:n,entertainerUsername:e.video.user.username});var a=o.R;if(n){var r={clicked_at:Date.now()||null,viewer_id:e.user.userId||null,item_type:o.Cc.ACTIVITY||null,item_source:o.Kd,broadcaster_caid:c||null,broadcaster_username:e.video.user.username||null,web_presentation:l?o.of:o.nf};globalThis.mParticle.logEvent(a,globalThis.mParticle.EventType.Other,r)}}if(!i)return r.a.createElement("div",null);var b=i.broadcastInfo&&Object(Ie.b)(i.broadcastInfo.previewImagePath,{auto:"webp",fit:"crop",width:1280,height:720,enable:"upscale"}),p=i.broadcastInfo.videoUrl?{activityId:i.activityId,broadcastId:i.broadcastInfo.broadcastId,broadcastTitle:i.broadcastInfo.broadcastTitle,contentUrl:i.broadcastInfo.videoUrl,posterUrl:b,username:i.username}:null,f=Object(Ie.c)(e.user?e.user.avatarImagePath:o.Y,{auto:"webp",fit:"crop",width:40,height:40,enable:"upscale"});return r.a.createElement("div",{className:w()((t={},se()(t,Su.a.videoFrame,!0),se()(t,Su.a.videoFrameMobile,l),t))},r.a.createElement(Eu.a,null),r.a.createElement(io,null,e.authenticationWall),r.a.createElement("div",{className:w()(se()({},Su.a.videoContainerMobile,l))},r.a.createElement(Wl,{id:i.activityId,activity:i,avatar:i.user.avatarImagePath,badge:i.user.badge,videoDetails:p,size:l?"":"large",source:o.Kd})),!l&&r.a.createElement("div",{id:"vodConversationContainer",className:w()(Su.a.conversationContainer,Su.a.positionRelative)},r.a.createElement(mi.a,null,r.a.createElement("div",{className:Su.a.positionRelative},r.a.createElement("figure",{className:Su.a.conversationFigure},r.a.createElement("img",{className:Su.a.conversationAvatar,src:f}))),r.a.createElement("p",{className:Su.a.conversationTitle},"Join the Conversation"),r.a.createElement("input",{type:"text",id:"comment",name:"comment","data-name":"comment",value:_,onChange:function(e){e.stopPropagation(),m(e.target.value)},className:Su.a.conversationInput,onClick:g,autoComplete:"off"}),r.a.createElement("button",{"data-name":"comment",className:Su.a.postCommentButton,type:"button",onClick:function(t){s&&(t.stopPropagation(),e.CreateComment(n,_),m("")),g(t)}},"Post Comment"))),e.comments&&e.comments.length>0&&r.a.createElement("div",{id:"vodCommentScrollableArea",className:Su.a.conversationCommentScrollableArea},r.a.createElement("div",{className:Su.a.scrollableArea},r.a.createElement(tl.a,{loadMore:function(){e.GetMoreComments(n,e.nextComment)},hasMore:e.hasMoreComments,loadingComponent:""},e.comments.map(function(t){return r.a.createElement(Fu,nt()({key:t.id,comment:t,isMobile:l},e))})))))}),Nu=n("./src/pieces/video/video-footer.tsx"),Mu=n("./src/pieces/tag/tag-frame.scss"),Lu=n.n(Mu),Bu=n("./src/pieces/tag/tag-metadata.js"),Au=n("./src/pieces/tag/tag.reducer.js"),Du=n("./src/pieces/base/spinner/spinner-icon.scss"),Uu=n.n(Du),Ru=(n("./node_modules/bows/bows.js")("Spinner-icon"),function(e){var t,n=e.size,a=void 0===n?"medium":n;return r.a.createElement(Fe.a,null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",version:"1.1",viewBox:"0 0 66.45 66.45",style:{background:"transparent"},xmlSpace:"preserve",className:w()((t={},se()(t,Uu.a.spinnerIcon,!0),se()(t,Uu.a["".concat(a)],a),t))},r.a.createElement("path",{d:"M0 0H66.45V66.45H0z",className:"st0",display:"none"}),r.a.createElement("path",{fill:"none",stroke:"#FFF",strokeMiterlimit:"10",strokeWidth:"2",d:"M33.1 3.19L33.1 21.74",className:"st1"}),r.a.createElement("path",{fill:"none",stroke:"#FFF",strokeMiterlimit:"10",strokeWidth:"2",d:"M33.1 44.64L33.1 63.19",className:"st1"}),r.a.createElement("path",{fill:"none",stroke:"#FFF",strokeMiterlimit:"10",strokeWidth:"2",d:"M63.1 33.19L44.55 33.19",className:"st1"}),r.a.createElement("path",{fill:"none",stroke:"#FFF",strokeMiterlimit:"10",strokeWidth:"2",d:"M21.65 33.19L3.1 33.19",className:"st1"}),r.a.createElement("path",{fill:"none",stroke:"#FFF",strokeMiterlimit:"10",strokeWidth:"2",d:"M54.31 54.41L41.19 41.29",className:"st1"}),r.a.createElement("path",{fill:"none",stroke:"#FFF",strokeMiterlimit:"10",strokeWidth:"2",d:"M25 25.1L11.89 11.98",className:"st1"}),r.a.createElement("path",{fill:"none",stroke:"#FFF",strokeMiterlimit:"10",strokeWidth:"2",d:"M11.89 54.41L25 41.29",className:"st1"}),r.a.createElement("path",{fill:"none",stroke:"#FFF",strokeMiterlimit:"10",strokeWidth:"2",d:"M41.19 25.1L54.31 11.98",className:"st1"})))}),Hu=(n("./node_modules/bows/bows.js")("Tag-frame"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({feed:Au.selectTagActivities,hasMoreTagActivities:Au.selectHasMoreTagActivities}),{LoadTagActivities:Au.LoadTagActivities,UnloadTagActivities:Au.UnloadTagActivities,LoadMoreTagActivities:Au.LoadMoreTagActivities}),Object(B.d)({}),S.e)(function(e){var t,n,i,s,c,l,u,d=e.router.params.id,_=e.feed;function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vod";if(!_)return null;switch(e){case"live":return _.filter(function(e){return"live"===e.activityType});case"upcoming":return _.filter(function(e){return"upcoming"===e.activityType});case"vod":return _.filter(function(e){return"vod"===e.activityType});default:return _}}Object(a.useEffect)(function(){return e.LoadTagActivities(d),function(){e.UnloadTagActivities()}},[d]);var g=Object(vr.a)(),b=m("vod"),p=m("upcoming"),f=m("live");return r.a.createElement("div",{className:w()(se()({},Lu.a.tagFrame,!0))},r.a.createElement(Bu.a,null),r.a.createElement(io,null,e.authenticationWall),r.a.createElement("div",{className:w()((t={},se()(t,Lu.a.tagTitle,!0),se()(t,Lu.a.mobileTagTitle,g),t))},"#",d),r.a.createElement("hr",{className:Lu.a.lineSeparator}),!!f&&!!f.length&&r.a.createElement("div",{className:w()((n={},se()(n,Lu.a.tagSubtitle,!0),se()(n,Lu.a.tagSubtitleMobile,g),n))},"Live"),r.a.createElement("div",{className:w()((i={},se()(i,"columns",!g),se()(i,"is-multiline",!g),i))},f&&f.map(function(e,t){var n,a=g&&0===t;return r.a.createElement("div",{key:t,className:w()((n={},se()(n,"column",!g),se()(n,"is-one-third",!g),se()(n,Lu.a.mobileColumn,g),n))},r.a.createElement(Wl,{id:e.activityId,activity:e,avatar:e.user.avatarImagePath,badge:e.user.badge,source:o.Bd,key:"".concat(t,"-").concat(e.activityId),playPreviewCard:a}))})),!!p&&!!p.length&&r.a.createElement("div",{className:w()((s={},se()(s,Lu.a.tagSubtitle,!0),se()(s,Lu.a.tagSubtitleMobile,g),s))},"Upcoming"),r.a.createElement("div",{className:w()((c={},se()(c,"columns",!g),se()(c,"is-multiline",!g),c))},p&&p.map(function(e,t){var n,a=g&&0===t&&!f.length;return r.a.createElement("div",{key:t,className:w()((n={},se()(n,"column",!g),se()(n,"is-one-third",!g),se()(n,Lu.a.mobileColumn,g),n))},r.a.createElement(Jl,{activity:e,playPreviewCard:a,source:o.Bd}))})),b&&!!b.length&&r.a.createElement("div",{className:w()((l={},se()(l,Lu.a.tagSubtitle,!0),se()(l,Lu.a.tagSubtitleMobile,g),l))},"Videos"),r.a.createElement(tl.a,{loadMore:e.LoadMoreTagActivities,hasMore:e.hasMoreTagActivities,loadingComponent:r.a.createElement(Ru,null)},r.a.createElement("div",{className:w()((u={},se()(u,"columns",!g),se()(u,"is-multiline",!g),u))},b&&b.map(function(e,t){var n,a=g&&0===t&&!f.length&&!p.length;return r.a.createElement("div",{key:t,className:w()((n={},se()(n,"column",!g),se()(n,"is-one-third",!g),se()(n,Lu.a.mobileColumn,g),n))},r.a.createElement(Wl,{id:e.activityId,activity:e,avatar:e.user.avatarImagePath,badge:e.user.badge,source:o.Bd,key:"".concat(t,"-").concat(e.activityId),playPreviewCard:a}))}))))})),Wu=n("./src/pieces/tag/tag-footer.tsx"),Vu=n("./src/pieces/profile/profile-frame.scss"),zu=n.n(Vu),Gu=n("./src/pieces/profile/profile-summary.scss"),qu=n.n(Gu),Ju=(n("./node_modules/bows/bows.js")("Profile-summary"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({stageMode:Te.selectStageMode,selectedTab:Te.selectSelectedTab,entertainerFollowing:$i.selectFollowingUsers,entertainerFollowers:$i.selectFollowerUsers,followedWatchers:Te.selectFollowedWatchers,currentProfileUser:$i.selectCurrentProfileUser,isAuthenticated:i.selectIsAuthenticated,hasMoreFollowerUsers:$i.selectHasMoreFollowerUsers,hasMoreFollowingUsers:$i.selectHasMoreFollowingUsers,showBanner:us.selectShowBanner}),{FetchInitialFollowerUsers:$i.FetchInitialFollowerUsers,FetchInitialFollowingUsers:$i.FetchInitialFollowingUsers,FetchMoreFollowerUsers:$i.FetchMoreFollowerUsers,FetchMoreFollowingUsers:$i.FetchMoreFollowingUsers,TrackFollowUserFromStage:Te.TrackFollowUserFromStage,TrackUnfollowUserFromStage:Te.TrackUnfollowUserFromStage,SetShowBanner:us.SetShowBanner,setBannerTriggerDetails:us.setBannerTriggerDetails,AnimateFooter:us.AnimateFooter}))),Zu=function(e){var t,n=e.isMobile,a=e.children;return r.a.createElement("p",{className:w()((t={},se()(t,qu.a.aboutContainerText,!0),se()(t,qu.a.mobileAboutContainerText,n),t))},a)},Yu=Ju(function(e){var t,n,i,s,c,l,u,d,_,m=e.currentUser,g=e.entertainer,b=(e.badge,e.stageMode,e.selectedTab),p=e.entertainerFollowing,f=e.followedWatchers,v=(e.currentProfileUser,e.entertainerFollowers),C=e.hasMoreFollowerUsers,y=e.hasMoreFollowingUsers,j=e.FetchInitialFollowerUsers,O=e.FetchInitialFollowingUsers,S=(e.FetchMoreFollowerUsers,e.FetchMoreFollowingUsers,e.TrackFollowUserFromStage),E=e.TrackUnfollowUserFromStage,x=e.isAuthenticated,k=(e.showFooterBanner,e.showBanner,e.SetShowBanner,e.setBannerTriggerDetails,e.AnimateFooter),I=Object(a.useRef)(null),T=Object(a.useState)(!1),F=h()(T,2),P=(F[0],F[1],Object(a.useState)(o.ad)),N=h()(P,2),M=N[0],L=N[1],B=Object(a.useState)(o.ad),A=h()(B,2),D=A[0],U=A[1],R=m&&g&&m.caid===g.caid,H=b===Le.c.Biography,W=g&&g.avatarImagePath||o.Y,V=Object(Ie.c)(W,{auto:"webp",fit:"crop",width:78,height:78,enable:"upscale"}),z=Object(vr.a)();Object(a.useCallback)(function(){H&&I.current&&I.current.focus()},[H,I.current]);Object(a.useEffect)(function(){L(b===Le.c.Followers?v.length:0)},[v]),Object(a.useEffect)(function(){U(b===Le.c.Following?p.length:0)},[p]),Object(a.useEffect)(function(){x&&(b===Le.c.Followers?q():b===Le.c.Following&&J())},[x]);var G=function(){L(0),U(0)},q=Object(a.useCallback)(function(){x&&j(),G()},[x]),J=Object(a.useCallback)(function(){x&&O(),G()},[x]),Z=Object(a.useCallback)(function(e,t){return S({currentUserId:m.caid,lobbyPayloadId:g.stageId||Object(De.a)(g.caid),entertainerDetails:g,eventDetails:e,followedWatchers:f,type:t})},[S,g,m,f]),Y=Object(a.useCallback)(function(e,t){return E({currentUserId:m.caid,lobbyPayloadId:g.stageId||Object(De.a)(g.caid),entertainerDetails:g,eventDetails:e,followedWatchers:f,type:t})},[E,g,m,f]),Q=(Object(a.useCallback)(function(e){Z(e,o.Cc.FOLLOWING_LIST)},[Z]),Object(a.useCallback)(function(e){Y(e,o.Cc.FOLLOWING_LIST)},[Y]),Object(a.useCallback)(function(e){Z(e,o.Cc.FOLLOWER_LIST)},[Z]),Object(a.useCallback)(function(e){Y(e,o.Cc.FOLLOWER_LIST)},[Y]),g&&g.bio);Object(a.useEffect)(function(){b===Le.c.Followers&&(L(o.ad),U(0)),b===Le.c.Following&&(U(o.ad),L(0))},[b]),Object(a.useEffect)(function(){return function(){G()}},[]);var K=g?"".concat(Ft(g.followingCount)," ").concat(Le.c.Following):"",X=g?"".concat(Ft(g.followersCount)," ").concat(Le.c.Followers):"",$=(D<o.Yc&&(y||p.length),M<o.Yc&&(C||v.length),Object(a.useState)(!1)),ee=h()($,2),te=(ee[0],ee[1]);Object(a.useEffect)(function(){p.length&&te(!0)},[p]);var ne=Object(a.useState)(!1),ae=h()(ne,2),re=(ae[0],ae[1]);Object(a.useEffect)(function(){v.length&&re(!0)},[v]);var ie=Object(a.useState)(!1),oe=h()(ie,2),ce=oe[0],le=oe[1];return r.a.createElement(r.a.Fragment,null,g&&r.a.createElement("div",{className:w()((t={},se()(t,qu.a.cardHeader,!0),se()(t,qu.a.mobileCardHeader,z),se()(t,qu.a.showMoreCard,ce),t))},r.a.createElement("div",{className:w()((n={},se()(n,qu.a.avatarImageContainer,!0),se()(n,qu.a.mobileAvatarImageContainer,z),n))},r.a.createElement("img",{className:w()((i={},se()(i,qu.a.avatarImageContainer_avatar,!0),se()(i,qu.a.mobileAvatarImageContainer_avatar,z),i)),src:V,alt:"Placeholder image"})),r.a.createElement("div",{className:w()((s={},se()(s,qu.a.userContainer,!0),se()(s,qu.a.mobileUserContainer,z),s))},r.a.createElement("div",{className:w()((c={},se()(c,qu.a.userInfoContainer,!0),se()(c,qu.a.mobileUserInfoContainer,z),c))},r.a.createElement("p",{className:w()((l={},se()(l,qu.a.userInfoContainer_username,!0),se()(l,qu.a.mobileUserInfoContainer_username,z),l))},g&&g.username),r.a.createElement("div",{className:qu.a.userInfoContainer_badge},r.a.createElement(pn.a,{badge:g.badge,width:41,height:38})),!z&&r.a.createElement(ds.a,{className:qu.a.userInfoContainer_followLink,caid:g&&g.caid})),g&&g.name&&!z&&r.a.createElement("div",{className:w()(se()({},qu.a.nameContainer,!0))},r.a.createElement("p",{className:w()(se()({},qu.a.nameContainer_name,!0))},g.name)),r.a.createElement("div",{className:w()((u={},se()(u,qu.a.followersContainer,!0),se()(u,qu.a.mobileFollowersContainer,z),u))},r.a.createElement("span",null,X),r.a.createElement("div",{className:qu.a.followersContainer_separator},"\u2022"),r.a.createElement("span",null,K)),z&&r.a.createElement("div",{className:qu.a.actionButtonsContainer},r.a.createElement("div",{onClick:function(e){!function(e,t){k({triggerType:t,entertainerUsername:g.username});var n="";switch(t){case"like":n=o.Lb;break;case"comment":n=o.Q;break;case"give":n=o.yb;case"follow":n=o.wb}var a={clicked_at:Date.now()||null,viewer_id:m?m.caid:null,item_type:o.Cc.UPCOMING_CARD||null,item_source:o.Ed||null,broadcaster_caid:g.caid||null,broadcaster_username:g.username||null,web_presentation:z?o.of:o.nf};window.mParticle.logEvent(n,window.mParticle.EventType.Other,a)}(0,"follow")}},x?r.a.createElement(ds.a,{caid:g&&g.caid}):r.a.createElement("button",null,"Follow")),r.a.createElement("button",{onClick:function(){var e="https://caf.tv/".concat(g.username);navigator.share?navigator.share({title:"".concat(g.username," on Caffeine.tv"),text:"Check out ".concat(g.username," on Caffeine.tv"),url:e}).then(function(){return console.log("Successful share")}).catch(function(e){return console.log("Error sharing",e)}):function(e){if(navigator.clipboard)navigator.clipboard.writeText(e);else{var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}alert("Link copied to clipboard")}(e)}},"Share")),r.a.createElement("div",{className:w()((d={},se()(d,qu.a.aboutContainer,!0),se()(d,qu.a.mobileAboutContainer,z),d))},R||Q?r.a.createElement("p",{className:w()((_={},se()(_,qu.a.aboutContainerText,!0),se()(_,qu.a.mobileAboutContainerText,z),_))},Q,ce&&r.a.createElement("span",{className:qu.a.showLess,onClick:function(){return le(!1)}}," ","less")):r.a.createElement(Zu,{isMobile:z},g&&g.username," does not have a bio available"))),z&&!ce&&!function(e){return!(e&&e.length>105)}(Q)&&r.a.createElement("button",{className:qu.a.showMore,onClick:function(){return le(!0)}},"... ",r.a.createElement("span",null,"more"))),!z&&r.a.createElement("hr",{className:qu.a.lineSeparator}))}),Qu=n("./src/pieces/profile/profile-metadata.js"),Ku=n("./src/pieces/activity/profile-activity-card.scss"),Xu=n.n(Ku),$u=(n("./node_modules/bows/bows.js")("Profile-activity-card"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({}),{LikeActivity:ls.LikeActivity,UnlikeActivity:ls.UnlikeActivity}),Object(B.d)({}),S.e)(function(e){var t,n,i,s;if(!e.activity)return null;Object(a.useRef)(null);var c=Object(a.useState)(!1),l=h()(c,2),u=l[0],d=l[1],_=Object(a.useState)(e.activity.likeCount),m=h()(_,2),g=m[0],b=m[1],p=e.activity,f=p.broadcastInfo.contentRating===o.U,v=e.avatar||"/defaults/avatar-001.png",C=(p.stageId&&"CAID".concat(String(p.stageId)),p.broadcastInfo&&Object(Ie.b)(p.broadcastInfo.previewImagePath,{auto:"webp",fit:"crop",width:1280,height:720,enable:"upscale"})),y=(Object(Ie.c)(v,{auto:"webp",fit:"crop",width:48,height:48,enable:"upscale"}),Ft(p.viewCount||0),Ft((u&&0===g?1:g)||0),Ft(p.commentCount||0),p&&p.activityType,be()([[function(e){return e.presentationMode===o.Vc},function(){return r.a.createElement(su,null)}],[function(e){return e.presentationMode===o.Wc},function(){return r.a.createElement(Ll,null)}],[function(){return!0},function(){return null}]]));return Object(a.useEffect)(function(){e.activity.likedByMe&&d(!0),e.activity.likedByMe&&0===e.activity.likeCounter&&b(1)},[]),r.a.createElement("div",{className:Xu.a.pr},r.a.createElement("div",{className:w()((t={},se()(t,Xu.a.feed,!0),se()(t,Xu.a.followBrowseContainer,!0),se()(t,Xu.a.heroContainer,!0),t))},e.videoDetails?r.a.createElement(Bl.a,{activity:e.activity,className:Xu.a.visible,videoDetails:e.videoDetails,muted:!0,playerName:"Web Hero Player",autoHeight:!0,controls:!1}):r.a.createElement("div",{className:"card-image"},r.a.createElement("div",{className:Xu.a.stageStatusBadge},r.a.createElement(y,{presentationMode:p&&p.presentation&&p.presentation.badge})),r.a.createElement("div",{className:w()(Xu.a.previewImageContainer,"image","is-16by9")},r.a.createElement("img",{src:C}))),r.a.createElement(S.b,{to:"/".concat(p.username)},r.a.createElement("div",{className:Xu.a.heroOverlayStyle},r.a.createElement("div",{className:w()((n={},se()(n,Xu.a.feed,!0),se()(n,Xu.a.followBrowseContainer,!0),n))},r.a.createElement("div",{className:Xu.a.stageStatusBadge},r.a.createElement(y,{presentationMode:p&&p.presentation&&p.presentation.badge}))),r.a.createElement("div",{className:Xu.a.bottomToolbar},r.a.createElement("div",{className:w()((i={},se()(i,Xu.a.feed,!0),se()(i,Xu.a.followBrowseContainer,!0),se()(i,Xu.a.bottomToolbar_content,!0),i))},r.a.createElement("hr",null),r.a.createElement("div",{className:Xu.a.w100},r.a.createElement("div",{className:w()(Xu.a.cardContent,"card-content",Xu.a.floatLeft)},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:Xu.a.titleContainer},r.a.createElement("span",{className:w()((s={},se()(s,Xu.a.title,!0),se()(s,Xu.a.heroTitle,!0),s))},f&&r.a.createElement(os,{display:"inline-flex",width:28,height:28}),p.broadcastInfo&&p.broadcastInfo.broadcastTitle))))),r.a.createElement("div",{className:w()(Xu.a.cardContent,"card-content",Xu.a.floatRight)},r.a.createElement(S.b,{to:"/".concat(p.username)},r.a.createElement("button",{className:Xu.a.joinShowButton},"JOIN THE SHOW"))))))))))})),ed=(n("./node_modules/bows/bows.js")("Profile-frame"),Object(B.a)(Object(A.b)(Object(D.createStructuredSelector)({feed:$i.selectProfileActivities,featuredActivity:$i.selectFeaturedActivity,upcoming:$i.selectProfileUpcoming,currentUser:Ue.selectCurrentUser,profileUser:$i.selectCurrentProfileUser,nextProfileActivity:$i.selectNextProfileActivity,hasMoreProfileActivities:$i.selectHasMoreProfileActivities,stageMode:Te.selectStageMode,broadcastId:Be.selectStageDirectorBroadcastId,broadcastTitle:Be.selectStageDirectorTitle,contentUrl:Be.selectStageDirectorHlsUrl}),{LoadProfile:$i.LoadProfile,UnloadProfile:$i.UnloadProfile,LoadMoreProfileActivities:$i.LoadMoreProfileActivities}),Object(B.d)({}),S.e)(function(e){var t,n,i,s,c,l,u,d,_,m,g=e.router.params.username,b=e.feed,p=Object(a.useRef)(null),f=e.route.path.includes(o.Ed),h=e.profileUser?e.profileUser.badge:void 0,v=e.profileUser?e.profileUser.avatarImagePath:void 0,C=e.featuredActivity,y=C&&"live"===C.activityType?{activityId:C.activityId,broadcastId:e.broadcastId,broadcastTitle:e.broadcastTitle,contentUrl:C.broadcastInfo.videoUrl,posterUrl:null,username:g}:null,j=Object(vr.a)();Object(a.useEffect)(function(){return g&&e.LoadProfile(g),function(){e.UnloadProfile()}},[g]);return r.a.createElement("div",{className:w()((t={},se()(t,zu.a.profileFrame,!0),se()(t,zu.a.pt0,!0),t))},r.a.createElement(Qu.a,null),r.a.createElement(io,null,e.authenticationWall),!j&&C&&"live"===C.activityType&&r.a.createElement($u,{id:C.activityId,activity:C,avatar:C.user.avatarImagePath,badge:C.presentation.badge,size:"extraLarge",videoDetails:y,hideHeader:!0}),r.a.createElement(Yu,{currentUser:e.currentUser,entertainer:e.profileUser,badge:h}),r.a.createElement("div",null,j&&C&&C.activityId&&r.a.createElement("div",null,r.a.createElement("div",{className:w()((n={},se()(n,zu.a.videosTitle,!0),se()(n,zu.a.videosTitleMobile,j),n))},"FEATURED"),"live"===C.activityType?r.a.createElement("div",{className:zu.a.profileLiveActivityCardContainer},r.a.createElement(hu,{id:C.activityId,activity:C,avatar:C.user.avatarImagePath,badge:C.presentation.badge,size:"extraLarge",videoDetails:y,showHeader:!1,source:o.Ed,showEventDate:!1})):C&&"upcoming"===C.activityType?r.a.createElement("div",{className:w()((i={},se()(i,"columns",!j),se()(i,"is-multiline",!j),se()(i,zu.a.desktopColumns,!j),se()(i,zu.a.infiniteScrollChild,j),i))},r.a.createElement("div",{className:w()((s={},se()(s,"column",!j),se()(s,"is-one-third",!j&&!f),se()(s,zu.a.mobileColumn,j),se()(s,zu.a.showThree,j),s))},r.a.createElement(Jl,{activity:C,playPreviewCard:!0,source:o.Ed}))):r.a.createElement("div",{className:w()((c={},se()(c,"columns",!j),se()(c,"is-multiline",!j),se()(c,zu.a.desktopColumns,!j),se()(c,zu.a.infiniteScrollChild,j),c))},r.a.createElement("div",{className:w()((l={},se()(l,"column",!j),se()(l,"is-one-third",!j&&!f),se()(l,zu.a.mobileColumn,j),l))},r.a.createElement(Wl,{id:C.activityId,activity:C,avatar:v,badge:h,source:o.Ed,playPreviewCard:!0})))),e.upcoming&&e.upcoming.length>0&&r.a.createElement("div",{className:w()(se()({},zu.a.profileFrameActivitiesContainerMobile,j))},p&&p.current&&p.current.children.length>0&&r.a.createElement("div",{className:w()((u={},se()(u,zu.a.videosTitle,!0),se()(u,zu.a.videosTitleMobile,j),u))},"UPCOMING"),r.a.createElement("div",{className:w()((d={},se()(d,"columns",!j),se()(d,"is-multiline",!j),se()(d,zu.a.desktopColumns,!j),se()(d,zu.a.infiniteScrollChild,j),d)),ref:p},e.upcoming.map(function(e,t){var n;return j&&C.activityId===e.activityId?null:r.a.createElement("div",{key:t,className:w()((n={},se()(n,"column",!j),se()(n,"is-one-third",!j&&!f),se()(n,zu.a.mobileColumn,j),se()(n,zu.a.showThree,j),n))},r.a.createElement(Jl,{activity:e,source:o.Ed}))}))),b&&b.length>0&&r.a.createElement("div",null,r.a.createElement("div",{className:w()((_={},se()(_,zu.a.videosTitle,!0),se()(_,zu.a.videosTitleMobile,j),_))},"VIDEOS"),r.a.createElement(tl.a,{loadMore:function(){e.hasMoreProfileActivities&&g&&e.LoadMoreProfileActivities(g,e.nextProfileActivity)},hasMore:e.hasMoreProfileActivities,loadingComponent:r.a.createElement(Ru,null)},r.a.createElement("div",{className:w()((m={},se()(m,"columns",!j),se()(m,"is-multiline",!j),se()(m,zu.a.desktopColumns,!j),se()(m,zu.a.infiniteScrollChild,j),m))},b&&b.map(function(e,t){var n;return j&&C.activityId===e.activityId?null:r.a.createElement("div",{className:w()((n={},se()(n,"column",!j),se()(n,"is-one-third",!j&&!f),se()(n,zu.a.mobileColumn,j),n)),key:"".concat(t,"-").concat(e.activityId)},r.a.createElement(Wl,{id:e.activityId,activity:e,avatar:v,badge:h,source:o.Ed}))}))))))})),td=n("./src/pieces/profile/profile-footer.tsx"),nd=(n("./src/pieces/footer/footer-mobile-nag.tsx"),n("./node_modules/bows/bows.js")("Create-routes"),localStorage.getItem(o.J)),ad="true"===localStorage.getItem(o.Fb);t.default=function(e){return{path:"/",component:function(e){return r.a.createElement(Wc,e)},onEnter:s(e),onChange:function(){return document.body.scrollTo(0,0)},indexRoute:{getComponents:function(e,t){return t(null,{header:function(e){return ad?r.a.createElement(ie.a,e):r.a.createElement(ae.a,e)},main:function(e){return nd===o.Xb?r.a.createElement(mu,e):ad?r.a.createElement(ju,e):r.a.createElement(uu,e)},footer:function(e){return r.a.createElement(Vc.a,e)}})},onEnter:d(e)},childRoutes:[{path:"following",components:{header:function(e){return ad?r.a.createElement(ie.a,e):r.a.createElement(ae.a,e)},main:function(e){return ad?r.a.createElement(ju,e):r.a.createElement(mu,e)},footer:function(e){return r.a.createElement(Vc.a,e)}},childRoutes:[{path:"join",components:{authenticationWall:function(e){return r.a.createElement(Dc,e)}}},{path:"sign-in",components:{authenticationWall:function(e){return r.a.createElement(dl,e)}}},{path:"sign-up",components:{authenticationWall:function(e){return r.a.createElement(Tc,e)}}},{path:"forgot-password",components:{authenticationWall:function(e){return r.a.createElement(bl,e)}}}]},{path:"upcoming",onEnter:function(){window.location.href="/"}},{path:"gaming",onEnter:function(){window.location.href="/"}},{path:"entertainment",onEnter:function(){window.location.href="/"}},{path:"sign-in",components:{header:null,main:F,footer:null},indexRoute:{component:G.a}},{path:"sign-up",components:{header:null,main:F,footer:null},indexRoute:{component:q.a}},{path:"lobby",onEnter:function(){window.location.href="/"}},{path:"browse",components:{header:function(e){return ad?r.a.createElement(ie.a,e):r.a.createElement(ae.a,e)},main:function(e){return ad?r.a.createElement(ju,e):r.a.createElement(uu,e)},footer:function(e){return r.a.createElement(Vc.a,e)}},childRoutes:[{path:"join",components:{authenticationWall:function(e){return r.a.createElement(Dc,e)}}},{path:"sign-in",components:{authenticationWall:function(e){return r.a.createElement(dl,e)}}},{path:"sign-up",components:{authenticationWall:function(e){return r.a.createElement(Tc,e)}}},{path:"forgot-password",components:{authenticationWall:function(e){return r.a.createElement(bl,e)}}}]},{path:"sign-up",components:{header:null,main:F,footer:null},indexRoute:{component:q.a}},{path:"forgot-password",components:{header:null,main:F,footer:null},indexRoute:{component:J.a}},{path:"ineligible-account",components:{header:null,main:F,footer:null},indexRoute:{component:ne}},{path:"account/reset-password",components:{header:null,main:F,footer:null},indexRoute:{component:Z.a}},{path:"auth/twitter/callback",components:{header:null,main:F,footer:null},indexRoute:{component:Y.a}},{path:"auth/callback",components:{header:null,main:F,footer:null},indexRoute:{component:Y.a}},{path:"auth/auto-login",components:{header:null,main:F,footer:null},indexRoute:{component:Q.a}},{path:"auth/social-account-connection-confirmation",components:{header:ae.a,main:K.a}},{path:"u/*",onEnter:function(e,t){var n=e.location;t(n.pathname.replace("/u/","/")+n.search)}},{path:":username/invite",onEnter:_(e)},{path:":username/profile",components:{header:function(e){return r.a.createElement(ie.a,e)},headerIsFloating:function(){return!0},main:function(e){return r.a.createElement(ed,e)},footer:function(e){return r.a.createElement(td.a,e)}},childRoutes:[{path:"join",components:{authenticationWall:function(e){return r.a.createElement(Dc,e)}}},{path:"sign-in",components:{authenticationWall:function(e){return r.a.createElement(dl,e)}}},{path:"sign-up",components:{authenticationWall:function(e){return r.a.createElement(Tc,e)}}},{path:"forgot-password",components:{authenticationWall:function(e){return r.a.createElement(bl,e)}}}]},{path:"detail/:id",onEnter:function(){window.location.href="/"}},{path:"settings",onEnter:u(e),components:{header:function(e){return r.a.createElement(ae.a,e)},main:function(e){return r.a.createElement(zc.a,e)},footer:function(e){return r.a.createElement(Vc.a,e)}},childRoutes:[{path:"account"},{path:"notifications"},{path:"ignored"},{path:"gold"},{path:"videos"}]},{path:"settings/cash-out-setup",onEnter:u(e),components:{header:ae.a,main:m.a,footer:null}},{path:"settings/cash-out-setup-complete",onEnter:u(e),components:{header:ae.a,main:z}},{path:"settings/history",components:{header:function(e){return r.a.createElement(ae.a,e)},main:function(e){return r.a.createElement(il,e)}},onEnter:u(e)},{path:"start-broadcasting",onEnter:function(){window.location.href="/broadcasting.html"}},{path:"start-broadcasting/games",onEnter:function(){window.location.href="/broadcasting.html"}},{path:"start-streaming",onEnter:function(){window.location.href="/broadcasting.html"}},{path:"start-streaming/games",onEnter:function(){window.location.href="/broadcasting.html"}},{path:"account/email-confirmation",onEnter:function(){window.location.href="/account/email-confirmation/index.html".concat(location.search)}},{path:"broadcasting",onEnter:function(){window.location.href="/broadcasting.html"}},{path:"careers",onEnter:function(){window.location.href="/careers.html"}},{path:"privacy",onEnter:function(){window.location.href="/privacy.html"}},{path:"community",onEnter:function(){window.location.href="/rules.html"}},{path:"rules",onEnter:function(){window.location.href="/rules.html"}},{path:"terms",onEnter:function(){window.location.href="/tos.html"}},{path:"tos",onEnter:function(){window.location.href="/tos.html"}},{path:"legal",onEnter:function(){window.location.href="/tos.html"}},{path:"battlerap/urltv",onEnter:function(){window.location.href="/battlerap/urltv.html"}},{path:"battlerap",onEnter:function(){window.location.href="/battlerap.html"}},{path:"tickets",onEnter:function(){window.location.href="/tickets.html"}},{path:"programs",onEnter:function(){window.location.href="https://caffeine.custhelp.com/app/categories/detail/c/91"}},{path:"programs/casters",onEnter:function(){window.location.href="https://caffeine.custhelp.com/app/answers/detail/a_id/58"}},{path:"programs/cyan",onEnter:function(){window.location.href="https://caffeine.custhelp.com/app/answers/detail/a_id/72"}},{path:"programs/check",onEnter:function(){window.location.href="https://caffeine.custhelp.com/app/answers/detail/a_id/46/kw/badge"}},{path:"home",onEnter:function(){window.location.href="/"}},{path:"blog",onEnter:function(){window.location.href="/blog/engineering/index.html"}},{path:"blog/engineering",onEnter:function(){window.location.href="/blog/engineering/index.html"}},{path:"newsroom",onEnter:function(){window.location.href="/newsroom.html"}},{path:"about",onEnter:function(){window.location.href="/about.html"}},{path:"aboutus",onEnter:function(){window.location.href="/about.html"}},{path:"communityrules",onEnter:function(){window.location.href="/rules.html"}},{path:"privacypolicy",onEnter:function(){window.location.href="/privacy.html"}},{path:"termsofservice",onEnter:function(){window.location.href="/tos.html"}},{path:"help",onEnter:function(){window.location.href="https://caffeine.custhelp.com "}},{path:"broadcasting/caster",onEnter:function(){window.location.href="/broadcasting/caster.html"}},{path:"broadcasting/cyan",onEnter:function(){window.location.href="/broadcasting/caster.html"}},{path:"cyan",onEnter:function(){window.location.href="/broadcasting/caster.html"}},{path:"caster",onEnter:function(){window.location.href="/broadcasting/caster.html"}},{path:"casters",onEnter:function(){window.location.href="/broadcasting/caster.html"}},{path:"partner",onEnter:function(){window.location.href="/partners.html"}},{path:"partners",onEnter:function(){window.location.href="/partners.html"}},{path:"creators",onEnter:function(){window.location.href="/broadcasting.html"}},{path:"creators/casters",onEnter:function(){window.location.href="/broadcasting/caster.html"}},{path:"creators/partners",onEnter:function(){window.location.href="/creators/partners.html"}},{path:"tag/:id",components:{header:function(e){return r.a.createElement(ie.a,e)},headerIsFloating:function(){return!0},main:function(e){return r.a.createElement(Hu,e)},footer:function(e){return r.a.createElement(Wu.a,e)}},childRoutes:[{path:"join",components:{authenticationWall:function(e){return r.a.createElement(Dc,e)}}},{path:"sign-in",components:{authenticationWall:function(e){return r.a.createElement(dl,e)}}},{path:"sign-up",components:{authenticationWall:function(e){return r.a.createElement(Tc,e)}}},{path:"forgot-password",components:{authenticationWall:function(e){return r.a.createElement(bl,e)}}}]},{path:":username/video/:id",components:{header:function(e){return r.a.createElement(ie.a,e)},headerIsFloating:function(){return!0},isStage:function(){return!0},main:function(e){return r.a.createElement(Pu,e)},footer:function(e){return r.a.createElement(Nu.a,e)}},childRoutes:[{path:"join",components:{authenticationWall:function(e){return r.a.createElement(Dc,e)}}},{path:"sign-in",components:{authenticationWall:function(e){return r.a.createElement(dl,e)}}},{path:"sign-up",components:{authenticationWall:function(e){return r.a.createElement(Tc,e)}}},{path:"forgot-password",components:{authenticationWall:function(e){return r.a.createElement(bl,e)}}}]},{path:":username",components:{header:function(e){return ad?r.a.createElement(ie.a,e):r.a.createElement(re.a,e)},headerIsFloating:function(){return!0},isStage:function(){return!0},main:function(e){return ad?r.a.createElement(fs,e):r.a.createElement(Vo,e)},footer:function(e){return r.a.createElement(Gc.a,e)}},childRoutes:[{path:"join",components:{authenticationWall:function(e){return r.a.createElement(Dc,e)}}},{path:"sign-in",components:{authenticationWall:function(e){return r.a.createElement(dl,e)}}},{path:"sign-up",components:{authenticationWall:function(e){return r.a.createElement(Tc,e)}}},{path:"forgot-password",components:{authenticationWall:function(e){return r.a.createElement(bl,e)}}},{path:"broadcast"}]},{path:"*",components:{header:ae.a,main:L}}]}}},"./src/pieces/search/search.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return l}),n.d(t,"Search",function(){return u}),n.d(t,"SetSearchResults",function(){return d}),n.d(t,"ClearSearchResults",function(){return _}),n.d(t,"selectSearchResults",function(){return m});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-actions/es/createAction.js"),s=n("./node_modules/redux-actions/es/handleActions.js"),c=n("./node_modules/reselect/lib/index.js"),l=(n("./node_modules/bows/bows.js")("Search.reducer"),"search"),u=Object(o.a)("Search"),d=Object(o.a)("Set Search Results"),_=Object(o.a)("Clear Search Results"),m=Object(c.createSelector)(function(t){return t[l].get("searchResults",e.List())},function(e){return e.toJS()});t.default=Object(s.a)((a={},i()(a,d,function(t,n){var a=n.payload;return t.set("searchResults",e.fromJS(a))}),i()(a,_,function(t){return t.set("searchResults",e.List())}),a),e.fromJS({searchIsActive:!1,searchResults:[]}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/search/search.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/effects.js"),o=n("./src/pieces/base/saga-utilities.js"),s=n("./src/pieces/base/api/users.api.js"),c=n("./src/pieces/search/search.reducer.js"),l=r.a.mark(_),u=r.a.mark(m),d=n("./node_modules/bows/bows.js")("Search.sagas");function _(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return d("handling search saga",e),n.next=3,Object(i.b)(s.q,e);case 3:return t=n.sent,n.next=6,Object(i.g)(Object(c.SetSearchResults)(t));case 6:case"end":return n.stop()}},l)}function m(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.e)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.h)(c.Search,_);case 2:case"end":return e.stop()}},e)}));case 2:case"end":return e.stop()}},u)}},"./src/pieces/settings/account-settings.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/idx/lib/idx.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/redux-form/es/formValueSelector.js"),s=n("./node_modules/redux-form/es/reduxForm.js"),c=n("./node_modules/redux-form/es/index.js"),l=n("./node_modules/redux-form/es/getFormInitialValues.js"),u=n("./node_modules/redux-form/es/Field.js"),d=n("./node_modules/react-redux/es/index.js"),_=n("./src/pieces/base/forms/text-field.js"),m=n("./src/pieces/settings/save-button.tsx"),g=n("./src/pieces/base/constants.js"),b=n("./src/pieces/settings/settings.reducer.js"),p=n("./src/pieces/authentication/authentication.reducer.js"),f=n("./src/pieces/users/users.reducer.js"),h=n("./src/pieces/current-user/current-user.reducer.js"),v=n("./src/pieces/settings/settings-frame.scss"),w=n.n(v),C=(n("./node_modules/bows/bows.js")("Account-settings"),Object(o.a)("account-settings")),y=Object(i.a)(Object(s.a)({form:"account-settings",onSubmit:b.PromiseAccountSettingsFormSubmission,onSubmitSuccess:function(e,t){t(Object(c.b)("account-settings",Object(l.a)("account-settings"),{keepSubmitSucceeded:!0}))}}),Object(d.b)(function(e){var t=Object(h.selectCurrentUser)(e)&&Object(h.selectCurrentUser)(e).email,n=C(e,"email","currentPassword","newPassword"),a=n.email&&n.email!==t||!!n.newPassword;return{currentUser:Object(h.selectCurrentUser)(e),currentUserIdentities:Object(f.selectCurrentUserIdentities)(e),initialValues:{email:t},hasValidChanges:a}},{StartMultiFactorAuthenticationSetup:p.StartMultiFactorAuthenticationSetup,DisableMultiFactorAuthentication:p.DisableMultiFactorAuthentication,NavigateToSocialAuthenticationPage:p.NavigateToSocialAuthenticationPage,DisconnectSocialAccount:b.DisconnectSocialAccount,DeleteAccount:b.DeleteAccount}));t.a=y(function(t){var n=t.currentUser,a=t.currentUserIdentities,i=t.error,o=t.handleSubmit,s=t.hasValidChanges,c=t.submitting,l=t.submitSucceeded,d=t.DeleteAccount,b=t.DisableMultiFactorAuthentication,p=t.DisconnectSocialAccount,f=t.StartMultiFactorAuthenticationSetup,h=t.NavigateToSocialAuthenticationPage,v=a.find(function(e){return e.provider===g.Ve}),C=a.find(function(e){return e.provider===g.pb}),y=r()(t,function(e){return e.error.email[0]})||r()(t,function(e){return e.error.currentPassword[0]})||r()(t,function(e){return e.error.password[0]})||"Error saving, please try again later.";return e.createElement("div",null,e.createElement("form",{onSubmit:o},e.createElement("div",{className:w.a.row},e.createElement("div",{className:w.a.labelColumn},"email"),e.createElement("div",{className:w.a.mainColumn,"data-private":!0},e.createElement(u.a,{name:"email",type:"email",label:t.currentUser.email,component:_.a,inputClassName:w.a.mainColumnInputBase,dataPrivate:!0}))),e.createElement("div",{className:w.a.rowWithSubsequentRow},e.createElement("div",{className:w.a.labelColumn},"change password"),e.createElement("div",{className:w.a.mainColumn},e.createElement(u.a,{name:"currentPassword",type:"password",label:"current password",component:_.a,inputClassName:w.a.mainColumnInputBase}))),e.createElement("div",{className:w.a.row},e.createElement("div",{className:w.a.labelColumn}),e.createElement("div",{className:w.a.mainColumn},e.createElement(u.a,{name:"newPassword",type:"password",label:"new password",component:_.a,inputClassName:w.a.mainColumnInputBase}))),n&&n.emailVerified&&e.createElement("div",{className:w.a.row},e.createElement("div",{className:w.a.labelColumn},"two-step authentication"),"NONE"!==n.mfaMethod?e.createElement("div",{className:w.a.mainColumn},e.createElement("a",{className:w.a.settingsLinkRed,onClick:b,tabIndex:0,role:"button"},"disable")):e.createElement("div",{className:w.a.mainColumn},e.createElement("a",{className:w.a.settingsLink,onClick:f,tabIndex:0,role:"button"},"enable"))),e.createElement("div",{className:w.a.row},e.createElement("div",{className:w.a.labelColumn},"twitter"),e.createElement("div",{className:w.a.mainColumn},v?e.createElement(e.Fragment,null,e.createElement("span",{className:w.a.socialAccountName},v.displayName),e.createElement("a",{className:w.a.settingsLinkRed,onClick:function(){var e=a.find(function(e){return e.provider===g.Ve});p(g.Ve,n.caid,e&&e.uid)},tabIndex:0,role:"button"},"disconnect")):e.createElement("a",{className:w.a.settingsLink,onClick:function(){return h(g.Ve,"/settings/account")},tabIndex:0,role:"button"},"connect"))),e.createElement("div",{className:w.a.row},e.createElement("div",{className:w.a.labelColumn},"facebook"),e.createElement("div",{className:w.a.mainColumn},C?e.createElement(e.Fragment,null,e.createElement("span",{className:w.a.socialAccountName},C.displayName),e.createElement("a",{className:w.a.settingsLinkRed,onClick:function(){var e=a.find(function(e){return e.provider===g.pb});p(g.pb,n.caid,e&&e.uid)},tabIndex:0,role:"button"},"disconnect")):e.createElement("a",{className:w.a.settingsLink,onClick:function(){return h(g.pb,"/settings/account")},tabIndex:0,role:"button"},"connect"))),e.createElement("div",{className:w.a.row},e.createElement("div",{className:w.a.labelColumn}),e.createElement("div",{className:w.a.mainColumn},e.createElement(m.a,{error:i&&y,hasValidChanges:s,submitting:c,submitSucceeded:l,successMessage:"Account updated!"}))),e.createElement("div",{className:w.a.row},e.createElement("div",{className:w.a.labelColumn}),e.createElement("div",{className:w.a.mainColumn},e.createElement("button",{className:w.a.deleteButton,onClick:function(){return d(n.caid)}},"delete account")))))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/settings/gold-settings.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/react/index.js"),r=n("./node_modules/react-modal/lib/index.js"),i=n.n(r),o=n("./node_modules/react-router/es/index.js"),s=n("./node_modules/recompose/dist/Recompose.esm.js"),c=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/react-router-redux/lib/index.js"),u=n("./node_modules/reselect/lib/index.js"),d=n("./src/pieces/authentication/authentication.reducer.js"),_=n("./src/pieces/current-user/current-user.reducer.js"),m=n("./src/pieces/payment/stripe.reducer.js"),g=n("./src/pieces/payment/digital-items.reducer.js"),b=n("./src/pieces/payment/cash-out.reducer.js"),p=n("./src/pieces/payment/cash-out-helpers.ts"),f=n("./src/pieces/payment/prettify-price.js"),h=n("./src/pieces/base/popover/popover.js"),v=n("./src/pieces/payment/credit-card.tsx"),w=n("./src/pieces/payment/gold-purchase-flow.tsx"),C=n("./src/pieces/payment/cash-out.tsx"),y=n("./src/pieces/payment/digital-currency.tsx"),j=n("./src/pieces/settings/settings.reducer.js"),O=n("./src/pieces/settings/settings-frame.scss"),S=n.n(O);n("./node_modules/bows/bows.js")("Gold-settings");i.a.setAppElement("#root");var E=Object(s.a)(Object(c.b)(Object(u.createStructuredSelector)({cashOutMethodName:b.selectCashOutMethodName,creditCards:m.selectCurrentCreditCards,exchangeRate:b.selectCashOutExchangeRate,isInMaintenanceMode:g.selectIsInMaintenanceMode,isUnverifiedUser:_.selectCurrentUserEmailUnverified,modalContent:j.selectModalContent,wallet:_.selectCurrentUserWallet}),{LoadCashOut:b.LoadCashOut,PushRoute:l.push,RemoveCreditCard:m.RemoveCreditCard,SetModalContent:j.SetModalContent,ShowVerificationDialog:d.ShowVerificationDialog,SubscribeToCurrentUserWallet:_.SubscribeToCurrentUserWallet,UnsubscribeFromCurrentUserWallet:_.UnsubscribeFromCurrentUserWallet})),x=function(e){return e?S.a.settingsLinkInMaintenanceMode:S.a.settingsLink},k=function(t){var n=t.children,a=t.labelText;return t.isInMaintenanceMode?e.createElement(h.a,{size:"huge",orientation:"belowRight",content:e.createElement("div",{className:S.a.maintenanceModeMessage},"".concat(a," is offline for maintenance."),e.createElement("br",null),"Check back soon.")},n):n},I=function(t){var n=t.wallet,r=t.isInMaintenanceMode,o=t.isUnverifiedUser,s=t.modalContent,c=t.SetModalContent,l=t.ShowVerificationDialog,u=Object(a.useCallback)(function(){return c(j.ModalContentEnum.None)},[c]);return e.createElement("div",null,e.createElement("div",{className:S.a.row},e.createElement("div",{className:S.a.labelColumn},"gold"),e.createElement("div",{className:S.a.mainColumn},e.createElement("div",{className:S.a.goldSettingsRowContent},e.createElement("div",{className:S.a.digitalCurrencyContainer},e.createElement(y.a,{size:"large",type:"gold",displayAmountFirst:!0,amount:n.gold,amountClassName:S.a.currencyAmountLarge})),e.createElement("button",{className:x(r),onClick:function(){o?l({body:"To buy gold you need to confirm your account"}):c(j.ModalContentEnum.BuyingGold)}},"buy gold"),e.createElement(i.a,{isOpen:s===j.ModalContentEnum.BuyingGold,className:S.a.goldModalContent,overlayClassName:S.a.goldModalOverlay,onRequestClose:u},e.createElement(w.a,{darkTheme:!0,successButtonMessage:"Thank you for your purchase!",onlyViewPaymentType:"CreditCard",onRequestClose:u}))))),e.createElement("div",{className:S.a.row},e.createElement("div",{className:S.a.labelColumn},"credits"),e.createElement("div",{className:S.a.mainColumn},e.createElement("div",{className:S.a.goldSettingsRowContent},e.createElement("div",{className:S.a.digitalCurrencyContainer},e.createElement(y.a,{size:"large",type:"credit",displayAmountFirst:!0,amount:n.credits,amountClassName:S.a.currencyAmountLarge})),e.createElement(i.a,{isOpen:s===j.ModalContentEnum.BuyingGoldWithCredits,className:S.a.goldModalContent,overlayClassName:S.a.goldModalOverlay,onRequestClose:u},e.createElement(w.a,{darkTheme:!0,successButtonMessage:"Thank you for your purchase!",onlyViewPaymentType:"Credit",onRequestClose:u})),e.createElement("button",{className:x(r),onClick:function(){return o?l({body:"To buy gold with credit you need to confirm your account"}):c(j.ModalContentEnum.BuyingGoldWithCredits)}},"buy gold"),e.createElement("div",{className:S.a.goldSettingsGrayText},"or"),e.createElement(k,{labelText:"Cash Out",isInMaintenanceMode:r},e.createElement("button",{className:x(r),onClick:function(){r||(o?l({body:"To cash out you need to confirm your account"}):c(j.ModalContentEnum.CashingOut))}},"cash out")),e.createElement(i.a,{isOpen:s===j.ModalContentEnum.CashingOut,className:S.a.modalContentUnclipped,overlayClassName:S.a.modalOverlay,onRequestClose:u},e.createElement(C.a,{onRequestClose:u}))),e.createElement("div",{className:S.a.paymentDescription},"Received items become credits. You can buy gold or cash out with credits."))))};t.a=E(function(t){var n=t.cashOutMethodName,r=t.creditCards,s=t.exchangeRate,c=t.isInMaintenanceMode,l=t.isUnverifiedUser,u=t.modalContent,d=t.wallet,_=t.LoadCashOut,m=t.PushRoute,g=t.RemoveCreditCard,b=t.SetModalContent,h=t.ShowVerificationDialog,w=t.SubscribeToCurrentUserWallet,C=t.UnsubscribeFromCurrentUserWallet;Object(a.useEffect)(function(){return w(),_(),function(){C()}},[]);var y=function(){return b(j.ModalContentEnum.None)};return e.createElement("div",null,d&&e.createElement(I,{modalContent:u,wallet:d,isInMaintenanceMode:c,isUnverifiedUser:l,SetModalContent:b,ShowVerificationDialog:h}),e.createElement("div",{className:S.a.row},e.createElement("div",{className:S.a.labelColumn},"credit cards"),e.createElement("div",{className:S.a.mainColumn},t.creditCards.length?e.createElement("div",{className:S.a.goldSettingsRowContent},e.createElement("div",{className:S.a.goldSettingsText},"".concat(r[0].brand," ending in ").concat(r[0].lastFour)),e.createElement(k,{labelText:"Adding and removing credit cards",isInMaintenanceMode:c},e.createElement("button",{className:x(c),onClick:function(){c||g(r[0].id)}},"remove card"))):e.createElement(e.Fragment,null,e.createElement(k,{labelText:"Adding and removing credit cards",isInMaintenanceMode:c},e.createElement("button",{className:x(t.isInMaintenanceMode),onClick:function(){c||b(j.ModalContentEnum.AddingCreditCard)}},"add credit card")),e.createElement(i.a,{isOpen:u===j.ModalContentEnum.AddingCreditCard,className:S.a.modalContentUnclipped,overlayClassName:S.a.modalOverlay,onRequestClose:y},e.createElement(v.a,{onRequestClose:y}))))),e.createElement("div",null,e.createElement("div",{className:S.a.row},e.createElement("div",{className:S.a.labelColumn},"cash out"),e.createElement("div",{className:S.a.mainColumn},e.createElement("div",{className:S.a.goldSettingsRowContent},!!n&&e.createElement("div",{className:S.a.goldSettingsText},n),e.createElement(k,{labelText:"Cash Out",isInMaintenanceMode:c},e.createElement("button",{className:x(c),onClick:function(){c||(l?h({body:"To set up cash out you need to confirm your account"}):m("/settings/cash-out-setup"))}},n?"edit":"set up cash out"))),t.exchangeRate&&e.createElement("div",{className:S.a.paymentDescription},"Minimum of ".concat(Object(f.a)(Object(p.d)(s.minCashOutQuantity,s))," in\n                credits is required to cash out. For more information visit our "),e.createElement(o.b,{className:S.a.paymentDescriptionLink,to:"https://link.caffeine.tv/cash-out-learn-more",target:"_blank"},"Cash Out FAQ"),".")))," "),e.createElement("div",{className:S.a.row},e.createElement(o.b,{className:S.a.transactionHistoryLink,to:"/settings/history"},"view transaction history")))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/settings/ignored-users.scss":function(e,t,n){e.exports={ignoredUser:"ignored-users__ignoredUser___18euh",ignoredUsersContainer:"ignored-users__ignoredUsersContainer___31KRr"}},"./src/pieces/settings/ignored-users.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/react-router/es/index.js"),c=n("./src/pieces/settings/settings.reducer.js"),l=n("./src/pieces/base/user-snippet.tsx"),u=n("./src/pieces/settings/unblock-button.tsx"),d=n("./src/pieces/settings/ignored-users.scss"),_=n.n(d),m=(n("./node_modules/bows/bows.js")("Ignored-users"),Object(i.a)(Object(o.b)(function(e){return{ignoredUsers:Object(c.selectIgnoredUsers)(e)}}),s.e));t.a=m(function(e){return r.a.createElement("div",{className:_.a.ignoredUsersContainer},e.ignoredUsers.map(function(e){return r.a.createElement("div",{className:_.a.ignoredUser,key:String(e.caid)},r.a.createElement(l.a,{size:"small",user:e,linkToProfile:!0,hideFollowButton:!0}),e.caid?r.a.createElement(u.a,{caid:e.caid}):null)}),!e.ignoredUsers.length&&r.a.createElement("span",null,"You won't see broadcasts or messages from people you ignore,",r.a.createElement("br",null),"and no one will see their messages in your broadcast."))})},"./src/pieces/settings/notification-settings.scss":function(e,t,n){e.exports={row:"notification-settings__row___1CEmC",headerRow:"notification-settings__headerRow___3Ktdt notification-settings__row___1CEmC",labelColumn:"notification-settings__labelColumn___GqPhS settings-frame__basicLabel___1MOMV",checkboxColumn:"notification-settings__checkboxColumn___3OPNv",checkboxColumnHeader:"notification-settings__checkboxColumnHeader___3PKdD notification-settings__checkboxColumn___3OPNv settings-frame__basicLabel___1MOMV",saveButtonContainer:"notification-settings__saveButtonContainer___1NHE2"}},"./src/pieces/settings/notification-settings.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/recompose/dist/Recompose.esm.js"),r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/redux-form/es/reduxForm.js"),o=n("./node_modules/redux-form/es/Field.js"),s=n("./src/pieces/base/forms/checkbox-field.js"),c=n("./src/pieces/settings/settings.reducer.js"),l=n("./src/pieces/settings/save-button.tsx"),u=n("./src/pieces/settings/notification-settings.scss"),d=n.n(u),_=(n("./node_modules/bows/bows.js")("Notification-settings"),Object(a.a)(Object(r.b)(function(e){return{initialValues:Object(c.selectNotificationSettings)(e)}}),Object(i.a)({form:"notification-settings",onSubmit:c.PromiseNotificationSettingsFormSubmission,destroyOnUnmount:!1}))),m=function(t){var n=t.label,a=t.notificationType,r=t.includePushNotificationOption,i=void 0!==r&&r;t.dudleyComponentName;return e.createElement("div",{className:d.a.row},e.createElement("div",{className:d.a.labelColumn},n),e.createElement("div",{className:d.a.checkboxColumn},e.createElement(o.a,{name:"".concat(a,"Email"),component:s.a})),e.createElement("div",{className:d.a.checkboxColumn},i&&e.createElement(o.a,{name:"".concat(a,"WebPush"),component:s.a})))};t.a=_(function(t){var n=t.error,a=t.handleSubmit,r=t.pristine,i=t.submitting,o=t.submitSucceeded;return e.createElement("div",null,e.createElement("form",{onSubmit:a},e.createElement("div",{className:d.a.headerRow},e.createElement("div",{className:d.a.labelColumn}),e.createElement("div",{className:d.a.checkboxColumnHeader},"email"),e.createElement("div",{className:d.a.checkboxColumnHeader},"desktop")),e.createElement(m,{label:"getting started",notificationType:"caffeine101"}),e.createElement(m,{label:"broadcasting 101",notificationType:"broadcaster101"}),e.createElement(m,{label:"broadcast reports",notificationType:"broadcastReport"}),e.createElement(m,{label:"new followers",notificationType:"newFollower",includePushNotificationOption:!0}),e.createElement(m,{label:"your friends on Caffeine",notificationType:"friendJoins",includePushNotificationOption:!0}),e.createElement(m,{label:"people you follow are live",notificationType:"broadcastLive",includePushNotificationOption:!0}),e.createElement(m,{label:"recommended for you",notificationType:"weeklySuggestions"}),e.createElement(m,{label:"community announcements",notificationType:"community"}),e.createElement(m,{label:"product updates",notificationType:"productUpdates"}),e.createElement(m,{label:"broadcaster programs",notificationType:"broadcasterPrograms"}),e.createElement("div",{className:d.a.row},e.createElement("div",{className:d.a.labelColumn}),e.createElement("div",{className:d.a.checkboxColumn},e.createElement("div",{className:d.a.saveButtonContainer},e.createElement(l.a,{error:n&&"Error saving, please try again later.",hasValidChanges:!r,submitting:i,submitSucceeded:o,successMessage:"Notifications updated!"}))))))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/settings/preview-replay.scss":function(e,t,n){e.exports={container:"preview-replay__container___-chQv",overlay:"preview-replay__overlay___1bYv0",previewHlsVideo:"preview-replay__previewHlsVideo___16Nha",footer:"preview-replay__footer___Kfd0w",details:"preview-replay__details___eSG2-",videoTitle:"preview-replay__videoTitle___1hN7K",videoDetails:"preview-replay__videoDetails___3SulR",userName:"preview-replay__userName___3tHza",views:"preview-replay__views___35LoI"}},"./src/pieces/settings/profile-settings.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/idx/lib/idx.js"),o=n.n(i),s=n("./node_modules/recompose/dist/Recompose.esm.js"),c=n("./node_modules/redux-form/es/formValueSelector.js"),l=n("./node_modules/redux-form/es/reduxForm.js"),u=n("./node_modules/redux-form/es/index.js"),d=n("./node_modules/redux-form/es/getFormInitialValues.js"),_=n("./node_modules/redux-form/es/Field.js"),m=n("./node_modules/react-redux/es/index.js"),g=n("./src/pieces/base/avatar.tsx"),b=n("./src/pieces/base/forms/text-field.js"),p=n("./src/pieces/base/forms/textarea-field-resizable.tsx"),f=n("./src/pieces/settings/save-button.tsx"),h=n("./src/pieces/settings/settings.reducer.js"),v=n("./src/pieces/current-user/current-user.reducer.js"),w=n("./src/pieces/settings/settings-frame.scss"),C=n.n(w),y=(n("./node_modules/bows/bows.js")("Profile-settings"),Object(c.a)("profile-settings")),j=Object(s.a)(Object(m.b)(function(e){var t=Object(v.selectCurrentUser)(e)&&Object(v.selectCurrentUser)(e).name,n=Object(v.selectCurrentUser)(e)&&Object(v.selectCurrentUser)(e).bio,a=y(e,"profileName","profileBiography");return{currentUser:Object(v.selectCurrentUser)(e),initialValues:{profileName:null==t?"":t,profileBiography:null==n?"":n},formValues:a}}),Object(l.a)({form:"profile-settings",enableReinitialize:!0,onSubmit:h.PromiseProfileSettingsFormSubmission,onSubmitSuccess:function(e,t){t(Object(u.b)("profile-settings",Object(d.a)("profile-settings"),{keepValues:!0,keepSubmitSucceeded:!0}))}}));t.a=j(function(e){var t=e.currentUser,n=e.error,a=e.handleSubmit,i=e.submitting,s=e.submitSucceeded,c=e.pristine,l=e.formValues,u=e.change,d=o()(e,function(e){return e.error.name[0]})||o()(e,function(e){return e.error.bio[0]})||"Error saving, please try again later.";return r.a.createElement("div",{className:C.a.profileSettingsContainer},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),u("profileName",l.profileName.trim()),u("profileBiography",l.profileBiography.trim()),a()}},r.a.createElement("div",{className:C.a.row},r.a.createElement("div",{className:C.a.labelColumn},"image"),r.a.createElement("div",{className:C.a.mainColumn},r.a.createElement("div",{className:C.a.profileAvatarField},r.a.createElement(g.a,{size:"xlarge",user:t,editable:!0})))),r.a.createElement("div",{className:C.a.profileSettingsRow},r.a.createElement("div",{className:C.a.labelColumn},"username"),r.a.createElement("div",{className:C.a.mainColumn},r.a.createElement("p",{className:C.a.settingsText},"@",t.username))),r.a.createElement("div",{className:C.a.profileSettingsRow},r.a.createElement("div",{className:C.a.labelColumn},"name"),r.a.createElement("div",{className:C.a.mainColumn},r.a.createElement(_.a,{name:"profileName",label:t.name||"your name",component:b.a,inputClassName:C.a.profileInputBase,inputProps:{maxLength:30,autoComplete:"off"}}))),r.a.createElement("div",{className:C.a.profileSettingsRow},r.a.createElement("div",{className:C.a.labelColumn},"about"),r.a.createElement("div",{className:C.a.mainColumn},r.a.createElement(_.a,{name:"profileBiography",label:t.bio||"add a description of yourself",component:p.a,className:C.a.profileTextareaField,inputClassName:C.a.profileTextarea,inputProps:{maxLength:300,autoComplete:"off"}}))),r.a.createElement("div",{className:C.a.row},r.a.createElement("div",{className:C.a.labelColumn}),r.a.createElement("div",{className:C.a.mainColumn},r.a.createElement(f.a,{error:n&&d,hasValidChanges:!c,submitting:i,submitSucceeded:s,successMessage:"Profile updated"})))))})},"./src/pieces/settings/replays-setting.scss":function(e,t,n){e.exports={replaysWrapper:"replays-setting__replaysWrapper___3Wwvu",replaysTitle:"replays-setting__replaysTitle___3Pnnk",replaysText:"replays-setting__replaysText___1UH5-",replaysToggle:"replays-setting__replaysToggle___3kEnB",replaysToggleLabel:"replays-setting__replaysToggleLabel___27E5F",replayInfoIcon:"replays-setting__replayInfoIcon___10cFp",replaysSubTitle:"replays-setting__replaysSubTitle___3SEbb",replaySubTitleText:"replays-setting__replaySubTitleText___ip7w8",replaysViewsSubTitle:"replays-setting__replaysViewsSubTitle___2i3Dh"}},"./src/pieces/settings/replays-setting.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/react-router/es/index.js"),c=n("./src/pieces/feature-configuration/feature-configuration.reducer.js"),l=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),u=n.n(l),d=n("./node_modules/classnames/index.js"),_=n.n(d),m=n("./src/pieces/base/forms/checkbox-toggle.tsx"),g=n("./src/pieces/base/icons/icon.js"),b=(n("./node_modules/bows/bows.js")("Trash-icon"),function(e){var t=e.color,n=void 0===t?"#000":t;return r.a.createElement(g.a,null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},r.a.createElement("path",{fill:n,d:"M26.19 27.88l.607-13.057h1.053c.36 0 .65-.315.65-.683a.664.664 0 00-.65-.674h-4.013V12.12c0-1.293-.852-2.119-2.204-2.119H18.35c-1.352 0-2.195.826-2.195 2.12v1.347H12.15c-.351 0-.65.314-.65.673 0 .368.299.683.65.683h1.062l.606 13.067c.062 1.284.887 2.11 2.16 2.11h8.053c1.255 0 2.098-.835 2.16-2.12zM17.56 12.21c0-.513.36-.872.895-.872h3.083c.535 0 .904.36.904.871v1.258H17.56v-1.258zM16.1 28.643c-.5 0-.878-.386-.904-.916l-.615-12.905h10.81l-.58 12.905c-.026.539-.395.916-.922.916h-7.789zm6.507-1.572c.29 0 .5-.242.51-.584l.263-9.42c.009-.333-.211-.584-.51-.584-.272 0-.5.26-.509.584L22.1 26.48c-.01.332.21.592.509.592zm-5.207 0c.298 0 .518-.26.51-.592l-.273-9.412c-.009-.324-.237-.584-.51-.584-.298 0-.518.251-.509.584l.264 9.42c.009.342.22.584.518.584zm2.599 0c.29 0 .536-.26.536-.584v-9.42c0-.324-.246-.584-.536-.584-.281 0-.527.26-.527.584v9.42c0 .324.246.584.527.584z"})))}),p=(n("./node_modules/bows/bows.js")("Off-air-icon"),function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"62",height:"32",fill:"none",viewBox:"0 0 62 32"},r.a.createElement("path",{fill:"#646482",fillRule:"evenodd",d:"M40.994 4.572c3.126 0 5.67 2.562 5.67 5.713v4.572c0 .631-.508 1.143-1.135 1.143a1.138 1.138 0 01-1.133-1.143A5.63 5.63 0 0140.994 16c-3.124 0-5.668-2.564-5.668-5.715 0-3.15 2.544-5.713 5.668-5.713zm-30.326 0c3.126 0 5.67 2.562 5.67 5.713 0 3.151-2.544 5.715-5.67 5.715C7.543 16 5 13.436 5 10.285c0-3.15 2.543-5.713 5.668-5.713zm38.262 0c.627 0 1.135.511 1.135 1.142v9.143c0 .63-.508 1.143-1.135 1.143a1.139 1.139 0 01-1.133-1.143V5.714c0-.63.507-1.143 1.133-1.143zm7.936 0c.627 0 1.134.511 1.134 1.142 0 .631-.507 1.143-1.134 1.143-1.876 0-3.401 1.538-3.401 3.428v4.572c0 .63-.507 1.143-1.133 1.143a1.139 1.139 0 01-1.134-1.143v-4.572c0-3.15 2.543-5.714 5.668-5.714zM29.374 0c.626 0 1.134.512 1.134 1.143 0 .63-.508 1.143-1.134 1.143a3.408 3.408 0 00-3.206 2.286h3.206c.626 0 1.134.51 1.134 1.143 0 .63-.508 1.142-1.134 1.142h-3.401v8c0 .631-.507 1.142-1.133 1.142a1.138 1.138 0 01-1.135-1.143v-8h-3.968v8c0 .632-.508 1.143-1.132 1.143a1.138 1.138 0 01-1.134-1.143V5.715C17.47 2.564 20.013 0 23.139 0c.627 0 1.134.512 1.134 1.143 0 .63-.507 1.143-1.134 1.143a3.41 3.41 0 00-3.206 2.286h3.886C24.347 1.967 26.637 0 29.374 0zm11.62 6.857c-1.875 0-3.401 1.538-3.401 3.428 0 1.891 1.526 3.43 3.401 3.43 1.876 0 3.402-1.539 3.402-3.43 0-1.89-1.526-3.428-3.402-3.428zm-30.326 0c-1.876 0-3.401 1.538-3.401 3.428 0 1.891 1.525 3.43 3.401 3.43s3.402-1.539 3.402-3.43c0-1.89-1.526-3.428-3.402-3.428zM48.93 0c.627 0 1.135.512 1.135 1.143s-.508 1.143-1.135 1.143a1.139 1.139 0 01-1.133-1.143c0-.63.507-1.143 1.133-1.143z",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#B1B1C0",d:"M20.196 19.12V28h-1.368v-8.88h1.368zm4.68 2.184c.64 0 1.215.136 1.727.408.512.272.912.664 1.2 1.176.288.512.432 1.112.432 1.8 0 .696-.144 1.3-.432 1.812a2.929 2.929 0 01-1.2 1.176 3.625 3.625 0 01-1.728.408c-.64 0-1.216-.136-1.728-.408a3.028 3.028 0 01-1.2-1.176c-.288-.52-.432-1.124-.432-1.812s.144-1.288.432-1.8a3.028 3.028 0 011.2-1.176 3.625 3.625 0 011.728-.408zm0 1.188c-.353 0-.677.08-.973.24-.296.16-.536.408-.72.744-.176.328-.264.732-.264 1.212 0 .488.088.896.264 1.224.184.328.424.572.72.732.296.16.62.24.972.24s.676-.08.972-.24a1.74 1.74 0 00.708-.732c.184-.328.276-.736.276-1.224 0-.48-.092-.884-.276-1.212a1.726 1.726 0 00-.708-.744c-.296-.16-.62-.24-.972-.24zm7.699-1.188c.64 0 1.216.136 1.728.408.512.272.912.664 1.2 1.176.288.512.432 1.112.432 1.8 0 .696-.144 1.3-.432 1.812a2.929 2.929 0 01-1.2 1.176 3.625 3.625 0 01-1.728.408c-.64 0-1.216-.136-1.728-.408a3.028 3.028 0 01-1.2-1.176c-.288-.52-.432-1.124-.432-1.812s.144-1.288.432-1.8a3.028 3.028 0 011.2-1.176 3.625 3.625 0 011.728-.408zm0 1.188c-.352 0-.676.08-.972.24-.296.16-.536.408-.72.744-.176.328-.264.732-.264 1.212 0 .488.088.896.264 1.224.184.328.424.572.72.732.296.16.62.24.972.24s.676-.08.972-.24a1.74 1.74 0 00.708-.732c.184-.328.276-.736.276-1.224 0-.48-.092-.884-.276-1.212a1.726 1.726 0 00-.708-.744c-.296-.16-.62-.24-.972-.24zm8.467-1.188a2.9 2.9 0 011.536.408c.456.272.812.664 1.068 1.176.256.512.384 1.112.384 1.8 0 .696-.128 1.3-.384 1.812a2.776 2.776 0 01-1.068 1.176 2.9 2.9 0 01-1.536.408c-.6 0-1.112-.148-1.536-.444a2.322 2.322 0 01-.888-1.176v4.68H37.25v-9.756h1.368v1.536c.168-.488.464-.88.888-1.176.424-.296.936-.444 1.536-.444zm-.42 1.2c-.384 0-.728.092-1.032.276a1.859 1.859 0 00-.72.768 2.375 2.375 0 00-.264 1.14c0 .44.088.824.264 1.152.176.328.416.584.72.768.304.176.648.264 1.032.264.608 0 1.096-.192 1.464-.576.368-.392.552-.928.552-1.608 0-.672-.184-1.204-.552-1.596-.368-.392-.856-.588-1.464-.588z"}))}),f=n("./node_modules/reselect/lib/index.js"),h=n("./node_modules/react-modal/lib/index.js"),v=n.n(h),w=n("./src/pieces/stage/vod-stream-hls.tsx"),C=n("./src/pieces/settings/settings.reducer.js"),y=n("./src/pieces/settings/preview-replay.scss"),j=n.n(y),O=(n("./node_modules/bows/bows.js")("Preview-replay"),Object(i.a)(Object(o.b)(Object(f.createStructuredSelector)({previewDialogIsActive:C.selectPreviewDialogIsActive,previewDialogActiveId:C.selectPreviewDialogActiveId}),{CompletePreviewDialog:C.CompletePreviewDialog}))(function(e){var t=e.video,n=e.previewDialogActiveId,a=e.previewDialogIsActive,i=e.CompletePreviewDialog,o={broadcastId:t.broadcastId,broadcastTitle:t.broadcastTitle,contentUrl:t.contentUrl};return r.a.createElement(v.a,{overlayClassName:j.a.overlay,className:j.a.container,isOpen:a&&n===t.broadcastId,onRequestClose:i},r.a.createElement("div",null,r.a.createElement("div",{className:j.a.content},r.a.createElement("div",{className:j.a.previewHlsVideo},r.a.createElement(w.a,{className:j.a.visible,videoDetails:o})),r.a.createElement("div",{className:j.a.footer},r.a.createElement("div",{className:j.a.details},r.a.createElement("div",{className:j.a.videoTitle},t.broadcastTitle),t.views&&t.broadcastDate&&r.a.createElement("div",{className:j.a.videoDetails},r.a.createElement("div",{className:j.a.views},t.views," views"),r.a.createElement("div",{className:j.a.creationDate},t.broadcastDate)))))))})),S=(n("./node_modules/bows/bows.js")("Seventeen-plus-rating-label"),function(){return r.a.createElement("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0C3.6176 0 1.63587 0 0.739742 0.986322C0 1.80051 0 3.2868 0 6C0 8.7132 0 10.1995 0.739742 11.0137C1.63587 12 3.6176 12 8 12C12.3824 12 14.3641 12 15.2603 11.0137C16 10.1995 16 8.7132 16 6C16 3.2868 16 1.80051 15.2603 0.986322C14.3641 0 12.3824 0 8 0ZM3 3.5C3 3.22386 3.22386 3 3.5 3C3.77614 3 4 3.22386 4 3.5V8.5C4 8.77614 3.77614 9 3.5 9C3.22386 9 3 8.77614 3 8.5V3.5ZM10.5 4.5C10.5 4.22386 10.7239 4 11 4C11.2761 4 11.5 4.22386 11.5 4.5V5.5H12.5C12.7761 5.5 13 5.72386 13 6C13 6.27614 12.7761 6.5 12.5 6.5H11.5V7.5C11.5 7.77614 11.2761 8 11 8C10.7239 8 10.5 7.77614 10.5 7.5V6.5H9.5C9.22386 6.5 9 6.27614 9 6C9 5.72386 9.22386 5.5 9.5 5.5H10.5V4.5ZM5 3.5C5 3.22386 5.22386 3 5.5 3H8C8.27614 3 8.5 3.22386 8.5 3.5C8.5 3.52292 8.49846 3.54549 8.49547 3.56759C8.48868 3.62203 8.47275 3.67627 8.44696 3.72819L5.96803 8.71785C5.84517 8.96515 5.54509 9.06603 5.29778 8.94317C5.05048 8.8203 4.9496 8.52022 5.07246 8.27292L7.19531 4H5.5C5.22386 4 5 3.77614 5 3.5Z",fill:"black"}))}),E=n("./src/pieces/base/constants.js"),x=n("./src/pieces/base/forms/catalog.scss"),k=n.n(x),I=n("./src/pieces/base/infinite-scroll/index.tsx"),T=(n("./node_modules/bows/bows.js")("Catalog"),function(e){e.className;var t,n=e.videosId,i=e.videos,o=e.onDelete,s=e.onAddReplayVideo,c=e.onPreview,l=e.onFetchMoreVideos,d=e.hasMoreVideos,g=e.isError,f=e.isLastReplay,h=e.isLastReplayOff,v=function(e){return f?h:e.hidden},w=Object(a.useCallback)(function(e,t){s(e,t)},[]),C=Object(a.useCallback)(function(e,t){t.hidden&&!f||c(e,t.broadcastId)},[]);return r.a.createElement("div",null,i.length>0&&r.a.createElement("ul",{className:k.a.listWrapper},g?r.a.createElement("li",null,r.a.createElement("div",{className:_()((t={},u()(t,k.a.elementWrapper,!0),u()(t,k.a.errorWrapper,!0),t))},"We\u2019re sorry, but something went wrong. Please try again.")):r.a.createElement("div",{className:_()(u()({},k.a.scrollableArea,i.length>5)),id:"".concat(n,"-scrollableVideos")},r.a.createElement(I.a,{loadMore:function(){l&&l()},hasMore:d,loadingComponent:r.a.createElement("h4",null,"Loading...")},i.map(function(e){var t,a,i,s,c={video:e};return r.a.createElement("li",{key:"".concat(n,"-").concat(e.broadcastId)},r.a.createElement("div",{className:_()((t={},u()(t,k.a.elementWrapper,!0),u()(t,k.a.disabled,v(e)),t))},r.a.createElement("div",{className:_()((a={},u()(a,k.a.thumbnailWrapper,!0),u()(a,k.a.disabled,v(e)),a)),onClick:f?function(){}:function(t){return C(t,e)}},r.a.createElement("img",{id:"".concat(n,"-preview-dialog-show"),className:k.a.thumbnail,src:e.thumbnailImagePath}),!f&&r.a.createElement(O,c)),r.a.createElement("div",{className:_()((i={},u()(i,k.a.elementDetails,!0),u()(i,k.a.disabled,v(e)),i))},r.a.createElement("div",{className:k.a.title},e.contentRating===E.U&&r.a.createElement("div",{className:k.a.ratingLabelWrapper},r.a.createElement(S,null)),e.broadcastTitle),r.a.createElement("div",{className:k.a.subtitlesWrapper},r.a.createElement("div",null,e.broadcastDate),r.a.createElement("div",null,e.contentDuration))),r.a.createElement("div",{className:k.a.toggleWrapper},f?r.a.createElement(p,null):r.a.createElement(m.a,{inputProps:{id:e.broadcastId},lightTheme:!0,className:k.a.videoToggle,labelClassName:k.a.replaysToggleLabel,value:!e.hidden,onChange:function(){return w(e.broadcastId,!e.hidden)}})),r.a.createElement("div",{className:_()((s={},u()(s,k.a.deleteButtonWrapper,!0),u()(s,k.a.enabled,v(e)),s))},!f&&r.a.createElement("button",{className:k.a.deleteButton,onClick:function(){return o(e.broadcastId)}},r.a.createElement(b,{color:"#fff"})))))})))))}),F=n("./src/pieces/current-user/current-user.reducer.js"),P=n("./src/pieces/settings/replays-setting.scss"),N=n.n(P),M=n("./src/pieces/base/snack-pill.tsx"),L=(n("./node_modules/bows/bows.js")("Replays-setting"),Object(i.a)(Object(o.b)(function(e){return{user:Object(F.selectCurrentUser)(e),useVodV3:Object(c.selectUseVodV3)(e),catalog:Object(C.selectStageVodCatalog)(e),catalogError:Object(C.selectStageVodCatalogError)(e),catalogListError:Object(C.selectStageVodCatalogListError)(e),hasMoreVideos:Object(C.selectHasMoreVideos)(e)}},{SetCatalogError:C.SetCatalogError,selectStageVodCatalog:C.selectStageVodCatalog,DeleteReplayVideo:C.DeleteReplayVideo,ChangeVideoVisibility:C.ChangeVideoVisibility,ShowPreviewDialog:C.ShowPreviewDialog,MarkPreviewDialogButtonAsClicked:C.MarkPreviewDialogButtonAsClicked,FetchMoreCatalogList:C.FetchMoreCatalogList}),s.e));t.a=L(function(e){var t=e.user,n=e.catalog,a=void 0===n?[]:n,i=e.catalogError,o=e.catalogListError,s=e.hasMoreVideos,c=e.SetCatalogError,l=e.ChangeVideoVisibility,u=e.DeleteReplayVideo,d=e.ShowPreviewDialog,_=e.MarkPreviewDialogButtonAsClicked,m=e.FetchMoreCatalogList,g=e.useVodV3;return r.a.createElement("div",{className:N.a.replaysWrapper},g&&r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("span",{className:N.a.replaysTitle},"Video Library"),r.a.createElement("span",{className:N.a.replaysViewsSubTitle},a.vodItems&&r.a.createElement("span",{className:N.a.replaysViewsAmount},a.vodItems.length," Videos"),a.vodItems&&a.vodItems.length>0&&r.a.createElement("span",{className:N.a.replaysViewsVisibility},"Visibility"))),a.vodItems&&r.a.createElement(T,{videos:a.vodItems,videosId:"catalog-video",onDelete:function(e){u(t.caid,e)},onAddReplayVideo:function(e,n){l(t.caid,e,n)},onPreview:function(e,t){"catalog-video-preview-dialog-show"===e.target.id&&(d(t),_())},onFetchMoreVideos:function(){m(t.caid,10,a.lastIndex)},hasMoreVideos:s,isError:o})),r.a.createElement(M.a,{show:i,anchor:"topCenter",animationDirection:"top",offsetTop:5,positionFixed:!0,title:"We\u2019re sorry, but something went wrong. Please try again.",backgroundColor:"red",onClose:function(){c(!1)}}))})},"./src/pieces/settings/save-button.scss":function(e,t,n){e.exports={saveButton:"save-button__saveButton___2oH-6 buttons__redesign_buttonWithHoverEffect___1Ud0c buttons__redesign_button___ZSYNe",saveMessageContainer:"save-button__saveMessageContainer___3n4nn",saveErrorMessage:"save-button__saveErrorMessage___1EpS1",saveSucceededMessage:"save-button__saveSucceededMessage___1JxFj save-button__saveErrorMessage___1EpS1",saveSucceededMessageContainer:"save-button__saveSucceededMessageContainer___3L5GN"}},"./src/pieces/settings/save-button.tsx":function(e,t,n){"use strict";(function(e){var a=n("./src/pieces/settings/save-button.scss"),r=n.n(a);n("./node_modules/bows/bows.js")("Save-button");t.a=function(t){t.dudleyComponentName;var n=t.error,a=t.hasValidChanges,i=t.submitting,o=t.submitSucceeded,s=t.successMessage,c=void 0===s?"Changes saved!":s;return e.createElement(e.Fragment,null,e.createElement("div",{className:r.a.saveMessageContainer},o&&!a&&e.createElement("div",{className:r.a.saveSucceededMessageContainer},e.createElement("div",{className:r.a.saveSucceededMessage},c)),n&&e.createElement("div",{className:r.a.saveErrorMessage},n)),e.createElement("button",{type:"submit",className:r.a.saveButton,disabled:i||!a},"save"))}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/settings/settings-frame.scss":function(e,t,n){e.exports={settingsFrame:"settings-frame__settingsFrame___foBva",settingsLabel:"settings-frame__settingsLabel___2iCNt",basicLabel:"settings-frame__basicLabel___1MOMV",tab:"settings-frame__tab___1i1ci settings-frame__basicLabel___1MOMV",activeTab:"settings-frame__activeTab___38Vlf",tabs:"settings-frame__tabs___36eVh",settingsTabSpacer:"settings-frame__settingsTabSpacer___1f1I_",labelColumn:"settings-frame__labelColumn___1K8gU settings-frame__basicLabel___1MOMV",mainColumn:"settings-frame__mainColumn___3HSft",mainColumnInputBase:"settings-frame__mainColumnInputBase___1a73L forms__redesign_inputBase___3tWUb",profileInputBase:"settings-frame__profileInputBase___13vJi forms__redesign_inputBase___3tWUb",profileTextarea:"settings-frame__profileTextarea___Q5qeo forms__redesign_inputBase___3tWUb",profileTextareaField:"settings-frame__profileTextareaField___23uKA",profileAvatarField:"settings-frame__profileAvatarField___1GcC6",row:"settings-frame__row___jyMFF",rowWithSubsequentRow:"settings-frame__rowWithSubsequentRow___S-5eG settings-frame__row___jyMFF",profileSettingsRow:"settings-frame__profileSettingsRow___2x6-B settings-frame__row___jyMFF",goldSettingsRowContent:"settings-frame__goldSettingsRowContent___Kfwup",goldSettingsText:"settings-frame__goldSettingsText___2wtUW",goldSettingsGrayText:"settings-frame__goldSettingsGrayText___2JSlT",settingsLink:"settings-frame__settingsLink___1x8GQ links__redesign_link___2bKIw",settingsLinkRed:"settings-frame__settingsLinkRed___egk6o settings-frame__settingsLink___1x8GQ links__redesign_link___2bKIw links__redesign_warningLink___QesXh links__link___2NuBA",settingsLinkInMaintenanceMode:"settings-frame__settingsLinkInMaintenanceMode___22pUP settings-frame__settingsLink___1x8GQ links__redesign_link___2bKIw",maintenanceModeMessage:"settings-frame__maintenanceModeMessage___1WuUp maintenance-mode__maintenanceModeMessage___-MjFa",transactionHistoryLink:"settings-frame__transactionHistoryLink___yxEbd settings-frame__settingsLink___1x8GQ links__redesign_link___2bKIw",deleteButton:"settings-frame__deleteButton___1v7UC buttons__redesign_deleteButtonWithHoverEffect___2vHof buttons__redesign_button___ZSYNe",paymentDescription:"settings-frame__paymentDescription___UbkN_",paymentDescriptionLink:"settings-frame__paymentDescriptionLink___JKm8- settings-frame__settingsLink___1x8GQ links__redesign_link___2bKIw",digitalCurrencyContainer:"settings-frame__digitalCurrencyContainer___3Jl8z",currencyAmountLarge:"settings-frame__currencyAmountLarge___uT3wO",socialAccountName:"settings-frame__socialAccountName___2tTH5 settings-frame__basicLabel___1MOMV",modalContentUnclipped:"settings-frame__modalContentUnclipped___3QsZd",modalContent:"settings-frame__modalContent___3Tnbi",modalOverlay:"settings-frame__modalOverlay___IOoBy",goldModalContent:"settings-frame__goldModalContent___1TIj5",goldModalOverlay:"settings-frame__goldModalOverlay___1cxh1",clippedCornerBorder:"settings-frame__clippedCornerBorder___2-BSL",settingsContent:"settings-frame__settingsContent___MDfcN",settingsLeft:"settings-frame__settingsLeft___1JbN8",settingsRight:"settings-frame__settingsRight___3QYn7",settingsCenter:"settings-frame__settingsCenter___1-G45",settingsText:"settings-frame__settingsText___xevBw settings-frame__basicLabel___1MOMV"}},"./src/pieces/settings/settings-frame.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/react/index.js"),r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./node_modules/react-router/es/index.js"),s=n("./node_modules/reselect/lib/index.js"),c=n("./src/pieces/current-user/current-user.reducer.js"),l=n("./src/pieces/feature-configuration/feature-configuration.reducer.js"),u=n("./src/pieces/settings/settings.reducer.js"),d=n("./src/pieces/settings/account-settings.tsx"),_=n("./src/pieces/settings/profile-settings.tsx"),m=n("./src/pieces/settings/gold-settings.tsx"),g=n("./src/pieces/settings/notification-settings.tsx"),b=n("./src/pieces/settings/replays-setting.tsx"),p=n("./src/pieces/settings/ignored-users.tsx"),f=n("./src/pieces/settings/settings-frame.scss"),h=n.n(f),v=(n("./node_modules/bows/bows.js")("Settings-frame"),Object(i.a)(Object(r.b)(Object(s.createStructuredSelector)({currentUser:c.selectCurrentUser,settingsAreInitialized:u.selectSettingsAreInitialized,useVodV2:l.selectUseVodV2}),{LoadSettings:u.LoadSettings}),o.e));t.a=v(function(t){var n=t.currentUser,r=t.location,i=t.settingsAreInitialized,s=t.LoadSettings,c=t.useVodV2;Object(a.useEffect)(function(){s()},[r.pathname]);var l=r.pathname.split(/\//);l.shift();var u=Object(a.useCallback)(function(){if(l.length<2)return e.createElement(_.a,null);switch(l[1]){case"account":return e.createElement(d.a,null);case"videos":return e.createElement(b.a,null);case"gold":return e.createElement(m.a,null);case"notifications":return e.createElement(g.a,null);case"ignored":return e.createElement(p.a,null);default:return e.createElement(_.a,null)}},[r.pathname]);return n&&i?e.createElement("div",{className:h.a.settingsFrame},e.createElement("div",{className:h.a.settingsContent},e.createElement("div",{className:h.a.settingsLeft}),e.createElement("div",{className:h.a.settingsCenter},e.createElement("div",{className:h.a.settingsLabel},"Settings"),e.createElement("div",{className:h.a.tabs},e.createElement(o.a,{className:h.a.tab,activeClassName:h.a.activeTab,to:"/settings"},"Profile"),e.createElement(o.b,{className:h.a.tab,activeClassName:h.a.activeTab,to:"/settings/account"},"Account"),c&&e.createElement(o.b,{className:h.a.tab,activeClassName:h.a.activeTab,to:"/settings/videos"},"My Videos"),e.createElement(o.b,{className:h.a.tab,activeClassName:h.a.activeTab,to:"/settings/gold"},"Gold and credits"),e.createElement(o.b,{className:h.a.tab,activeClassName:h.a.activeTab,to:"/settings/notifications"},"Notifications"),e.createElement(o.b,{className:h.a.tab,activeClassName:h.a.activeTab,to:"/settings/ignored"},"Ignored users")),e.createElement("div",{className:h.a.settingsTabSpacer}),e.createElement(u,null)),e.createElement("div",{className:h.a.settingsRight}))):null})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/settings/settings.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ModalContentEnum",function(){return _}),n.d(t,"id",function(){return m}),n.d(t,"LoadSettings",function(){return g}),n.d(t,"SetNotificationSettings",function(){return b}),n.d(t,"DisconnectSocialAccount",function(){return p}),n.d(t,"DeleteAccount",function(){return f}),n.d(t,"SetIgnoredUsers",function(){return h}),n.d(t,"SetUserTransactionHistory",function(){return v}),n.d(t,"SetUserCashOutHistory",function(){return w}),n.d(t,"LoadUserTransactionHistory",function(){return C}),n.d(t,"LoadUserCashOutHistory",function(){return y}),n.d(t,"SetCurrentTime",function(){return j}),n.d(t,"SetActiveTransactionHistoryTab",function(){return O}),n.d(t,"SetModalContent",function(){return S}),n.d(t,"LoadMoreUserTransactionHistory",function(){return E}),n.d(t,"LoadMoreUserCashOutHistory",function(){return x}),n.d(t,"LoadCatalogList",function(){return k}),n.d(t,"FetchMoreCatalogList",function(){return I}),n.d(t,"SetHasMoreTransactions",function(){return T}),n.d(t,"SetHasMoreCashOutTransactions",function(){return F}),n.d(t,"SetIsReplayAutoPlayEnabled",function(){return P}),n.d(t,"SetCatalogList",function(){return N}),n.d(t,"SetCatalogLength",function(){return M}),n.d(t,"SetCatalogError",function(){return L}),n.d(t,"SetCatalogListError",function(){return B}),n.d(t,"ChangeVideoVisibility",function(){return A}),n.d(t,"DeleteReplayVideo",function(){return D}),n.d(t,"MarkPreviewDialogButtonAsClicked",function(){return U}),n.d(t,"ShowPreviewDialog",function(){return R}),n.d(t,"CompletePreviewDialog",function(){return H}),n.d(t,"SetHasMoreVideos",function(){return W}),n.d(t,"PromiseProfileSettingsFormSubmission",function(){return z}),n.d(t,"SubmitProfileSettingsForm",function(){return G}),n.d(t,"ReportProfileSettingsFormSuccess",function(){return q}),n.d(t,"ReportProfileSettingsFormFailure",function(){return J}),n.d(t,"PromiseAccountSettingsFormSubmission",function(){return Y}),n.d(t,"SubmitAccountSettingsForm",function(){return Q}),n.d(t,"ReportAccountSettingsFormSuccess",function(){return K}),n.d(t,"ReportAccountSettingsFormFailure",function(){return X}),n.d(t,"PromiseNotificationSettingsFormSubmission",function(){return ee}),n.d(t,"SubmitNotificationSettingsForm",function(){return te}),n.d(t,"ReportNotificationSettingsFormSuccess",function(){return ne}),n.d(t,"ReportNotificationSettingsFormFailure",function(){return ae}),n.d(t,"selectNotificationSettings",function(){return re}),n.d(t,"selectSettingsAreInitialized",function(){return ie}),n.d(t,"selectModalContent",function(){return oe}),n.d(t,"selectIgnoredUsers",function(){return se}),n.d(t,"selectUserTransactionHistory",function(){return ce}),n.d(t,"selectUserTransactionHistoryIsLoading",function(){return le}),n.d(t,"selectUserCashOutHistory",function(){return ue}),n.d(t,"selectCurrentTime",function(){return de}),n.d(t,"selectActiveTransactionHistoryTab",function(){return _e}),n.d(t,"selectHasMoreTransactions",function(){return me}),n.d(t,"selectHasMoreCashOutTransactions",function(){return ge}),n.d(t,"selectStageIsReplayAutoPlayEnabled",function(){return be}),n.d(t,"selectStageVodCatalog",function(){return pe}),n.d(t,"selectStageVodCatalogError",function(){return fe}),n.d(t,"selectStageVodCatalogListError",function(){return he}),n.d(t,"selectPreviewDialogButtonClicked",function(){return ve}),n.d(t,"selectPreviewDialogIsActive",function(){return we}),n.d(t,"selectPreviewDialogActiveId",function(){return Ce}),n.d(t,"selectHasMoreVideos",function(){return ye}),n.d(t,"selectCatalogLength",function(){return je});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/immutable/dist/immutable.js"),s=n.n(o),c=n("./node_modules/redux-actions/es/createAction.js"),l=n("./node_modules/redux-actions/es/handleActions.js"),u=n("./node_modules/reselect/lib/index.js"),d=n("./src/pieces/base/forms/create-form-actions.js"),_=(n("./node_modules/bows/bows.js")("Settings.reducer"),{AddingCreditCard:"AddingCreditCard",BuyingGold:"BuyingGold",BuyingGoldWithCredits:"BuyingGoldWithCredits",None:"None",CashingOut:"CashingOut",LinkURLTVAccount:"LinkURLTVAccount"}),m="settings",g=Object(c.a)("Load Settings",function(){return null}),b=Object(c.a)("Set Notification Preferences",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),p=Object(c.a)("Disconnect Social Account",function(e,t,n){return{providerName:e,caid:t,identityUid:n}}),f=Object(c.a)("Delete Account",function(e){return e}),h=Object(c.a)("Set Ignored Users",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e:[e]}),v=Object(c.a)("Set User Transaction History",function(e){return e}),w=Object(c.a)("Set User Cash Out History",function(e){return e}),C=Object(c.a)("Load User Transaction History",function(){return null}),y=Object(c.a)("Load User Cash Out History",function(){return null}),j=Object(c.a)("Set Current Time",function(e){return e}),O=Object(c.a)("Set Active Transaction History Tab",function(e){return e}),S=Object(c.a)("Set Buying Gold",function(e){return e}),E=Object(c.a)("Load More Transactions",function(){return null}),x=Object(c.a)("Load More Cash Out Transactions",function(){return null}),k=Object(c.a)("Load Catalog List",function(e){return{caid:e}}),I=Object(c.a)("Fetch More Catalog List",function(e,t,n){return{caid:e,limit:t,lastIndex:n}}),T=Object(c.a)("Set Has More Transactions",function(e){return e}),F=Object(c.a)("Set Has More Cash Out Transactions",function(e){return e}),P=Object(c.a)("Set isReplayAutoPlayEnabled or disable",function(e){return e}),N=Object(c.a)("Set catalog list",function(e){return e}),M=Object(c.a)("Set Catalog Length",function(e){return e}),L=Object(c.a)("Set catalog error",function(e){return e}),B=Object(c.a)("Set Catalog List Error",function(e){return e}),A=Object(c.a)("Change Video Visibility",function(e,t,n){return{caid:e,broadcastId:t,hidden:n}}),D=Object(c.a)("Delete Replay Video",function(e,t){return{caid:e,broadcastId:t}}),U=Object(c.a)("Mark Preview Dialog Button As Clicked",function(){return null}),R=Object(c.a)("Show Preview Dialog"),H=Object(c.a)("Complete Preview Dialog"),W=Object(c.a)("Set Has More Videos",function(e){return e}),V=Object(d.a)("Profile Settings",function(e){return e}),z=V.promiseFormSubmission,G=V.submit,q=V.succeed,J=V.fail,Z=Object(d.a)("Account Settings",function(e){return e}),Y=Z.promiseFormSubmission,Q=Z.submit,K=Z.succeed,X=Z.fail,$=Object(d.a)("Notification Settings",function(e){return e}),ee=$.promiseFormSubmission,te=$.submit,ne=$.succeed,ae=$.fail,re=Object(u.createSelector)(function(e){return e[m].get("notificationSettings")},function(e){return e?e.toJS():{}}),ie=function(e){return e[m].get("settingsAreInitialized")},oe=function(e){return e[m].get("modalContent")},se=Object(u.createSelector)(function(e){return e[m].get("ignoredUsers")},function(e){return e?e.toJS():[]}),ce=Object(u.createSelector)(function(e){return e[m].get("transactions")},function(e){return e.toJS()}),le=function(e){return e[m].get("userTransactionHistoryIsLoading")},ue=Object(u.createSelector)(function(e){return e[m].get("cashOutTransactions")},function(e){return e.toJS()}),de=function(e){return e[m].get("currentTime")},_e=function(e){return e[m].get("activeTransactionHistoryTab")},me=function(e){return e[m].get("hasMoreTransactions")},ge=function(e){return e[m].get("hasMoreCashOutTransactions")},be=function(e){return e[m].get("isReplayAutoPlayEnabled")},pe=function(e){return e[m].get("catalog")},fe=function(e){return e[m].get("catalogError")},he=function(e){return e[m].get("catalogListError")},ve=function(e){return e[m].get("previewDialogButtonClicked")},we=function(e){return e[m].get("previewDialogIsActive")},Ce=function(e){return e[m].get("previewDialogActiveId")},ye=function(e){return e[m].get("hasMoreVideos")},je=function(e){return e[m].get("catalogLength")};t.default=Object(l.a)((a={},i()(a,b,function(e,t){var n=t.payload;return e.set("notificationSettings",s.a.fromJS(n)).set("settingsAreInitialized",!0)}),i()(a,h,function(e,t){var n=t.payload;return e.set("ignoredUsers",s.a.fromJS(n))}),i()(a,v,function(e,t){var n=t.payload;return e.set("transactions",s.a.fromJS(n)).set("userTransactionHistoryIsLoading",!1)}),i()(a,w,function(e,t){var n=t.payload;return e.set("cashOutTransactions",s.a.fromJS(n))}),i()(a,C,function(e){return e.set("userTransactionHistoryIsLoading",!0)}),i()(a,j,function(e,t){var n=t.payload;return e.set("currentTime",n)}),i()(a,O,function(e,t){var n=t.payload;return e.set("activeTransactionHistoryTab",n)}),i()(a,S,function(e,t){var n=t.payload;return e.set("modalContent",n)}),i()(a,T,function(e,t){var n=t.payload;return e.set("hasMoreTransactions",n)}),i()(a,F,function(e,t){var n=t.payload;return e.set("hasMoreCashOutTransactions",n)}),i()(a,P,function(e,t){var n=t.payload;return e.set("isReplayAutoPlayEnabled",n)}),i()(a,N,function(e,t){var n=t.payload;return e.set("catalog",n)}),i()(a,M,function(e,t){var n=t.payload;return e.set("catalogLength",n)}),i()(a,L,function(e,t){var n=t.payload;return e.set("catalogError",n)}),i()(a,B,function(e,t){var n=t.payload;return e.set("catalogListError",n)}),i()(a,R,function(e,t){var n=t.payload;return e.set("previewDialogIsActive",!0).set("previewDialogActiveId",n)}),i()(a,U,function(e){return e.set("previewDialogButtonClicked",!0)}),i()(a,H,function(e){return e.set("previewDialogIsActive",!1).set("previewDialogButtonClicked",!1)}),i()(a,W,function(e,t){var n=t.payload;return e.set("hasMoreVideos",n)}),a),s.a.fromJS({notificationSettings:{},ignoredUsers:[],settingsAreInitialized:!1,transactions:[],cashOutTransactions:[],userTransactionHistoryIsLoading:!0,activeTransactionHistoryTab:"ALL",currentTime:null,modalContent:_.None,hasMoreTransactions:!1,hasMoreCashOutTransactions:!1,hasMoreVideos:!0,isReplayAutoPlayEnabled:!1,catalog:[],catalogLength:10,previewDialogIsActive:!1,previewDialogButtonClicked:!1}))},"./src/pieces/settings/settings.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return K});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./src/pieces/base/core.types.ts"),o=n("./node_modules/redux-saga/es/effects.js"),s=n("./src/pieces/base/constants.js"),c=n("./src/pieces/base/saga-utilities.js"),l=n("./src/pieces/base/api/users.api.js"),u=n("./src/pieces/base/api/stages.api.js"),d=n("./src/pieces/base/api/account.api.js"),_=n("./src/pieces/base/api/transactions.api.js"),m=n("./src/pieces/users/users.reducer.js"),g=n("./src/pieces/current-user/current-user.sagas.js"),b=n("./src/pieces/current-user/current-user.reducer.js"),p=n("./src/pieces/authentication/authentication.reducer.js"),f=n("./src/pieces/feature-configuration/feature-configuration.reducer.js"),h=n("./src/pieces/base/simple-dialog/simple-dialog.sagas.js"),v=(n("./src/pieces/payment/stripe.sagas.js"),n("./src/pieces/payment/cash-out.sagas.js")),w=n("./src/pieces/settings/settings.reducer.js"),C=r.a.mark(A),y=r.a.mark(D),j=r.a.mark(U),O=r.a.mark(R),S=r.a.mark(H),E=r.a.mark(W),x=r.a.mark(V),k=r.a.mark(z),I=r.a.mark(G),T=r.a.mark(q),F=r.a.mark(J),P=r.a.mark(Z),N=r.a.mark(Y),M=r.a.mark(Q),L=r.a.mark(K),B=n("./node_modules/bows/bows.js")("Settings.sagas");function A(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.providerName,n=e.caid,a=e.identityUid,B("handling disconnect social auth account",t,n,a),r.prev=2,r.next=5,Object(o.b)(l.a,t,n,a);case 5:return r.next=7,Object(o.g)(Object(m.RefreshCurrentUserIdentities)());case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(2),r.next=13,Object(o.b)(h.showDialog,{title:"Cannot disconnect account",body:"Your social account cannot be\n      disconnected at this time. Many\n      social media accounts can be\n      managed a few times per day",choices:["OK"]});case 13:case"end":return r.stop()}},C,null,[[2,9]])}function D(){var e,t,n,a,i,s,c;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(o.b)(g.fetchAndSaveCurrentUser);case 2:return e=r.sent,r.next=5,Object(o.i)(f.selectUseVodV3);case 5:if(!r.sent){r.next=9;break}return r.next=9,Object(o.g)(Object(w.LoadCatalogList)(e.caid));case 9:return r.next=11,Object(o.g)(Object(m.RefreshCurrentUserIdentities)());case 11:return r.next=13,Object(o.b)(v.refreshCashOutPaymentMethod);case 13:return r.next=15,Object(o.b)(d.b);case 15:return t=r.sent,r.next=18,Object(o.g)(Object(w.SetNotificationSettings)(t));case 18:return r.next=20,Object(o.b)(g.fetchAndSaveCurrentUser);case 20:return n=r.sent,a=n.caid,r.next=24,Object(o.b)(l.f,a);case 24:return i=r.sent,s=i.map(function(e){return e.caid}),r.next=28,Object(o.b)(l.k,s);case 28:return c=r.sent,r.next=31,Object(o.g)(Object(w.SetIgnoredUsers)(c));case 31:return r.next=33,Object(o.g)(Object(b.LoadRecentNotifications)());case 33:case"end":return r.stop()}},y)}function U(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return B("handling profile settings form submission",e),r.next=3,Object(o.b)(g.fetchAndSaveCurrentUser);case 3:if(t=r.sent,r.prev=4,e.profileName===t.name&&e.profileBiography===t.bio){r.next=14;break}return r.next=8,Object(o.b)(l.t,t.caid,{name:e.profileName,bio:e.profileBiography});case 8:return n=r.sent,a=n.user,r.next=12,Object(o.g)(Object(b.SetCurrentUser)(a));case 12:return r.next=14,Object(o.g)(Object(w.ReportProfileSettingsFormSuccess)());case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(4),r.next=20,Object(o.g)(Object(w.ReportProfileSettingsFormFailure)({_error:r.t0.errors||r.t0}));case 20:case"end":return r.stop()}},j,null,[[4,16]])}function R(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return B("handling account settings form submission",e),r.next=3,Object(o.b)(g.fetchAndSaveCurrentUser);case 3:if(t=r.sent,r.prev=4,e.email===t.email&&!e.newPassword){r.next=18;break}return r.next=8,Object(o.b)(d.n,{currentPassword:e.currentPassword,password:e.newPassword,email:e.email});case 8:return n=r.sent,a=n.credentials,r.next=12,Object(o.g)(Object(p.UpdateRefreshToken)(a.refreshToken));case 12:return r.next=14,Object(o.b)(g.fetchAndSaveCurrentUser,!0);case 14:return r.next=16,Object(o.g)(Object(w.ReportAccountSettingsFormSuccess)());case 16:r.next=20;break;case 18:return r.next=20,Object(o.g)(Object(w.ReportAccountSettingsFormFailure)());case 20:r.next=26;break;case 22:return r.prev=22,r.t0=r.catch(4),r.next=26,Object(o.g)(Object(w.ReportAccountSettingsFormFailure)({_error:r.t0.errors||r.t0}));case 26:case"end":return r.stop()}},O,null,[[4,22]])}function H(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return B("handling notification settings form submission",e),n.prev=1,n.next=4,Object(o.b)(d.o,e);case 4:return t=n.sent,n.next=7,Object(o.g)(Object(w.SetNotificationSettings)(t));case 7:return n.next=9,Object(o.g)(Object(w.ReportNotificationSettingsFormSuccess)());case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(o.g)(Object(w.ReportNotificationSettingsFormFailure)({_error:n.t0.errors||n.t0}));case 15:case"end":return n.stop()}},S,null,[[1,11]])}function W(e){var t,n,a,i,s,c,l,u,_,m;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t="Ok",n="Cancel",r.next=4,Object(o.b)(g.fetchAndSaveCurrentUser);case 4:return a=r.sent,i=a.username,r.next=8,Object(o.b)(h.showDialogWithInput,{title:"Enter your password",body:'This will permanently delete your account and related data. "'.concat(i,'" will be      unavailable for 30 days afterwards. There is no undo here! Please enter your password to      continue.'),inputPlaceholder:"Password",inputType:"password",choices:[n,t],dudleyComponent:"DeleteAccountPasswordDialog"});case 8:if(s=r.sent,c=s.choice,l=s.inputText,c!==t){r.next=34;break}return r.next=14,Object(o.b)(h.showDialogWithInput,{title:"Are you sure?",body:'This process cannot be reversed for any reason.        If you are certain you want to delete your account forever, type "DELETE"',inputType:"text",choices:[n,t],dudleyComponent:"DeleteAccountConfirmDialog"});case 14:if(u=r.sent,_=u.choice,m=u.inputText,_!==t){r.next=34;break}if("DELETE"!==m){r.next=32;break}return r.prev=19,r.next=22,Object(o.b)(d.a,e,l);case 22:return r.next=24,Object(o.g)(Object(p.SignOutUser)());case 24:r.next=30;break;case 26:return r.prev=26,r.t0=r.catch(19),r.next=30,Object(o.b)(h.showDialog,{title:"Error",body:"Your password did not match\u2014account not deleted.",choices:[t],dudleyComponent:"DeleteAccountPasswordErrorDialog"});case 30:r.next=34;break;case 32:return r.next=34,Object(o.b)(h.showDialog,{title:"Error",body:"You must enter the phrase exactly to continue.",choices:[t],dudleyComponent:"DeleteAccountDeleteErrorDialog"});case 34:case"end":return r.stop()}},E,null,[[19,26]])}function V(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.b)(_.b,"",{limit:s.Ue});case 2:return e=t.sent,t.next=5,Object(o.g)(Object(w.SetHasMoreTransactions)(!!(e.offset&&e.offset>0)));case 5:return t.next=7,Object(o.g)(Object(w.SetUserTransactionHistory)(e.transactions));case 7:return t.next=9,Object(o.g)(Object(w.SetCurrentTime)(Date.now()));case 9:case"end":return t.stop()}},x)}function z(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.b)(_.b,i.h.CashOut,{limit:s.Ue});case 2:return e=t.sent,t.next=5,Object(o.g)(Object(w.SetHasMoreCashOutTransactions)(!!(e.offset&&e.offset>0)));case 5:return t.next=7,Object(o.g)(Object(w.SetUserCashOutHistory)(e.transactions));case 7:case"end":return t.stop()}},k)}function G(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.i)(w.selectUserTransactionHistory);case 2:return e=n.sent,n.next=5,Object(o.b)(_.b,"",{limit:s.Ue,offset:e?e.length:0});case 5:return t=n.sent,n.next=8,Object(o.g)(Object(w.SetHasMoreTransactions)(!!(t.offset&&t.offset>0)));case 8:return n.next=10,Object(o.g)(Object(w.SetUserTransactionHistory)(e.concat(t.transactions)));case 10:case"end":return n.stop()}},I)}function q(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.i)(w.selectUserCashOutHistory);case 2:return e=n.sent,n.next=5,Object(o.b)(_.b,i.h.CashOut,{limit:s.Ue,offset:e?e.length:0});case 5:return t=n.sent,n.next=8,Object(o.g)(Object(w.SetHasMoreCashOutTransactions)(!!(t.offset&&t.offset>0)));case 8:return n.next=10,Object(o.g)(Object(w.SetUserCashOutHistory)(e.concat(t.transactions)));case 10:case"end":return n.stop()}},T)}function J(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.caid,r.prev=1,r.next=4,Object(o.i)(w.selectCatalogLength);case 4:return n=r.sent,r.next=7,Object(o.b)(u.f,t,n);case 7:return a=r.sent,r.next=10,Object(o.g)(Object(w.SetCatalogList)(a));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(o.g)(Object(w.SetCatalogListError)(!0));case 16:case"end":return r.stop()}},F,null,[[1,12]])}function Z(e){var t,n,a,i,s;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.caid,n=e.broadcastId,a=e.hidden,r.prev=1,r.next=4,Object(o.b)(u.h,t,n,a);case 4:return r.next=6,Object(o.i)(w.selectCatalogLength);case 6:return i=r.sent,r.next=9,Object(o.b)(u.f,t,i);case 9:return s=r.sent,r.next=12,Object(o.g)(Object(w.SetCatalogList)(s));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,Object(o.g)(Object(w.SetCatalogError)(!0));case 18:case"end":return r.stop()}},P,null,[[1,14]])}function Y(e){var t,n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.caid,n=e.broadcastId,r.next=3,Object(o.b)(h.showDialog,{title:"Delete Replay",body:"Are you sure you want to delete this replay?",choices:["Yes","No"]});case 3:if("Yes"!==r.sent){r.next=22;break}return r.prev=5,r.next=8,Object(o.b)(u.g,t,n);case 8:return r.next=10,Object(o.i)(w.selectCatalogLength);case 10:return a=r.sent,r.next=13,Object(o.b)(u.f,t,a);case 13:return i=r.sent,r.next=16,Object(o.g)(Object(w.SetCatalogList)(i));case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(5),r.next=22,Object(o.g)(Object(w.SetCatalogError)(!0));case 22:case"end":return r.stop()}},N,null,[[5,18]])}function Q(e){var t,n,a,i,s,c,l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.caid,n=e.limit,a=e.lastIndex,r.prev=1,r.next=4,Object(o.b)(u.f,t,n,a);case 4:if(""!==(i=r.sent).lastIndex){r.next=10;break}return r.next=8,Object(o.g)(Object(w.SetHasMoreVideos)(!1));case 8:r.next=21;break;case 10:return r.next=12,Object(o.g)(Object(w.SetHasMoreVideos)(!0));case 12:return r.next=14,Object(o.i)(w.selectStageVodCatalog);case 14:return s=r.sent,c=s.vodItems.concat(i.vodItems),l={caid:i.caid,lastIndex:i.lastIndex,vodItems:c},r.next=19,Object(o.g)(Object(w.SetCatalogLength)(c.length));case 19:return r.next=21,Object(o.g)(Object(w.SetCatalogList)(l));case 21:r.next=27;break;case 23:return r.prev=23,r.t0=r.catch(1),r.next=27,Object(o.g)(Object(w.SetCatalogListError)(!0));case 27:case"end":return r.stop()}},M,null,[[1,23]])}function K(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.h)(w.LoadSettings,D);case 2:return e.next=4,Object(c.h)(w.SubmitProfileSettingsForm,U);case 4:return e.next=6,Object(c.h)(w.SubmitAccountSettingsForm,R);case 6:return e.next=8,Object(c.h)(w.SubmitNotificationSettingsForm,H);case 8:return e.next=10,Object(c.h)(w.DeleteAccount,W);case 10:return e.next=12,Object(c.h)(w.DisconnectSocialAccount,A);case 12:return e.next=14,Object(c.h)(w.LoadUserTransactionHistory,V);case 14:return e.next=16,Object(c.h)(w.LoadUserCashOutHistory,z);case 16:return e.next=18,Object(c.h)(w.LoadMoreUserTransactionHistory,G);case 18:return e.next=20,Object(c.h)(w.LoadMoreUserCashOutHistory,q);case 20:return e.next=22,Object(c.h)(w.LoadCatalogList,J);case 22:return e.next=24,Object(c.h)(w.ChangeVideoVisibility,Z);case 24:return e.next=26,Object(c.h)(w.DeleteReplayVideo,Y);case 26:return e.next=28,Object(c.h)(w.FetchMoreCatalogList,Q);case 28:case"end":return e.stop()}},L)}},"./src/pieces/settings/transaction-history/transaction-history.scss":function(e,t,n){e.exports={historyGridContainer:"transaction-history__historyGridContainer___2zDhB",loadingIndicator:"transaction-history__loadingIndicator___g874G",dateColumn:"transaction-history__dateColumn___1JNGh",timeColumn:"transaction-history__timeColumn___3aG-7",descriptionColumn:"transaction-history__descriptionColumn___X-hFP",currency:"transaction-history__currency___3phPc",cashCurrency:"transaction-history__cashCurrency___2A8Xf transaction-history__currency___3phPc",recipientUserSnippet:"transaction-history__recipientUserSnippet___2uuJy",senderUserSnippet:"transaction-history__senderUserSnippet___2hFJZ",link:"transaction-history__link___26vMP links__redesign_link___2bKIw",helpLink:"transaction-history__helpLink___3ybvp transaction-history__link___26vMP links__redesign_link___2bKIw",sentDigitalItem:"transaction-history__sentDigitalItem___3eB6G",receivedDigitalItem:"transaction-history__receivedDigitalItem___VBCJx",emphasizedName:"transaction-history__emphasizedName___2nwdF",historyFrame:"transaction-history__historyFrame___1tS00",header:"transaction-history__header___1x6x5",tabs:"transaction-history__tabs___lePCj",basicLabel:"transaction-history__basicLabel___OKPXj",tab:"transaction-history__tab___13MoB transaction-history__basicLabel___OKPXj",activeTab:"transaction-history__activeTab___1kakQ",historyContent:"transaction-history__historyContent___24GLd",historySubHeader:"transaction-history__historySubHeader___3rx2o transaction-history__basicLabel___OKPXj"}},"./src/pieces/settings/unblock-button.scss":function(e,t,n){e.exports={removeLink:"unblock-button__removeLink___2YEB0 settings-frame__settingsLink___1x8GQ links__redesign_link___2bKIw",ignoreLink:"unblock-button__ignoreLink___3yzK8 settings-frame__settingsLinkRed___egk6o settings-frame__settingsLink___1x8GQ links__redesign_link___2bKIw links__redesign_warningLink___QesXh links__link___2NuBA"}},"./src/pieces/settings/unblock-button.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/recompose/dist/Recompose.esm.js"),c=n("./src/pieces/current-user/current-user.reducer.js"),l=n("./src/pieces/settings/unblock-button.scss"),u=n.n(l),d=(n("./node_modules/bows/bows.js")("Unblock-button"),Object(s.a)(Object(o.b)(null,{IgnoreUser:c.IgnoreUser,UnignoreUser:c.UnignoreUser})));t.a=d(function(t){var n=t.caid,a=t.UnignoreUser,o=t.IgnoreUser,s=Object(i.useState)(!0),c=r()(s,2),l=c[0],d=c[1],_=Object(i.useCallback)(function(){return document.activeElement instanceof HTMLElement&&document.activeElement.blur(),d(!l),l?a(n):o(n)},[n,l]);return e.createElement("button",{className:l?u.a.removeLink:u.a.ignoreLink,onClick:_},l?"remove":"ignore")})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/share-stage-menu/share-stage-menu-content.scss":function(e,t,n){e.exports={redesign_shareStageMenuContainer:"share-stage-menu-content__redesign_shareStageMenuContainer___8usx0",redesign_shareStageMenuContent:"share-stage-menu-content__redesign_shareStageMenuContent___gi1w9",redesign_shareStageMenuContentHeader:"share-stage-menu-content__redesign_shareStageMenuContentHeader___18TzM",redesign_shareStageMenuContentWrap:"share-stage-menu-content__redesign_shareStageMenuContentWrap___1neJo",redesign_shareStageMenuContentContainer:"share-stage-menu-content__redesign_shareStageMenuContentContainer___2jvCL",redesign_shareStageMenuContentLeft:"share-stage-menu-content__redesign_shareStageMenuContentLeft___9f-BA",redesign_shareStageMenuContentRight:"share-stage-menu-content__redesign_shareStageMenuContentRight___1La9Z",redesign_tabContainer:"share-stage-menu-content__redesign_tabContainer___1pBA5",redesign_tab:"share-stage-menu-content__redesign_tab___23ViD buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",redesign_twitterIcon:"share-stage-menu-content__redesign_twitterIcon___2JcZm",redesign_facebookIcon:"share-stage-menu-content__redesign_facebookIcon___1MYNx",redesign_linkIcon:"share-stage-menu-content__redesign_linkIcon___1334F",redesign_emailIcon:"share-stage-menu-content__redesign_emailIcon___3Ys3H",active:"share-stage-menu-content__active___1ZmUH",redesign_shareLabel:"share-stage-menu-content__redesign_shareLabel___1ySyI",redesign_stageMenuAnimator:"share-stage-menu-content__redesign_stageMenuAnimator___3PfqG"}},"./src/pieces/share-stage-menu/share-stage-menu.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return d}),n.d(t,"EMAIL_INVITE_FORM_NAME",function(){return _}),n.d(t,"SetCurrentTabIndex",function(){return m}),n.d(t,"SetCurrentTabHoverIndex",function(){return g}),n.d(t,"SetLinkCopied",function(){return b}),n.d(t,"PromiseEmailInviteFormSubmission",function(){return f}),n.d(t,"SubmitEmailInviteForm",function(){return h}),n.d(t,"ReportEmailInviteFormSuccess",function(){return v}),n.d(t,"ReportEmailInviteFormFailure",function(){return w}),n.d(t,"PromiseTwitterInviteFormSubmission",function(){return y}),n.d(t,"SubmitTwitterInviteForm",function(){return j}),n.d(t,"ReportTwitterInviteFormSuccess",function(){return O}),n.d(t,"ReportTwitterInviteFormFailure",function(){return S}),n.d(t,"selectViewingShareMenu",function(){return E}),n.d(t,"selectCurrentTabIndex",function(){return x}),n.d(t,"selectCurrentTabHoverIndex",function(){return k}),n.d(t,"selectLinkedCopied",function(){return I});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/immutable/dist/immutable.js"),s=n.n(o),c=n("./node_modules/redux-actions/es/createAction.js"),l=n("./node_modules/redux-actions/es/handleActions.js"),u=n("./src/pieces/base/forms/create-form-actions.js"),d=(n("./node_modules/bows/bows.js")("Share-stage-menu.reducer"),"shareStageMenu"),_="emailInvites",m=Object(c.a)("Set Current Share Stage Menu Tab Index",function(e){return e}),g=Object(c.a)("Set Current Share Stage Menu Tab Hover Index",function(e){return e}),b=Object(c.a)("Set Link Copied",function(e){return e}),p=Object(u.a)("Email Invite",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}),f=p.promiseFormSubmission,h=p.submit,v=p.succeed,w=p.fail,C=Object(u.a)("Twitter Invite",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}),y=C.promiseFormSubmission,j=C.submit,O=C.succeed,S=C.fail,E=function(e){return e[d].get("viewingShareMenu")},x=function(e){return e[d].get("tabIndex")},k=function(e){return e[d].get("tabHoverIndex")},I=function(e){return e[d].get("linkCopied")};t.default=Object(l.a)((a={},i()(a,m,function(e,t){var n=t.payload;return e.set("tabIndex",n)}),i()(a,g,function(e,t){var n=t.payload;return e.set("tabHoverIndex",n)}),i()(a,b,function(e,t){var n=t.payload;return e.set("linkCopied",n)}),a),s.a.fromJS({tabIndex:null,tabHoverIndex:null,viewingShareMenu:!1,linkCopied:!1}))},"./src/pieces/share-stage-menu/share-stage-menu.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return y});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-form/es/index.js"),o=n("./node_modules/redux-saga/es/index.js"),s=n("./node_modules/redux-saga/es/effects.js"),c=n("./src/pieces/base/saga-utilities.js"),l=n("./src/pieces/base/api/sharing.api.js"),u=n("./src/pieces/stage/stage.reducer.js"),d=n("./src/pieces/share-stage-menu/share-stage-menu.reducer.js"),_=n("./src/pieces/stage/stage.types.ts"),m=r.a.mark(v),g=r.a.mark(w),b=r.a.mark(C),p=r.a.mark(y),f=n("./node_modules/bows/bows.js")("Share-stage-menu.sagas"),h=5e3;function v(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.emailAddressesString,n=e.entertainerUsername,f("handling sending invite emails",t,n),r.prev=2,a=t.split(",").map(function(e){return e.trim()}),r.next=6,Object(s.a)(a.map(function(e){return Object(s.b)(l.c,e,n)}));case 6:return r.next=8,Object(s.g)(Object(d.ReportEmailInviteFormSuccess)());case 8:return r.next=10,Object(s.g)(Object(i.a)(d.EMAIL_INVITE_FORM_NAME,"emailAddressesString",""));case 10:return r.next=12,Object(s.g)(Object(u.SendStageShareReaction)());case 12:return r.next=14,Object(s.g)(Object(u.SetReactionFrameContent)(_.b.Chat));case 14:return r.next=16,Object(s.g)(Object(d.SetCurrentTabIndex)(null));case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(2),r.next=22,Object(s.g)(Object(d.ReportEmailInviteFormFailure)({_error:r.t0.errors}));case 22:case"end":return r.stop()}},m,null,[[2,18]])}function w(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.message,n=e.entertainerBroadcastId,f("handling sending invite tweet",t,n),a.prev=2,a.next=5,Object(s.b)(l.d,n,t);case 5:return a.next=7,Object(s.g)(Object(d.ReportTwitterInviteFormSuccess)());case 7:return a.next=9,Object(s.g)(Object(u.SendStageShareReaction)());case 9:return a.next=11,Object(s.g)(Object(u.SetReactionFrameContent)(_.b.Chat));case 11:return a.next=13,Object(s.g)(Object(d.SetCurrentTabIndex)(null));case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(2),a.next=19,Object(s.g)(Object(d.ReportTwitterInviteFormFailure)({_error:a.t0.errors}));case 19:case"end":return a.stop()}},g,null,[[2,15]])}function C(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return t.next=3,Object(s.g)(Object(u.SetReactionFrameContent)(_.b.Chat));case 3:return t.next=5,Object(o.e)(h);case 5:return t.next=7,Object(s.g)(Object(d.SetLinkCopied)(!1));case 7:case"end":return t.stop()}},b)}function y(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.h)(d.SubmitEmailInviteForm,v);case 2:return e.next=4,Object(c.h)(d.SubmitTwitterInviteForm,w);case 4:return e.next=6,Object(c.h)(d.SetLinkCopied,C);case 6:case"end":return e.stop()}},p)}},"./src/pieces/share-stage-menu/share-stage-menu.scss":function(e,t,n){e.exports={shareStageMenu:"share-stage-menu__shareStageMenu___1Vrht",trigger:"share-stage-menu__trigger___12dBR header__menuTriggerWithDarkTheme___18oQu buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",tabs:"share-stage-menu__tabs___3d20l",tabContainer:"share-stage-menu__tabContainer___8Ofpr",tab:"share-stage-menu__tab___2TWKn buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",active:"share-stage-menu__active___2itSo",fieldPreface:"share-stage-menu__fieldPreface___kDS0W",message:"share-stage-menu__message___3mh0l",connectSocialAction:"share-stage-menu__connectSocialAction___17ewS links__link___2NuBA",form:"share-stage-menu__form___1cfbI",body:"share-stage-menu__body___y1PWw",bodyWithMessageOnly:"share-stage-menu__bodyWithMessageOnly___1LaME share-stage-menu__body___y1PWw",footer:"share-stage-menu__footer___4oip6",fields:"share-stage-menu__fields___3kEDi",submissionStatus:"share-stage-menu__submissionStatus___3InAy",errorMessage:"share-stage-menu__errorMessage___2Mb-o",choiceSeparator:"share-stage-menu__choiceSeparator___VjR9e",publicInviteUrl:"share-stage-menu__publicInviteUrl___3qiiN",submitAction:"share-stage-menu__submitAction___3RYnQ buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",shareStageWithFacebook:"share-stage-menu__shareStageWithFacebook___3a8vS",redesign_trigger:"share-stage-menu__redesign_trigger___tP68I",redesign_shareStageMenuButton:"share-stage-menu__redesign_shareStageMenuButton___1dYH7 buttons__unstyledButton___olg-i",redesign_cancelButton:"share-stage-menu__redesign_cancelButton___1-l9_",redesign_shareButton:"share-stage-menu__redesign_shareButton___22979"}},"./src/pieces/share-stage-menu/share-stage-with-email-form.scss":function(e,t,n){e.exports={redesign_form:"share-stage-with-email-form__redesign_form___26m0M",redesign_field:"share-stage-with-email-form__redesign_field___2c8s1",redesign_submissionStatus:"share-stage-with-email-form__redesign_submissionStatus___3xrTT",redesign_errorMessage:"share-stage-with-email-form__redesign_errorMessage___1VwiK",redesign_header:"share-stage-with-email-form__redesign_header___1YPz9",redesign_closeButton:"share-stage-with-email-form__redesign_closeButton___3U0s- buttons__buttonWithLinkStyle___3rIcr links__link___2NuBA"}},"./src/pieces/share-stage-menu/share-stage-with-twitter-form.scss":function(e,t,n){e.exports={redesign_bodyWithMessageOnly:"share-stage-with-twitter-form__redesign_bodyWithMessageOnly___3MY6a",redesign_message:"share-stage-with-twitter-form__redesign_message___1RemO",redesign_connectSocialAction:"share-stage-with-twitter-form__redesign_connectSocialAction___2kRiJ links__link___2NuBA",redesign_form:"share-stage-with-twitter-form__redesign_form___37on7",redesign_field:"share-stage-with-twitter-form__redesign_field___2pFcY",redesign_submissionStatus:"share-stage-with-twitter-form__redesign_submissionStatus___u_I7q",redesign_errorMessage:"share-stage-with-twitter-form__redesign_errorMessage___169qj",redesign_header:"share-stage-with-twitter-form__redesign_header___gr8ET",redesign_twitterIcon:"share-stage-with-twitter-form__redesign_twitterIcon___WMtxG",redesign_closeButton:"share-stage-with-twitter-form__redesign_closeButton___240JF buttons__buttonWithLinkStyle___3rIcr links__link___2NuBA"}},"./src/pieces/share-stage-menu/twitter-icon.scss":function(e,t,n){e.exports={twitterIcon:"twitter-icon__twitterIcon___2fGyK",small:"twitter-icon__small___12IDX",large:"twitter-icon__large___5yWpe"}},"./src/pieces/sharing/sharing.reducer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return d}),n.d(t,"SetShareLinks",function(){return _}),n.d(t,"ClearShareLinks",function(){return m}),n.d(t,"UpdateShareLinks",function(){return g}),n.d(t,"SendUpcomingEventTweet",function(){return b}),n.d(t,"TrackUpcomingShareButtonClicked",function(){return p}),n.d(t,"selectShareMessage",function(){return f}),n.d(t,"selectFacebookShareLink",function(){return h}),n.d(t,"selectCopyLinkShareLink",function(){return v}),n.d(t,"selectTwitterShareLink",function(){return w}),n.d(t,"selectLinksAreEmpty",function(){return C}),n.d(t,"initialState",function(){return y});var a,r,i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./node_modules/immutable/dist/immutable.js"),c=n.n(s),l=n("./node_modules/redux-actions/es/createAction.js"),u=n("./node_modules/redux-actions/es/handleActions.js"),d=(n("./node_modules/bows/bows.js")("Sharing.reducer"),"sharing"),_=Object(l.a)("Set Share Links",function(e){return e}),m=Object(l.a)("Clear Share Links"),g=Object(l.a)("Update Share Links",function(e){return e}),b=Object(l.a)("Send Upcoming Event Tweet",function(e,t){return{payload:e,onCompletion:t}}),p=Object(l.a)("Track Upcoming Share Button Clicked",function(e){return e}),f=function(e){return e[d].get(r.ShareLinkPayload).toJS().message},h=function(e){return e[d].get(r.ShareLinkPayload).toJS().shareLinks.facebook},v=function(e){return e[d].get(r.ShareLinkPayload).toJS().shareLinks.copy_link},w=function(e){return e[d].get(r.ShareLinkPayload).toJS().shareLinks.twitter},C=function(e){var t=e[d].get(r.ShareLinkPayload).toJS().shareLinks;return Object.keys(t).every(function(e){return""===t[e]})};!function(e){e.ShareLinkPayload="shareLinkPayload"}(r||(r={}));var y=o()({},r.ShareLinkPayload,{message:"",shareLinks:{facebook:"",twitter:"",copy_link:""}});t.default=Object(u.a)((a={},o()(a,g,function(e,t){var n=t.payload;return e.set(r.ShareLinkPayload,c.a.fromJS(n))}),o()(a,m,function(e){return e.set(r.ShareLinkPayload,c.a.fromJS(y[r.ShareLinkPayload]))}),a),c.a.fromJS(y))},"./src/pieces/sharing/sharing.sagas.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return b});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/effects.js"),o=n("./src/pieces/base/saga-utilities.js"),s=n("./src/pieces/sharing/sharing.reducer.ts"),c=n("./src/pieces/base/api/sharing.api.js"),l=r.a.mark(m),u=r.a.mark(g),d=r.a.mark(b),_=n("./node_modules/bows/bows.js")("Sharing.sagas");function m(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.b)(c.b,e);case 2:return t=n.sent,n.next=5,Object(i.g)(Object(s.UpdateShareLinks)(t));case 5:case"end":return n.stop()}},l)}function g(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=e.onCompletion,a.prev=1,a.next=4,Object(i.b)(c.e,t);case 4:if(!n){a.next=7;break}return a.next=7,Object(i.b)(n,{success:!0});case 7:a.next=15;break;case 9:if(a.prev=9,a.t0=a.catch(1),_("error sending upcoming event tweet",a.t0.message),!n){a.next=15;break}return a.next=15,Object(i.b)(n,{success:!1,error:a.t0.message});case 15:case"end":return a.stop()}},u,null,[[1,9]])}function b(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.h)(s.SetShareLinks,m);case 2:return e.next=4,Object(o.h)(s.SendUpcomingEventTweet,g);case 4:case"end":return e.stop()}},d)}},"./src/pieces/site-frame/site-frame.scss":function(e,t,n){e.exports={basePage:"site-frame__basePage___mX3yW",pageWithFooter:"site-frame__pageWithFooter___33pf8",headerContainer:"site-frame__headerContainer___AZVTt",headerContainerMobile:"site-frame__headerContainerMobile___2Bl68",mainContainer:"site-frame__mainContainer___2Vwua",mainContainerMobile:"site-frame__mainContainerMobile___3-BjC",mainContainerMobileNoMargin:"site-frame__mainContainerMobileNoMargin___3oqH7",mainContainerWithHeader:"site-frame__mainContainerWithHeader___2kxgG site-frame__mainContainer___2Vwua",footerContainer:"site-frame__footerContainer___uR6TR",redesign_mainContainerWithHeader:"site-frame__redesign_mainContainerWithHeader___2KVUx site-frame__mainContainer___2Vwua",redesign_mainContainerWithHeaderMobile:"site-frame__redesign_mainContainerWithHeaderMobile___mCpYT",redesign_mainContainerDarkWithHeader:"site-frame__redesign_mainContainerDarkWithHeader___1ZN2u site-frame__mainContainer___2Vwua"}},"./src/pieces/stage-director/stage-director.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return m}),n.d(t,"ReestablishViewerStream",function(){return g}),n.d(t,"SelectViewingOption",function(){return b}),n.d(t,"StopStageDirectorBroadcast",function(){return p}),n.d(t,"UpdateTitle",function(){return f}),n.d(t,"UpdateStageContentRating",function(){return h}),n.d(t,"UpdateLiveHostedFeedVolume",function(){return v}),n.d(t,"UpdateLiveHostedFeed",function(){return w}),n.d(t,"SetSecondaryFeedId",function(){return C}),n.d(t,"ClearSecondaryFeedId",function(){return y}),n.d(t,"RemoveStageDirectorSecondaryFeed",function(){return j}),n.d(t,"RemoveStageDirectorLiveHostedFeed",function(){return O}),n.d(t,"SetStageDirectorBroadcastIsStarting",function(){return S}),n.d(t,"SetStageDirectorResponse",function(){return E}),n.d(t,"ShowStageDirectorErrorSnackPill",function(){return x}),n.d(t,"ClearStageDirectorErrorSnackPill",function(){return k}),n.d(t,"ResetStageDirectorResponse",function(){return I}),n.d(t,"SetEagerlyFetchedTrailerUrl",function(){return T}),n.d(t,"selectSecondaryFeedId",function(){return F}),n.d(t,"selectIsStageDirectorLive",function(){return P}),n.d(t,"selectStageDirectorBadge",function(){return N}),n.d(t,"selectStageDirectorBroadcastId",function(){return M}),n.d(t,"selectStageDirectorTitle",function(){return L}),n.d(t,"selectStageDirectorContentRating",function(){return B}),n.d(t,"selectStageDirectorHlsUrl",function(){return A}),n.d(t,"selectStageDirectorTrailerUrl",function(){return D}),n.d(t,"selectStageDirectorUsername",function(){return U}),n.d(t,"selectStageDirectorCurrentViewingOption",function(){return R}),n.d(t,"selectStageDirectorViewingOptions",function(){return H}),n.d(t,"selectStageDirectorViewerStreams",function(){return W}),n.d(t,"selectStageDirectorReactionsDisabled",function(){return V}),n.d(t,"selectStageDirectorResponse",function(){return z}),n.d(t,"selectStageDirectorFeedAddress",function(){return G}),n.d(t,"selectStageDirectorIncomingFeeds",function(){return q}),n.d(t,"selectStageDirectorFeeds",function(){return J}),n.d(t,"selectStageDirectorLiveHostedFeed",function(){return Z}),n.d(t,"selectStageDirectorLiveHostedFeedId",function(){return Y}),n.d(t,"selectStageDirectorLiveHostedOwnerId",function(){return Q}),n.d(t,"selectStageDirectorLiveHostedOwnerUsername",function(){return K}),n.d(t,"selectStageDirectorStageId",function(){return X}),n.d(t,"selectStageDirectorHasWebFeed",function(){return $}),n.d(t,"selectStageDirectorHostConnectionQuality",function(){return ee}),n.d(t,"selectStageDirectorResponseHasBeenInitialized",function(){return te}),n.d(t,"selectStageDirectorPaywallHeader",function(){return ne}),n.d(t,"selectStageDirectorPaywallTitle",function(){return ae}),n.d(t,"selectStageDirectorPaywallDescription",function(){return re}),n.d(t,"selectStageDirectorPaywallPPVShowId",function(){return ie}),n.d(t,"selectStageDirectorPaywallPrice",function(){return oe}),n.d(t,"selectStageDirectorPaywallPreviewImagePath",function(){return se}),n.d(t,"selectStageDirectorHasPaywall",function(){return ce}),n.d(t,"selectStageDirectorIsPaywallEnforced",function(){return le}),n.d(t,"selectStageDirectorStageUnlocked",function(){return ue}),n.d(t,"selectStageDirectorStageUnlockOptions",function(){return de}),n.d(t,"selectStageDirectorWebBroadcastIsActiveInAnotherSession",function(){return _e}),n.d(t,"selectStageDirectorHasExceptionForBroadcastOverride",function(){return me}),n.d(t,"selectStageDirectorWebBroadcastIsActive",function(){return ge}),n.d(t,"selectStageDirectorHasOutOfCapacityError",function(){return be}),n.d(t,"selectStageDirectorHasGeoRestrictionError",function(){return pe}),n.d(t,"selectStageDirectorStageConfiguration",function(){return fe}),n.d(t,"selectEagerlyFetchedTrailerUrl",function(){return he}),n.d(t,"selectStageDirectorGroupedSelectorValues",function(){return ve}),n.d(t,"selectStageDirectorBroadcastIsStarting",function(){return we}),n.d(t,"selectStageDirectorErrorSnackPill",function(){return Ce}),n.d(t,"determineStageConfiguration",function(){return je});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-actions/es/createAction.js"),s=n("./node_modules/redux-actions/es/handleActions.js"),c=n("./node_modules/immutable/dist/immutable.js"),l=n.n(c),u=n("./node_modules/reselect/lib/index.js"),d=n("./src/pieces/base/constants.js"),_=(n("./node_modules/bows/bows.js")("Stage-director.reducer"),function(e){return e.get("liveHost")}),m="stageDirector",g=Object(o.a)("Reestablish Viewer Stream",function(e){return e}),b=Object(o.a)("Select Viewing Option",function(e){return e}),p=Object(o.a)("Stop Stage Director Broadcast"),f=Object(o.a)("Update Title",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}),h=Object(o.a)("Update Stage Content Rating",function(e){return e}),v=Object(o.a)("Update Live Hosted Feed Volume",function(e){return e}),w=Object(o.a)("Update Live Hosted Feed",function(e,t,n){return{address:e,feedId:t,volume:n}}),C=Object(o.a)("Set Secondary Feed Id",function(e){return e}),y=Object(o.a)("Clear Secondary Feed Id",function(){return null}),j=Object(o.a)("Remove Stage Director Secondary Feed"),O=Object(o.a)("Remove Stage Director Live Hosted Feed"),S=Object(o.a)("Set Stage Director Broadcast Is Starting",function(e){return e}),E=Object(o.a)("Set Stage Director Response",function(e){return e}),x=Object(o.a)("Set Stage Director Error Snack Pill",function(e,t,n){return{title:e,subtitle:t,duration:n}}),k=Object(o.a)("Clear Stage Director Error Snack Pill",function(){return null}),I=Object(o.a)("Reset Stage Director Response",function(){return null}),T=Object(o.a)("Set Eagerly Fetched Trailer Url",function(e){return e}),F=function(e){return e[m].get("secondaryFeedId")},P=function(e){return e[m].getIn(["stageDirectorResponse","stage","live"])},N=function(e){return e[m].getIn(["stageDirectorResponse","stage","badge"])},M=function(e){return e[m].getIn(["stageDirectorResponse","stage","broadcastId"],"")},L=function(e){return e[m].getIn(["stageDirectorResponse","stage","title"],"")},B=function(e){return e[m].getIn(["stageDirectorResponse","stage","contentRating"],d.T)},A=function(e){return e[m].getIn(["stageDirectorResponse","stage","hlsUrl"])},D=function(e){return e[m].getIn(["stageDirectorResponse","stage","trailerUrl"])},U=function(e){return e[m].getIn(["stageDirectorResponse","stage","username"])},R=function(e){return e[m].getIn(["stageDirectorResponse","stage","currentViewingOption"])},H=Object(u.createSelector)(function(e){return e[m].getIn(["stageDirectorResponse","stage","viewingOptions"])},function(e){return e&&e.toJS()}),W=Object(u.createSelector)(function(e){return e[m].getIn(["stageDirectorResponse","stage","feeds"])},function(e){return e&&e.map(function(e){return l.a.Map({feedId:e.get("id"),viewerStream:{id:e.getIn(["stream","id"]),url:e.getIn(["stream","url"]),sdpOffer:e.getIn(["stream","sdpOffer"])}})}).toJS()}),V=function(e){return e[m].getIn(["stageDirectorResponse","stage","reactionsDisabled"])},z=Object(u.createSelector)(function(e){return e[m].get("stageDirectorResponse")},function(e){return e.toJS()}),G=Object(u.createSelector)(function(e){return e[m].getIn(["stageDirectorResponse","stage","feeds"],l.a.List()).find(_)},function(e){return e?e.get("liveHost").get("address"):null}),q=Object(u.createSelector)(function(e){return e[m].getIn(["stageDirectorResponse","stage","feeds"])},function(e){return e?e.filter(function(e){return e.getIn(["stream","sdpOffer"])}).toJS():[]}),J=function(e){return e[m].getIn(["stageDirectorResponse","stage","feeds"],l.a.List()).toJS()},Z=function(e){return e[m].getIn(["stageDirectorResponse","stage","feeds"],l.a.List()).find(_)},Y=function(e){var t=e[m].getIn(["stageDirectorResponse","stage","feeds"],l.a.List()).find(_);return t?t.get("id"):null},Q=function(e){var t=e[m].getIn(["stageDirectorResponse","stage","feeds"],l.a.List()).find(_);return t?t.get("liveHost").get("ownerId"):null},K=function(e){var t=e[m].getIn(["stageDirectorResponse","stage","feeds"],l.a.List()).find(_);return t?t.get("liveHost").get("ownerUsername"):null},X=function(e){return e[m].getIn(["stageDirectorResponse","stage","id"])},$=function(e){return!!e[m].getIn(["stageDirectorResponse","stage","feeds"],l.a.List()).find(function(e){return"WEB"===e.get("clientType")})},ee=function(e){var t=e[m].getIn(["stageDirectorResponse","stage","feeds"],l.a.List()).find(function(e){return"PRIMARY"===e.get("role")});return t&&t.get("sourceConnectionQuality")||d.zb},te=function(e){return e[m].hasIn(["stageDirectorResponse","stage","live"])},ne=function(e){return e[m].getIn(["stageDirectorResponse","stage","paywall","header"])},ae=function(e){return e[m].getIn(["stageDirectorResponse","stage","paywall","title"])},re=function(e){return e[m].getIn(["stageDirectorResponse","stage","paywall","description"])},ie=function(e){return e[m].getIn(["stageDirectorResponse","stage","paywall","ppvShowId"])},oe=function(e){return e[m].getIn(["stageDirectorResponse","stage","paywall","price"])},se=function(e){return e[m].getIn(["stageDirectorResponse","stage","paywall","previewImagePath"])},ce=function(e){return e[m].getIn(["stageDirectorResponse","stage","paywall","ppvShowId"])},le=function(e){return e[m].getIn(["stageDirectorResponse","stage","paywall","enforced"])},ue=function(e){return e[m].getIn(["stageDirectorResponse","stage","unlocked"])},de=Object(u.createSelector)(function(e){return e[m].getIn(["stageDirectorResponse","stage","paywall","unlockOptions"],l.a.List())},function(e){return e&&e.toJS()}),_e=Object(u.createSelector)(P,function(e){return!!e[m].getIn(["stageDirectorResponse","stage","feeds"],l.a.List()).find(function(e){return"WEB"===e.get("clientType")&&e.get("clientId")!==d.Ld&&!e.get("liveHost")})},N,function(e,t,n){return e&&(t||n===d.Zd)}),me=Object(u.createSelector)(N,function(e){return e===d.Zd}),ge=Object(u.createSelector)(P,function(e){return e[m].getIn(["stageDirectorResponse","stage","feeds"],l.a.List()).find(function(e){return"WEB"===e.get("clientType")})},function(e,t){return e&&t}),be=function(e){var t=e[m].getIn(["stageDirectorResponse","error"],null);return t&&t.get("__typename")===d.Jc},pe=function(e){var t=e[m].getIn(["stageDirectorResponse","error"],null);return t&&t.get("__typename")===d.xb},fe=function(e){return e[m].get("stageDirectorStageConfiguration")},he=function(e){return e[m].get("eagerlyFetchedTrailerUrl")},ve=function(e){return{feeds:q(e),stageId:X(e),title:L(e),feedWithLiveHost:Z(e),hostConnectionQuality:ee(e),stageDirectorStageConfiguration:fe(e)}},we=function(e){return e[m].get("isStartingStageDirectorBroadcast")},Ce=Object(u.createSelector)(function(e){return e[m].get("stageDirectorErrorSnackPill")},function(e){return e.toJS()}),ye=function(e){return{audio:e.capabilities.includes("AUDIO"),video:e.capabilities.includes("VIDEO"),isPrimary:"PRIMARY"===e.role,id:e.id,feedVolume:e.liveHost&&"LiveHosting"===e.liveHost.__typename?e.liveHost.volume:d.bb}};function je(e,t){var n=e.find(function(e){return"PRIMARY"===e.role}),a=e.find(function(e){return"SECONDARY"===e.role});return n&&a?{optionalPrimaryFeed:ye(n),dynamicRoleFeed:ye(a),state:t}:n?{optionalPrimaryFeed:null,dynamicRoleFeed:ye(n),state:t}:{optionalPrimaryFeed:null,dynamicRoleFeed:null,state:t}}var Oe={},Se={},Ee={show:!1,title:"",subtitle:""},xe={stageDirectorResponse:Oe,stageDirectorStageConfiguration:Se,isStartingStageDirectorBroadcast:!1,stageDirectorErrorSnackPill:Ee,eagerlyFetchedTrailerUrl:null,secondaryFeedId:null};t.default=Object(s.a)((a={},i()(a,C,function(e,t){var n=t.payload;return e.set("secondaryFeedId",n)}),i()(a,y,function(e){return e.set("secondaryFeedId",null)}),i()(a,E,function(e,t){var n=t.payload,a=l.a.fromJS(n),r=je(n.stage.feeds.filter(function(e){return e.capabilities.includes("AUDIO")||e.capabilities.includes("VIDEO")}),n.stage.live?d.ce:d.be);return e.set("stageDirectorResponse",a).set("stageDirectorStageConfiguration",r).set("isStartingStageDirectorBroadcast",e.get("isStartingStageDirectorBroadcast")&&!n.stage.live).set("eagerlyFetchedTrailerUrl",null)}),i()(a,I,function(e){return e.set("stageDirectorResponse",l.a.fromJS(Oe).set("stageDirectorStageConfiguration",l.a.fromJS(Se)))}),i()(a,S,function(e,t){var n=t.payload;return e.set("isStartingStageDirectorBroadcast",n)}),i()(a,x,function(e,t){var n=t.payload,a=n.title,r=n.subtitle,i=l.a.fromJS({show:!0,title:a,subtitle:r||""});return e.set("stageDirectorErrorSnackPill",i)}),i()(a,k,function(e){return e.set("stageDirectorErrorSnackPill",l.a.fromJS(Ee))}),i()(a,T,function(e,t){var n=t.payload;return e.set("eagerlyFetchedTrailerUrl",n)}),a),l.a.fromJS(xe))},"./src/pieces/stage-director/stage-director.sagas.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/effects.js"),o=n("./node_modules/redux-saga/es/index.js"),s=n("./node_modules/idx/lib/idx.js"),c=n.n(s),l=n("./src/pieces/base/saga-utilities.js"),u=n("./src/pieces/base/error-reporting.js"),d=n("./src/pieces/stage-director/stage-director.reducer.js"),_=n("./src/pieces/stage/stage.reducer.js"),m=n("./src/pieces/web-broadcast/web-broadcast.reducer.js"),g=n("./src/pieces/base/api/stages.api.js"),b=n("./src/pieces/authentication/authentication.sagas.js"),p=n("./src/pieces/stage/stage.sagas.js"),f=n("./src/pieces/stage-mobile/stage-mobile.sagas.js"),h=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),v=n.n(h),w=n("./node_modules/lodash/random.js"),C=n.n(w),y=n("./src/pieces/base/constants.js"),j=n("./node_modules/apollo-link/lib/bundle.esm.js"),O=n("./node_modules/apollo-link-ws/lib/bundle.esm.js"),S=n("./node_modules/subscriptions-transport-ws/dist/client.js"),E=n("./node_modules/bows/bows.js")("Create-graphql-subscription"),x=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return e},i=new S.SubscriptionClient(e,{reconnect:!0,reconnectionAttempts:3,connectionParams:t,minTimeout:3e5,timeout:15e3});i.maxConnectTimeGenerator.setMin(5e3),i.onDisconnected(function(){E("GraphQL subscription disconnected for url ".concat(e," w/ ").concat(JSON.stringify(a))),i.close()}),i.onError(function(t){console.error("GraphQL subscription error ".concat(JSON.stringify(t,null,2))),E("GraphQL subscription error for url ".concat(e," w/ ").concat(JSON.stringify(a))),i.close()});var s=new O.a(i),c=Object(o.f)(function(t){return Object(j.b)(s,{query:n,variables:a}).subscribe({next:function(e){var n=r(e);t(n)},error:function(t){console.error("received error ".concat(JSON.stringify(t,null,2))),E("GraphQL Channel Error for url ".concat(e," w/ ").concat(JSON.stringify(a))),i.close()},complete:function(){E("GraphQL Channel completed socket for url ".concat(e," w/ ").concat(JSON.stringify(a))),i.close()}}),function(){i.close(),E("GraphQL subscription closed for url ".concat(e," w/ ").concat(JSON.stringify(a)))}},o.b.sliding(1));return{close:function(){return c.close()},channel:c}},k=n("./src/pieces/authentication/session-vendor-id.js"),I=r.a.mark(N),T=r.a.mark(M),F=r.a.mark(L),P=r.a.mark(B);n("./node_modules/bows/bows.js")("Create-managed-graphql-subscription");function N(e){var t,n,a,o,s,c,u;return r.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return c=function(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.g)(a,e);case 2:case"end":return t.stop()}},t)},t=r.a.mark(c),n=e.configuration,a=e.incomingMessages,d.next=5,Object(i.b)(b.getSecondVersionCredential);case 5:return o=d.sent,s=x(n.url,{"X-Credential":o,"X-Caffeine-Vendor-Identifier":Object(k.a)()},n.query,n.variables,n.messageTransformer),d.prev=7,d.next=10,Object(l.f)(s.channel,c);case 10:return u=d.sent,d.next=13,Object(i.f)(u);case 13:return d.prev=13,d.next=16,Object(i.b)(s.close);case 16:return d.finish(13);case 17:case"end":return d.stop()}},I,null,[[7,,13,17]])}function M(e){var t,n,a=arguments;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:0,r.next=3,Object(l.a)(N,e);case 3:if(!(t<y.lc)){r.next=12;break}return Object(u.a)("Briefly lost connection to managed GraphQL WebSocket, reconnecting soon",{level:"info",configuration:e.configuration,retryNumber:t+1}),r.next=7,Object(i.b)(C.a,0,y.p*Math.pow(2,t));case 7:return n=r.sent,r.next=10,Object(o.e)(n);case 10:return r.next=12,Object(i.b)(M,e,t+1);case 12:case"end":return r.stop()}},T)}function L(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(i.b)(M,e);case 3:return Object(u.a)("Totally lost connection to managed GraphQL WebSocket, reconnecting in a bit",{configuration:e.configuration,level:"warning"}),t.next=6,Object(o.e)(y.ab);case 6:t.next=0;break;case 8:case"end":return t.stop()}},F)}function B(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(o.c)(o.b.sliding(100));case 2:return t=a.sent,a.next=5,Object(i.j)(L,{configuration:e,incomingMessages:t});case 5:return n=a.sent,a.abrupt("return",{channel:t,close:r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.c)(n);case 2:case"end":return e.stop()}},e)})});case 7:case"end":return a.stop()}},P)}var A=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),D=n.n(A),U=n("./node_modules/bows/bows.js")("Is-webrtc-baseline-profile-supported"),R="v=0\no=- 1510264548499515 1510264548499515 IN IP4 64.62.206.11\ns=Mountpoint 4062058581657935\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS janus\nm=audio 9 RTP/SAVPF 111\nc=IN IP4 64.62.206.11\na=sendonly\na=mid:audio\na=rtcp-mux\na=ice-ufrag:Ygxa\na=ice-pwd:+ihE4/rN9RKZqiXn4UVZJU\na=ice-options:trickle\na=fingerprint:sha-256 82:7C:F1:F8:C4:1D:6F:FD:08:68:93:D9:B7:3D:D8:B1:42:81:4B:6B:28:3C:1B:F8:9A:39:A6:CB:E6:04:8A:1D\na=setup:actpass\na=rtpmap:111 opus/48000/2\na=ssrc:2535683601 cname:janusaudio\na=ssrc:2535683601 msid:janus janusa0\na=ssrc:2535683601 mslabel:janus\na=ssrc:2535683601 label:janusa0\na=candidate:1 1 udp 2013266431 64.62.206.11 36185 typ host\na=end-of-candidates\na=candidate:1 2 udp 2013266430 64.62.206.11 46388 typ host\na=end-of-candidates\nm=video 9 RTP/SAVPF 100\nc=IN IP4 64.62.206.11\na=sendonly\na=mid:video\na=rtcp-mux\na=ice-ufrag:5I0q\na=ice-pwd:uUlCP1tw7Eo9J8FhySZn/3\na=ice-options:trickle\na=fingerprint:sha-256 82:7C:F1:F8:C4:1D:6F:FD:08:68:93:D9:B7:3D:D8:B1:42:81:4B:6B:28:3C:1B:F8:9A:39:A6:CB:E6:04:8A:1D\na=setup:actpass\na=rtpmap:100 H264/90000\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\na=rtcp-fb:100 nack\na=rtcp-fb:100 goog-remb\na=ssrc:3857439611 cname:janusvideo\na=ssrc:3857439611 msid:janus janusv0\na=ssrc:3857439611 mslabel:janus\na=ssrc:3857439611 label:janusv0\na=candidate:2 1 udp 2013266431 64.62.206.11 52849 typ host\na=end-of-candidates\na=candidate:2 2 udp 2013266430 64.62.206.11 43348 typ host\na=end-of-candidates\n";function H(){return(H=D()(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!/Firefox\//.test(window.navigator.userAgent)){e.next=3;break}return console.log("Baseline profile is not supported"),e.abrupt("return",!1);case 3:return t=new RTCPeerConnection,e.next=6,D()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.setRemoteDescription({type:"offer",sdp:R});case 3:return console.log("Baseline profile is supported"),e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),U("WebRTC baseline profile is not supported by this browser",e.t0),console.log("Baseline profile is not supported"),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,null,[[0,7]])}))();case 6:return n=e.sent,t.close(),e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var W=function(){return H.apply(this,arguments)}();function V(){return z.apply(this,arguments)}function z(){return(z=D()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var G=n("./node_modules/graphql-tag/src/index.js"),q=n.n(G),J=r.a.mark(Q);function Z(){var e=v()(['\n  subscription Stage(\n    $clientId: ID!\n    $clientType: ClientType!\n    $constrainedBaseline: Boolean\n    $username: String!\n    $viewerStreams: [StageSubscriptionViewerStreamInput!]\n    $stageSource: StageSource\n    $skipStreamAllocation: Boolean\n  ) {\n    stage(\n      clientId: $clientId\n      clientType: $clientType\n      clientTypeForMetrics: "WEB"\n      constrainedBaseline: $constrainedBaseline\n      username: $username\n      viewerStreams: $viewerStreams\n      stageSource: $stageSource\n      skipStreamAllocation: $skipStreamAllocation\n    ) {\n      error {\n        __typename\n        title\n        message\n      }\n      stage {\n        id\n        username\n        title\n        broadcastId\n        contentRating\n        live\n        badge\n        hlsUrl\n        trailerUrl\n        viewingOptions\n        currentViewingOption\n        reactionsDisabled\n        unlocked\n        paywall {\n          previewImagePath\n          ppvShowId\n          price\n          header\n          title\n          description\n          enforced\n          unlockOptions {\n            ... on LinkAccount {\n              entitlementId\n              price\n            }\n            ... on UnlockWithDiscount {\n              priceId\n              price\n            }\n            ... on UnlockWithGold {\n              priceId\n              price\n            }\n          }\n        }\n        feeds {\n          id\n          clientId\n          clientType\n          gameId\n          liveHost {\n            __typename\n            ... on LiveHostable {\n              address\n            }\n            ... on LiveHosting {\n              address\n              volume\n              ownerId\n              ownerUsername\n            }\n          }\n          sourceConnectionQuality\n          capabilities\n          role\n          restrictions\n          stream {\n            __typename\n            ... on BroadcasterStream {\n              id\n              sdpAnswer\n              url\n            }\n            ... on ViewerStream {\n              id\n              sdpOffer\n              url\n            }\n          }\n        }\n      }\n    }\n  }\n']);return Z=function(){return e},e}n("./node_modules/bows/bows.js")("Create-managed-stage-director-subscription");var Y=function(){return q()(Z())};function Q(e){var t,n,a,o,s,l,u,d=arguments;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=d.length>1&&void 0!==d[1]?d[1]:[],n=d.length>2&&void 0!==d[2]?d[2]:null,a=d.length>3&&void 0!==d[3]&&d[3],r.next=5,Object(i.b)(V);case 5:return o=!r.sent,s=y.ee,l={clientId:y.Ld,clientType:g.a,constrainedBaseline:o,username:e,viewerStreams:t,stageSource:n,skipStreamAllocation:a},u=function(e){return c()(e,function(e){return e.data.stage})},r.next=11,Object(i.b)(B,{url:s,query:Y(),variables:l,messageTransformer:u});case 11:return r.abrupt("return",r.sent);case 12:case"end":return r.stop()}},J)}n.d(t,"handleReestablishViewerStream",function(){return pe}),n.d(t,"handleSnackPillError",function(){return fe}),n.d(t,"handleUpdateLiveHostedFeedVolume",function(){return je}),n.d(t,"addOutgoingFeed",function(){return Oe}),n.d(t,"makeStageLive",function(){return Se}),n.d(t,"handleStopStageDirectorBroadcast",function(){return xe}),n.d(t,"listenToStageDirectorMobileUpdates",function(){return ke}),n.d(t,"listenToStageDirectorWatchingUpdates",function(){return Ie}),n.d(t,"manageStageDirectorSubscription",function(){return Te}),n.d(t,"managePersistentStageDirectorSubscription",function(){return Fe}),n.d(t,"default",function(){return Pe});var K=r.a.mark(pe),X=r.a.mark(fe),$=r.a.mark(he),ee=r.a.mark(ve),te=r.a.mark(we),ne=r.a.mark(Ce),ae=r.a.mark(ye),re=r.a.mark(je),ie=r.a.mark(Oe),oe=r.a.mark(Se),se=r.a.mark(Ee),ce=r.a.mark(xe),le=r.a.mark(ke),ue=r.a.mark(Ie),de=r.a.mark(Te),_e=r.a.mark(Fe),me=r.a.mark(Pe),ge=n("./node_modules/bows/bows.js")("Stage-director.sagas"),be=5e3;function pe(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)(g.i,e);case 2:case"end":return t.stop()}},K)}function fe(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.duration,!((n=void 0===t?be:t)>0)){a.next=6;break}return a.next=4,Object(o.e)(n);case 4:return a.next=6,Object(i.g)(Object(d.ClearStageDirectorErrorSnackPill)());case 6:case"end":return a.stop()}},X)}function he(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.match(y.A),n=t?e.replace(y.A,""):e,r.prev=2,r.next=5,Object(i.b)(g.d,n);case 5:if(!(a=r.sent).errors&&!c()(a,function(e){return e.data.changeStageTitle.error})){r.next=9;break}return r.next=9,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Title could not be edited.","Please try again."));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(2),r.next=15,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Title could not be edited.","Please try again."));case 15:case"end":return r.stop()}},$,null,[[2,11]])}function ve(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(i.b)(g.c,e);case 3:if(!(t=n.sent).errors&&!c()(t,function(e){return e.data.changeStageContentRating.error})){n.next=7;break}return n.next=7,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Rating could not be changed.","Please try again."));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Rating could not be changed.","Please try again."));case 13:case"end":return n.stop()}},ee,null,[[0,9]])}function we(e){var t,n,a,o,s;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.address,n=e.feedId,a=e.volume,o={liveHostingAddress:t,id:n,volume:a},r.prev=2,r.next=5,Object(i.b)(g.n,o);case 5:if(!(s=r.sent).errors&&!c()(s,function(e){return e.data.setLiveHostingFeed.error})){r.next=9;break}return r.next=9,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Video could not be added"));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(2),r.next=15,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Video could not be added"));case 15:case"end":return r.stop()}},te,null,[[2,11]])}function Ce(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.i)(d.selectSecondaryFeedId);case 2:return e=n.sent,n.prev=3,n.next=6,Object(i.b)(g.j,e);case 6:if(!(t=n.sent).errors&&!c()(t,function(e){return e.data.removeFeed.error})){n.next=11;break}ge(Object(d.ShowStageDirectorErrorSnackPill)("Video could not be removed")),n.next=13;break;case 11:return n.next=13,Object(i.g)(Object(d.ClearSecondaryFeedId)());case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(3),ge("Video could not be removed");case 18:case"end":return n.stop()}},ne,null,[[3,15]])}function ye(){var e,t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.i)(d.selectStageDirectorLiveHostedFeedId);case 2:return e=n.sent,n.prev=3,n.next=6,Object(i.b)(g.j,e);case 6:if(!(t=n.sent).errors&&!c()(t,function(e){return e.data.removeFeed.error})){n.next=10;break}return n.next=10,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Video could not be removed"));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(3),n.next=16,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Video could not be removed"));case 16:case"end":return n.stop()}},ae,null,[[3,12]])}function je(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.i)(d.selectStageDirectorLiveHostedFeedId);case 2:return t=a.sent,n=t?{id:t,volume:e}:null,a.next=6,Object(i.b)(g.q,n);case 6:case"end":return a.stop()}},re)}function Oe(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.addedFeed,n={id:t.id,volume:t.volume,sdpOffer:t.stream.sdp_offer,capabilities:["AUDIO","VIDEO"],role:t.role},a.next=4,Object(i.b)(g.b,n);case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}},ie)}function Se(e,t){var n,a,o;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.b)(g.o);case 2:if(n=r.sent,a=c()(n,function(e){return e.data.startBroadcast.stage.live}),o=c()(n,function(e){return e.data.startBroadcast.stage.id}),!a){r.next=13;break}return r.next=8,Object(i.g)(Object(m.AnnounceWebBroadcastHasStarted)(o,e));case 8:if(!t){r.next=11;break}return r.next=11,Object(i.g)(Object(m.AnnounceSecondaryBroadcastHasStarted)(o,t));case 11:r.next=18;break;case 13:return r.next=15,Object(i.g)(Object(d.SetStageDirectorBroadcastIsStarting)(!1));case 15:return r.next=17,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Could not start broadcasting.","Please try again."));case 17:Object(u.a)("Failed to go live",{liveBroadcastReyesResponse:n});case 18:case"end":return r.stop()}},oe)}function Ee(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)(g.l,e);case 2:case"end":return t.stop()}},se)}function xe(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.b)(g.p);case 3:if(!(e=t.sent).errors&&!c()(e,function(e){return e.data.stopBroadcast.error})){t.next=7;break}return t.next=7,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Could not stop broadcasting.","Please try again."));case 7:t.next=17;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(i.i)(m.selectBroadcasterLostConnectivity);case 13:if(t.sent){t.next=17;break}return t.next=17,Object(i.g)(Object(d.ShowStageDirectorErrorSnackPill)("Could not stop broadcasting.","Please try again."));case 17:case"end":return t.stop()}},ce,null,[[0,9]])}function ke(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)(Te,e,r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.i)(d.selectIsStageDirectorLive);case 2:if(n=e.sent,a=t&&t.stage&&t.stage.live,!n||a){e.next=7;break}return e.next=7,Object(i.g)(Object(_.TriggerVideoStopEvent)());case 7:if(n||!a){e.next=10;break}return e.next=10,Object(i.g)(Object(_.LoadStageActivityId)());case 10:return e.next=12,Object(i.g)(Object(d.SetStageDirectorResponse)(t));case 12:return e.next=14,Object(i.b)(f.handleStageDirectorMobileUpdateRequest);case 14:case"end":return e.stop()}},e)}),!0);case 2:case"end":return t.stop()}},le)}function Ie(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)(Te,e,r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.i)(d.selectIsStageDirectorLive);case 2:if(n=e.sent,a=t&&t.stage&&t.stage.live,!n||a){e.next=7;break}return e.next=7,Object(i.g)(Object(_.TriggerVideoStopEvent)());case 7:if(n||!a){e.next=10;break}return e.next=10,Object(i.g)(Object(_.LoadStageActivityId)());case 10:return e.next=12,Object(i.g)(Object(d.SetStageDirectorResponse)(t));case 12:return e.next=14,Object(i.b)(p.handleStageDirectorUpdateRequest);case 14:case"end":return e.stop()}},e)}),!1);case 2:case"end":return t.stop()}},ue)}function Te(e,t,n){var a,o,s,c;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.b)(b.isAuthenticated);case 2:return a=r.sent,r.next=5,Object(i.e)(Fe,e,[],t,n);case 5:if(o=r.sent,a){r.next=23;break}return r.next=9,Object(i.b)(b.awaitAuthenticatedUserSession);case 9:return r.next=11,Object(i.c)(o);case 11:return r.next=13,Object(i.i)(d.selectStageDirectorViewerStreams);case 13:return s=r.sent,r.next=16,Object(i.b)(Fe,e,s,t,n);case 16:return c=r.sent,r.next=19,Object(l.e)(_.DisconnectStageDirector);case 19:return r.next=21,Object(i.c)(c);case 21:r.next=27;break;case 23:return r.next=25,Object(l.e)(_.DisconnectStageDirector);case 25:return r.next=27,Object(i.c)(o);case 27:case"end":return r.stop()}},de)}function Fe(e,t,n,a){var o,s;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return ge("subscribing to persistent subscription and listening for updates with ".concat(e)),r.next=3,Object(i.b)(Q,e,t,y.xe,a);case 3:return o=r.sent,r.prev=4,r.next=7,Object(l.f)(o.channel,n);case 7:return s=r.sent,r.next=10,Object(i.f)(s);case 10:return r.prev=10,r.next=13,Object(i.b)(o.close);case 13:return r.finish(10);case 14:case"end":return r.stop()}},_e,null,[[4,,10,14]])}function Pe(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.h)(d.ReestablishViewerStream,pe);case 2:return e.next=4,Object(l.h)(d.SelectViewingOption,Ee);case 4:return e.next=6,Object(l.h)(d.UpdateTitle,he);case 6:return e.next=8,Object(l.h)(d.UpdateStageContentRating,ve);case 8:return e.next=10,Object(l.h)(d.UpdateLiveHostedFeed,we);case 10:return e.next=12,Object(l.h)(d.RemoveStageDirectorSecondaryFeed,Ce);case 12:return e.next=14,Object(l.h)(d.RemoveStageDirectorLiveHostedFeed,ye);case 14:return e.next=16,Object(l.h)(d.StopStageDirectorBroadcast,xe);case 16:return e.next=18,Object(l.h)(d.UpdateLiveHostedFeedVolume,je);case 18:return e.next=20,Object(l.h)(d.ShowStageDirectorErrorSnackPill,fe);case 20:case"end":return e.stop()}},me)}},"./src/pieces/stage-mobile/mute-button.scss":function(e,t,n){e.exports={volumeSliderWrapper:"mute-button__volumeSliderWrapper___LC9iB",volumeSliderContainer:"mute-button__volumeSliderContainer___24nzG",volumeSliderTrack:"mute-button__volumeSliderTrack___3-f98",volumeSliderHandle:"mute-button__volumeSliderHandle___iJSSU",volumeSliderTrackHighlight:"mute-button__volumeSliderTrackHighlight___2-gac",volumeSlider:"mute-button__volumeSlider___1rw4b",muteButton:"mute-button__muteButton___3KKUL"}},"./src/pieces/stage-mobile/overlay/overlay-controls-area-mobile.scss":function(e,t,n){e.exports={visible:"overlay-controls-area-mobile__visible___i09v7 overlay-mobile__visible___2X1AA",invisible:"overlay-controls-area-mobile__invisible___1lkzK overlay-mobile__invisible___2TApW",broadcastOverlayControls:"overlay-controls-area-mobile__broadcastOverlayControls___b6hxK",volumeSliderContainer:"overlay-controls-area-mobile__volumeSliderContainer___1SJAi"}},"./src/pieces/stage-mobile/overlay/overlay-mobile.scss":function(e,t,n){e.exports={invisible:"overlay-mobile__invisible___2TApW",visible:"overlay-mobile__visible___2X1AA",overlay:"overlay-mobile__overlay___3z5jr",hidePointerEvents:"overlay-mobile__hidePointerEvents___2vKcx",invisibleOverlay:"overlay-mobile__invisibleOverlay___3asBQ",contentLogoContainer:"overlay-mobile__contentLogoContainer___2CDy8",contentLogo:"overlay-mobile__contentLogo___3Alzk",liveMarkerContainer:"overlay-mobile__liveMarkerContainer___2MJCO",liveMarker:"overlay-mobile__liveMarker___3Zpjm",pulse:"overlay-mobile__pulse___10ZlT",topLeftSecondaryFeedPosition:"overlay-mobile__topLeftSecondaryFeedPosition___2Yu-h",transport:"overlay-mobile__transport___3YtoN",feedHasNoVideo:"overlay-mobile__feedHasNoVideo___3T4tL",dynamicRoleFeedAreaBeingDragged:"overlay-mobile__dynamicRoleFeedAreaBeingDragged___mIZCG",secondaryFeedToggleContainer:"overlay-mobile__secondaryFeedToggleContainer___1PJn5",dynamicRoleFeedStreamContainer:"overlay-mobile__dynamicRoleFeedStreamContainer___sbsvy",nonWidescreen:"overlay-mobile__nonWidescreen___1zyrL",topRightSecondaryFeedPosition:"overlay-mobile__topRightSecondaryFeedPosition___r9U96",bottomRightSecondaryFeedPosition:"overlay-mobile__bottomRightSecondaryFeedPosition___1_Suu",bottomLeftSecondaryFeedPosition:"overlay-mobile__bottomLeftSecondaryFeedPosition___2f1nR",isPrimary:"overlay-mobile__isPrimary___1xS1v",twoFeedsToOneFeed:"overlay-mobile__twoFeedsToOneFeed___1em_G",fadeVideoOut:"overlay-mobile__fadeVideoOut___2RzAM",beInvisibleDuringtwoFeedsToOneFeed:"overlay-mobile__beInvisibleDuringtwoFeedsToOneFeed___33en4",oneFeedToTwoFeeds:"overlay-mobile__oneFeedToTwoFeeds___2oZzG",beInvisibleDuringoneFeedToTwoFeeds:"overlay-mobile__beInvisibleDuringoneFeedToTwoFeeds___2nWYV",fadeVideoIn:"overlay-mobile__fadeVideoIn___MWUVR",dynamicRoleFeedLosesVideo:"overlay-mobile__dynamicRoleFeedLosesVideo___3IPen",performanceEndsWithVideo:"overlay-mobile__performanceEndsWithVideo___1cR-_",dynamicRoleFeedGainsVideo:"overlay-mobile__dynamicRoleFeedGainsVideo___xz5D1",performanceBeginsWithVideo:"overlay-mobile__performanceBeginsWithVideo___3HHlu",noVideoStream:"overlay-mobile__noVideoStream___i1NDn",beInvisibleDuringPerformanceBeginsWithVideo:"overlay-mobile__beInvisibleDuringPerformanceBeginsWithVideo___3CB9i",secondaryFeedWrapper:"overlay-mobile__secondaryFeedWrapper___12TAp",keepCornerRounded:"overlay-mobile__keepCornerRounded___1QWPa",keepCornerSquared:"overlay-mobile__keepCornerSquared___2RkFx",dynamicRoleFeedStream:"overlay-mobile__dynamicRoleFeedStream___3su2f",hlsBufferContainer:"overlay-mobile__hlsBufferContainer___1lgp1",feedbackPreventionMuteMessage:"overlay-mobile__feedbackPreventionMuteMessage___ptqPR"}},"./src/pieces/stage-mobile/stage-broadcast-mobile.scss":function(e,t,n){e.exports={broadcast:"stage-broadcast-mobile__broadcast___-RBIx",redesign_broadcast:"stage-broadcast-mobile__redesign_broadcast___2OBUt",feedbackPreventionMuteMessage:"stage-broadcast-mobile__feedbackPreventionMuteMessage___noEoU",placeholderVideoContainer:"stage-broadcast-mobile__placeholderVideoContainer___3Kgor",isVisible:"stage-broadcast-mobile__isVisible___3ZDuV",stageStateMessagesContainer:"stage-broadcast-mobile__stageStateMessagesContainer___3XJfO",stageStateMessageContainer:"stage-broadcast-mobile__stageStateMessageContainer___1mKor",offlineMessageAvatarContainer:"stage-broadcast-mobile__offlineMessageAvatarContainer___3oc1u",offlineMessageTitle:"stage-broadcast-mobile__offlineMessageTitle___2xqa6",offlineMessageBody:"stage-broadcast-mobile__offlineMessageBody___12L7_",offlineMessageButtonContainer:"stage-broadcast-mobile__offlineMessageButtonContainer___22Sz7",offlineMessageButton:"stage-broadcast-mobile__offlineMessageButton___3sfbE buttons__button___2Dz0z",offlineMessageSignUpButton:"stage-broadcast-mobile__offlineMessageSignUpButton___2IDic stage-broadcast-mobile__offlineMessageButton___3sfbE buttons__button___2Dz0z",findMoreShows:"stage-broadcast-mobile__findMoreShows___DTG4X buttons__buttonWithHoverEffect___eFfj7 buttons__button___2Dz0z",broadcastOverlayBottomContainer:"stage-broadcast-mobile__broadcastOverlayBottomContainer___OXi9s",transportContainer:"stage-broadcast-mobile__transportContainer___1wjqT",transportControlContainer:"stage-broadcast-mobile__transportControlContainer___1ySbO",transportControl:"stage-broadcast-mobile__transportControl___2-uWv buttons__unstyledButton___olg-i",transportLeft:"stage-broadcast-mobile__transportLeft___1yb3j",transportCenter:"stage-broadcast-mobile__transportCenter___1SVde",transportRight:"stage-broadcast-mobile__transportRight___GMmwF",volumeSliderContainer:"stage-broadcast-mobile__volumeSliderContainer___2ugwp",volumeSliderTrack:"stage-broadcast-mobile__volumeSliderTrack___3r7x4",volumeSliderHandle:"stage-broadcast-mobile__volumeSliderHandle___Xo5z-",volumeSliderTrackHighlight:"stage-broadcast-mobile__volumeSliderTrackHighlight___2FSYK",volumeSlider:"stage-broadcast-mobile__volumeSlider___xXnxE",optionalPrimaryFeedStreamContainer:"stage-broadcast-mobile__optionalPrimaryFeedStreamContainer___12zmx",noVideoStream:"stage-broadcast-mobile__noVideoStream___392SV",twoFeedsToOneFeed:"stage-broadcast-mobile__twoFeedsToOneFeed___2Ghcp",fadeVideoOut:"stage-broadcast-mobile__fadeVideoOut___23Ef_",optionalPrimaryFeedLosesVideo:"stage-broadcast-mobile__optionalPrimaryFeedLosesVideo___2Extd",performanceEndsWithVideo:"stage-broadcast-mobile__performanceEndsWithVideo___RFDL4",optionalPrimaryFeedGainsVideo:"stage-broadcast-mobile__optionalPrimaryFeedGainsVideo___33Q4S",performanceBeginsWithVideo:"stage-broadcast-mobile__performanceBeginsWithVideo___t54E5",fadeVideoIn:"stage-broadcast-mobile__fadeVideoIn___1XOpU",optionalPrimaryFeedStream:"stage-broadcast-mobile__optionalPrimaryFeedStream___2qCE4",secondaryFeedToggleContainer:"stage-broadcast-mobile__secondaryFeedToggleContainer___3mTaG",dynamicRoleFeedAreaBeingDragged:"stage-broadcast-mobile__dynamicRoleFeedAreaBeingDragged___24tJV",topLeftSecondaryFeedPosition:"stage-broadcast-mobile__topLeftSecondaryFeedPosition___Z_Zy7",bottomLeftSecondaryFeedPosition:"stage-broadcast-mobile__bottomLeftSecondaryFeedPosition___1HcuQ",isPrimary:"stage-broadcast-mobile__isPrimary___5CFcZ",secondaryFeedToggleButton:"stage-broadcast-mobile__secondaryFeedToggleButton___1itL3 buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",liveHostButton:"stage-broadcast-mobile__liveHostButton___2z2Gl buttons__unstyledButton___olg-i",redesign_transportLeft:"stage-broadcast-mobile__redesign_transportLeft___2jSz3",redesign_noVideoStream:"stage-broadcast-mobile__redesign_noVideoStream___3MsXy",redesign_overlaySpacer:"stage-broadcast-mobile__redesign_overlaySpacer___1-s_p",redesign_overlayExplicit:"stage-broadcast-mobile__redesign_overlayExplicit___1maYi",redesign_networkIssueContainer:"stage-broadcast-mobile__redesign_networkIssueContainer___2XWw4",redesign_spinnerBackground:"stage-broadcast-mobile__redesign_spinnerBackground___3UW_T",redesign_secondaryBroadcastIcon:"stage-broadcast-mobile__redesign_secondaryBroadcastIcon___JP3zV",redesign_active:"stage-broadcast-mobile__redesign_active___6Vtc_",redesign_slowLoadingMessageWrapper:"stage-broadcast-mobile__redesign_slowLoadingMessageWrapper___3vGpn",redesign_slowLoadingMessage:"stage-broadcast-mobile__redesign_slowLoadingMessage___16N06",redesign_slowLoadingMessageSpinner:"stage-broadcast-mobile__redesign_slowLoadingMessageSpinner___xbS1e"}},"./src/pieces/stage-mobile/stage-frame-mobile.scss":function(e,t,n){e.exports={stageFrame:"stage-frame-mobile__stageFrame___3xGEo",mainContent:"stage-frame-mobile__mainContent___2PZ1m",reactionsFrame:"stage-frame-mobile__reactionsFrame___NVqpu",redesign_reactionsFrame:"stage-frame-mobile__redesign_reactionsFrame___31Mgl",redesign_userReactionBar:"stage-frame-mobile__redesign_userReactionBar___PYqU9",userReactionBar:"stage-frame-mobile__userReactionBar___3rLAX",broadcastFrame:"stage-frame-mobile__broadcastFrame___3394U",redesign_broadcastFrame:"stage-frame-mobile__redesign_broadcastFrame___2yrEn",userReactionBarContent:"stage-frame-mobile__userReactionBarContent___1cTKT",criticalErrorMessage:"stage-frame-mobile__criticalErrorMessage___3gtLG",outOfCapacityMessage:"stage-frame-mobile__outOfCapacityMessage___1bA7j",redesign_stageFrame:"stage-frame-mobile__redesign_stageFrame___2f9_T",redesign_mainContent:"stage-frame-mobile__redesign_mainContent___JcqkT",redesign_bottomFrameContentArea:"stage-frame-mobile__redesign_bottomFrameContentArea___3BLSe",hidden:"stage-frame-mobile__hidden___1DsI-",redesign_reactionsAreaContainer:"stage-frame-mobile__redesign_reactionsAreaContainer___3QgX_",redesign_profileContent:"stage-frame-mobile__redesign_profileContent___1dy7f",redesign_overlayExplicit:"stage-frame-mobile__redesign_overlayExplicit___12jUg stage-broadcast-mobile__redesign_overlayExplicit___1maYi",redesign_liveIndicator:"stage-frame-mobile__redesign_liveIndicator___2ak0a",show:"stage-frame-mobile__show___1bnbs",liveBadge:"stage-frame-mobile__liveBadge___1EDCK",redesign_broadcastViewerMenuOfflineContainer:"stage-frame-mobile__redesign_broadcastViewerMenuOfflineContainer___1HSrv",redesign_bottomBar:"stage-frame-mobile__redesign_bottomBar___2yxWc",redesign_stageFrameWithErrorMessage:"stage-frame-mobile__redesign_stageFrameWithErrorMessage___lEWcI stage-frame-mobile__redesign_stageFrame___2f9_T",redesign_topFrame:"stage-frame-mobile__redesign_topFrame___Mf6Gf",redesign_topFrameTop:"stage-frame-mobile__redesign_topFrameTop___1sioh",redesign_topFrameMiddle:"stage-frame-mobile__redesign_topFrameMiddle___1J-Mk",redesign_topFrameBottom:"stage-frame-mobile__redesign_topFrameBottom___1lQiO",redesign_displayName:"stage-frame-mobile__redesign_displayName___1ve_F editable-name__editableName___3daaF",redesign_bottomFrame:"stage-frame-mobile__redesign_bottomFrame___twPzM",redesign_tabs:"stage-frame-mobile__redesign_tabs___3dKsU",redesign_tabContent:"stage-frame-mobile__redesign_tabContent___1EajR",redesign_biography:"stage-frame-mobile__redesign_biography___3lE3T",redesign_biographyTabContent:"stage-frame-mobile__redesign_biographyTabContent___2hB8j",redesign_editBio:"stage-frame-mobile__redesign_editBio___1BfYX",redesign_followContent:"stage-frame-mobile__redesign_followContent___3T0WZ",redesign_followPillWrapper:"stage-frame-mobile__redesign_followPillWrapper___1Cn33",redesign_followersPillWrapperOpacity:"stage-frame-mobile__redesign_followersPillWrapperOpacity___2N1LQ",redesign_reactionFrameAnimator:"stage-frame-mobile__redesign_reactionFrameAnimator___OkPZh",redesign_linkCopied:"stage-frame-mobile__redesign_linkCopied___3POit",redesign_showLinkCopied:"stage-frame-mobile__redesign_showLinkCopied___L0G5q",redesign_emailTextHelper:"stage-frame-mobile__redesign_emailTextHelper___KGTZF",redesign_reactionsHeader:"stage-frame-mobile__redesign_reactionsHeader___KdwBu",redesign_reactionsFrameForHls:"stage-frame-mobile__redesign_reactionsFrameForHls___1WevL",reactionsContainerForHls:"stage-frame-mobile__reactionsContainerForHls___1GLk8",reactionsContainerForMaxCapacity:"stage-frame-mobile__reactionsContainerForMaxCapacity___ClqIY stage-frame-mobile__reactionsContainerForHls___1GLk8",emphasis:"stage-frame-mobile__emphasis___2yOQc",reactionSettingsButton:"stage-frame-mobile__reactionSettingsButton___1gysH",redesign_snippetSubtitle:"stage-frame-mobile__redesign_snippetSubtitle___TvrT-",noUserActionMenu:"stage-frame-mobile__noUserActionMenu___eXI8u",redesign_profileAnonymousContainer:"stage-frame-mobile__redesign_profileAnonymousContainer___1qxFI",redesign_emptyMessageWrapper:"stage-frame-mobile__redesign_emptyMessageWrapper___20eD2",redesign_profileAnonymousMessage:"stage-frame-mobile__redesign_profileAnonymousMessage___3UK48",redesign_emptyMessageContent:"stage-frame-mobile__redesign_emptyMessageContent___1ciQO",redesign_spinnerBackground:"stage-frame-mobile__redesign_spinnerBackground___3IguJ",cardContent:"stage-frame-mobile__cardContent___2v8N4",titleContainer:"stage-frame-mobile__titleContainer___1S_c9",titleContainerMobile:"stage-frame-mobile__titleContainerMobile___PQzJB",stagePageMobileCardContent:"stage-frame-mobile__stagePageMobileCardContent___1LQu0",title:"stage-frame-mobile__title___3soNe",stagePageMobileTitle:"stage-frame-mobile__stagePageMobileTitle___2GmJj",tagContainer:"stage-frame-mobile__tagContainer___3WjIa",tag:"stage-frame-mobile__tag___vr2kz",stagePageMobileTagContainer:"stage-frame-mobile__stagePageMobileTagContainer___2iKB1",broadcastCardActions:"stage-frame-mobile__broadcastCardActions___RS375",stagePageMobileEntertainerProfileImage:"stage-frame-mobile__stagePageMobileEntertainerProfileImage___1BGtg",stagePageMobilebroadcastCardActions:"stage-frame-mobile__stagePageMobilebroadcastCardActions___2rgcC",cardHeader:"stage-frame-mobile__cardHeader___zbGq1",cardHeaderMobile:"stage-frame-mobile__cardHeaderMobile___27QVb",userContainer:"stage-frame-mobile__userContainer___1uJbZ",userContainerMobile:"stage-frame-mobile__userContainerMobile___uBv4L",usernameContainer:"stage-frame-mobile__usernameContainer___2GrYf",stagePageMobileUsernameContainer:"stage-frame-mobile__stagePageMobileUsernameContainer___2pZSn",username:"stage-frame-mobile__username___oLdtX",usernameMobile:"stage-frame-mobile__usernameMobile___2EMRC",nameMobile:"stage-frame-mobile__nameMobile___213Z4",badge:"stage-frame-mobile__badge___WOVEc",followUser:"stage-frame-mobile__followUser___2HR4z",followUserMobile:"stage-frame-mobile__followUserMobile___-pfBs",stagePageFollowUserMobile:"stage-frame-mobile__stagePageFollowUserMobile___198AU",iconsList:"stage-frame-mobile__iconsList___3yHXn",stagePageMobileIconsList:"stage-frame-mobile__stagePageMobileIconsList___3pYl3",statIconContainer:"stage-frame-mobile__statIconContainer___2132w",statIconContainerMobile:"stage-frame-mobile__statIconContainerMobile___3gQ1j",stagePageMobileViewCountContainer:"stage-frame-mobile__stagePageMobileViewCountContainer___11Glm",counterIcon:"stage-frame-mobile__counterIcon___2Qizc",counterIconMobile:"stage-frame-mobile__counterIconMobile___3T2i5",counter:"stage-frame-mobile__counter___2PwYt",stagePageMobileCounter:"stage-frame-mobile__stagePageMobileCounter___23bPM",disableInsideButton:"stage-frame-mobile__disableInsideButton___38TZQ",giveIcon:"stage-frame-mobile__giveIcon___2oUj_",giveIconMobile:"stage-frame-mobile__giveIconMobile___2-YZ6",stagePageMobilePropsCounter:"stage-frame-mobile__stagePageMobilePropsCounter___2Ne7v",heartIcon:"stage-frame-mobile__heartIcon___2-PBX",heartIconMobile:"stage-frame-mobile__heartIconMobile___3MVfh",followStage:"stage-frame-mobile__followStage___fZWKy",profileInfo:"stage-frame-mobile__profileInfo___19Lxq",profileInfoMain:"stage-frame-mobile__profileInfoMain___2Xw0W"}},"./src/pieces/stage-mobile/stage-mobile.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return s}),n.d(t,"LoadMobileStage",function(){return c});var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/redux-actions/es/createAction.js"),o=n("./node_modules/redux-actions/es/handleActions.js"),s=(n("./node_modules/bows/bows.js")("Stage-mobile.reducer"),"stage"),c=Object(i.a)("Load Mobile Stage",function(e){return e}),l={};t.default=Object(o.a)(r()({},c,function(){return e.fromJS(l)}),e.fromJS(l))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/stage-mobile/stage-mobile.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"handleStageDirectorMobileUpdateRequest",function(){return V}),n.d(t,"default",function(){return G}),n.d(t,"handleCrawler",function(){return q});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/idx/lib/idx.js"),o=n.n(i),s=n("./node_modules/redux-saga/es/effects.js"),c=n("./src/pieces/base/constants.js"),l=n("./src/pieces/stage/stage.types.ts"),u=n("./src/pieces/base/error-reporting.js"),d=n("./src/pieces/base/feature-detection/is-android.js"),_=n("./src/pieces/base/api/users.api.js"),m=n("./src/pieces/authentication/authentication.sagas.js"),g=n("./src/pieces/base/saga-utilities.js"),b=n("./src/pieces/current-user/current-user.sagas.js"),p=n("./src/pieces/web-broadcast/web-broadcast.sagas.js"),f=n("./src/pieces/web-broadcast-status/web-broadcast-status.sagas.js"),h=n("./src/pieces/stage/stage.reducer.js"),v=n("./src/pieces/stage-mobile/stage-mobile.reducer.js"),w=n("./src/pieces/stage/connect-and-maintain-stage-streams.js"),C=n("./src/pieces/stage-director/stage-director.sagas.js"),y=n("./src/pieces/current-user/current-user.reducer.js"),j=n("./src/pieces/stage-director/stage-director.reducer.js"),O=n("./src/pieces/feature-configuration/feature-configuration.sagas.js"),S=n("./src/pieces/stage/stage.sagas.js"),E=n("./src/pieces/base/api/stages.api.js"),x=n("./src/pieces/base/api/broadcasts.api.js"),k=r.a.mark(U),I=r.a.mark(R),T=r.a.mark(H),F=r.a.mark(W),P=r.a.mark(V),N=r.a.mark(z),M=r.a.mark(G),L=r.a.mark(q),B=n("./node_modules/bows/bows.js")("Stage-mobile.sagas"),A="true"===localStorage.getItem(c.Fb),D=localStorage.getItem(c.I);function U(e){var t,n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(s.b)(b.getCurrentUserId);case 3:return t=r.sent,r.next=6,Object(s.i)(h.selectStageMediaProtocol);case 6:if(n=r.sent,e.caid!==t){r.next=10;break}return r.next=10,Object(s.e)(S.setCumulativeCreditsAtBroadcastStart);case 10:return r.next=12,Object(s.g)(Object(j.ResetStageDirectorResponse)());case 12:return r.next=14,Object(s.e)(w.a);case 14:return a=r.sent,r.next=17,Object(s.e)(z,e.username);case 17:return i=r.sent,n||B("The stage is not in either WEBRTC of HLS mode yet"),r.next=21,Object(s.f)(a,i);case 21:return r.prev=21,r.next=24,Object(s.g)(Object(h.ResetStreamWatching)());case 24:return r.finish(21);case 25:case"end":return r.stop()}},k,null,[[0,,21,25]])}function R(e){var t,n,a,i,o;return r.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(g.h)(h.SwitchStageMode,r.a.mark(function t(n){var a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==c.ne){t.next=8;break}return t.next=3,Object(s.e)(p.manageWebBroadcasting,e);case 3:return a=t.sent,t.next=6,Object(s.f)(a);case 6:t.next=25;break;case 8:if(n!==c.ue){t.next=16;break}return t.next=11,Object(s.e)(U,e);case 11:return i=t.sent,t.next=14,Object(s.f)(i);case 14:t.next=25;break;case 16:if(n!==c.se&&n!==c.pe){t.next=25;break}return t.next=19,Object(s.g)(Object(h.DisconnectStageMessagesSubscription)());case 19:return t.next=21,Object(s.g)(Object(h.DisconnectStageFollowedSubscription)());case 21:return t.next=23,Object(s.g)(Object(h.DisconnectStageViewersSubscription)());case 23:return t.next=25,Object(s.g)(Object(h.DisconnectStageDirector)());case 25:case"end":return t.stop()}},t)}));case 2:return l.next=4,Object(s.b)(S.fetchInitialReyesResponse,e.username);case 4:if(!(t=l.sent).live){l.next=12;break}return l.next=8,Object(s.b)(S.fetchAndSetBroadcastPreviewImage,e);case 8:return l.next=10,Object(s.b)(S.handleAutoplayCheck);case 10:l.next=33;break;case 12:if(t.live||!t.trailerUrl){l.next=21;break}return l.next=15,Object(s.g)(Object(j.SetEagerlyFetchedTrailerUrl)(t.trailerUrl));case 15:return l.next=17,Object(s.b)(S.handleAutoplayCheck);case 17:return l.next=19,Object(s.b)(S.fetchAndSetBroadcastPreviewImage,e);case 19:l.next=33;break;case 21:return l.next=23,Object(s.j)(S.startReaperSubscriptions,e.stageId);case 23:return l.next=25,Object(s.g)(Object(y.LoadRecentNotifications)());case 25:return l.next=27,Object(s.b)(S.fetchAndSetBroadcastPreviewImage,e);case 27:return l.next=29,Object(s.i)(j.selectIsStageDirectorLive);case 29:n=l.sent,a=window&&window.location&&window.location.pathname&&window.location.pathname.split("/"),i=a&&a.length>1&&"broadcast"===a[2],n||i||(window.location.href="/"+e.username+"/profile");case 33:return l.next=35,Object(s.b)(V);case 35:return l.next=37,Object(s.b)(b.getCurrentUserId);case 37:if(o=l.sent,!t.hlsUrl){l.next=41;break}return l.next=41,Object(s.g)(Object(h.TrackStageVideoSettingButtonRender)({viewer_id:o,broadcaster_caid:e&&e.caid,broadcaster_username:e&&e.username}));case 41:case"end":return l.stop()}},I)}function H(e){var t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.g)(Object(h.SetEntertainer)(e));case 2:return r.next=4,Object(s.b)(_.e,e.caid);case 4:return t=r.sent,n=t.filter(function(e){return e.provider===c.Ve})[0]||{},r.next=8,Object(s.g)(Object(h.SetBroadcasterTwitterHandle)(n.displayName));case 8:return r.next=10,Object(s.b)(b.getCurrentUserId);case 10:return a=r.sent,r.next=13,Object(s.a)([Object(s.e)(S.reportReceivedReactionsPeriodically),Object(s.e)(S.listenToWindowWidthChannel),Object(s.e)(S.processOldReactionsPeriodically),Object(s.e)(R,e)].concat(a===e.caid?[Object(s.e)(f.connectAndMaintainViewerCount,e.stageId)]:[]));case 13:return r.next=15,Object(s.b)(m.isAuthenticated);case 15:if(r.sent){r.next=25;break}return r.next=19,Object(s.b)(m.awaitAuthenticatedUserSession);case 19:return r.next=21,Object(s.b)(b.getCurrentUserId);case 21:if(r.sent!==e.caid){r.next=25;break}return r.next=25,Object(s.e)(f.connectAndMaintainViewerCount,e.stageId);case 25:case"end":return r.stop()}},T)}function W(e){var t,n,a,i,l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.b)(O.waitForFeatureConfiguration);case 2:return B("loading mobile stage for user!",e),t=window.location.pathname&&window.location.pathname.split("/"),n=t&&t.length>1&&"broadcast"===t[2],a={screen_name:n?c.wd:c.Id,canonical_path:window.location.pathname,web_presentation:A?c.of:c.nf,experiment_group:"CONTENTLOCK_".concat(D)},window.mParticle&&window.mParticle.logEvent("screen_view",window.mParticle.EventType.Other,a),r.prev=7,r.next=10,Object(s.b)(_.j,e);case 10:return i=r.sent,l=o()(i,function(e){return e.caid}),r.next=14,Object(s.e)(H,i);case 14:return r.next=16,Object(s.e)(S.hideStageHeaderAfterSomeTime);case 16:return r.next=18,Object(s.g)(Object(h.TrackStageLoad)(l));case 18:return r.next=20,Object(s.g)(Object(h.LoadStageActivityId)());case 20:return r.next=22,Object(g.e)(h.UnloadStage);case 22:return r.next=24,Object(s.c)();case 24:r.next=42;break;case 26:if(r.prev=26,r.t0=r.catch(7),404!==r.t0.statusCode){r.next=33;break}return r.next=31,Object(s.g)(Object(h.SwitchStageMode)(c.te));case 31:r.next=42;break;case 33:if(window.navigator.onLine){r.next=38;break}return r.next=36,Object(s.g)(Object(h.SwitchStageMode)(c.re));case 36:r.next=42;break;case 38:return Object(u.a)("Mobile stage failed to load",{entertainerUsername:e,error:r.t0}),r.next=41,Object(s.g)(Object(h.SwitchStageMode)(c.oe));case 41:throw r.t0;case 42:case"end":return r.stop()}},F,null,[[7,26]])}function V(){var e,t,n,a,i,o,u,_,m,g,p,f,v,w,C;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("handle stage director mobile update request"),r.next=3,Object(s.i)(h.selectEntertainer);case 3:return e=r.sent,t=e&&e.caid,r.next=7,Object(s.i)(h.selectIsCurrentUserOnOwnStage);case 7:if(!r.sent){r.next=14;break}return r.next=11,Object(s.i)(j.selectIsStageDirectorLive);case 11:return n=r.sent,r.next=14,Object(s.g)(Object(y.SetCurrentUserStageIsLive)(n));case 14:return r.next=16,Object(s.i)(h.selectStageMode);case 16:return a=r.sent,r.next=19,Object(s.b)(b.fetchAndSaveCurrentUser);case 19:return i=r.sent,r.next=22,Object(s.b)(S.determineStageModeForStageDirector,t,i&&i.caid,d.a);case 22:if(o=r.sent,a===o){r.next=26;break}return r.next=26,Object(s.g)(Object(h.SwitchStageMode)(o));case 26:return r.next=28,Object(s.i)(j.selectStageDirectorGroupedSelectorValues);case 28:if(u=r.sent,o!==c.ue){r.next=32;break}return r.next=32,Object(s.b)(S.handleStreamWatchingModeStageDirectorUpdate,u);case 32:return r.next=34,Object(s.i)(h.selectStageMediaProtocol);case 34:return _=r.sent,r.next=37,Object(s.i)(j.selectStageDirectorViewingOptions);case 37:return m=r.sent,r.next=40,Object(s.i)(j.selectStageDirectorCurrentViewingOption);case 40:return g=r.sent,p=null===g?"":g,r.next=44,Object(s.i)(j.selectStageDirectorHlsUrl);case 44:if(r.sent,_&&void 0!==p&&_!==p,!(f=!(_||!m||!p))){r.next=52;break}return r.next=50,Object(s.g)(Object(h.InitializeStageMediaProtocol)(c.ke));case 50:return r.next=52,Object(s.g)(Object(h.SetStageMediaProtocol)(c.ke));case 52:return r.next=54,Object(s.i)(j.selectStageDirectorReactionsDisabled);case 54:return v=r.sent,r.next=57,Object(s.i)(h.selectHasStageMessagesSubscription);case 57:if(w=r.sent,C=e&&e.stageId,!v){r.next=77;break}if(!m||m.length>1&&g===c.ke){r.next=65;break}return r.next=63,Object(s.g)(Object(h.ShowMaxCapacityReactionMessage)());case 63:r.next=67;break;case 65:return r.next=67,Object(s.g)(Object(h.ClearMaxCapacityReactionMessage)());case 67:return r.next=69,Object(s.g)(Object(h.DisconnectStageMessagesSubscription)());case 69:return r.next=71,Object(s.i)(h.selectReactionFrameContent);case 71:if(r.sent!==l.b.Gift){r.next=75;break}return r.next=75,Object(s.g)(Object(h.SetReactionFrameContent)(l.b.Chat));case 75:r.next=80;break;case 77:if(!1!==v||w||f||!C){r.next=80;break}return r.next=80,Object(s.g)(Object(h.StartStageMessagesSubscription)(C));case 80:case"end":return r.stop()}},P)}function z(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.e)(C.listenToStageDirectorMobileUpdates,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},N)}function G(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.h)(v.LoadMobileStage,W);case 2:case"end":return e.stop()}},M)}function q(){var e,t,n,a,i;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(g.e)(v.LoadMobileStage);case 2:return e=r.sent,r.next=5,Object(s.b)(_.j,e);case 5:return t=r.sent,r.next=8,Object(s.b)(x.d);case 8:return n=r.sent,r.next=11,Object(s.g)(Object(h.SetSocialShareImagesForCrawlerMetadata)(n));case 11:return r.next=13,Object(s.g)(Object(h.SetEntertainer)(t));case 13:if(!t||!t.broadcastId){r.next=26;break}return r.next=16,Object(s.b)(x.a,t.broadcastId);case 16:return a=r.sent,r.next=19,Object(s.g)(Object(h.SetStageTitle)(a.name));case 19:return r.next=21,Object(s.g)(Object(h.SetBroadcastForCrawlerMetadata)(a));case 21:return r.next=23,Object(s.b)(E.e,e);case 23:return i=r.sent,r.next=26,Object(s.g)(Object(h.SetIsLiveForCrawlerMetadata)(i&&i.live));case 26:c.Nc&&fetch("https://permanent-crawler-render.caffeine.tv/permanently-store-crawler-render",{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({url:c.M})});case 27:case"end":return r.stop()}},L)}},"./src/pieces/stage/android-sign-up-nag.scss":function(e,t,n){e.exports={androidSignUpNag:"android-sign-up-nag__androidSignUpNag___2skZ5",androidSignUpNagTitle:"android-sign-up-nag__androidSignUpNagTitle___1GGkD",androidSignUpNagSubtitle:"android-sign-up-nag__androidSignUpNagSubtitle___3jxcv",callToAction:"android-sign-up-nag__callToAction___1LTH3"}},"./src/pieces/stage/authentication-guard.js":function(e,t,n){"use strict";(function(e,a){var r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/recompose/dist/Recompose.esm.js"),o=n("./src/pieces/stage/stage.reducer.js"),s=n("./src/pieces/authentication/authentication.reducer.js"),c=n("./src/pieces/stage/authentication-guard.scss"),l=n.n(c),u=(n("./node_modules/bows/bows.js")("Authentication-guard"),Object(i.a)(Object(i.c)({isAnonymous:e.bool,showAuthenticationWall:e.func,entertainerUsername:e.string,children:e.element}),Object(r.b)(function(e){return{isAuthenticated:Object(s.selectIsAuthenticated)(e),entertainer:Object(o.selectEntertainer)(e)}},{ShowAuthenticationWall:o.ShowAuthenticationWall}),Object(i.d)({showAuthenticationWall:function(e){return function(t){var n=e.entertainer?e.entertainer.username:null;t.stopPropagation(),e.ShowAuthenticationWall(n)}}})));t.a=u(function(e){return e.isAuthenticated?e.children:a.createElement("a",{className:l.a.authenticationGuard,onClick:e.showAuthenticationWall,onKeyPress:e.showAuthenticationWall,tabIndex:"-1",role:"presentation"},e.children)})}).call(this,n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js"))},"./src/pieces/stage/authentication-guard.scss":function(e,t,n){e.exports={authenticationGuard:"authentication-guard__authenticationGuard___31yFJ"}},"./src/pieces/stage/autoplay-gate.scss":function(e,t,n){e.exports={autoplayGate:"autoplay-gate__autoplayGate___3kp4j",imageOverlay:"autoplay-gate__imageOverlay___1eB6t",previewImage:"autoplay-gate__previewImage___1VulI",autoplayGatePlayIcon:"autoplay-gate__autoplayGatePlayIcon___3fL4G"}},"./src/pieces/stage/bad-connection-icon.scss":function(e,t,n){e.exports={watcher:"bad-connection-icon__watcher___1pbHg",broadcaster:"bad-connection-icon__broadcaster___1LKIz bad-connection-icon__watcher___1pbHg"}},"./src/pieces/stage/broadcast-stream.scss":function(e,t,n){e.exports={broadcastStream:"broadcast-stream__broadcastStream___2r-iQ",hide:"broadcast-stream__hide___16fj5",android:"broadcast-stream__android___2NfJx",broadcastStreamAutoHeight:"broadcast-stream__broadcastStreamAutoHeight___2Irtf"}},"./src/pieces/stage/connect-and-maintain-stage-streams.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(i),s=n("./node_modules/redux-saga/es/index.js"),c=n("./node_modules/redux-saga/es/effects.js"),l=n("./src/pieces/base/error-reporting.js"),u=n("./src/pieces/base/api/rtcdn.api.js"),d=n("./src/pieces/base/api/metrics.api.js"),_=n("./src/pieces/base/saga-utilities.js"),m=n("./src/pieces/video-player/create-enhanced-peer-connection.js"),g=o.a.mark(p),b=o.a.mark(f);n("./node_modules/bows/bows.js")("Rtcdn-connection");function p(e){var t,n,a,r,i;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=Object(m.a)(),n=e.feed.id,a=e.stageId,r=e.feed.stream.sdpOffer,i=e.feed.stream.url,null,o.abrupt("return",{peerConnection:t,details:{streamConnectionId:n,signedPayload:null,stageId:a,offer:r,url:i}});case 7:case"end":return o.stop()}},g)}function f(e){var t,n,a,r,i,s;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.peerConnection,n=e.details,o.next=3,Object(c.b)(t.newEstablish,n.offer);case 3:return a=o.sent,r=a.answer,i=a.iceCandidates,s=a.stream,o.next=9,Object(c.a)([Object(c.b)(u.b,n.url,r),Object(c.b)(u.c,n.url,i)]);case 9:return o.abrupt("return",{details:n,peerConnection:t,mediaStream:s});case 10:case"end":return o.stop()}},b)}var h=n("./src/pieces/stage/media-stream-effect-manager.js"),v=n("./src/pieces/base/constants.js"),w=n("./src/pieces/stage/stage.reducer.js"),C=n("./src/pieces/stage-director/stage-director.reducer.js");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"a",function(){return R});var O=o.a.mark(N),S=o.a.mark(M),E=o.a.mark(L),x=o.a.mark(B),k=o.a.mark(A),I=o.a.mark(D),T=o.a.mark(U),F=o.a.mark(R),P=n("./node_modules/bows/bows.js")("Connect-and-maintain-stage-streams");function N(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:return n.prev=2,n.next=5,Object(s.e)(t>0?v.Je:v.Le);case 5:return n.next=7,Object(c.b)(u.e,e);case 7:t=0,n.next=18;break;case 10:if(n.prev=10,n.t0=n.catch(2),!(502===n.t0.statusCode&&t<v.Ke)){n.next=17;break}Object(l.a)("CDN heartbeat 502 error",{error:n.t0,retryCount:t}),t++,n.next=18;break;case 17:throw n.t0;case 18:n.next=1;break;case 20:case"end":return n.stop()}},O,null,[[2,10]])}function M(e){var t,n,a,r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.peerConnection,n=e.details,a=n.stageId,r=n.streamConnectionId,i.next=3,Object(_.f)(t.iceConnectionStateChangeChannel,o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,e.next=3,Object(c.b)(d.a,"ice_connection_state",{mode:"viewer",connection_state:n,stage_id:a,viewer_id:r});case 3:case"end":return e.stop()}},e)}));case 3:case"end":return i.stop()}},S)}function L(e,t,n){var a,r,i,u;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(s.e)(v.pc);case 2:return o.next=4,Object(c.b)(function(){return t.getStats()});case 4:if(a=o.sent,r=Array.from(a.values()),i=r.filter(function(e){var t=e.type,n=e.mediaType;return"inbound-rtp"===t&&"video"===n})[0],u=i?i.framesDecoded:null,!(Number.isFinite(u)&&u<v.Bc)){o.next=11;break}return o.next=11,Object(c.b)(l.a,"No/few video frames coming through for video stream",j({fingerprint:[e],framesDecoded:u,level:"warning"},n));case 11:case"end":return o.stop()}},E)}function B(e,t,n,a){return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(_.e)({type:"action that will never come"});case 3:return r.prev=3,r.next=6,Object(c.d)();case 6:if(!r.sent){r.next=17;break}return P("Clearing media streams from effect manager"),r.next=10,Object(c.g)(Object(w.RemoveMediaStreamId)(e));case 10:return h.a(t),P("Calling Shepard delete endpoint to clear the current viewer stream"),r.next=14,Object(c.b)(u.a,n);case 14:return P("Calling close peer connection"),r.next=17,Object(c.g)(Object(w.ClosePeerConnection)(a));case 17:return r.finish(3);case 18:case"end":return r.stop()}},x,null,[[0,,3,18]])}function A(e){var t,n,a,r,i,s;return o.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return P("connecting stage broadcast stream with feed configuration",e),t=e.feed,n=t.id,l.next=5,Object(c.b)(p,e);case 5:return a=l.sent,l.next=8,Object(_.b)(M,a);case 8:return l.next=10,Object(c.b)(f,a);case 10:return r=l.sent,i=h.c(r.mediaStream),P("media stream id for feed config",i,t),l.next=15,Object(c.g)(Object(w.SetMediaStreamId)(n,i));case 15:return P("stream connection established",{label:n,mediaStreamId:i}),s=t.stream.url,l.next=19,Object(c.i)(w.selectIsCurrentUserOnOwnStage);case 19:return l.sent,l.next=22,Object(c.a)([Object(c.e)(N,s),Object(_.b)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.capabilities.video){e.next=3;break}return e.next=3,Object(c.b)(L,r.details.stageId,r.peerConnection,{sourceName:n,stageId:r.details.stageId,streamId:t.stream.id});case 3:case"end":return e.stop()}},e)})),Object(c.e)(B,n,i,s,r)]);case 22:return l.next=24,Object(c.g)(Object(w.AnnounceStageStreamIsConnected)(t.stream.id));case 24:case"end":return l.stop()}},k)}function D(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,Object(c.b)(A,e);case 4:n.next=21;break;case 6:return n.prev=6,n.t0=n.catch(1),P("Fatal error in stream connection, waiting a bit then trying again",n.t0),n.next=11,Object(c.b)(l.b,n.t0,{},"Fatal error in stream connection");case 11:if(404!==n.t0.statusCode&&502!==n.t0.statusCode){n.next=19;break}return Object(l.a)("Failed to connect to stage broadcast with ".concat(n.t0.statusCode),{error:n.t0}),t=e.feed.id,n.next=16,Object(c.g)(Object(C.ReestablishViewerStream)(t));case 16:return n.abrupt("break",23);case 19:return n.next=21,Object(s.e)(7e3);case 21:n.next=0;break;case 23:case"end":return n.stop()}},I,null,[[1,6]])}function U(e){var t,n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(c.e)(D,e);case 2:t=a.sent,P("connected stage stream, awaiting tear down for it",e,e.feed.stream.id);case 4:return a.next=7,Object(_.e)(w.TearDownStageStream);case 7:if(n=a.sent,P("got stream ID to tear down, comparing it",n,e.feed.stream.id),n!==e.feed.stream.id){a.next=14;break}return P("tearing down stage stream",n,e.feed),a.next=13,Object(c.c)(t);case 13:return a.abrupt("break",16);case 14:a.next=4;break;case 16:case"end":return a.stop()}},T)}function R(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return P("awaiting a message to bring up a stage stream"),t.next=4,Object(_.e)(w.BringUpStageStream);case 4:return e=t.sent,P("connecting to stage stream with feed",e),t.next=8,Object(c.e)(U,e);case 8:t.next=0;break;case 10:case"end":return t.stop()}},F)}},"./src/pieces/stage/editable-name.scss":function(e,t,n){e.exports={divider:"editable-name__divider___-vEjA",editableName:"editable-name__editableName___3daaF"}},"./src/pieces/stage/empty-reactions-arrow-icon.tsx":function(e,t,n){"use strict";(function(e){var a=n("./src/pieces/base/icons/icon.tsx");n("./node_modules/bows/bows.js")("Empty-reactions-arrow-icon");t.a=function(){return e.createElement(a.a,null,e.createElement("svg",{width:15,height:15,viewBox:"0 0 15 15"},e.createElement("path",{d:"M7.523 13.5l-.046-12 .046 12zM13.5 8.7l-6 4.8 6-4.8zm-6 4.8l-6-4.8 6 4.8z",stroke:"#FFF",strokeWidth:2.4,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"})))}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/stage/media-stream-effect-manager.js":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var a=n("./node_modules/uuid/v4.js"),r=n.n(a),i=(n("./node_modules/bows/bows.js")("Media-stream-effect-manager"),{});function o(e){var t=r()();return i[t]=e,t}function s(e){if(i[e])return i[e].getTracks().filter(function(e){return"video"===e.kind}).forEach(function(e){return e.contentHint="detail"}),i[e];throw new Error("Cannot get nonexistant MediaStream ".concat(e,"!"))}function c(e){if(!i[e])throw new Error("Cannot clear nonexistant MediaStream ".concat(e,"!"));delete i[e]}window.mediaStreams=i},"./src/pieces/stage/overlay/broadcast-settings-button.scss":function(e,t,n){e.exports={stageSettingsButton:"broadcast-settings-button__stageSettingsButton___1KOzP",notificationSettingsMenuPadding:"broadcast-settings-button__notificationSettingsMenuPadding___D4KoT"}},"./src/pieces/stage/overlay/overlay-controls-area.scss":function(e,t,n){e.exports={visible:"overlay-controls-area__visible___xeTMk stage-overlay__visible___3Xv03",invisible:"overlay-controls-area__invisible___2eMJ1 stage-overlay__invisible___1TuuG",broadcastOverlayControls:"overlay-controls-area__broadcastOverlayControls___1YyfI",broadcastOverlayControlsContainer:"overlay-controls-area__broadcastOverlayControlsContainer___1KoeX",stageSettingsWrapper:"overlay-controls-area__stageSettingsWrapper___1jzbh",open:"overlay-controls-area__open___UZYeH",stageSettingsPanel:"overlay-controls-area__stageSettingsPanel___13Ie-",secondaryFeedToggleContainer:"overlay-controls-area__secondaryFeedToggleContainer___34HEl",noVideoStream:"overlay-controls-area__noVideoStream___2jd9u",transportControlContainer:"overlay-controls-area__transportControlContainer___13SDi",fullScreenIconContainer:"overlay-controls-area__fullScreenIconContainer___3oFRr",chromecastIconContainer:"overlay-controls-area__chromecastIconContainer___1730R",transportControl:"overlay-controls-area__transportControl___nmRGV buttons__unstyledButton___olg-i",fullScreenIcon:"overlay-controls-area__fullScreenIcon___n71xH",volumeSliderContainer:"overlay-controls-area__volumeSliderContainer___1gmtA"}},"./src/pieces/stage/overlay/overlay-title-area.scss":function(e,t,n){e.exports={overlayTitleArea:"overlay-title-area__overlayTitleArea___i8JBB",visible:"overlay-title-area__visible___1koie stage-overlay__visible___3Xv03",invisible:"overlay-title-area__invisible___2kZx4 stage-overlay__invisible___1TuuG",overlayGradient:"overlay-title-area__overlayGradient___1fMER",overlayHeader:"overlay-title-area__overlayHeader___2CEfG",overlayExplicit:"overlay-title-area__overlayExplicit___17oRi stage-broadcast__redesign_overlayExplicit___3jcKp",isVisible:"overlay-title-area__isVisible___PoYfg stage-broadcast__isVisible___38LUb",overlayTitleFooter:"overlay-title-area__overlayTitleFooter___3pVkI",overlayTitle:"overlay-title-area__overlayTitle___2uOoQ",hideInProfile:"overlay-title-area__hideInProfile___vR7wz",contentLogoContainer:"overlay-title-area__contentLogoContainer___2sETw",contentLogo:"overlay-title-area__contentLogo___23FVW",overlayTitleText:"overlay-title-area__overlayTitleText___PON2e",entertainerInfo:"overlay-title-area__entertainerInfo___1Aex0",hidePointerEvents:"overlay-title-area__hidePointerEvents___2ISMx",stageActionsMenu:"overlay-title-area__stageActionsMenu___1y79J"}},"./src/pieces/stage/overlay/secondary-feed-toggle-button.scss":function(e,t,n){e.exports={transportControlContainer:"secondary-feed-toggle-button__transportControlContainer___2zpWU"}},"./src/pieces/stage/overlay/stage-overlay.scss":function(e,t,n){e.exports={invisible:"stage-overlay__invisible___1TuuG",visible:"stage-overlay__visible___3Xv03",gradient:"stage-overlay__gradient___3-CpP",gradientWithNavbar:"stage-overlay__gradientWithNavbar___2yAxY",overlay:"stage-overlay__overlay___3j2vA",hidePointerEvents:"stage-overlay__hidePointerEvents___2bP-y",invisibleOverlay:"stage-overlay__invisibleOverlay___377fL",contentLogoContainer:"stage-overlay__contentLogoContainer___3kvRX",contentLogo:"stage-overlay__contentLogo___1XB0L",liveMarkerContainer:"stage-overlay__liveMarkerContainer___3uGir",liveMarker:"stage-overlay__liveMarker___3O1dQ",pulse:"stage-overlay__pulse___22LYg",topLeftSecondaryFeedPosition:"stage-overlay__topLeftSecondaryFeedPosition___PmUz7",transport:"stage-overlay__transport___10h4T",feedHasNoVideo:"stage-overlay__feedHasNoVideo___2OntT",dynamicRoleFeedAreaBeingDragged:"stage-overlay__dynamicRoleFeedAreaBeingDragged___IZiSQ",secondaryFeedToggleContainer:"stage-overlay__secondaryFeedToggleContainer___1eKPx",dynamicRoleFeedStreamContainer:"stage-overlay__dynamicRoleFeedStreamContainer___2Khpl",nonWidescreen:"stage-overlay__nonWidescreen___2jZe4",topRightSecondaryFeedPosition:"stage-overlay__topRightSecondaryFeedPosition___2rVIH",bottomRightSecondaryFeedPosition:"stage-overlay__bottomRightSecondaryFeedPosition___3h1Ky",bottomLeftSecondaryFeedPosition:"stage-overlay__bottomLeftSecondaryFeedPosition___WTDQB",isPrimary:"stage-overlay__isPrimary___2_2cX",twoFeedsToOneFeed:"stage-overlay__twoFeedsToOneFeed___3rWKD",fadeVideoOut:"stage-overlay__fadeVideoOut___3UQKr",beInvisibleDuringtwoFeedsToOneFeed:"stage-overlay__beInvisibleDuringtwoFeedsToOneFeed___Hl1MX",oneFeedToTwoFeeds:"stage-overlay__oneFeedToTwoFeeds___LgRLM",beInvisibleDuringoneFeedToTwoFeeds:"stage-overlay__beInvisibleDuringoneFeedToTwoFeeds___2cUvw",fadeVideoIn:"stage-overlay__fadeVideoIn___3_Gu2",dynamicRoleFeedLosesVideo:"stage-overlay__dynamicRoleFeedLosesVideo___HPdLC",performanceEndsWithVideo:"stage-overlay__performanceEndsWithVideo___1FBr5",dynamicRoleFeedGainsVideo:"stage-overlay__dynamicRoleFeedGainsVideo___2UA-8",performanceBeginsWithVideo:"stage-overlay__performanceBeginsWithVideo___10QzD",noVideoStream:"stage-overlay__noVideoStream___qCPMp",beInvisibleDuringPerformanceBeginsWithVideo:"stage-overlay__beInvisibleDuringPerformanceBeginsWithVideo___14pku",secondaryFeedWrapper:"stage-overlay__secondaryFeedWrapper___2LABu",keepCornerRounded:"stage-overlay__keepCornerRounded___1r4Or",keepCornerSquared:"stage-overlay__keepCornerSquared___J94FB",dynamicRoleFeedStream:"stage-overlay__dynamicRoleFeedStream___1xjne",hlsBufferContainer:"stage-overlay__hlsBufferContainer___22hTf",feedbackPreventionMuteMessage:"stage-overlay__feedbackPreventionMuteMessage___3lCaj",ticketOuterContainer:"stage-overlay__ticketOuterContainer___1SmJd",ticketOuterContainerWithNavbar:"stage-overlay__ticketOuterContainerWithNavbar___OPU1G",ticketMetaContainer:"stage-overlay__ticketMetaContainer___3HsNi",paywallHeader:"stage-overlay__paywallHeader___2XBnr",paywallTitle:"stage-overlay__paywallTitle___1nwcY",ticketButton:"stage-overlay__ticketButton___3gyjd",ticketButtonPlaceholder:"stage-overlay__ticketButtonPlaceholder___2EFcv"}},"./src/pieces/stage/reactions.scss":function(e,t,n){e.exports={encouragementMessageArea:"reactions__encouragementMessageArea___2Homo",trailerEncouragementMessage:"reactions__trailerEncouragementMessage___3bC9q",encouragementMessageUsername:"reactions__encouragementMessageUsername___2OzDZ",reactions:"reactions__reactions___2Ih1N",mobileReactions:"reactions__mobileReactions___3CrIR",reactionContainer:"reactions__reactionContainer___DOmtw",mobileReactionContainer:"reactions__mobileReactionContainer___8PJcQ",reactionAnimationWrapper:"reactions__reactionAnimationWrapper___1UzbB",reactionsPlaceholderBody:"reactions__reactionsPlaceholderBody___34rXd",mobileReactionsPlaceholderBody:"reactions__mobileReactionsPlaceholderBody___2mFNb",reactionContainerNumber5:"reactions__reactionContainerNumber5___1aV30",reactionContainerNumber6:"reactions__reactionContainerNumber6___fYTRi",reactionContainerNumber7:"reactions__reactionContainerNumber7___3i6-e",encouragementMessageWrapper:"reactions__encouragementMessageWrapper___2ebQR",encouragementMessage:"reactions__encouragementMessage___1ZMqK",mobileEncouragementMessage:"reactions__mobileEncouragementMessage___2rRec",encouragementMessageUsernameArea:"reactions__encouragementMessageUsernameArea___2sKaA",reactionContainerLoading:"reactions__reactionContainerLoading___1v_86",loadingAvatar:"reactions__loadingAvatar___3aEDw",avatar1:"reactions__avatar1___2q_8Y",avatar6:"reactions__avatar6___15PeL",avatar2:"reactions__avatar2___3cWBL",avatar7:"reactions__avatar7___LYMM0",avatar3:"reactions__avatar3___3lkEB",avatar4:"reactions__avatar4___3RrFI",avatar5:"reactions__avatar5___2goZH",mobileLoadingAvatar:"reactions__mobileLoadingAvatar___3_zH1"}},"./src/pieces/stage/reactions/reaction-badge.scss":function(e,t,n){e.exports={reactionBadge:"reaction-badge__reactionBadge___1mvkD",icon:"reaction-badge__icon___2nlhB",count:"reaction-badge__count___34R61",redesign_reactionBadge:"reaction-badge__redesign_reactionBadge___hrDFu",redesign_count:"reaction-badge__redesign_count___767MF",isLong:"reaction-badge__isLong___1XMk9",redesign_reactionArrow:"reaction-badge__redesign_reactionArrow___3oAQJ"}},"./src/pieces/stage/reactions/reaction-body.scss":function(e,t,n){e.exports={reactionBody:"reaction-body__reactionBody___386Iu",content:"reaction-body__content___1_tf7",reactionContainer:"reaction-body__reactionContainer___2WfX1",isStale:"reaction-body__isStale___1QPzh",isHovered:"reaction-body__isHovered___ZVcX9",reactionMessageMention:"reaction-body__reactionMessageMention___g7Wd7",reactionContainerWithFollowedTheme:"reaction-body__reactionContainerWithFollowedTheme___3e1-V",reactionContainerWithMentionedTheme:"reaction-body__reactionContainerWithMentionedTheme___jplQ6",reactionContainerWithDigitalItemTheme:"reaction-body__reactionContainerWithDigitalItemTheme___1FuPX",digitalItemReactionBodyContents:"reaction-body__digitalItemReactionBodyContents___2W5pL",digitalItemContainer:"reaction-body__digitalItemContainer___3NsIx",digitalItemStaticImageContainer:"reaction-body__digitalItemStaticImageContainer___1lpIW",digitalItemStaticImage:"reaction-body__digitalItemStaticImage___C5ZAr",reactionMentionHeader:"reaction-body__reactionMentionHeader___u4mxz",reactionMessageContainer:"reaction-body__reactionMessageContainer___1msyG",reactionMessage:"reaction-body__reactionMessage___472OV",reactionMessageWithDigitalItem:"reaction-body__reactionMessageWithDigitalItem___30BIs reaction-body__reactionMessage___472OV",redesign_reactionBody:"reaction-body__redesign_reactionBody___2a9UP",redesign_mobileReactionBody:"reaction-body__redesign_mobileReactionBody___3BObk",redesign_reactionContainer:"reaction-body__redesign_reactionContainer___1em5i",redesign_isStale:"reaction-body__redesign_isStale___ayNC7",redesign_isHovered:"reaction-body__redesign_isHovered___-jHwS",redesign_isMentioned:"reaction-body__redesign_isMentioned___1D7Wv",redesign_reactionMessageMention:"reaction-body__redesign_reactionMessageMention___11b62",redesign_reactionMessageMentionInText:"reaction-body__redesign_reactionMessageMentionInText___cOvWR",redesign_reactionContainerWithSelfTheme:"reaction-body__redesign_reactionContainerWithSelfTheme___3MLYY",redesign_reactionContainerWithFollowedTheme:"reaction-body__redesign_reactionContainerWithFollowedTheme___2huaZ",redesign_reactionContainerWithDigitalItemTheme:"reaction-body__redesign_reactionContainerWithDigitalItemTheme___3YARx",redesign_digitalItemReactionBodyContents:"reaction-body__redesign_digitalItemReactionBodyContents___2l7T5",withMessage:"reaction-body__withMessage___2BzEW",redesign_digitalItemContainer:"reaction-body__redesign_digitalItemContainer___92eK1",redesign_digitalItemStaticImageContainer:"reaction-body__redesign_digitalItemStaticImageContainer___1yMJ6",redesign_digitalItemStaticImage:"reaction-body__redesign_digitalItemStaticImage___2vLU4",redesign_digitalItemStaticImageMobile:"reaction-body__redesign_digitalItemStaticImageMobile___24aVW",redesign_reactionMessageContainer:"reaction-body__redesign_reactionMessageContainer___1v5b4",redesign_reactionMessage:"reaction-body__redesign_reactionMessage___21Lo1",redesign_mobileReactionMessage:"reaction-body__redesign_mobileReactionMessage___3Zo9W",redesign_reactionMessageWithMentionHeader:"reaction-body__redesign_reactionMessageWithMentionHeader___lKIKQ",redesign_reactionMessageWithDigitalItem:"reaction-body__redesign_reactionMessageWithDigitalItem___1KzMf reaction-body__redesign_reactionMessage___21Lo1"}},"./src/pieces/stage/reactions/reaction-box.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/framer-motion/dist/framer-motion.es.js"),o=(n("./node_modules/bows/bows.js")("Reaction-box"),{box:function(e){var t=e.width,n=e.height,a=e.cutCorner,r=e.tailPosition,i=e.hasTail;return{d:"\n        M 1 1\n        L ".concat(t-a," 1\n        L ").concat(t-1," 1\n        L ").concat(t-1," ").concat(n-1,"\n        L ").concat(r+17," ").concat(n-1,"\n        L ").concat(r," ").concat(i?n+9:n-1,"\n        L ").concat(r-18," ").concat(n-1,"\n        L 1 ").concat(n-1," Z\n      ")}},noBox:function(e){var t=e.width,n=e.height,a=e.cutCorner,r=e.tailPosition,i=e.hasTail;return{d:"\n        M 1 1\n        L ".concat(t-a," 1\n        L ").concat(t-1," 11\n        L ").concat(t-1," ").concat(n-1,"\n        L ").concat(r+17," ").concat(n-1,"\n        L ").concat(r," ").concat(i?n+9:n-1,"\n        L ").concat(r-18," ").concat(n-1,"\n        L 1 ").concat(n-1," Z\n      "),transition:{delay:.15}}}});t.a=function(e){var t=e.strokeColor,n=void 0===t?"#979797":t,a=e.fillColor,s=void 0===a?"none":a,c=e.width,l=void 0===c?196:c,u=e.height,d=void 0===u?44:u,_=e.cutCorner,m=void 0===_?19:_,g=e.tailPosition,b=void 0===g?49:g,p=e.isBox,f=void 0!==p&&p,h=e.hasTail,v=void 0!==h&&h,w=e.isMentionedAndFollowed,C=void 0!==w&&w,y=e.className;return r.a.createElement(r.a.Fragment,null,C&&r.a.createElement("svg",{vectorEffect:"non-scaling-stroke",overflow:"visible",width:l,height:d},r.a.createElement("path",{style:{stroke:"#00ffff",fill:"#00ffff"},d:"\n              M 1 1\n              L ".concat(l-m," 1\n              L ").concat(l-1," ").concat(f?1:11,"\n              L ").concat(l-1," ").concat(d-1,"\n              L ").concat(b+17," ").concat(d-1,"\n              L ").concat(b," ").concat(v?d+9:d-1,"\n              L ").concat(b-18," ").concat(d-1,"\n              L 1 ").concat(d-1," Z\n            "),fillRule:"nonzero",strokeWidth:2})),r.a.createElement("svg",{vectorEffect:"non-scaling-stroke",overflow:"visible",width:l,height:d,className:y,style:{transform:C?"translateY(-4px)":"translateY(0)"}},r.a.createElement(i.b.path,{variants:o,custom:{width:l,height:d,cutCorner:m,tailPosition:b,hasTail:v},animate:f?"box":"noBox",fillRule:"nonzero",stroke:n,strokeWidth:2,fill:s,d:"\n          M 1 1\n          L ".concat(l-m," 1\n          L ").concat(l-1," ").concat(f?1:11,"\n          L ").concat(l-1," ").concat(d-1,"\n          L ").concat(b+17," ").concat(d-1,"\n          L ").concat(b," ").concat(v?d+9:d-1,"\n          L ").concat(b-18," ").concat(d-1,"\n          L 1 ").concat(d-1," Z\n        ")})))}},"./src/pieces/stage/reactions/reaction-footer.scss":function(e,t,n){e.exports={reactionFooter:"reaction-footer__reactionFooter___kDS6h",stemContainer:"reaction-footer__stemContainer___3_HqA",userSnippet:"reaction-footer__userSnippet___1v4Qp",redesign_reactionFooter:"reaction-footer__redesign_reactionFooter___yeGFN",redesign_mobileReactionFooter:"reaction-footer__redesign_mobileReactionFooter___2RPDY",redesign_userSnippet:"reaction-footer__redesign_userSnippet___27MN8"}},"./src/pieces/stage/reactions/reaction-message-input.scss":function(e,t,n){e.exports={reactionMessageInput:"reaction-message-input__reactionMessageInput___1X4gL",avatarContainer:"reaction-message-input__avatarContainer___1Ebxr",inputField:"reaction-message-input__inputField___1qMMq forms__textInputWithDarkTheme___3W9Q_ forms__textInput___1Vogp forms__inputBase___3O5UR",redesign_reactionMessage:"reaction-message-input__redesign_reactionMessage___1siH_",redesign_inputButtonWrapper:"reaction-message-input__redesign_inputButtonWrapper___76NqH",open:"reaction-message-input__open___-8Xgr",redesign_inputButton:"reaction-message-input__redesign_inputButton___2rAxK",redesign_inputArrow:"reaction-message-input__redesign_inputArrow___3ccSW",redesign_inputField:"reaction-message-input__redesign_inputField___2CMqy",focused:"reaction-message-input__focused___2J1BJ",redesign_avatarWrapper:"reaction-message-input__redesign_avatarWrapper___27Wpf",valid:"reaction-message-input__valid___2yO3a",digitalItem:"reaction-message-input__digitalItem___2ytu-",shareForm:"reaction-message-input__shareForm___DCppp",redesign_inputText:"reaction-message-input__redesign_inputText___3plNN",redesign_inputButtonWrapperHls:"reaction-message-input__redesign_inputButtonWrapperHls___bQYQg",redesign_inputArrowHls:"reaction-message-input__redesign_inputArrowHls___8Olfo reaction-message-input__redesign_inputArrow___3ccSW",redesign_inputContent:"reaction-message-input__redesign_inputContent___2GARh",redesign_inputShareContent:"reaction-message-input__redesign_inputShareContent___gN43r reaction-message-input__redesign_inputContent___2GARh"}},"./src/pieces/stage/reactions/reaction-message-input.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/react/index.js"),c=n.n(s),l=n("./node_modules/redux/es/index.js"),u=n("./node_modules/redux-form/es/index.js"),d=n("./node_modules/classnames/index.js"),_=n.n(d),m=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/reselect/lib/index.js"),b=n("./node_modules/recompose/dist/Recompose.esm.js"),p=n("./src/pieces/base/constants.js"),f=n("./src/pieces/stage/reactions/reaction.reducer.js"),h=n("./src/pieces/payment/digital-items.reducer.js"),v=n("./src/pieces/stage/stage.reducer.js"),w=n("./src/pieces/stage-director/stage-director.reducer.js"),C=n("./src/pieces/share-stage-menu/share-stage-menu.reducer.js"),y=n("./src/pieces/users/users.reducer.js"),j=n("./src/pieces/current-user/current-user.reducer.js"),O=n("./src/pieces/base/avatar.tsx"),S=n("./src/pieces/stage/authentication-guard.js"),E=n("./src/pieces/authentication/authentication.reducer.js"),x=n("./src/pieces/stage/reactions/reaction-box.tsx"),k=n("./src/pieces/stage/reactions/reaction-up-arrow.tsx"),I=n("./src/pieces/stage/stage.types.ts"),T=n("./src/pieces/stage/reactions/reaction-message-input.scss"),F=n.n(T),P=(n("./node_modules/bows/bows.js")("Reaction-message-input"),Object(b.a)(Object(m.b)(Object(g.createStructuredSelector)({externalMessage:f.selectMessage,currentUser:j.selectCurrentUser,currentUserHasTwitterIdentity:y.selectCurrentUserHasTwitterIdentity,chosenDigitalItem:h.selectChosenDigitalItem,digitalItemQuantity:h.selectDigitalItemQuantity,digitalItemPickerStep:h.selectDigitalItemPickerStep,currentTabIndex:C.selectCurrentTabIndex,entertainer:v.selectEntertainer,stageMediaProtocol:v.selectStageMediaProtocol,isReactionsDisabled:w.selectStageDirectorReactionsDisabled,bottomFrameContent:v.selectBottomFrameContent}),function(e){return Object(l.b)({SendReaction:f.SendReaction,ClearExternalMessage:f.ClearMessage,ReturnToBrowsingStep:h.ReturnToBrowsingStep,SendDigitalItem:h.SendDigitalItem,NavigateToSocialAuthenticationPage:E.NavigateToSocialAuthenticationPage,SetBottomFrameContent:v.SetBottomFrameContent,SetReactionFrameContent:v.SetReactionFrameContent,RefreshCurrentUserIdentities:y.RefreshCurrentUserIdentities,SubmitTwitterForm:function(){return Object(u.c)("ShareStageWithTwitter")},SubmitEmailForm:function(){return Object(u.c)("emailInvites")}},e)})));t.a=P(function(t){var n,a=t.currentUser,i=t.digitalItemPickerStep,l=t.ClearExternalMessage,u=t.externalMessage,d=t.chosenDigitalItem,m=t.entertainer,g=t.digitalItemQuantity,b=t.currentTabIndex,f=t.currentUserHasTwitterIdentity,h=t.SendDigitalItem,v=t.SendReaction,w=(t.stageMediaProtocol,t.bottomFrameContent),C=t.isReactionsDisabled,y=t.NavigateToSocialAuthenticationPage,j=t.SetBottomFrameContent,E=t.SubmitTwitterForm,T=t.SubmitEmailForm,P=t.RefreshCurrentUserIdentities,N=Object(s.useRef)(null),M=Object(s.useState)(""),L=o()(M,2),B=L[0],A=L[1],D=Object(s.useState)(!1),U=o()(D,2),R=U[0],H=U[1],W=Object(s.useState)(!1),V=o()(W,2),z=V[0],G=V[1],q=Object(s.useState)(!1),J=o()(q,2),Z=J[0],Y=J[1],Q=Object(s.useState)(!1),K=o()(Q,2),X=K[0],$=K[1],ee=Object(s.useState)(!1),te=o()(ee,2),ne=te[0],ae=te[1],re="true"===localStorage.getItem(p.Fb),ie=b!==p.we.Twitter&&b!==p.we.Email&&C,oe=Object(s.useCallback)(function(){N.current&&(N.current.focus(),G(!0))},[N.current]);Object(s.useEffect)(function(){u&&(H(!0),e(function(){A(u),oe()})),X&&P(),Z&&oe()},[u,R,z,Z,X]),Object(s.useEffect)(function(){re||oe()},[w]),Object(s.useEffect)(function(){Y("Finalizing"===i),$(b===p.we.Twitter),ae(b===p.we.Email)},[i,b]);var se=function(){return G(!0)},ce=function(){return!B&&G(!1)},le=function(){w===I.a.Profile&&j(I.a.Reactions)},ue=function(e){var t=e.target.value;w===I.a.Profile&&j(I.a.Reactions),A(t),u&&l()},de=function(e){var t=e.key;"Enter"===t?me():"Escape"===t&&R&&ge()},_e=function(){j(I.a.Reactions),l(),A(""),H(!R),G(!1)},me=function(){switch(!0){case Z:return h(d.id,m.caid,d.goldCost,g||0,B),void _e();case X&&f:return E();case ne:return T();default:return void(B&&(v(B.trim()),_e()))}},ge=function(){H(!R),j(I.a.Reactions)},be=Object(s.useCallback)(function(){y(p.Ve,"/".concat(m.username))},[m]);return c.a.createElement(S.a,null,c.a.createElement("div",{className:F.a.redesign_reactionMessage},c.a.createElement("div",{className:_()((n={},r()(n,F.a.redesign_inputButtonWrapper,!0),r()(n,F.a.redesign_inputButtonWrapperHls,ie),r()(n,F.a.focused,z),r()(n,F.a.shareForm,X||ne),r()(n,F.a.digitalItem,Z),r()(n,F.a.valid,B),n)),onClick:X||ne?me:function(){return null}},c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:F.a.redesign_avatarWrapper},c.a.createElement(O.a,{user:a,size:"medium"})),c.a.createElement(x.a,{className:_()(r()({},F.a.redesign_inputButton,!0)),isBox:X||ne||Z}),X?f?c.a.createElement("div",{className:F.a.redesign_inputShareContent},c.a.createElement("span",{className:F.a.redesign_inputText},"tweet"),c.a.createElement(k.a,{className:F.a.redesign_inputArrow})):c.a.createElement("div",{className:F.a.redesign_inputShareContent,role:"button",tabIndex:-1,onClick:be},c.a.createElement("span",{className:F.a.redesign_inputText},"connect")):ne?c.a.createElement("div",{className:F.a.redesign_inputShareContent},c.a.createElement("span",{className:F.a.redesign_inputText},"send"),c.a.createElement(k.a,{className:F.a.redesign_inputArrow})):c.a.createElement("div",{className:F.a.redesign_inputContent},c.a.createElement("input",{className:F.a.redesign_inputField,ref:N,placeholder:" react",type:"text",onFocus:se,onBlur:ce,onClick:le,onChange:ue,onKeyDown:de,value:B,maxLength:Z?p.hc:p.kc,autoFocus:z,disabled:ie,autoComplete:"off",name:"chat"}),ie?c.a.createElement(k.a,{className:F.a.redesign_inputArrowHls}):c.a.createElement(k.a,{className:F.a.redesign_inputArrow,onClick:me}))))))})}).call(this,n("./node_modules/node-libs-browser/node_modules/timers-browserify/main.js").setImmediate)},"./src/pieces/stage/reactions/reaction-up-arrow.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/framer-motion/dist/framer-motion.es.js");n("./node_modules/bows/bows.js")("Reaction-up-arrow");t.a=function(e){var t=e.className,n=e.onClick,a=e.hasStem,o=void 0===a||a;return r.a.createElement(i.b.svg,{width:13,height:o?14:5,className:t,onClick:n,overflow:"visible"},r.a.createElement("path",{fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"\n        M 7 1\n        L 2 4\n        M 7 1\n        L 12 4\n        ".concat(o?"M 7 1 V 12 ":"","\n        Z\n      ")}))}},"./src/pieces/stage/reactions/reaction.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return u}),n.d(t,"SetMessage",function(){return d}),n.d(t,"ClearMessage",function(){return _}),n.d(t,"MentionUser",function(){return m}),n.d(t,"SendReaction",function(){return g}),n.d(t,"SetMostRecentlySentReactionEvent",function(){return b}),n.d(t,"selectMessage",function(){return p}),n.d(t,"selectMostRecentlySentReactionEvent",function(){return f});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-actions/es/createAction.js"),s=n("./node_modules/redux-actions/es/handleActions.js"),c=n("./node_modules/reselect/lib/index.js"),l=n("./src/pieces/base/constants.js"),u=(n("./node_modules/bows/bows.js")("Reaction.reducer"),"reaction"),d=Object(o.a)("Set Current Reaction Message"),_=Object(o.a)("Clear Current Reaction Message"),m=Object(o.a)("Mention User in Current Message",function(e){return e}),g=Object(o.a)("Send Reaction",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}),b=Object(o.a)("Set Most Recently Sent Reaction Event",function(e){return{message:e.message,time:e.time}}),p=function(e){return e[u].get("message")},f=Object(c.createSelector)(function(e){return e[u].get("mostRecentlySentReactionEvent")},function(e){return e.toJS()});t.default=Object(s.a)((a={},i()(a,g,function(e){return e.set("message","")}),i()(a,d,function(e,t){var n=t.payload;return e.set("message",n)}),i()(a,m,function(e,t){var n=t.payload;return e.set("message",e.get("message")?"".concat(e.get("message")," @").concat(n," ").slice(0,l.kc):"@".concat(n," "))}),i()(a,b,function(t,n){var a=n.payload;return t.set("mostRecentlySentReactionEvent",e.fromJS(a))}),i()(a,_,function(e){return e.set("message","")}),a),e.fromJS({message:"",mostRecentlySentReactionEvent:{}}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/stage/reactions/reaction.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return v});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/idx/lib/idx.js"),o=n.n(i),s=n("./node_modules/redux-saga/es/effects.js"),c=n("./src/pieces/base/saga-utilities.js"),l=n("./src/pieces/authentication/authentication.reducer.js"),u=n("./src/pieces/stage/stage.reducer.js"),d=n("./src/pieces/base/constants.js"),_=n("./src/pieces/current-user/current-user.sagas.js"),m=n("./src/pieces/stage/stage.sagas.js"),g=n("./src/pieces/base/api/reactions.api.js"),b=n("./src/pieces/stage/reactions/reaction.reducer.js"),p=r.a.mark(h),f=r.a.mark(v);n("./node_modules/bows/bows.js")("Reaction.sagas");function h(e){var t,n,a,i,c,f,h;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.i)(b.selectMostRecentlySentReactionEvent);case 2:return t=r.sent,r.next=5,Object(s.b)(Date.now);case 5:return n=r.sent,a=n-t.time,i=e===t.message,r.next=10,Object(s.i)(u.selectStageId);case 10:if(c=r.sent,i&&!(a>d.X)){r.next=36;break}return r.next=14,Object(s.b)(_.getSignedUserBlob);case 14:return f=r.sent,r.prev=15,r.next=18,Object(s.b)(g.d,c,{publisher:f,type:"reaction",body:{text:e}});case 18:return h=r.sent,r.next=21,Object(s.g)(Object(b.SetMostRecentlySentReactionEvent)({message:e,time:n}));case 21:return r.next=23,Object(s.b)(m.processIncomingReaction,h);case 23:r.next=36;break;case 25:if(r.prev=25,r.t0=r.catch(15),!o()(r.t0,function(e){return e.errors._unverifiedEmail})){r.next=32;break}return r.next=30,Object(s.g)(Object(l.ShowVerificationDialog)({body:"You need to confirm your email to comment",darkTheme:!0}));case 30:r.next=36;break;case 32:if(!o()(r.t0,function(e){return e.errors._silentError})){r.next=35;break}r.next=36;break;case 35:throw r.t0;case 36:case"end":return r.stop()}},p,null,[[15,25]])}function v(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.h)(b.SendReaction,h);case 2:case"end":return e.stop()}},f)}},"./src/pieces/stage/reactions/reaction.scss":function(e,t,n){e.exports={reaction:"reaction__reaction___1LNsk",reactionBadge:"reaction__reactionBadge___1K4uz",reactionBadgeButton:"reaction__reactionBadgeButton___1s1UX buttons__unstyledButton___olg-i",reactionActions:"reaction__reactionActions___37kgQ",isHovered:"reaction__isHovered___RVJZo",reactionBackground:"reaction__reactionBackground___1dKvp",reactionAction:"reaction__reactionAction___3F8Nk buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",username:"reaction__username___3rYpm",reactionLikers:"reaction__reactionLikers___3lOXx",liker:"reaction__liker___tSGPQ",redesign_reactionBadge:"reaction__redesign_reactionBadge___37mRo",reactionUpFront:"reaction__reactionUpFront___2E9Xq",redesign_reactionAction:"reaction__redesign_reactionAction___22pIw buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i"}},"./src/pieces/stage/redesign-loading-spinner-lines.scss":function(e,t,n){e.exports={ldsSpinner:"redesign-loading-spinner-lines__ldsSpinner___2lkde","lds-spinner":"redesign-loading-spinner-lines__lds-spinner___glY2u"}},"./src/pieces/stage/stage-broadcast.scss":function(e,t,n){e.exports={broadcast:"stage-broadcast__broadcast___3edL2",redesign_broadcast:"stage-broadcast__redesign_broadcast___2A6Vq",feedbackPreventionMuteMessage:"stage-broadcast__feedbackPreventionMuteMessage___1dC2U",placeholderVideoContainer:"stage-broadcast__placeholderVideoContainer___4TfbE",isVisible:"stage-broadcast__isVisible___38LUb",stageStateMessagesContainer:"stage-broadcast__stageStateMessagesContainer___3viev",stageStateMessageContainer:"stage-broadcast__stageStateMessageContainer___2G9U-",offlineMessageAvatarContainer:"stage-broadcast__offlineMessageAvatarContainer___2z8jP",offlineMessageTitle:"stage-broadcast__offlineMessageTitle___1hnbN",offlineMessageBody:"stage-broadcast__offlineMessageBody___uEY_Y",offlineMessageButtonContainer:"stage-broadcast__offlineMessageButtonContainer___2s5xF",offlineMessageButton:"stage-broadcast__offlineMessageButton___3bj_K buttons__button___2Dz0z",offlineMessageSignUpButton:"stage-broadcast__offlineMessageSignUpButton___E_ho1 stage-broadcast__offlineMessageButton___3bj_K buttons__button___2Dz0z",findMoreShows:"stage-broadcast__findMoreShows___3uBKY buttons__buttonWithHoverEffect___eFfj7 buttons__button___2Dz0z",broadcastOverlayBottomContainer:"stage-broadcast__broadcastOverlayBottomContainer___1Ph3a",transportContainer:"stage-broadcast__transportContainer___1iJob",transportControlContainer:"stage-broadcast__transportControlContainer___tKGxM",transportControl:"stage-broadcast__transportControl___2yls_ buttons__unstyledButton___olg-i",transportLeft:"stage-broadcast__transportLeft___2_4L4",transportCenter:"stage-broadcast__transportCenter___O26d1",transportRight:"stage-broadcast__transportRight___2esZ9",volumeSliderContainer:"stage-broadcast__volumeSliderContainer___3d7z1",volumeSliderTrack:"stage-broadcast__volumeSliderTrack___gCWcy",volumeSliderHandle:"stage-broadcast__volumeSliderHandle___2Ng8f",volumeSliderTrackHighlight:"stage-broadcast__volumeSliderTrackHighlight___k7uy5",volumeSlider:"stage-broadcast__volumeSlider___2O5Jn",optionalPrimaryFeedStreamContainer:"stage-broadcast__optionalPrimaryFeedStreamContainer___2sT1e",noVideoStream:"stage-broadcast__noVideoStream___M7Yz-",twoFeedsToOneFeed:"stage-broadcast__twoFeedsToOneFeed___1BlJM",fadeVideoOut:"stage-broadcast__fadeVideoOut___dCjNJ",optionalPrimaryFeedLosesVideo:"stage-broadcast__optionalPrimaryFeedLosesVideo___22Bk0",performanceEndsWithVideo:"stage-broadcast__performanceEndsWithVideo___2QYXv",optionalPrimaryFeedGainsVideo:"stage-broadcast__optionalPrimaryFeedGainsVideo___xqaag",performanceBeginsWithVideo:"stage-broadcast__performanceBeginsWithVideo___2oONk",fadeVideoIn:"stage-broadcast__fadeVideoIn___F7RDi",optionalPrimaryFeedStream:"stage-broadcast__optionalPrimaryFeedStream___2zfqd",secondaryFeedToggleContainer:"stage-broadcast__secondaryFeedToggleContainer___137tz",dynamicRoleFeedAreaBeingDragged:"stage-broadcast__dynamicRoleFeedAreaBeingDragged___2YJ_C",topLeftSecondaryFeedPosition:"stage-broadcast__topLeftSecondaryFeedPosition___cApFZ",bottomLeftSecondaryFeedPosition:"stage-broadcast__bottomLeftSecondaryFeedPosition___3OFUt",isPrimary:"stage-broadcast__isPrimary___1cdQa",secondaryFeedToggleButton:"stage-broadcast__secondaryFeedToggleButton___1PEho buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",liveHostButton:"stage-broadcast__liveHostButton___3qO9P buttons__unstyledButton___olg-i",redesign_transportLeft:"stage-broadcast__redesign_transportLeft___1l_UL",redesign_noVideoStream:"stage-broadcast__redesign_noVideoStream___1mMqu",redesign_overlaySpacer:"stage-broadcast__redesign_overlaySpacer___reD08",redesign_overlayExplicit:"stage-broadcast__redesign_overlayExplicit___3jcKp",redesign_networkIssueContainer:"stage-broadcast__redesign_networkIssueContainer___4n0X4",redesign_spinnerBackground:"stage-broadcast__redesign_spinnerBackground___Q594d",redesign_secondaryBroadcastIcon:"stage-broadcast__redesign_secondaryBroadcastIcon___2wPwE",redesign_active:"stage-broadcast__redesign_active___2F10d",redesign_slowLoadingMessageWrapper:"stage-broadcast__redesign_slowLoadingMessageWrapper___3jWNA",redesign_slowLoadingMessage:"stage-broadcast__redesign_slowLoadingMessage___3s3PT",redesign_slowLoadingMessageSpinner:"stage-broadcast__redesign_slowLoadingMessageSpinner___eWSuQ"}},"./src/pieces/stage/stage-footer.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./node_modules/react-redux/es/index.js"),o=n("./src/pieces/base/constants.js"),s=n("./src/pieces/footer/base-footer.tsx"),c=n("./src/pieces/footer/footer-mobile-nag.tsx"),l=n("./src/pieces/footer/footer-nag.tsx"),u=(n("./node_modules/bows/bows.js")("Stage-footer"),Object(i.b)(null,{}));t.a=u(function(t){var n="true"===localStorage.getItem(o.Fb);return e.createElement(s.a,{below:n?e.createElement(c.a,r()({},t,{source:o.Id})):e.createElement(l.a,null)})})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/stage/stage-frame.scss":function(e,t,n){e.exports={stageFrame:"stage-frame__stageFrame___2sdfp",mainContent:"stage-frame__mainContent___SaOp6",reactionsFrame:"stage-frame__reactionsFrame___8-wOe",redesign_reactionsFrame:"stage-frame__redesign_reactionsFrame___3Sb2j",redesign_userReactionBar:"stage-frame__redesign_userReactionBar___2AhIS",userReactionBar:"stage-frame__userReactionBar___1Mzmp",broadcastFrame:"stage-frame__broadcastFrame___3zOHu",redesign_broadcastFrame:"stage-frame__redesign_broadcastFrame___RGd64",userReactionBarContent:"stage-frame__userReactionBarContent___1wULb",criticalErrorMessage:"stage-frame__criticalErrorMessage___1buEq",outOfCapacityMessage:"stage-frame__outOfCapacityMessage___169Y8",redesign_stageFrame:"stage-frame__redesign_stageFrame___1n1kZ",redesign_mainContent:"stage-frame__redesign_mainContent___2HuMa",redesign_bottomFrameContentArea:"stage-frame__redesign_bottomFrameContentArea___34Kuv",hidden:"stage-frame__hidden___1vEJR",redesign_reactionsAreaContainer:"stage-frame__redesign_reactionsAreaContainer___1sWCA",redesign_profileContent:"stage-frame__redesign_profileContent___3ugID",redesign_overlayExplicit:"stage-frame__redesign_overlayExplicit___2oiH9 stage-broadcast__redesign_overlayExplicit___3jcKp",redesign_liveIndicator:"stage-frame__redesign_liveIndicator___2Y0zA",show:"stage-frame__show___2wHJS",withNavbar:"stage-frame__withNavbar___3isEv",liveBadge:"stage-frame__liveBadge___OW608",redesign_broadcastViewerMenuOfflineContainer:"stage-frame__redesign_broadcastViewerMenuOfflineContainer___pTyAV",redesign_bottomBar:"stage-frame__redesign_bottomBar___1VdNr",redesign_stageFrameWithErrorMessage:"stage-frame__redesign_stageFrameWithErrorMessage___3isLi stage-frame__redesign_stageFrame___1n1kZ",redesign_topFrame:"stage-frame__redesign_topFrame___3fsdL",redesign_topFrameTop:"stage-frame__redesign_topFrameTop___2Kzkk",redesign_topFrameMiddle:"stage-frame__redesign_topFrameMiddle___2tTzj",redesign_topFrameBottom:"stage-frame__redesign_topFrameBottom___1CDQ5",redesign_displayName:"stage-frame__redesign_displayName___Zf42R editable-name__editableName___3daaF",redesign_bottomFrame:"stage-frame__redesign_bottomFrame___eF_mJ",redesign_tabs:"stage-frame__redesign_tabs___2jswn",redesign_tabContent:"stage-frame__redesign_tabContent___2Y0TW",redesign_biography:"stage-frame__redesign_biography___emL2u",redesign_biographyTabContent:"stage-frame__redesign_biographyTabContent___2wZOK",redesign_editBio:"stage-frame__redesign_editBio___28CfN",redesign_followContent:"stage-frame__redesign_followContent___2Gg0T",redesign_followPillWrapper:"stage-frame__redesign_followPillWrapper___11iEE",redesign_followersPillWrapperOpacity:"stage-frame__redesign_followersPillWrapperOpacity___3lFM3",redesign_reactionFrameAnimator:"stage-frame__redesign_reactionFrameAnimator___vJ-mf",redesign_linkCopied:"stage-frame__redesign_linkCopied___9CDfM",redesign_showLinkCopied:"stage-frame__redesign_showLinkCopied___1flY8",redesign_emailTextHelper:"stage-frame__redesign_emailTextHelper___2CYm1",redesign_reactionsHeader:"stage-frame__redesign_reactionsHeader___3ProE",redesign_reactionsFrameForHls:"stage-frame__redesign_reactionsFrameForHls___2JBHn",reactionsContainerForHls:"stage-frame__reactionsContainerForHls___C6ysN",reactionsContainerForMaxCapacity:"stage-frame__reactionsContainerForMaxCapacity___2eN0k stage-frame__reactionsContainerForHls___C6ysN",emphasis:"stage-frame__emphasis___BHASV",reactionSettingsButton:"stage-frame__reactionSettingsButton___Fn6d-",redesign_snippetSubtitle:"stage-frame__redesign_snippetSubtitle___1bisc",noUserActionMenu:"stage-frame__noUserActionMenu___2pvNm",redesign_profileAnonymousContainer:"stage-frame__redesign_profileAnonymousContainer___egTJ1",redesign_emptyMessageWrapper:"stage-frame__redesign_emptyMessageWrapper___3_Mnd",redesign_profileAnonymousMessage:"stage-frame__redesign_profileAnonymousMessage___exUGw",redesign_emptyMessageContent:"stage-frame__redesign_emptyMessageContent___YESkF",redesign_spinnerBackground:"stage-frame__redesign_spinnerBackground___9H6Mq",ticketOuterContainer:"stage-frame__ticketOuterContainer___2L-h3",ticketMetaContainer:"stage-frame__ticketMetaContainer___3IE6y",ticketButton:"stage-frame__ticketButton___1Tw4a"}},"./src/pieces/stage/stage-metadata.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/react-helmet/lib/Helmet.js"),s=n.n(o),c=n("./src/pieces/base/constants.js"),l=n("./src/pieces/base/create-image-url.js"),u=n("./src/pieces/stage/stage.reducer.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Stage-metadata");var m=Object(i.b)(function(e){return{stageTitle:Object(u.selectStageTitle)(e),entertainer:Object(u.selectEntertainer)(e),entertainerTwitterHandle:Object(u.selectBroadcasterTwitterHandle)(e),broadcast:Object(u.selectBroadcastForCrawlerMetadata)(e),socialShares:Object(u.selectSocialShareImagesForCrawlerMetadata)(e),isLive:Object(u.selectIsLiveForCrawlerMetadata)(e)}}),g=function(e,t,n){return"Don't miss out! @\u200b".concat(e.username," ").concat(n?t&&t.name&&!t.isCaptureSoftware?"is playing ".concat(t.name," LIVE now."):"is LIVE now.":"is on Caffeine.")};t.a=m(function(t){var n=t.stageTitle,a=t.entertainer,r=t.broadcast,i=t.entertainerTwitterHandle,o=t.socialShares,u=t.isLive,d=window&&window.location&&window.location.pathname&&window.location.pathname.split("/"),m=d[1].toLowerCase(),b=d&&d.length>1&&"theboy"===m,p=d&&d.length>1&&"urltv"===m,f=b||p,h=u?{"add-play-and-logo-fs-overlay":!0}:{"add-logo-fs-overlay":!0},v=o&&o.find(function(e){return e.username.toLowerCase()===m});return e.createElement(s.a,null,e.createElement("title",null,n||c.Z),e.createElement("meta",{property:"description",content:a?g(a,r&&r.game,u):""}),e.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),e.createElement("meta",{name:"twitter:site",content:"@caffeine"}),i&&e.createElement("meta",{name:"twitter:creator",content:"@".concat(i)}),e.createElement("meta",{property:"fb:app_id",content:"278354532550167"}),e.createElement("meta",{property:"og:type",content:"website"}),e.createElement("meta",{property:"og:site_name",content:"Caffeine"}),c.V&&e.createElement("meta",{rel:"canonical",href:c.M}),c.V&&e.createElement("meta",{property:"og:url",content:c.M}),c.ib&&e.createElement("meta",{property:"og:title",content:n||c.Z}),c.ib&&a&&e.createElement("meta",{property:"og:description",content:g(a,r&&r.game,u)}),v&&e.createElement("meta",{property:"og:image",content:"".concat(c.f).concat(v.previewImage)}),!v&&f&&b&&e.createElement("metaoverlay",{property:"og:image",content:"https://assets.caffeine.tv/guide/share/theboy.b599da7f-d172-45eb-bc48-f0c2699b0233.png"}),!v&&f&&p&&e.createElement("meta",{property:"og:image",content:"https://assets.caffeine.tv/guide/share/urltv.90b64512-0730-4333-b3b6-1e00811bcabf.png"}),!v&&!f&&r&&e.createElement("meta",{property:"og:image",content:Object(l.c)(r.previewImagePath,_({auto:"webp",fit:"crop",width:1200,height:630,enable:"upscale"},h))}))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/stage/stage-settings.scss":function(e,t,n){e.exports={link:"stage-settings__link___1Nxpl",linkWithDarkTheme:"stage-settings__linkWithDarkTheme___2hyPZ stage-settings__link___1Nxpl",linkWithAlternateDarkTheme:"stage-settings__linkWithAlternateDarkTheme___R67x0 stage-settings__link___1Nxpl",warningLink:"stage-settings__warningLink___2yorq stage-settings__link___1Nxpl",smallLink:"stage-settings__smallLink___2XeHG stage-settings__link___1Nxpl",smallLinkWithDarkTheme:"stage-settings__smallLinkWithDarkTheme___2py5M stage-settings__smallLink___2XeHG stage-settings__link___1Nxpl",redesign_link:"stage-settings__redesign_link___1lnJJ",redesign_linkWithDarkTheme:"stage-settings__redesign_linkWithDarkTheme___1SsS_ stage-settings__link___1Nxpl",redesign_secondaryLinkWithDarkTheme:"stage-settings__redesign_secondaryLinkWithDarkTheme___21JBn stage-settings__link___1Nxpl",redesign_linkWithLightTheme:"stage-settings__redesign_linkWithLightTheme___2A-ZR stage-settings__link___1Nxpl",redesign_warningLink:"stage-settings__redesign_warningLink___3f1Ln stage-settings__link___1Nxpl",redesign_secondaryLink:"stage-settings__redesign_secondaryLink___1IGTi stage-settings__redesign_link___1lnJJ",stageSettings:"stage-settings__stageSettings___2fNA4",stageSettingsToggleContainer:"stage-settings__stageSettingsToggleContainer___1MQtp",stageSettingsToggleLabel:"stage-settings__stageSettingsToggleLabel___2MFJm",helperTextContainer:"stage-settings__helperTextContainer___1LiQr",helperIcon:"stage-settings__helperIcon___3KAJ1",emphasis:"stage-settings__emphasis___1jD-p"}},"./src/pieces/stage/stage.reducer.js":function(e,t,n){"use strict";n.r(t);var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),s=n.n(o),c=n("./node_modules/immutable/dist/immutable.js"),l=n.n(c),u=n("./node_modules/lodash/cond.js"),d=n.n(u),_=n("./node_modules/lodash/constant.js"),m=n.n(_),g=n("./node_modules/redux-actions/es/createAction.js"),b=n("./node_modules/redux-actions/es/handleActions.js"),p=n("./node_modules/reselect/lib/index.js"),f=(n("./node_modules/bows/bows.js")("Reaction-scores"),Math.pow(10,5)),h=f*Math.pow(10,3),v=f*Math.pow(10,3),w=f*Math.pow(10,2),C=f*Math.pow(10,1),y=f*Math.pow(10,0),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return-1*Math.pow(1.03,e/1e3)+(20+t)/15},O=n("./src/pieces/base/constants.js"),S=n("./src/pieces/current-user/current-user.reducer.js"),E=n("./src/pieces/stage-director/stage-director.reducer.js");n.d(t,"id",function(){return k}),n.d(t,"LoadStage",function(){return I}),n.d(t,"SetWebRTCStreamLoadStart",function(){return T}),n.d(t,"ClearWebRTCStreamLoadStart",function(){return F}),n.d(t,"SetStreamHasLoaded",function(){return P}),n.d(t,"ResetStreamHasLoaded",function(){return N}),n.d(t,"SetHlsIsBuffering",function(){return M}),n.d(t,"CastFromChromecast",function(){return L}),n.d(t,"TrackStageLoad",function(){return B}),n.d(t,"UnloadStage",function(){return A}),n.d(t,"ClearDataAfterUnloadStage",function(){return D}),n.d(t,"TrackStageVideoSettingButtonRender",function(){return U}),n.d(t,"TrackStageVideoSettingButtonClick",function(){return R}),n.d(t,"TrackStageVideoSourceLoad",function(){return H}),n.d(t,"TrackStageVideoFirstFrame",function(){return W}),n.d(t,"LogVideoWatched30SEvent",function(){return V}),n.d(t,"LogVideoStartEvent",function(){return z}),n.d(t,"TriggerVideoWatched30SEvent",function(){return G}),n.d(t,"TriggerVideoStartEvent",function(){return q}),n.d(t,"LogVideoStopEvent",function(){return J}),n.d(t,"TriggerVideoStopEvent",function(){return Z}),n.d(t,"TrackFollowUserFromStage",function(){return Y}),n.d(t,"TrackUnfollowUserFromStage",function(){return Q}),n.d(t,"TrackStageShareButtonClicked",function(){return K}),n.d(t,"TrackStageGiveButtonClicked",function(){return X}),n.d(t,"TrackAnimatedGiveIconImpression",function(){return $}),n.d(t,"TrackVideoPropClicked",function(){return ee}),n.d(t,"TrackVideoPropEvent",function(){return te}),n.d(t,"TrackPropPromptImpression",function(){return ne}),n.d(t,"TrackPropPromptClicked",function(){return ae}),n.d(t,"ProceedThroughAutoplayGate",function(){return re}),n.d(t,"SwitchStageMode",function(){return ie}),n.d(t,"BringUpStageStream",function(){return oe}),n.d(t,"TearDownStageStream",function(){return se}),n.d(t,"TakeStageOffline",function(){return ce}),n.d(t,"ClosePeerConnection",function(){return le}),n.d(t,"LoadStageActivityId",function(){return ue}),n.d(t,"SetStageLiveActivity",function(){return de}),n.d(t,"SetStageVideoStartMs",function(){return _e}),n.d(t,"SetEntertainer",function(){return me}),n.d(t,"SetMediaStreamId",function(){return ge}),n.d(t,"SetSelectedTab",function(){return be}),n.d(t,"SetBottomFrameContent",function(){return pe}),n.d(t,"SetReactionFrameContent",function(){return fe}),n.d(t,"RemoveMediaStreamId",function(){return he}),n.d(t,"SetStageConfiguration",function(){return ve}),n.d(t,"SetHostConnectionQuality",function(){return we}),n.d(t,"SetStageGameIdForGameFetch",function(){return Ce}),n.d(t,"SetStageContentDetails",function(){return ye}),n.d(t,"SetBroadcasterTwitterHandle",function(){return je}),n.d(t,"HideFeaturesPromotion",function(){return Oe}),n.d(t,"LoadFeaturesPromotion",function(){return Se}),n.d(t,"ShowFeaturesPromotionCloseButton",function(){return Ee}),n.d(t,"ClearStageContentDetails",function(){return xe}),n.d(t,"SetStageTitle",function(){return ke}),n.d(t,"SetBroadcastPreviewImagePath",function(){return Ie}),n.d(t,"InitializeStageMediaProtocol",function(){return Te}),n.d(t,"SetStageMediaProtocol",function(){return Fe}),n.d(t,"ShowMaxCapacityReactionMessage",function(){return Pe}),n.d(t,"ClearMaxCapacityReactionMessage",function(){return Ne}),n.d(t,"ShowSwitchStageMediaProtocolError",function(){return Me}),n.d(t,"ClearSwitchStageMediaProtocolError",function(){return Le}),n.d(t,"AnnounceStageBroadcastIsReady",function(){return Be}),n.d(t,"AnnounceStageStreamIsConnected",function(){return Ae}),n.d(t,"SendStageShareReaction",function(){return De}),n.d(t,"EndorseReaction",function(){return Ue}),n.d(t,"InteractWithDigitalItemReaction",function(){return Re}),n.d(t,"ReceiveReaction",function(){return He}),n.d(t,"RescindReactions",function(){return We}),n.d(t,"HoverReaction",function(){return Ve}),n.d(t,"UnhoverReaction",function(){return ze}),n.d(t,"SetOptionalPrimaryFeedAspectRatio",function(){return Ge}),n.d(t,"SetDynamicRoleFeedAspectRatio",function(){return qe}),n.d(t,"SetFullScreen",function(){return Je}),n.d(t,"SetBroadcastOverlayActiveness",function(){return Ze}),n.d(t,"ShowStageHeader",function(){return Ye}),n.d(t,"HideStageHeader",function(){return Qe}),n.d(t,"MakeStageHeaderInvisible",function(){return Ke}),n.d(t,"OpenStageSettingsMenu",function(){return Xe}),n.d(t,"CloseStageSettingsMenu",function(){return $e}),n.d(t,"MuteStage",function(){return et}),n.d(t,"UnmuteStage",function(){return tt}),n.d(t,"SetStageVolume",function(){return nt}),n.d(t,"SetMobileStageVolume",function(){return at}),n.d(t,"ToggleSecondaryFeedHiddenness",function(){return rt}),n.d(t,"SetSecondaryFeedAlignment",function(){return it}),n.d(t,"SetVisibleReactionCount",function(){return ot}),n.d(t,"ProcessOldReactions",function(){return st}),n.d(t,"ResetFollowedWatchers",function(){return ct}),n.d(t,"AddFollowedWatcher",function(){return lt}),n.d(t,"RemoveFollowedWatcher",function(){return ut}),n.d(t,"ShowAuthenticationWall",function(){return dt}),n.d(t,"ShowReactionLengthWarning",function(){return _t}),n.d(t,"ClearReactionLengthWarning",function(){return mt}),n.d(t,"MarkBroadcasterAsRecentlyFollowed",function(){return gt}),n.d(t,"ClearBroadcasterAsRecentlyFollowed",function(){return bt}),n.d(t,"ClaimUsername",function(){return pt}),n.d(t,"ResetStreamWatching",function(){return ft}),n.d(t,"SetBroadcastForCrawlerMetadata",function(){return ht}),n.d(t,"SetSocialShareImagesForCrawlerMetadata",function(){return vt}),n.d(t,"SetIsLiveForCrawlerMetadata",function(){return wt}),n.d(t,"DisconnectStageDirector",function(){return Ct}),n.d(t,"StartStageMessagesSubscription",function(){return yt}),n.d(t,"SetStageMessagesSubscriptionConnected",function(){return jt}),n.d(t,"DisconnectStageMessagesSubscription",function(){return Ot}),n.d(t,"SetStageFollowedSubscriptionConnected",function(){return St}),n.d(t,"DisconnectStageFollowedSubscription",function(){return Et}),n.d(t,"DisconnectStageViewersSubscription",function(){return xt}),n.d(t,"SetPropsPromptDialogOpen",function(){return kt}),n.d(t,"SetPropsPromptDialogClose",function(){return It}),n.d(t,"FetchInitialReyesResponseForUser",function(){return Tt}),n.d(t,"selectSelectedTab",function(){return Ft}),n.d(t,"selectBottomFrameContent",function(){return Pt}),n.d(t,"selectReactionFrameContent",function(){return Nt}),n.d(t,"selectStreamHasLoaded",function(){return Mt}),n.d(t,"selectHlsIsBuffering",function(){return Lt}),n.d(t,"selectFeaturesPromotionIsVisible",function(){return Bt}),n.d(t,"selectFeaturesPromotionCloseButtonIsVisible",function(){return At}),n.d(t,"selectStageMode",function(){return Dt}),n.d(t,"selectEntertainer",function(){return Ut}),n.d(t,"selectEntertainerNotFound",function(){return Rt}),n.d(t,"selectIsCurrentUserOnOwnStage",function(){return Ht}),n.d(t,"selectStageBroadcastContainerAspectRatio",function(){return Wt}),n.d(t,"selectSecondaryStreamAspectRatio",function(){return Vt}),n.d(t,"selectFullScreen",function(){return zt}),n.d(t,"selectHasFeedbackPreventionMute",function(){return Gt}),n.d(t,"selectMute",function(){return qt}),n.d(t,"selectSecondaryFeedIsHidden",function(){return Jt}),n.d(t,"selectSecondaryFeedPosition",function(){return Zt}),n.d(t,"selectOverlayIsActive",function(){return Yt}),n.d(t,"selectHeaderIsVisible",function(){return Qt}),n.d(t,"selectMediaStreamIds",function(){return Kt}),n.d(t,"selectInitialStreamHasLoaded",function(){return Xt}),n.d(t,"selectStageMediaProtocol",function(){return $t}),n.d(t,"selectWebRTCStreamLoadStart",function(){return en}),n.d(t,"selectShowMaxCapacityReactionMessage",function(){return tn}),n.d(t,"selectShowSwitchStageMediaProtocolError",function(){return nn}),n.d(t,"selectStageConfiguration",function(){return an}),n.d(t,"selectStageId",function(){return rn}),n.d(t,"selectStageIsOpen",function(){return on}),n.d(t,"selectBroadcasterTwitterHandle",function(){return sn}),n.d(t,"selectPropsPromptIsOpen",function(){return cn}),n.d(t,"selectReactions",function(){return un}),n.d(t,"selectVisibleReactionCount",function(){return dn}),n.d(t,"selectReactionCount",function(){return _n}),n.d(t,"selectCurrentHoveredReactionPosition",function(){return mn}),n.d(t,"selectActiveStreamIds",function(){return gn}),n.d(t,"selectFollowedWatchers",function(){return On}),n.d(t,"selectRecentlyFollowedBroadcaster",function(){return Sn}),n.d(t,"selectStageConfigurationTransition",function(){return En}),n.d(t,"selectStageGameIdForGameFetch",function(){return xn}),n.d(t,"selectStageContentDetails",function(){return kn}),n.d(t,"selectStageContentDetailsGameLogo",function(){return In}),n.d(t,"selectStageTitle",function(){return Tn}),n.d(t,"selectBroadcastPreviewImagePath",function(){return Fn}),n.d(t,"selectIsLiveAndModeIsStageWatcher",function(){return Pn}),n.d(t,"selectHostConnectionQuality",function(){return Nn}),n.d(t,"selectBroadcastForCrawlerMetadata",function(){return Mn}),n.d(t,"selectSocialShareImagesForCrawlerMetadata",function(){return Ln}),n.d(t,"selectIsLiveForCrawlerMetadata",function(){return Bn}),n.d(t,"selectStageVolume",function(){return An}),n.d(t,"selectIsFollowAnimationOn",function(){return Dn}),n.d(t,"SetIsFollowAnimationOn",function(){return Un}),n.d(t,"ResetIsFollowAnimationOn",function(){return Rn}),n.d(t,"selectStageSettingsMenuIsOpen",function(){return Hn}),n.d(t,"selectHasStageMessagesSubscription",function(){return Wn}),n.d(t,"selectHasStageFollowedSubscription",function(){return Vn}),n.d(t,"selectStageLiveActivity",function(){return zn}),n.d(t,"selectStageLiveActivityId",function(){return Gn}),n.d(t,"selectStageLiveActivityType",function(){return qn}),n.d(t,"selectStageLiveActivityHashtags",function(){return Jn}),n.d(t,"selectStageLiveActivityViewCount",function(){return Zn}),n.d(t,"selectStageLiveActivityLikeCount",function(){return Yn}),n.d(t,"selectStageLiveActivityPropCount",function(){return Qn}),n.d(t,"selectStageLiveActivityLikedByMe",function(){return Kn}),n.d(t,"selectStageLiveActivityVodDuration",function(){return Xn}),n.d(t,"selectStageVideoStartMs",function(){return $n}),n.d(t,"selectCalibratedStageVolumes",function(){return ea}),n.d(t,"internal",function(){return ra});var x=n("./node_modules/bows/bows.js")("Stage.reducer"),k="stage",I=Object(g.a)("Load Stage",function(e){return e}),T=Object(g.a)("Set WebRTC Stream Load Start",function(e){return{stream_id:e.stream_id,start_time:e.start_time}}),F=Object(g.a)("Unset WebRTC Stream Load Start",function(e){return e}),P=Object(g.a)("Set Stream Has Loaded"),N=Object(g.a)("Reset Stream Has Loaded"),M=Object(g.a)("Set HLS is Buffering"),L=Object(g.a)("Cast From Chromecast"),B=Object(g.a)("Track Stage Load",function(e){return e}),A=Object(g.a)("Unload Stage",function(){return null}),D=Object(g.a)("Clear Data After Unload Stage",function(){return null}),U=Object(g.a)("Track Stage Video Setting Button Render",function(e){return e}),R=Object(g.a)("Track Stage Video Setting Button Click",function(e){return e}),H=Object(g.a)("Track Stage Video Source Load",function(e){return e}),W=Object(g.a)("Track Stage Video First Frame",function(e){return e}),V=Object(g.a)("Log Video Watched 30 S Event",function(e){return e}),z=Object(g.a)("Log Video Start Event",function(e){return e}),G=Object(g.a)("Trigger Video Watched 30 S Event",function(){return null}),q=Object(g.a)("Trigger Video Start Event",function(){return null}),J=Object(g.a)("Log Video Stop Event",function(e){return e}),Z=Object(g.a)("Trigger Video Stop Event",function(){return null}),Y=Object(g.a)("Track Follow User From Stage",function(e){return{currentUserId:e.currentUserId,lobbyPayloadId:e.lobbyPayloadId,entertainerDetails:e.entertainerDetails,eventDetails:e.eventDetails,followedWatchers:e.followedWatchers,type:e.type}}),Q=Object(g.a)("Track Unfollow User From Stage",function(e){return{currentUserId:e.currentUserId,lobbyPayloadId:e.lobbyPayloadId,entertainerDetails:e.entertainerDetails,eventDetails:e.eventDetails,followedWatchers:e.followedWatchers,type:e.type}}),K=Object(g.a)("Track Stage Share Button Clicked"),X=Object(g.a)("Track Stage Give Button Clicked",function(e){return e}),$=Object(g.a)("Track Prop Prompt Impression"),ee=Object(g.a)("Track Video Prop Clicked",function(e){return{prop_name:e.prop_name,broadcaster_caid:e.broadcaster_caid,display_order:e.display_order}}),te=Object(g.a)("Track Video Prop Event",function(e){return e}),ne=Object(g.a)("Track Prop Prompt Impression"),ae=Object(g.a)("Track Prop Prompt click",function(e){return e}),re=Object(g.a)("Proceed Through Autoplay Gate",function(){return null}),ie=Object(g.a)("Switch Stage Mode",function(e){return e}),oe=Object(g.a)("Bring Up Stage Stream",function(e){return e}),se=Object(g.a)("Tear Down Stage Stream",function(e){return e}),ce=Object(g.a)("Take Stage Offline"),le=Object(g.a)("Close Peer Connection",function(e){return e}),ue=Object(g.a)("Load Stage Activity Id"),de=Object(g.a)("Set Stage Live Activity",function(e){return e}),_e=Object(g.a)("Set Stage Video Start Ms",function(e){return e}),me=Object(g.a)("Set Current Stage Entertainer",function(e){return e}),ge=Object(g.a)("Set Media Stream Id",function(e,t){return{label:e,id:t}}),be=Object(g.a)("Set Selected Tab",function(e){return e}),pe=Object(g.a)("Set Bottom Frame Content",function(e){return e}),fe=Object(g.a)("Set Reaction Frame Content",function(e){return e}),he=Object(g.a)("Remove Media Stream Id",function(e){return e}),ve=Object(g.a)("Set Stage Configuration",function(e){return e}),we=Object(g.a)("Set Host Connection Quality",function(e){return e}),Ce=Object(g.a)("Set Stage Game Id For Game Fetch",function(e){return e}),ye=Object(g.a)("Set Stage Content Details",function(e){return e}),je=Object(g.a)("Set Broadcaster Twitter Handle",function(e){return e}),Oe=Object(g.a)("Show Features Promotion"),Se=Object(g.a)("Load Features Promotion"),Ee=Object(g.a)("Show Features Promotion Close Button",function(){return null}),xe=Object(g.a)("Clear Stage Content Details"),ke=Object(g.a)("Set Stage Title",function(e){return e}),Ie=Object(g.a)("Set Broadcast Preview Image Path",function(e){return e}),Te=Object(g.a)("Initialize Stage Media Protocol",function(e){return e}),Fe=Object(g.a)("Set Stage Media Protocol",function(e){return e}),Pe=Object(g.a)("Show Max Capacity Reaction Message"),Ne=Object(g.a)("Clear Max Capacity Reaction Message"),Me=Object(g.a)("Show Switch Stage Media Protocol Error"),Le=Object(g.a)("Clear Switch Stage Media Protocol Error"),Be=Object(g.a)("Announce Stage Broadcast is Ready"),Ae=Object(g.a)("Announce Stage Stream is Connected",function(e){return e}),De=Object(g.a)("Send Stage Share Reaction"),Ue=Object(g.a)("Endorse Reaction",function(e){return e}),Re=Object(g.a)("Interact with Digital Item Reaction",function(e){return e}),He=Object(g.a)("Receive Reaction",function(e,t,n){return{reaction:e,receiptTime:t,preferredPositions:n}}),We=Object(g.a)("Rescind Reactions",function(e){return e}),Ve=Object(g.a)("Hover Reaction",function(e){return e}),ze=Object(g.a)("Unhover Reaction"),Ge=Object(g.a)("Set Stage Container Aspect Ratio"),qe=Object(g.a)("Set Secondary Video Aspect Ratio"),Je=Object(g.a)("Set Full Screen",function(e){return e}),Ze=Object(g.a)("Set Stage Broadcast Overlay Activeness",function(e){return e}),Ye=Object(g.a)("Show Stage Header",function(){return null}),Qe=Object(g.a)("Hide Stage Header",function(){return null}),Ke=Object(g.a)("Make Stage Header Invisible",function(){return null}),Xe=Object(g.a)("Open Stage Settings Menu",function(){return null}),$e=Object(g.a)("Close Stage Settings Menu",function(){return null}),et=Object(g.a)("Mute Stage",function(){return null}),tt=Object(g.a)("Unmute Stage",function(){return null}),nt=Object(g.a)("Set Stage Volume",function(e){return e}),at=Object(g.a)("Set Mobile Stage Volume",function(e){return e}),rt=Object(g.a)("Toggle Camera Hiddenness",function(){return null}),it=Object(g.a)("Set Secondary Feed Alignment",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"topRight";return e}),ot=Object(g.a)("Set Visible Reaction Count"),st=Object(g.a)("Process Old Reactions",function(e){return e}),ct=Object(g.a)("Reset Followed Watchers"),lt=Object(g.a)("Add Followed Watcher",function(e){return e}),ut=Object(g.a)("Remove Followed Watcher",function(e){return e}),dt=Object(g.a)("Show Authentication Wall",function(e){return e}),_t=Object(g.a)("Show Reaction Length Warning"),mt=Object(g.a)("Clear Reaction Length Warning"),gt=Object(g.a)("Mark Broadcaster As Recently Followed",function(){return null}),bt=Object(g.a)("Clear Broadcaster As Recently Followed",function(){return null}),pt=Object(g.a)("Claim Username",function(e){return e}),ft=Object(g.a)("Reset Stream Watching Mode State"),ht=Object(g.a)("Set Broadcast for Crawler Metadata",function(e){return e}),vt=Object(g.a)("Set Social Shares Images for Crawler Metadata",function(e){return e}),wt=Object(g.a)("Set Is Live for Crawler Metadata",function(e){return e}),Ct=Object(g.a)("Disconnect Stage Director"),yt=Object(g.a)("Start Stage Messages Subscription"),jt=Object(g.a)("Set Stage Messages Subscription Connected"),Ot=Object(g.a)("Disconnect Stage Messages Subscription"),St=Object(g.a)("Set Stage Followed Subscription Connected"),Et=Object(g.a)("Disconnect Stage Followed Subscription"),xt=Object(g.a)("Disconnect Stage Viewers Subscription"),kt=Object(g.a)("Set Props Prompt Dialog Open"),It=Object(g.a)("Set Props Prompt Dialog Close"),Tt=Object(g.a)("Fetch Initial Reyes Response For User",function(e){return e}),Ft=function(e){return e[k].get("selectedTab")},Pt=function(e){return e[k].get("bottomFrameContent")},Nt=function(e){return e[k].get("reactionFrameContent")},Mt=function(e){return e[k].get("streamHasLoaded")},Lt=function(e){return e[k].get("hlsIsBuffering")},Bt=function(e){return e[k].get("featuresPromotionIsVisible")},At=function(e){return e[k].get("featuresPromotionCloseButtonIsVisible")},Dt=function(e){return e[k].get("stageMode")},Ut=Object(p.createSelector)(function(e){return e[k].get("entertainer")},function(e){return e&&e.toJS()}),Rt=function(e){return e[k].get("entertainerNotFound")},Ht=Object(p.createSelector)(S.selectCurrentUser,Ut,function(e,t){return!(!e||!t||e.username!==t.username)}),Wt=Object(p.createSelector)(function(e){return e[k].get("stageConfiguration")},function(e){return e[k].get("optionalPrimaryFeedAspectRatio")},function(e){return e[k].get("dynamicRoleFeedAspectRatio")},function(e,t,n){return e.getIn(["dynamicRoleFeed","video"])&&!e.getIn(["optionalPrimaryFeed","video"])?n:t}),Vt=function(e){return e[k].get("dynamicRoleFeedAspectRatio")},zt=function(e){return e[k].get("fullScreen")},Gt=Object(p.createSelector)(function(e){return e[k].get("muteStateUntouched")},S.selectCurrentUserId,Ut,function(e,t,n){return e&&t===(n&&n.caid)}),qt=Object(p.createSelector)(function(e){return e[k].get("muted")},Gt,function(e,t){return e||t}),Jt=function(e){return e[k].get("secondaryFeedIsHidden")},Zt=function(e){return e[k].get("secondaryFeedPosition")},Yt=function(e){return e[k].get("overlayIsActive")},Qt=Object(p.createSelector)(function(e){return e[k].get("headerIsVisible")},function(e){return e}),Kt=Object(p.createSelector)(function(e){return e[k].get("mediaStreamIds")},function(e){return e.toJS()}),Xt=Object(p.createSelector)(function(e){return e[k].get("initialStreamHasLoaded")},function(e){return e}),$t=Object(p.createSelector)(function(e){return e[k].get("stageMediaProtocol")},function(e){return e}),en=Object(p.createSelector)(function(e){return e[k].get("webRTCStreamLoadStartTimes")},function(e){return e.toArray()}),tn=function(e){return e[k].get("showMaxCapacityReactionMessage")},nn=function(e){return e[k].get("showSwitchStageMediaProtocolError")},an=Object(p.createSelector)(function(e){return e[k].get("stageConfiguration")},function(e){return e.toJS()}),rn=function(e){return e[k].get("stageId")},on=function(e){return e[k].get("stageIsOpen")},sn=function(e){return e[k].get("broadcasterTwitterHandle")},cn=function(e){return e[k].get("propsPromptDialogOpen")},ln=function(e){return e[k].get("reactions")},un=Object(p.createSelector)(ln,function(e){return e.map(function(e){return l.a.Map({id:e.get("id"),publisher:e.get("publisher"),text:e.getIn(["body","text"]),variant:e.getIn(["body","variant"]),digitalItem:e.getIn(["body","digitalItem"],null),endorsementCount:e.get("endorsementCount"),digitalItemInteractionCount:e.get("digitalItemInteractionCount"),creationTime:e.get("creationTime"),likers:e.get("likers"),publishedByCurrentUser:e.get("publishedByCurrentUser"),fromFollowedPublisher:e.get("fromFollowedPublisher"),currentUserIsMentioned:e.get("currentUserIsMentioned"),messageParts:e.get("messageParts"),isStale:e.get("isStale"),type:e.get("type")})}).toJS()}),dn=function(e){return e[k].get("visibleReactionCount")},_n=Object(p.createSelector)(ln,function(e){return e.size}),mn=function(e){return e[k].get("currentHoveredReactionPosition")},gn=Object(p.createSelector)(function(e){return e[k].get("activeStreamIds")},function(e){return e.toArray()}),bn=function(e,t){return function(e){var t=e.age,n=void 0===t?0:t,a=e.endorsementCount,r=void 0===a?0:a,i=e.fromSelf,o=void 0!==i&&i,s=e.fromStageOwner,c=void 0!==s&&s,l=e.hasDigitalItem,u=void 0!==l&&l,d=e.hasMention,_=void 0!==d&&d,m=e.fromFollowedUser,g=void 0!==m&&m,b=j(n,r);return b+(b<0?0:(o?v:0)+(c?h:0)+(u?w:0)+(_?C:0)+(g?y:0))}({age:t-e.get("creationTime"),endorsementCount:e.get("endorsementCount"),fromSelf:e.get("publishedByCurrentUser"),fromStageOwner:e.get("publishedByStageOwner"),fromFollowedUser:e.get("fromFollowedPublisher"),hasDigitalItem:"digital_item"===e.get("type"),hasMention:e.get("currentUserIsMentioned")})},pn=function(e,t,n,a){var r=t.get("publishedByStageOwner")?O.gd:O.fd,i=e.filterNot(function(e){return n-e.get("creationTime")<r}),o=a?i.filter(function(e){return"share"===e.get("type")}):i;if(o.size){var s=bn(t,n),c=o.minBy(function(e){return bn(e,n)});return s>bn(c,n)?e.keyOf(c):null}return null},fn=function(e,t,n,a,r){var i=e.findKey(function(e){return e.get("id")===t.get("id")}),o=e.filter(function(e,t){return t<a}),s=a<=O.Qd?O.Rd:O.Kb,c=o.filter(function(e){return"share"===e.get("type")}).size,l="share"===t.get("type")&&c>=s;return void 0!==i?i:o.size<a&&!l?n.find(function(e){return e<a&&!o.has(e)}):pn(o,t,r,l)},hn=function(e,t){var n=t.payload;return e.update("reactions",function(e){return function(e,t){return e.map(function(e){return j(t-e.get("creationTime"),e.get("endorsementCount"))<=0?e.set("lastUpdateTime",e.get("isStale")?e.get("lastUpdateTime"):t).set("isStale",!0):e}).filterNot(function(e){return t-e.get("lastUpdateTime")>O.dc})}(e,n)})},vn=function(e){return e.get("hasBeenEndorsed")?e:e.set("endorsementCount",e.get("endorsementCount")+1).set("hasBeenEndorsed",!0).set("isStale",!1)},wn=function(e,t){var n=t.payload;return e.update("reactions",function(e){return e.map(function(e){return e.get("id")===n?e.update(vn).set("digitalItemInteractionCount",e.get("digitalItemInteractionCount")+1):e})})},Cn=function(e,t){var n=t.payload,a=l.a.fromJS(n),r=aa([e.get("stageConfiguration"),a,e.get("stageConfigurationTransition")]);return e.set("stageConfiguration",a).set("stageConfigurationTransition",r)},yn=function(e,t){var n=t.payload,a=n.label,r=n.id;return e.setIn(["mediaStreamIds",a],r)},jn=function(e,t){var n=t.payload;return e.update("mediaStreamIds",function(e){return e.delete(n)})},On=Object(p.createSelector)(function(e){return e[k].get("followedWatchers")},function(e){return e.reverse().toJS()}),Sn=function(e){return e[k].get("recentlyFollowedBroadcaster")},En=function(e){return e[k].get("stageConfigurationTransition")},xn=function(e){return e[k].get("stageGameIdForGameFetch")},kn=Object(p.createSelector)(function(e){return e[k].get("stageContentDetails")},function(e){return e.toJS()}),In=function(e){return e[k].getIn(["stageContentDetails","iconImagePath"])},Tn=function(e){return e[k].get("stageTitle")},Fn=function(e){return e[k].get("broadcastPreviewImagePath")},Pn=Object(p.createSelector)(E.selectIsStageDirectorLive,function(e){return e}),Nn=function(e){return e[k].get("hostConnectionQuality")},Mn=Object(p.createSelector)(function(e){return e[k].get("broadcastForCrawlerMetadata")},function(e){return e&&e.toJS()}),Ln=Object(p.createSelector)(function(e){return e[k].get("socialShareImagesForCrawlerMetadata")},function(e){return e&&e.toJS()}),Bn=Object(p.createSelector)(function(e){return e[k].get("isLiveForCrawlerMetadata")},function(e){return e}),An=function(e){return e[k].get("volume")},Dn=function(e){return e[k].get("isFollowAnimationOn")},Un=Object(g.a)("Set Is Follow Animation On",function(){return null}),Rn=Object(g.a)("Reset Is Follow Animation On",function(){return null}),Hn=function(e){return e[k].get("stageSettingsMenuIsOpen")},Wn=function(e){return e[k].get("hasStageMessagesSubscription")},Vn=function(e){return e[k].get("hasStageFollowedSubscription")},zn=Object(p.createSelector)(function(e){return e[k].get("activity")&&e[k].get("activity").toJS()},function(e){return e||null}),Gn=Object(p.createSelector)(function(e){return e[k].get("activity")&&e[k].get("activity").toJS()},function(e){return e?e.activityId:""}),qn=Object(p.createSelector)(function(e){return e[k].get("activity")&&e[k].get("activity").toJS()},function(e){return e?e.activityType:""}),Jn=Object(p.createSelector)(function(e){return e[k].get("activity")&&e[k].get("activity").toJS()},function(e){return e&&e.tags?e.tags.toString():""}),Zn=Object(p.createSelector)(function(e){return e[k].get("activity")&&e[k].get("activity").toJS()},function(e){return e?e.viewCount:""}),Yn=Object(p.createSelector)(function(e){return e[k].get("activity")&&e[k].get("activity").toJS()},function(e){return e?e.likeCount:""}),Qn=Object(p.createSelector)(function(e){return e[k].get("activity")&&e[k].get("activity").toJS()},function(e){return e?e.propCount:""}),Kn=Object(p.createSelector)(function(e){return e[k].get("activity")&&e[k].get("activity").toJS()},function(e){return!!e&&e.likedByMe}),Xn=Object(p.createSelector)(function(e){return e[k].get("activity")&&e[k].get("activity").toJS()},function(e){var t=e?e.broadcastInfo.broadcastStartTime:null,n=e?e.broadcastInfo.broadcastEndTime:null;if(n){var a=new Date(t),r=new Date(n),i=Math.abs(r-a),o=i&&i/1e3;return Math.floor(o)}return null}),$n=function(e){return e[k].get("videoStartMs")},ea=Object(p.createSelector)(function(e){return e[k].get("volume")},function(e){return e[k].get("stageConfiguration").toJS()},function(e,t){return ta(e,t)}),ta=function(e,t){return{optionalPrimaryFeedVolume:t.optionalPrimaryFeed?t.optionalPrimaryFeed.feedVolume*e:e,dynamicRoleFeedVolume:t.dynamicRoleFeed&&t.dynamicRoleFeed.isPrimary?t.dynamicRoleFeed.feedVolume*e:e}},na={stageMode:O.qe,featuresPromotionIsVisible:!0,featuresPromotionCloseButtonIsVisible:!1,entertainer:null,entertainerNotFound:!1,stageIsOnline:null,stageId:null,streamHasLoaded:!1,hlsIsBuffering:!1,reactions:{},reactionReceiptTimeCache:l.a.OrderedMap(),visibleReactionCount:5,reactionThemes:[],currentHoveredReactionPosition:null,mediaStreamIds:{},activeStreamIds:l.a.Set(),stageConfiguration:{state:null},stageConfigurationTransition:null,hostConnectionQuality:O.zb,optionalPrimaryFeedAspectRatio:16/9,dynamicRoleFeedAspectRatio:16/9,fullScreen:!1,muted:!0,muteStateUntouched:!0,overlayIsActive:!1,headerIsVisible:!0,secondaryFeedIsHidden:!1,secondaryFeedPosition:"topRight",followedWatchers:l.a.OrderedSet(),recentlyFollowedBroadcaster:!1,stageGameIdForGameFetch:null,stageContentDetails:{},stageTitle:"",broadcastPreviewImagePath:"",broadcasterTwitterHandle:"",broadcastForCrawlerMetadata:null,socialShareImagesForCrawlerMetadata:null,isLiveForCrawlerMetadata:!1,volume:100,liveHostableAddress:"",selectedTab:l.a.fromJS("About"),reactionFrameContent:l.a.fromJS("Chat"),bottomFrameContent:l.a.fromJS("Reactions"),initialStreamHasLoaded:!1,stageMediaProtocol:"",webRTCStreamLoadStartTimes:[],showMaxCapacityReactionMessage:!1,showSwitchStageMediaProtocolError:!1,isFollowAnimationOn:!1,stageSettingsMenuIsOpen:!1,hasStageMessagesSubscription:!1,hasStageFollowedSubscription:!1,propsPromptDialogOpen:!1,activity:null,isChromecastPlaying:!1,videoStartMs:0},aa=d()([[function(e){var t=s()(e,2),n=t[0],a=t[1];return(n.get("state")===O.B||null===n.get("state"))&&a.get("state")===O.C&&(a.getIn(["optionalPrimaryFeed","video"])||a.getIn(["dynamicRoleFeed","video"]))},m()(O.Ae)],[function(e){var t=s()(e,2),n=t[0],a=t[1];return n.get("state")===O.C&&a.get("state")===O.B&&(n.getIn(["optionalPrimaryFeed","video"])||n.getIn(["dynamicRoleFeed","video"]))},m()(O.Ce)],[function(e){var t=s()(e,2),n=t[0],a=t[1];return n.getIn(["optionalPrimaryFeed","isPrimary"])&&n.get("dynamicRoleFeed")&&a.getIn(["dynamicRoleFeed","isPrimary"])&&a.getIn(["dynamicRoleFeed","video"])},m()(O.Fe)],[function(e){var t=s()(e,2),n=t[0],a=t[1];return n.getIn(["dynamicRoleFeed","isPrimary"])&&!n.get("optionalPrimaryFeed")&&a.getIn(["optionalPrimaryFeed","isPrimary"])&&a.getIn(["optionalPrimaryFeed","video"])},m()(O.Be)],[function(e){var t=s()(e,2),n=t[0],a=t[1];return!n.getIn(["optionalPrimaryFeed","video"])&&a.getIn(["optionalPrimaryFeed","video"])},m()(O.De)],[function(e){var t=s()(e,2),n=t[0],a=t[1];return n.getIn(["optionalPrimaryFeed","video"])&&!a.getIn(["optionalPrimaryFeed","video"])},m()(O.Ee)],[function(e){var t=s()(e,2),n=t[0],a=t[1];return!n.getIn(["dynamicRoleFeed","video"])&&a.getIn(["dynamicRoleFeed","video"])},m()(O.ye)],[function(e){var t=s()(e,2),n=t[0],a=t[1];return n.getIn(["dynamicRoleFeed","video"])&&!a.getIn(["dynamicRoleFeed","video"])},m()(O.ze)],[function(){return!0},function(e){var t=s()(e,3);t[0],t[1];return t[2]}]]),ra=(t.default=Object(b.a)((a={},i()(a,ie,function(e,t){var n=t.payload;return e.set("stageMode",n)}),i()(a,L,function(e){return e.set("isChromecastPlaying",!0)}),i()(a,me,function(e,t){var n=t.payload;return e.set("entertainer",l.a.fromJS(n)).set("stageId",n.stageId)}),i()(a,ge,yn),i()(a,_e,function(e,t){var n=t.payload;return e.set("videoStartMs",n)}),i()(a,de,function(e,t){var n=t.payload;return e.set("activity",l.a.fromJS(n))}),i()(a,he,jn),i()(a,ve,Cn),i()(a,oe,function(e,t){var n=t.payload;return e.set("stageIsOnline",!0).update("activeStreamIds",function(e){return e.add(n.feed.stream.id)})}),i()(a,se,function(e,t){var n=t.payload;return e.update("activeStreamIds",function(e){return e.delete(n)})}),i()(a,ce,function(e){return e.set("stageIsOnline",!1).set("activeStreamIds",l.a.Set())}),i()(a,Ce,function(e,t){var n=t.payload;return e.set("stageGameIdForGameFetch",n)}),i()(a,ye,function(e,t){var n=t.payload;return e.set("stageContentDetails",l.a.fromJS(n))}),i()(a,xe,function(e){return e.set("stageContentDetails",l.a.Map()).set("stageGameIdForGameFetch",null)}),i()(a,ke,function(e,t){var n=t.payload;return e.set("stageTitle",n)}),i()(a,Ie,function(e,t){var n=t.payload;return e.set("broadcastPreviewImagePath",n)}),i()(a,Te,function(e,t){var n=t.payload;return e.set("stageMediaProtocol",n)}),i()(a,Fe,function(e,t){var n=t.payload;return e.set("stageMediaProtocol",n)}),i()(a,T,function(e,t){var n=t.payload,a=n.stream_id,r=n.start_time;return e.update("webRTCStreamLoadStartTimes",function(e){return e.push({stream_id:a,start_time:r})})}),i()(a,F,function(e,t){var n=t.payload;return e.update("webRTCStreamLoadStartTimes",function(e){return e.filter(function(e){return e.stream_id!==n})})}),i()(a,Pe,function(e){return e.set("showMaxCapacityReactionMessage",!0)}),i()(a,Ne,function(e){return e.set("showMaxCapacityReactionMessage",!1)}),i()(a,Me,function(e){return e.set("showSwitchStageMediaProtocolError",!0)}),i()(a,Le,function(e){return e.set("showSwitchStageMediaProtocolError",!1)}),i()(a,je,function(e,t){var n=t.payload;return e.set("broadcasterTwitterHandle",n)}),i()(a,we,function(e,t){var n=t.payload;return e.set("hostConnectionQuality",n)}),i()(a,He,function(e,t){var n=t.payload,a=n.reaction,r=n.preferredPositions,i=n.receiptTime,o=e.getIn(["reactionReceiptTimeCache",a.id],i),s=l.a.fromJS(a).set("creationTime",o).set("lastUpdateTime",i).set("likers",l.a.List());return e.update("reactions",function(t){var n=e.get("visibleReactionCount"),a=fn(t,s,r,n,i);return null!==a?t.updateIn([a],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.a.Map();return e.get("id")===s.get("id")?e.set("isStale",!1).mergeDeepWith(function(e,t,n){return"creationTime"===n?e:t},s):s.set("digitalItemInteractionCount",0)}):(x("no reaction positions available for replacement, ignoring reaction"),t)}).update("reactionReceiptTimeCache",function(e){return e.has(s.get("id"))?e:e.set(s.get("id"),i).slice(-1*O.ed)})}),i()(a,Ue,wn),i()(a,Re,function(e,t){var n=t.payload;return e.update("reactions",function(e){return e.map(function(e){return e.get("id")===n?e.set("digitalItemInteractionCount",e.get("digitalItemInteractionCount")+1):e})})}),i()(a,Ve,function(e,t){var n=t.payload;return e.set("currentHoveredReactionPosition",n)}),i()(a,ze,function(e){return e.set("currentHoveredReactionPosition",null)}),i()(a,We,function(e,t){var n=t.payload;return e.update("reactions",function(e){return e.filterNot(function(e){return e.getIn(["publisher","caid"])===n})})}),i()(a,st,hn),i()(a,ot,function(e,t){var n=t.payload;return e.set("visibleReactionCount",n).set("reactions",e.get("reactions").filter(function(e,t){return t<n}))}),i()(a,Ge,function(e,t){var n=t.payload;return e.set("optionalPrimaryFeedAspectRatio",n)}),i()(a,qe,function(e,t){var n=t.payload;return e.set("dynamicRoleFeedAspectRatio",n)}),i()(a,ct,function(e){return e.set("followedWatchers",l.a.OrderedSet())}),i()(a,lt,function(e,t){var n=t.payload,a=l.a.fromJS(n);return e.update("followedWatchers",function(e){return e.find(function(e){return e.get("caid")===a.get("caid")})?e:e.add(a)})}),i()(a,ut,function(e,t){var n=t.payload;return e.update("followedWatchers",function(e){return e.remove(e.find(function(e){return e.get("caid")===n}))})}),i()(a,Je,function(e,t){var n=t.payload;return e.set("fullScreen",n)}),i()(a,Ze,function(e,t){var n=t.payload;return e.set("overlayIsActive",n)}),i()(a,Ye,function(e){return e.set("headerIsVisible",!0)}),i()(a,Ke,function(e){return e.set("headerIsVisible",!1)}),i()(a,Xe,function(e){return e.set("stageSettingsMenuIsOpen",!0)}),i()(a,$e,function(e){return e.set("stageSettingsMenuIsOpen",!1)}),i()(a,et,function(e){return e.set("muted",!0).set("muteStateUntouched",!1)}),i()(a,tt,function(e){return e.set("muted",!1).set("muteStateUntouched",!1)}),i()(a,rt,function(e){return e.set("secondaryFeedIsHidden",!e.get("secondaryFeedIsHidden"))}),i()(a,it,function(e,t){var n=t.payload;return e.set("secondaryFeedPosition",n)}),i()(a,gt,function(e){return e.set("recentlyFollowedBroadcaster",!0)}),i()(a,bt,function(e){return e.set("recentlyFollowedBroadcaster",!1)}),i()(a,ft,function(e){return e.set("stageConfiguration",l.a.fromJS({state:null}))}),i()(a,nt,function(e,t){var n=t.payload;return e.set("volume",n).set("muted",!1)}),i()(a,at,function(e,t){var n=t.payload;return e.set("volume",n)}),i()(a,I,function(){return l.a.fromJS(na)}),i()(a,D,function(){return l.a.fromJS(na)}),i()(a,ht,function(e,t){var n=t.payload;return e.set("broadcastForCrawlerMetadata",l.a.fromJS(n))}),i()(a,vt,function(e,t){var n=t.payload;return e.set("socialShareImagesForCrawlerMetadata",l.a.fromJS(n))}),i()(a,wt,function(e,t){var n=t.payload;return e.set("isLiveForCrawlerMetadata",n)}),i()(a,Oe,function(e){return e.set("featuresPromotionIsVisible",!1)}),i()(a,Ee,function(e){return e.set("featuresPromotionCloseButtonIsVisible",!0)}),i()(a,be,function(e,t){var n=t.payload;return e.set("selectedTab",l.a.fromJS(n))}),i()(a,pe,function(e,t){var n=t.payload;return e.set("bottomFrameContent",l.a.fromJS(n))}),i()(a,fe,function(e,t){var n=t.payload;return e.set("reactionFrameContent",l.a.fromJS(n))}),i()(a,P,function(e){return e.set("streamHasLoaded",!0).set("initialStreamHasLoaded",!0)}),i()(a,M,function(e,t){var n=t.payload;return e.set("hlsIsBuffering",l.a.fromJS(n))}),i()(a,N,function(e){return e.set("streamHasLoaded",!1)}),i()(a,Un,function(e){return e.set("isFollowAnimationOn",!0)}),i()(a,Rn,function(e){return e.set("isFollowAnimationOn",!1)}),i()(a,jt,function(e){return e.set("hasStageMessagesSubscription",!0)}),i()(a,Ot,function(e){return e.set("hasStageMessagesSubscription",!1)}),i()(a,St,function(e){return e.set("hasStageFollowedSubscription",!0)}),i()(a,Et,function(e){return e.set("hasStageFollowedSubscription",!1)}),i()(a,kt,function(e){return e.set("propsPromptDialogOpen",!0)}),i()(a,It,function(e){return e.set("propsPromptDialogOpen",!1)}),a),l.a.fromJS(na)),{determineCalibratedStageVolumes:ta,determineReactionPosition:fn,handleProcessOldReactions:hn,handleEndorseReaction:wn,handleSetStageConfiguration:Cn,handleSetMediaStreamId:yn,handleRemoveMediaStreamId:jn})},"./src/pieces/stage/stage.sagas.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/regenerator/index.js"),c=n.n(s),l=n("./node_modules/idx/lib/idx.js"),u=n.n(l),d=n("./node_modules/redux-form/es/index.js"),_=n("./node_modules/lodash/cond.js"),m=n.n(_),g=n("./node_modules/lodash/constant.js"),b=n.n(g),p=n("./node_modules/lodash/range.js"),f=n.n(p),h=n("./node_modules/lodash/shuffle.js"),v=n.n(h),w=n("./node_modules/react-router-redux/lib/index.js"),C=n("./node_modules/redux-saga/es/index.js"),y=n("./node_modules/redux-saga/es/effects.js"),j=n("./src/pieces/base/constants.js"),O=n("./src/pieces/base/storage.js"),S=n("./src/pieces/stage/stage.types.ts"),E=n("./src/pieces/base/report-statistics.js"),x=n("./src/pieces/base/error-reporting.js"),k=n("./src/pieces/base/feature-detection/is-android.js"),I=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),T=n.n(I),F=(n("./node_modules/bows/bows.js")("Is-autoplay-allowed"),T()(c.a.mark(function e(){var t,n,a,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"}),n=URL.createObjectURL(t),(a=document.createElement("video")).playsInline=!0,a.src=n,r=a.play(),e.next=8,r.then(function(){return!0}).catch(T()(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("true"===localStorage.getItem(j.Fb))){e.next=9;break}return a.muted=!0,t=a.play(),e.next=6,t.then(function(){return!0}).catch(function(){return!1});case 6:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)})));case 8:return i=e.sent,e.abrupt("return",!!i);case 10:case"end":return e.stop()}},e)}))),P=n("./src/pieces/base/api/api-helpers.js"),N=c.a.mark(B);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Games.api");function B(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(P.c)("".concat(j.Yb,"/games/").concat(e));case 2:return t=n.sent,n.abrupt("return",t&&L({},t,{id:t.id.toString()}));case 4:case"end":return n.stop()}},N)}var A=n("./src/pieces/base/api/broadcasts.api.js"),D=n("./src/pieces/base/api/users.api.js"),U=n("./src/pieces/base/api/transactions.api.js"),R=n("./src/pieces/base/api/reactions.api.js"),H=n("./src/pieces/base/api/payments.api.js"),W=n("./src/pieces/users/users.reducer.js"),V=n("./src/pieces/authentication/authentication.reducer.js"),z=n("./src/pieces/authentication/authentication.sagas.js"),G=n("./src/pieces/base/saga-utilities.js"),q=n("./src/pieces/current-user/current-user.sagas.js"),J=n("./src/pieces/base/window-resize-tracker.js");n("./node_modules/bows/bows.js")("Create-window-width-channel");var Z=n("./src/pieces/authentication/session-vendor-id.js"),Y=n("./node_modules/lodash/random.js"),Q=n.n(Y),K=n("./src/pieces/base/api/revive-idiomatically.js"),X=n("./node_modules/bows/bows.js")("Create-web-socket-connection");function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new WebSocket(e,t);X("WebSocket opened",n);var a=[],r=!1,i=function(e){return r?n.send(JSON.stringify(e)):a.push(e)};return{send:i,close:function(){return n.close()},channel:Object(C.f)(function(t){return n.onopen=function(){r=!0,a.forEach(i)},n.onclose=function(){X("Socket closed for url ".concat(e)),t(C.a)},n.onmessage=function(e){try{var n=JSON.parse(e.data,K.a);t(n)}catch(t){X("Failed to handle incoming event",e,t)}},n.onerror=function(e){console.error("socket error",e),r||n.close()},function(){return n.close()}},C.b.sliding(100))}}var ee=c.a.mark(re),te=c.a.mark(ie),ne=c.a.mark(oe),ae=c.a.mark(se);n("./node_modules/bows/bows.js")("Create-managed-web-socket-connection");function re(e){var t,n,a,r,i,o,s,l,u,d,_,m,g;return c.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(d=function(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.keepAliveMessage){e.next=2;break}return e.abrupt("return");case 2:return e.next=5,Object(C.e)(r.keepAliveMessageInterval||j.cb);case 5:return e.next=7,Object(y.b)(s.send,r.keepAliveMessage);case 7:e.next=2;break;case 9:case"end":return e.stop()}},a)},u=function(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e===r.keepAliveResponse){t.next=3;break}return t.next=3,Object(y.g)(o,e);case 3:case"end":return t.stop()}},n)},l=function(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(s.send,e);case 2:case"end":return t.stop()}},t)},t=c.a.mark(l),n=c.a.mark(u),a=c.a.mark(d),r=e.configuration,i=e.outgoingMessages,o=e.incomingMessages,s=$(r.url,r.subprotocols),b.prev=6,!r.setUp){b.next=10;break}return b.next=10,Object(y.b)(r.setUp,s);case 10:return b.next=12,Object(G.f)(i,l);case 12:return _=b.sent,b.next=15,Object(G.f)(s.channel,u);case 15:return m=b.sent,b.next=18,Object(y.e)(d);case 18:return g=b.sent,b.next=21,Object(y.f)(m);case 21:return b.next=23,Object(y.a)([Object(y.c)(_),Object(y.c)(g)]);case 23:return b.prev=23,b.next=26,Object(y.b)(s.close);case 26:return b.finish(23);case 27:case"end":return b.stop()}},ee,null,[[6,,23,27]])}function ie(e){var t,n,a=arguments;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:0,r.next=3,Object(G.a)(re,e);case 3:if(!(t<j.lc)){r.next=12;break}return Object(x.a)("Briefly lost connection to managed WebSocket, reconnecting soon",{level:"info",configuration:e.configuration,retryNumber:t+1}),r.next=7,Object(y.b)(Q.a,0,j.p*Math.pow(2,t));case 7:return n=r.sent,r.next=10,Object(C.e)(n);case 10:return r.next=12,Object(y.b)(ie,e,t+1);case 12:case"end":return r.stop()}},te)}function oe(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(y.b)(ie,e);case 3:return Object(x.a)("Totally lost connection to managed WebSocket, reconnecting in a bit",{configuration:e.configuration,level:"warning"}),t.next=6,Object(C.e)(j.ab);case 6:t.next=0;break;case 8:case"end":return t.stop()}},ne)}function se(e){var t,n,a,r,i;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=function(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.g)(n,e);case 2:case"end":return t.stop()}},t)},t=c.a.mark(a),o.next=4,Object(C.c)(C.b.sliding(100));case 4:return n=o.sent,o.next=7,Object(C.c)(C.b.sliding(100));case 7:return r=o.sent,o.next=10,Object(y.j)(oe,{configuration:e,outgoingMessages:n,incomingMessages:r});case 10:return i=o.sent,o.abrupt("return",{send:a,channel:r,close:c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)(i);case 2:case"end":return e.stop()}},e)})});case 12:case"end":return o.stop()}},ae)}var ce=c.a.mark(me),le=c.a.mark(ge);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Create-managed-http-socket-connection");var _e={keepAliveMessage:"HEALZ",keepAliveResponse:"THANKS",keepAliveMessageInterval:j.cb};function me(){var e,t,n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(y.b)(q.getCurrentUserId);case 2:return e=r.sent,r.next=5,Object(y.b)(q.getSignedUserBlob);case 5:return t=r.sent,r.next=8,Object(y.b)(z.getAccessToken);case 8:return n=r.sent,r.next=11,Object(y.b)(z.getSecondVersionCredential);case 11:return a=r.sent,r.abrupt("return",de({Headers:{Authorization:n?"Bearer ".concat(n):"Anonymous ".concat(e),"X-Credential":a,"X-Caffeine-Vendor-Identifier":Object(Z.a)(),"X-Client-Type":j.N,"X-Client-Version":j.P}},t?{Body:JSON.stringify({user:t})}:{}));case 13:case"end":return r.stop()}},ce)}function ge(e,t){var n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=function(a){var r,i;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.b)(me);case 2:return r=n.sent,n.next=5,Object(y.b)(a.send,r);case 5:return n.next=7,Object(y.k)(a.channel);case 7:if(200===(i=n.sent).status){n.next=10;break}throw Object.assign(new Error("Failed to connect to http socket at ".concat(e)),{socketError:i});case 10:if(!t){n.next=13;break}return n.next=13,Object(y.b)(t);case 13:case"end":return n.stop()}},n)},n=c.a.mark(a),r.next=4,Object(y.b)(se,de({},_e,{url:e,setUp:a}));case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}},le)}var be=n("./src/pieces/web-broadcast/web-broadcast.sagas.js"),pe=n("./src/pieces/web-broadcast-status/web-broadcast-status.sagas.js"),fe=n("./src/pieces/analytics/analytics.sagas.js"),he=n("./src/pieces/web-broadcast/web-broadcast.reducer.js"),ve=n("./src/pieces/web-broadcast-status/web-broadcast-status.reducer.js"),we=n("./src/pieces/stage/stage.reducer.js"),Ce=n("./src/pieces/stage/connect-and-maintain-stage-streams.js"),ye=n("./src/pieces/base/api/stages.api.js"),je=n("./src/pieces/base/simple-dialog/simple-dialog.sagas.js"),Oe=n("./src/pieces/stage-director/stage-director.sagas.js"),Se=n("./src/pieces/current-user/current-user.reducer.js"),Ee=n("./src/pieces/stage-director/stage-director.reducer.js"),xe=n("./src/pieces/feature-configuration/feature-configuration.reducer.js"),ke=n("./src/pieces/feature-configuration/feature-configuration.sagas.js"),Ie=n("./src/pieces/profile/profile.reducer.js"),Te=n("./src/pieces/share-stage-menu/share-stage-menu.reducer.js"),Fe=n("./src/pieces/payment/digital-items.reducer.js"),Pe=n("./src/pieces/video/video.sagas.js");function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"listenToWindowWidthChannel",function(){return Xt}),n.d(t,"managePersistentConnection",function(){return en}),n.d(t,"determineStageModeForStageDirector",function(){return on}),n.d(t,"handleStreamWatchingModeStageDirectorUpdate",function(){return sn}),n.d(t,"processIncomingReaction",function(){return dn}),n.d(t,"startReaperSubscriptions",function(){return Sn}),n.d(t,"fetchAndSetBroadcastPreviewImage",function(){return En}),n.d(t,"handleAutoplayCheck",function(){return xn}),n.d(t,"hideStageHeaderAfterSomeTime",function(){return In}),n.d(t,"setCumulativeCreditsAtBroadcastStart",function(){return Tn}),n.d(t,"processOldReactionsPeriodically",function(){return qn}),n.d(t,"reportReceivedReactionsPeriodically",function(){return Jn}),n.d(t,"handleStageDirectorUpdateRequest",function(){return sa}),n.d(t,"processFeedStreamEventsForStageDirector",function(){return ca}),n.d(t,"fetchInitialReyesResponse",function(){return la}),n.d(t,"fetchInitialReyesResponseForUser",function(){return ua}),n.d(t,"default",function(){return _a}),n.d(t,"handleCrawler",function(){return ma}),n.d(t,"internal",function(){return ga});var Le=c.a.mark(Xt),Be=c.a.mark($t),Ae=c.a.mark(en),De=c.a.mark(tn),Ue=c.a.mark(nn),Re=c.a.mark(an),He=c.a.mark(rn),We=c.a.mark(on),Ve=c.a.mark(sn),ze=c.a.mark(un),Ge=c.a.mark(dn),qe=c.a.mark(_n),Je=c.a.mark(mn),Ze=c.a.mark(gn),Ye=c.a.mark(bn),Qe=c.a.mark(pn),Ke=c.a.mark(fn),Xe=c.a.mark(hn),$e=c.a.mark(vn),et=c.a.mark(wn),tt=c.a.mark(Cn),nt=c.a.mark(yn),at=c.a.mark(jn),rt=c.a.mark(On),it=c.a.mark(Sn),ot=c.a.mark(En),st=c.a.mark(xn),ct=c.a.mark(kn),lt=c.a.mark(In),ut=c.a.mark(Tn),dt=c.a.mark(Fn),_t=c.a.mark(Pn),mt=c.a.mark(Nn),gt=c.a.mark(Mn),bt=c.a.mark(Ln),pt=c.a.mark(Bn),ft=c.a.mark(An),ht=c.a.mark(Dn),vt=c.a.mark(Un),wt=c.a.mark(Rn),Ct=c.a.mark(Hn),yt=c.a.mark(Wn),jt=c.a.mark(Vn),Ot=c.a.mark(zn),St=c.a.mark(Gn),Et=c.a.mark(qn),xt=c.a.mark(Jn),kt=c.a.mark(Zn),It=c.a.mark(Yn),Tt=c.a.mark(Qn),Ft=c.a.mark(Kn),Pt=c.a.mark(Xn),Nt=c.a.mark($n),Mt=c.a.mark(ea),Lt=c.a.mark(ta),Bt=c.a.mark(na),At=c.a.mark(aa),Dt=c.a.mark(ra),Ut=c.a.mark(ia),Rt=c.a.mark(oa),Ht=c.a.mark(sa),Wt=c.a.mark(ca),Vt=c.a.mark(la),zt=c.a.mark(ua),Gt=c.a.mark(da),qt=c.a.mark(_a),Jt=c.a.mark(ma),Zt=n("./node_modules/bows/bows.js")("Stage.sagas"),Yt=3e3,Qt="true"===localStorage.getItem(j.Fb),Kt=localStorage.getItem(j.I);function Xt(){var e,t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(C.f)(function(e){var t=function(t){var n=t.width;return e(n)};return J.a.addEventListener(t),function(){J.a.removeEventListener(t)}},C.b.sliding(1)),n.prev=1,n.next=4,Object(y.l)(e,c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.g)(Object(we.SetVisibleReactionCount)(m()([[function(e){return e<=j.md},b()(4)],[function(e){return e<=j.nd},b()(5)],[function(e){return e<=j.od},b()(6)],[b()(!0),b()(7)]])(t)));case 2:case"end":return e.stop()}},e)}));case 4:return t=n.sent,n.next=7,Object(y.f)(t);case 7:return n.prev=7,n.next=10,Object(y.d)();case 10:if(!n.sent){n.next=12;break}e.close();case 12:return n.finish(7);case 13:case"end":return n.stop()}},Le,null,[[1,,7,13]])}function $t(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Zt("handling show auth wall",e),!e){t.next=8;break}return t.next=4,Object(y.g)(Object(V.SetPostAuthenticationRedirectPath)("/".concat(e)));case 4:return t.next=6,Object(y.g)(Object(w.push)("/".concat(e,"/join")));case 6:t.next=9;break;case 8:window.location.assign("/");case 9:case"end":return t.stop()}},Be)}function en(e,t,n){var a,r;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Zt("subscribing to persistent connection and listening for updates at ".concat(e)),i.next=3,Object(y.b)(ge,e,n);case 3:return a=i.sent,i.prev=4,i.next=7,Object(G.f)(a.channel,t);case 7:return r=i.sent,i.next=10,Object(y.f)(r);case 10:return i.prev=10,i.next=13,Object(y.b)(a.close);case 13:return i.finish(10);case 14:case"end":return i.stop()}},Ae,null,[[4,,10,14]])}function tn(e){var t,n,a,r;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e&&e.find(function(e){return e&&e.gameId}),i.next=3,Object(y.i)(we.selectStageGameIdForGameFetch);case 3:return n=i.sent,i.next=6,Object(y.i)(we.selectStageContentDetails);case 6:if(a=i.sent,!t||n===t.gameId){i.next=24;break}return i.prev=8,i.next=11,Object(y.g)(Object(we.SetStageGameIdForGameFetch)(t.gameId));case 11:return i.next=13,Object(y.b)(B,t.gameId);case 13:return r=i.sent,i.next=16,Object(y.g)(Object(we.SetStageContentDetails)(r));case 16:i.next=22;break;case 18:return i.prev=18,i.t0=i.catch(8),i.next=22,Object(y.g)(Object(we.ClearStageContentDetails)());case 22:i.next=27;break;case 24:if(!n&&!a.id||t){i.next=27;break}return i.next=27,Object(y.g)(Object(we.ClearStageContentDetails)());case 27:case"end":return i.stop()}},De,null,[[8,18]])}function nn(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.i)(we.selectStageTitle);case 2:if(t=n.sent,null==e||e===t){n.next=6;break}return n.next=6,Object(y.g)(Object(we.SetStageTitle)(e));case 6:case"end":return n.stop()}},Ue)}function an(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.i)(we.selectHostConnectionQuality);case 2:if(t=n.sent,null==e||e===t){n.next=6;break}return n.next=6,Object(y.g)(Object(we.SetHostConnectionQuality)(e));case 6:case"end":return n.stop()}},Re)}function rn(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.g)(Object(we.SetStageConfiguration)(e));case 2:case"end":return t.stop()}},He)}function on(e,t,n){var a,r,i,o,s,l,u,d,_;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return a=t===e,c.next=3,Object(y.i)(Ee.selectIsStageDirectorLive);case 3:return r=c.sent,c.next=6,Object(y.i)(Ee.selectStageDirectorHasWebFeed);case 6:return i=c.sent,c.next=9,Object(y.i)(Ee.selectStageDirectorHasOutOfCapacityError);case 9:return o=c.sent,c.next=12,Object(y.i)(Ee.selectStageDirectorHasGeoRestrictionError);case 12:return s=c.sent,c.next=15,Object(y.i)(Ee.selectStageDirectorHasExceptionForBroadcastOverride);case 15:return l=c.sent,c.next=18,Object(y.i)(Ee.selectStageDirectorWebBroadcastIsActiveInAnotherSession);case 18:if(u=c.sent,d=window&&window.location&&window.location.pathname&&window.location.pathname.split("/"),_=d&&d.length>1&&"broadcast"===d[2],!(a&&(!r||r&&i)&&!n&&!u&&_||_&&l)){c.next=25;break}return c.abrupt("return",j.ne);case 25:if(!o){c.next=29;break}return c.abrupt("return",j.se);case 29:if(!s){c.next=31;break}return c.abrupt("return",j.pe);case 31:return c.abrupt("return",j.ue);case 32:case"end":return c.stop()}},We)}function sn(e){var t,n,a,r,i,s;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.feeds,n=e.stageId,a=e.title,r=e.feedWithLiveHost,i=e.hostConnectionQuality,s=e.stageDirectorStageConfiguration,c.next=3,Object(y.a)([Object(y.b)(rn,s),Object(y.b)(nn,a),Object(y.b)(tn,[].concat(o()(t),[r])),Object(y.b)(an,i),Object(y.b)(ca,t,n)]);case 3:case"end":return c.stop()}},Ve)}var cn=/([^\w-]|^)(@[\w-]{3,40})/gi,ln=function(e){return e.replace(cn,"$1".concat("xXSuPeRuNiQuEmArKeRXx","$2").concat("xXSuPeRuNiQuEmArKeRXx")).split("xXSuPeRuNiQuEmArKeRXx").filter(function(e){return e}).map(function(e){return{type:cn.test(e)?j.wc:j.xc,text:e}})};function un(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.b)(q.fetchAndSaveCurrentUser);case 2:return t=n.sent,n.abrupt("return",!(!t||!e.some(function(e){return e.type===j.wc&&e.text.toLowerCase()==="@".concat(t.username.toLowerCase())})));case 4:case"end":return n.stop()}},ze)}function dn(e){var t,n,a,r,i,o,s,l,u;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=v()(f()(0,j.cc)),c.next=3,Object(y.b)(Date.now);case 3:return n=c.sent,c.next=6,Object(y.i)(W.selectFollowedUserCaids);case 6:return a=c.sent,c.next=9,Object(y.b)(q.getCurrentUserId);case 9:return r=c.sent,c.next=12,Object(y.b)(ln,e.body.text);case 12:return i=c.sent,c.next=15,Object(y.b)(un,i);case 15:return o=c.sent,c.next=18,Object(y.i)(we.selectEntertainer);case 18:if(s=c.sent,l=s&&s.caid,u=Me({},e,{messageParts:i,currentUserIsMentioned:o,endorsementCount:e.endorsementCount||0,publishedByCurrentUser:e.publisher.caid===r,publishedByStageOwner:e.publisher.caid===l,fromFollowedPublisher:a.includes(e.publisher.caid)}),"digital_item"!==e.type){c.next=32;break}return c.next=24,Object(y.i)(xe.selectWebVideoPropsStatus);case 24:if(!c.sent){c.next=30;break}return c.next=28,Object(y.b)(R.c,e);case 28:c.next=32;break;case 30:return c.next=32,Object(y.b)(R.b,e);case 32:return c.next=34,Object(y.g)(Object(we.ReceiveReaction)(u,n,t));case 34:case"end":return c.stop()}},Ge)}function _n(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.i)(xe.selectUseNewReactionsService);case 2:return t=n.sent,n.next=5,Object(y.g)(Object(we.SetStageMessagesSubscriptionConnected)());case 5:return n.next=7,Object(y.b)(en,t?"".concat(j.bd,"/reactions/stages/").concat(e,"/messages"):"".concat(j.id,"/reaper/stages/").concat(e,"/messages"),c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("reaction"!==t.type&&"share"!==t.type&&"digital_item"!==t.type){e.next=5;break}return e.next=3,Object(y.b)(dn,t);case 3:e.next=13;break;case 5:if("rescind"!==t.type){e.next=10;break}return e.next=8,Object(y.g)(Object(we.RescindReactions)(t.publisher.caid));case 8:e.next=13;break;case 10:if("follow"!==t.type){e.next=13;break}return e.next=13,Object(y.g)(Object(ve.SetNewFollowerNotificationDetails)(t));case 13:case"end":return e.stop()}},e)}));case 7:case"end":return n.stop()}},qe)}function mn(e){var t,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(y.b)(z.isAuthenticated);case 2:return t=a.sent,a.next=5,Object(y.e)(_n,e);case 5:if(n=a.sent,t){a.next=11;break}return a.next=9,Object(y.h)({authenticated:Object(y.b)(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(z.awaitAuthenticatedUserSession);case 2:return Zt("User signed in on the stage\u2014killing anon reactions connection & starting one signed-in"),t.next=5,Object(y.c)(n);case 5:return t.next=7,Object(y.e)(_n,e);case 7:return a=t.sent,t.next=10,Object(G.e)(we.DisconnectStageMessagesSubscription);case 10:return t.next=12,Object(y.c)(a);case 12:case"end":return t.stop()}},t)})),cancelled:Object(y.b)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.e)(we.DisconnectStageMessagesSubscription);case 2:return e.next=4,Object(y.b)(z.isAuthenticated);case 4:if(e.sent){e.next=8;break}return e.next=8,Object(y.c)(n);case 8:case"end":return e.stop()}},e)}))});case 9:a.next=15;break;case 11:return a.next=13,Object(G.e)(we.DisconnectStageMessagesSubscription);case 13:return a.next=15,Object(y.c)(n);case 15:case"end":return a.stop()}},Je)}function gn(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(z.awaitAuthenticatedUserSession);case 2:return t.next=4,Object(y.g)(Object(we.SetStageFollowedSubscriptionConnected)());case 4:return t.next=6,Object(y.b)(en,"".concat(j.id,"/reaper/stages/").concat(e,"/viewers/followed"),c.a.mark(function e(t){var n,a,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.isViewing,a=t.caid,Zt("friend watching update event",a,n),!n){e.next=10;break}return e.next=5,Object(y.b)(D.j,a);case 5:return r=e.sent,e.next=8,Object(y.g)(Object(we.AddFollowedWatcher)(r));case 8:e.next=12;break;case 10:return e.next=12,Object(y.g)(Object(we.RemoveFollowedWatcher)(a));case 12:case"end":return e.stop()}},e)}));case 6:case"end":return t.stop()}},Ze)}function bn(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)(pn);case 2:return e.next=4,Object(y.g)(Object(Se.LoadRecentNotifications)());case 4:case"end":return e.stop()}},Ye)}function pn(){var e,t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.i)(we.selectStageMediaProtocol);case 2:if(n.sent!==j.le){n.next=13;break}return n.next=6,Object(y.i)(we.selectWebRTCStreamLoadStart);case 6:if(!(e=n.sent).length){n.next=13;break}return n.next=10,Object(y.i)(we.selectMediaStreamIds);case 10:return t=n.sent,n.next=13,Object(y.a)(Object.values(t).map(function(t){return Object(y.b)(fn,t,e)}));case 13:case"end":return n.stop()}},Qe)}function fn(e,t){var n,a,r,i,o,s,l;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(y.b)(q.getCurrentUserId);case 2:return n=c.sent,c.next=5,Object(y.i)(we.selectEntertainer);case 5:if(a=c.sent,r=a&&a.caid,i=a&&a.username,!(o=t.find(function(t){return t.stream_id===e}))){c.next=20;break}return c.next=12,Object(y.b)(Date.now);case 12:return s=c.sent,l=s-o.start_time,c.next=16,Object(y.g)(Object(we.TrackStageVideoFirstFrame)({stream_id:e,viewer_id:n,broadcaster_caid:r,broadcaster_username:i,webrtc_time_to_first_frame:l}));case 16:return c.next=18,Object(y.g)(Object(we.ClearWebRTCStreamLoadStart)(e));case 18:return c.next=20,Object(y.g)(Object(we.TriggerVideoStartEvent)());case 20:case"end":return c.stop()}},Ke)}function hn(){var e,t,n,a,r,i,o,s,l,u,d,_,m,g,b,p;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(y.b)(q.getCurrentUserId);case 2:return e=c.sent,c.next=5,Object(y.i)(Se.selectCurrentUser);case 5:return t=c.sent,c.next=8,Object(y.i)(we.selectEntertainer);case 8:return n=c.sent,a=n&&n.username,c.next=12,Object(y.i)(we.selectStageLiveActivityId);case 12:return r=c.sent,c.next=15,Object(y.i)(we.selectStageLiveActivityType);case 15:return i=c.sent,c.next=18,Object(y.i)(Ee.selectStageDirectorBroadcastId);case 18:return o=c.sent,c.next=21,Object(y.i)(Ee.selectStageDirectorTitle);case 21:return s=c.sent,l=a,c.next=25,Object(y.i)(we.selectStageMediaProtocol);case 25:return u=c.sent,c.next=28,Object(y.i)(Ee.selectStageDirectorBadge);case 28:return d=c.sent,c.next=31,Object(y.i)(we.selectStageId);case 31:return _=c.sent,m=j.gf,g=t&&t.username,c.next=36,Object(y.i)(V.selectIsAnonymous);case 36:return b=c.sent,p={activity_id:r,activity_type:i,broadcast_id:o,broadcast_title:s,broadcaster_username:l,current_viewing_option:u,playing_type:d,stage_id:_,stage_source:m,viewer_username:g,viewer_id:e,is_anonymous:b},c.next=40,Object(y.g)(Object(we.LogVideoWatched30SEvent)(p));case 40:case"end":return c.stop()}},Xe)}function vn(){var e,t,n,a,r,i,o,s,l,u,d,_,m,g,b,p;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(y.b)(q.getCurrentUserId);case 2:return e=c.sent,c.next=5,Object(y.i)(Se.selectCurrentUser);case 5:return t=c.sent,c.next=8,Object(y.i)(we.selectEntertainer);case 8:return n=c.sent,a=n&&n.username,c.next=12,Object(y.i)(we.selectStageLiveActivityId);case 12:return r=c.sent,c.next=15,Object(y.i)(we.selectStageLiveActivityType);case 15:return i=c.sent,c.next=18,Object(y.i)(Ee.selectStageDirectorBroadcastId);case 18:return o=c.sent,c.next=21,Object(y.i)(Ee.selectStageDirectorTitle);case 21:return s=c.sent,l=a,c.next=25,Object(y.i)(we.selectStageMediaProtocol);case 25:return u=c.sent,c.next=28,Object(y.i)(Ee.selectStageDirectorBadge);case 28:return d=c.sent,c.next=31,Object(y.i)(we.selectStageId);case 31:return _=c.sent,m=j.gf,g=t&&t.username,c.next=36,Object(y.i)(V.selectIsAnonymous);case 36:return b=c.sent,p={activity_id:r,activity_type:i,broadcast_id:o,broadcast_title:s,broadcaster_username:l,current_viewing_option:u,playing_type:d,stage_id:_,stage_source:m,viewer_username:g,viewer_id:e,is_anonymous:b},c.next=40,Object(y.g)(Object(we.LogVideoStartEvent)(p));case 40:return c.next=42,Object(y.g)(Object(we.SetStageVideoStartMs)(Date.now()));case 42:case"end":return c.stop()}},$e)}function wn(){var e,t,n,a,r,i,o,s,l,u,d,_,m,g,b,p,f,h,v,w,C;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(y.b)(q.getCurrentUserId);case 2:return e=c.sent,c.next=5,Object(y.i)(Se.selectCurrentUser);case 5:return t=c.sent,c.next=8,Object(y.i)(we.selectEntertainer);case 8:return n=c.sent,a=n&&n.username,c.next=12,Object(y.i)(we.selectStageLiveActivityId);case 12:return r=c.sent,c.next=15,Object(y.i)(we.selectStageLiveActivityType);case 15:return i=c.sent,c.next=18,Object(y.i)(Ee.selectStageDirectorBroadcastId);case 18:return o=c.sent,c.next=21,Object(y.i)(Ee.selectStageDirectorTitle);case 21:return s=c.sent,l=a,c.next=25,Object(y.i)(we.selectStageMediaProtocol);case 25:return u=c.sent,c.next=28,Object(y.i)(Ee.selectStageDirectorBadge);case 28:return d=c.sent,c.next=31,Object(y.i)(we.selectStageId);case 31:return _=c.sent,m=j.gf,g=t&&t.username,c.next=36,Object(y.i)(we.selectStageLiveActivityHashtags);case 36:return b=c.sent,c.next=39,Object(y.i)(we.selectStageLiveActivityVodDuration)||null;case 39:return p=c.sent,c.next=42,Object(y.i)(we.selectStageVideoStartMs);case 42:return f=c.sent,h=Date.now(),v=f&&h-f?Math.floor((h-f)/1e3):null,c.next=47,Object(y.i)(V.selectIsAnonymous);case 47:return w=c.sent,C={activity_id:r,activity_type:i,broadcast_id:o,broadcast_title:s,broadcaster_username:l,current_viewing_option:u,playing_type:d,stage_id:_,stage_source:m,viewer_username:g,viewer_id:e,hashtags:b,vod_duration:p,watch_time_seconds:v,is_anonymous:w},c.next=51,Object(y.g)(Object(we.LogVideoStopEvent)(C));case 51:return c.next=53,Object(y.g)(Object(we.SetStageVideoStartMs)(0));case 53:case"end":return c.stop()}},et)}function Cn(e){var t,n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.next=3,Object(y.i)(we.selectActiveStreamIds);case 3:return n=r.sent,r.next=6,Object(y.b)(Date.now);case 6:if(a=r.sent,r.t0=n.length>0,!r.t0){r.next=11;break}return r.next=11,Object(y.g)(Object(we.SetWebRTCStreamLoadStart)({stream_id:t,start_time:a}));case 11:case"end":return r.stop()}},tt)}function yn(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.b)(q.getCurrentUserId);case 2:return t=n.sent,n.next=5,Object(y.g)(Object(we.TrackVideoPropEvent)(Me({},e,{event_key:j.cf,viewer_id:t,clicked_at:Date.now(),item_source:j.Ec.STAGE,item_type:j.Cc.STAGE_CHAT})));case 5:case"end":return n.stop()}},nt)}function jn(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.g)(Object(we.ResetFollowedWatchers)());case 2:return n.next=4,Object(y.e)(gn,e);case 4:return t=n.sent,n.next=7,Object(G.e)(we.DisconnectStageFollowedSubscription);case 7:return n.next=9,Object(y.c)(t);case 9:case"end":return n.stop()}},at)}function On(e){var t,n,a,r;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(y.b)(q.getCurrentUserId);case 3:return t=i.sent,i.next=6,Object(y.i)(we.selectStageMediaProtocol);case 6:if(n=i.sent,e.caid!==t){i.next=10;break}return i.next=10,Object(y.e)(Tn);case 10:return i.next=12,Object(y.g)(Object(Ee.ResetStageDirectorResponse)());case 12:return i.next=14,Object(y.e)(Ce.a);case 14:return a=i.sent,i.next=17,Object(y.e)(da,e.username);case 17:return r=i.sent,n||Zt("The stage is not in either WEBRTC of HLS mode yet"),i.next=21,Object(y.f)(a,r);case 21:return i.prev=21,i.next=24,Object(y.g)(Object(we.ResetStreamWatching)());case 24:return i.finish(21);case 25:case"end":return i.stop()}},rt,null,[[0,,21,25]])}function Sn(e){var t,n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(y.i)(we.selectHasStageMessagesSubscription);case 2:return t=r.sent,r.next=5,Object(y.i)(we.selectHasStageFollowedSubscription);case 5:return n=r.sent,r.next=8,Object(y.i)(Ee.selectStageDirectorReactionsDisabled);case 8:return a=r.sent,r.next=11,Object(y.a)([!t&&!1===a&&Object(y.e)(mn,e),!n&&Object(y.e)(jn,e)]);case 11:case"end":return r.stop()}},it)}function En(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.broadcastId){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(y.b)(A.a,e.broadcastId);case 4:return t=n.sent,n.next=7,Object(y.a)([Object(y.g)(Object(we.SetBroadcastPreviewImagePath)(t.previewImagePath)),Object(y.g)(Object(we.SetStageTitle)(t.name))]);case 7:case"end":return n.stop()}},ot)}function xn(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(F);case 2:if(e=t.sent,Zt("autoplay is allowed:",e),e){t.next=11;break}return t.next=7,Object(y.g)(Object(Se.LoadRecentNotifications)());case 7:return t.next=9,Object(y.g)(Object(we.SwitchStageMode)(j.me));case 9:return t.next=11,Object(G.e)(we.ProceedThroughAutoplayGate);case 11:case"end":return t.stop()}},st)}function kn(e){var t,n,a,r,i;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(G.h)(we.SwitchStageMode,c.a.mark(function t(n){var a,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==j.ne){t.next=8;break}return t.next=3,Object(y.e)(be.manageWebBroadcasting,e);case 3:return a=t.sent,t.next=6,Object(y.f)(a);case 6:t.next=25;break;case 8:if(n!==j.ue){t.next=16;break}return t.next=11,Object(y.e)(On,e);case 11:return r=t.sent,t.next=14,Object(y.f)(r);case 14:t.next=25;break;case 16:if(n!==j.se&&n!==j.pe){t.next=25;break}return t.next=19,Object(y.g)(Object(we.DisconnectStageMessagesSubscription)());case 19:return t.next=21,Object(y.g)(Object(we.DisconnectStageFollowedSubscription)());case 21:return t.next=23,Object(y.g)(Object(we.DisconnectStageViewersSubscription)());case 23:return t.next=25,Object(y.g)(Object(we.DisconnectStageDirector)());case 25:case"end":return t.stop()}},t)}));case 2:return o.next=4,Object(y.b)(la,e.username);case 4:if(!(t=o.sent).live){o.next=12;break}return o.next=8,Object(y.b)(En,e);case 8:return o.next=10,Object(y.b)(xn);case 10:o.next=33;break;case 12:if(t.live||!t.trailerUrl){o.next=21;break}return o.next=15,Object(y.g)(Object(Ee.SetEagerlyFetchedTrailerUrl)(t.trailerUrl));case 15:return o.next=17,Object(y.b)(xn);case 17:return o.next=19,Object(y.b)(En,e);case 19:o.next=33;break;case 21:return o.next=23,Object(y.j)(Sn,e.stageId);case 23:return o.next=25,Object(y.g)(Object(Se.LoadRecentNotifications)());case 25:return o.next=27,Object(y.b)(En,e);case 27:return o.next=29,Object(y.i)(Ee.selectIsStageDirectorLive);case 29:n=o.sent,a=window&&window.location&&window.location.pathname&&window.location.pathname.split("/"),r=a&&a.length>1&&"broadcast"===a[2],n||r||(window.location.href="/"+e.username+"/profile");case 33:return o.next=35,Object(y.b)(sa);case 35:return o.next=37,Object(y.b)(q.getCurrentUserId);case 37:if(i=o.sent,!t.hlsUrl){o.next=41;break}return o.next=41,Object(y.g)(Object(we.TrackStageVideoSettingButtonRender)({viewer_id:i,broadcaster_caid:e&&e.caid,broadcaster_username:e&&e.username}));case 41:case"end":return o.stop()}},ct)}function In(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.h)({autoHide:Object(y.b)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(3e3);case 2:return e.next=4,Object(y.i)(we.selectStageMode);case 4:if(t=e.sent,![j.qe,j.me,j.oe,j.re,j.se,j.pe,j.te].includes(t)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,Object(y.i)(we.selectIsLiveAndModeIsStageWatcher);case 9:if(n=e.sent,t!==j.ue||n){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,Object(y.g)(Object(we.HideStageHeader)());case 14:case"end":return e.stop()}},e)})),headerInteractionHappened:Object(G.e)(we.ShowStageHeader)});case 2:case"end":return e.stop()}},lt)}function Tn(){var e,t,n,a,r,i,o,s;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(y.b)(H.i);case 2:return e=c.sent,c.next=5,Object(y.g)(Object(ve.SetCumulativeCreditsAtBroadcastStart)(e.cumulativeCredits));case 5:return c.next=7,Object(C.e)(1e3);case 7:return c.next=9,Object(y.b)(q.fetchAndSaveCurrentUser,!0);case 9:return t=c.sent,c.next=12,Object(y.b)(A.a,t.broadcastId);case 12:return n=c.sent,a=Math.round(new Date(n.onlineAt).getTime()/1e3),c.next=16,Object(y.b)(U.a,!0);case 16:return r=c.sent,i=r.transactions.filter(function(e){return e.createdAt>=a}),o=i.reduce(function(e,t){return e+t.value},0),s=Math.max(e.cumulativeCredits-o,0),c.next=22,Object(y.g)(Object(ve.SetCumulativeCreditsAtBroadcastStart)(s));case 22:case"end":return c.stop()}},ut)}function Fn(e){var t,n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(y.g)(Object(we.SetEntertainer)(e));case 2:return r.next=4,Object(y.b)(D.e,e.caid);case 4:return t=r.sent,n=t.filter(function(e){return e.provider===j.Ve})[0]||{},r.next=8,Object(y.g)(Object(we.SetBroadcasterTwitterHandle)(n.displayName));case 8:return r.next=10,Object(y.b)(q.getCurrentUserId);case 10:return a=r.sent,r.next=13,Object(y.a)([Object(y.e)(Jn),Object(y.e)(Xt),Object(y.e)(qn),Object(y.e)(kn,e)].concat(a===e.caid?[Object(y.e)(pe.connectAndMaintainViewerCount,e.stageId)]:[]));case 13:return r.next=15,Object(y.b)(z.isAuthenticated);case 15:if(r.sent){r.next=25;break}return r.next=19,Object(y.b)(z.awaitAuthenticatedUserSession);case 19:return r.next=21,Object(y.b)(q.getCurrentUserId);case 21:if(r.sent!==e.caid){r.next=25;break}return r.next=25,Object(y.e)(pe.connectAndMaintainViewerCount,e.stageId);case 25:case"end":return r.stop()}},dt)}function Pn(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(O.a.get,j.Ge);case 2:return e=t.sent,t.abrupt("return",null!=e?e:j.He);case 4:case"end":return t.stop()}},_t)}function Nn(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.b)(D.k,e.map(function(e){return e}));case 2:return t=n.sent,n.next=5,Object(y.g)(Object(Ie.AppendProfileFollowerUsers)(t));case 5:case"end":return n.stop()}},mt)}function Mn(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.b)(D.k,e.map(function(e){return e}));case 2:return t=n.sent,n.next=5,Object(y.g)(Object(Ie.AppendProfileFollowingUsers)(t));case 5:case"end":return n.stop()}},gt)}function Ln(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.i)(we.selectEntertainer);case 3:return e=t.sent,t.next=6,Object(y.i)(Ie.selectHasFetchedInitialFollowerUsers);case 6:if(t.sent){t.next=11;break}return t.next=9,Object(y.e)(Dn,e);case 9:return t.next=11,Object(y.g)(Object(Ie.SetInitialFollowerUsersFetched)());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(0),Object(x.a)("Stage failed to load followers",{error:t.t0}),t.t0;case 17:case"end":return t.stop()}},bt,null,[[0,13]])}function Bn(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.i)(we.selectEntertainer);case 3:return e=t.sent,t.next=6,Object(y.i)(Ie.selectHasFetchedInitialFollowingUsers);case 6:if(t.sent){t.next=11;break}return t.next=9,Object(y.e)(An,e);case 9:return t.next=11,Object(y.g)(Object(Ie.SetInitialFollowingUsersFetched)());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(0),Object(x.a)("Stage failed to load following",{error:t.t0}),t.t0;case 17:case"end":return t.stop()}},pt,null,[[0,13]])}function An(e){var t,n,a,r,i;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(y.i)(V.selectIsAuthenticated);case 2:if(t=o.sent,Zt("getFollowing: user is authenticated? ".concat(t)),t){o.next=6;break}return o.abrupt("return");case 6:return o.next=8,Object(y.b)(D.d,e.caid,{limit:j.Zc});case 8:return n=o.sent,a=n.following,r=n.offset,o.next=13,Object(y.g)(Object(Ie.SetHasMoreFollowingUsers)(u()(r,function(e){return e>0})));case 13:return i=a.map(function(e){return e.caid}),o.next=16,Object(y.e)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)(Mn,i);case 2:case"end":return e.stop()}},e)}));case 16:case"end":return o.stop()}},ft)}function Dn(e){var t,n,a,r,i;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(y.i)(V.selectIsAuthenticated);case 2:if(t=o.sent,Zt("getFollowers: user is authenticated? ".concat(t)),t){o.next=6;break}return o.abrupt("return");case 6:return o.next=8,Object(y.b)(D.b,e.caid,{limit:j.Zc});case 8:return n=o.sent,a=n.followers,r=n.offset,o.next=13,Object(y.g)(Object(Ie.SetHasMoreFollowerUsers)(u()(r,function(e){return e>0})));case 13:return i=a.map(function(e){return e.caid}),o.next=16,Object(y.e)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)(Nn,i);case 2:case"end":return e.stop()}},e)}));case 16:case"end":return o.stop()}},ht)}function Un(){var e,t,n,a,r,i,o;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(y.i)(V.selectIsAuthenticated);case 2:if(e=s.sent,Zt("fetchMoreFollowerUsers: user is authenticated? ".concat(e)),e){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,Object(y.i)(we.selectEntertainer);case 8:return t=s.sent,s.next=11,Object(y.i)(Ie.selectFollowerUsers);case 11:return n=s.sent,s.next=14,Object(y.b)(D.b,t.caid,{limit:j.Zc,offset:n?n.length:0});case 14:return a=s.sent,r=a.followers,i=a.offset,s.next=19,Object(y.g)(Object(Ie.SetHasMoreFollowerUsers)(u()(i,function(e){return e>0})));case 19:return o=r.map(function(e){return e.caid}),s.next=22,Object(y.e)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)(Nn,o);case 2:case"end":return e.stop()}},e)}));case 22:case"end":return s.stop()}},vt)}function Rn(){var e,t,n,a,r,i,o;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(y.i)(V.selectIsAuthenticated);case 2:if(e=s.sent,Zt("fetchMoreFollowingUsers: user is authenticated? ".concat(e)),e){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,Object(y.i)(we.selectEntertainer);case 8:return t=s.sent,s.next=11,Object(y.i)(Ie.selectFollowingUsers);case 11:return n=s.sent,s.next=14,Object(y.b)(D.d,t.caid,{limit:j.Zc,offset:n?n.length:0});case 14:return a=s.sent,r=a.following,i=a.offset,s.next=19,Object(y.g)(Object(Ie.SetHasMoreFollowingUsers)(u()(i,function(e){return e>0})));case 19:return o=r.map(function(e){return e.caid}),s.next=22,Object(y.e)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)(Mn,o);case 2:case"end":return e.stop()}},e)}));case 22:case"end":return s.stop()}},wt)}function Hn(e){var t,n,a,r,i,o;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(y.b)(ke.waitForFeatureConfiguration);case 2:return Zt("loading stage for user!",e),s.next=5,Object(y.b)(Pn);case 5:return t=s.sent,s.next=8,Object(y.g)(Object(we.SetStageVolume)(t));case 8:return n=window.location.pathname&&window.location.pathname.split("/"),a=n&&n.length>1&&"broadcast"===n[2],r={screen_name:a?j.wd:j.Id,canonical_path:window.location.pathname,web_presentation:Qt?j.of:j.nf,experiment_group:"CONTENTLOCK_".concat(Kt)},window.mParticle&&window.mParticle.logEvent("screen_view",window.mParticle.EventType.Other,r),s.prev=12,s.next=15,Object(y.b)(D.j,e);case 15:return i=s.sent,o=u()(i,function(e){return e.caid}),s.next=19,Object(y.e)(Fn,i);case 19:return s.next=21,Object(y.e)(In);case 21:return s.next=23,Object(y.g)(Object(we.TrackStageLoad)(o));case 23:return s.next=25,Object(y.g)(Object(we.LoadStageActivityId)());case 25:return s.next=27,Object(G.e)(we.UnloadStage);case 27:return s.next=29,Object(y.c)();case 29:s.next=47;break;case 31:if(s.prev=31,s.t0=s.catch(12),404!==s.t0.statusCode){s.next=38;break}return s.next=36,Object(y.g)(Object(we.SwitchStageMode)(j.te));case 36:s.next=47;break;case 38:if(window.navigator.onLine){s.next=43;break}return s.next=41,Object(y.g)(Object(we.SwitchStageMode)(j.re));case 41:s.next=47;break;case 43:return Object(x.a)("Stage failed to load",{entertainerUsername:e,error:s.t0}),s.next=46,Object(y.g)(Object(we.SwitchStageMode)(j.oe));case 46:throw s.t0;case 47:case"end":return s.stop()}},Ct,null,[[12,31]])}function Wn(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.g)(Object(we.TriggerVideoStopEvent)());case 2:return t.next=4,Object(y.g)(Object(Ie.UnloadProfile)());case 4:return t.next=6,Object(y.g)(Object(he.ClearActiveBroadcastMediaDevices)());case 6:return t.next=8,Object(y.g)(Object(Ee.ResetStageDirectorResponse)());case 8:return t.next=10,Object(y.g)(Object(Ee.SetStageDirectorBroadcastIsStarting)(!1));case 10:return t.next=12,Object(y.g)(Object(we.DisconnectStageMessagesSubscription)());case 12:return t.next=14,Object(y.g)(Object(we.DisconnectStageFollowedSubscription)());case 14:return t.next=16,Object(y.g)(Object(we.DisconnectStageViewersSubscription)());case 16:return t.next=18,Object(y.g)(Object(we.DisconnectStageDirector)());case 18:return t.next=20,Object(y.g)(Object(Se.UnsubscribeFromCurrentUserWallet)());case 20:return t.next=22,Object(y.g)(Object(Ee.ClearStageDirectorErrorSnackPill)());case 22:return t.next=24,Object(y.g)(Object(we.ClearDataAfterUnloadStage)());case 24:Zt("unloading stage",e);case 25:case"end":return t.stop()}},yt)}function Vn(){var e,t,n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(y.b)(q.getCurrentUserId);case 2:return e=r.sent,r.next=5,Object(y.i)(we.selectEntertainer);case 5:return t=r.sent,n=t&&t.caid,a=t&&t.username,r.next=10,Object(y.g)(Object(we.TrackStageVideoSettingButtonClick)({viewer_id:e,broadcaster_caid:n,broadcaster_username:a}));case 10:case"end":return r.stop()}},jt)}function zn(e){var t,n,a,r,i,o,s,l;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.currentUserId,n=e.lobbyPayloadId,a=e.entertainerDetails,r=e.eventDetails,i=e.followedWatchers,o=e.type,c.next=3,Object(y.i)(we.selectStageContentDetails);case 3:return s=c.sent,l={userId:t,lobbyId:n,type:o,source:j.Ec.STAGE,destination:a.caid,broadcasterId:a.caid,isItemLive:a.isBroadcasting,friendsWatchingIds:i.map(function(e){return e.caid}).join(","),gameId:u()(s,function(e){return e.id})},c.next=7,Object(y.b)(fe.handleFollow,l,r);case 7:case"end":return c.stop()}},Ot)}function Gn(e){var t,n,a,r,i,o,s,l;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.currentUserId,n=e.lobbyPayloadId,a=e.entertainerDetails,r=e.eventDetails,i=e.followedWatchers,o=e.type,c.next=3,Object(y.i)(we.selectStageContentDetails);case 3:return s=c.sent,l={userId:t,lobbyId:n,type:o,source:j.Ec.STAGE,destination:a.caid,broadcasterId:a.caid,isItemLive:a.isBroadcasting,friendsWatchingIds:i.map(function(e){return e.caid}).join(","),gameId:u()(s,function(e){return e.id})},c.next=7,Object(y.b)(fe.handleUnfollow,l,r);case 7:case"end":return c.stop()}},St)}function qn(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(C.e)(Yt);case 3:return e.next=5,Object(y.i)(we.selectReactionCount);case 5:if(!e.sent){e.next=9;break}return e.next=9,Object(y.g)(Object(we.ProcessOldReactions)(Date.now()));case 9:e.next=0;break;case 11:case"end":return e.stop()}},Et)}function Jn(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(G.e)(we.ReceiveReaction);case 3:return e.next=5,Object(y.b)(E.a,{counters:[{metric_name:"tracer.receivedchatmessage.counter",value:1}]});case 5:return e.next=7,Object(C.e)(j.dd);case 7:e.next=0;break;case 9:case"end":return e.stop()}},xt)}function Zn(){var e,t,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(y.i)(we.selectIsCurrentUserOnOwnStage);case 2:if(!a.sent){a.next=5;break}return a.abrupt("return");case 5:return a.next=7,Object(y.i)(we.selectStageId);case 7:return e=a.sent,a.next=10,Object(y.b)(q.getSignedUserBlob);case 10:return t=a.sent,a.next=13,Object(y.b)(R.d,e,{type:"share",publisher:t});case 13:return n=a.sent,a.next=16,Object(y.b)(dn,n);case 16:case"end":return a.stop()}},kt)}function Yn(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(R.a,e);case 2:case"end":return t.stop()}},It)}function Qn(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.g)(Object(d.b)("signUp",{username:e}));case 2:return t.next=4,Object(y.g)(Object(w.push)("/sign-up"));case 4:case"end":return t.stop()}},Tt)}function Kn(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(O.a.set,"caffeineStageVolume",e);case 2:case"end":return t.stop()}},Ft)}function Xn(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(O.a.set,"caffeineStageVolume",e);case 2:case"end":return t.stop()}},Pt)}function $n(e){var t,n,a,r,i,o;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(y.i)(we.selectEntertainer);case 2:if(!(t=s.sent)||!t.stageId){s.next=6;break}return s.next=6,Object(y.j)(Sn,t.stageId);case 6:return s.next=8,Object(y.b)(q.getCurrentUserId);case 8:return n=s.sent,a=t&&t.caid,r=t&&t.username,s.next=13,Object(y.g)(Object(we.TrackStageVideoSourceLoad)({viewer_id:n,broadcaster_caid:a,broadcaster_username:r,video_source:e}));case 13:return s.next=15,Object(y.b)(z.isAuthenticated);case 15:if(s.sent){s.next=28;break}return s.next=19,Object(y.b)(z.awaitAuthenticatedUserSession);case 19:return s.next=21,Object(G.e)(we.SetStageMediaProtocol);case 21:return i=s.sent,s.next=24,Object(y.i)(Ee.selectStageDirectorViewingOptions);case 24:if(o=s.sent,i!==j.ke||!o||1!==o.length||!o.includes(j.ke)){s.next=28;break}return s.next=28,Object(y.g)(Object(we.ShowMaxCapacityReactionMessage)());case 28:case"end":return s.stop()}},Nt)}function ea(e){var t,n,a,r,i,o,s;return c.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(y.i)(Ee.selectStageDirectorStageId);case 2:return t=l.sent,l.next=5,Object(y.i)(Ee.selectStageDirectorIncomingFeeds);case 5:return n=l.sent,l.next=8,Object(y.g)(Object(we.ResetStreamHasLoaded)());case 8:if(e!==j.ke){l.next=22;break}return l.next=11,Object(y.i)(we.selectActiveStreamIds);case 11:return a=l.sent,l.next=14,Object(y.a)(a.map(function(e){return Object(y.b)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.g)(Object(we.TearDownStageStream)(e));case 2:case"end":return t.stop()}},t)}))}));case 14:return l.next=16,Object(y.g)(Object(we.DisconnectStageMessagesSubscription)());case 16:return l.next=18,Object(y.g)(Object(we.DisconnectStageFollowedSubscription)());case 18:return l.next=20,Object(y.g)(Object(we.ResetFollowedWatchers)());case 20:l.next=28;break;case 22:return l.next=24,Object(y.g)(Object(we.ClearSwitchStageMediaProtocolError)());case 24:return l.next=26,Object(y.a)(n.map(function(e){return Object(y.b)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.g)(Object(we.BringUpStageStream)({feed:e,stageId:t}));case 2:case"end":return n.stop()}},n)}))}));case 26:return l.next=28,Object(y.j)(Sn,t);case 28:if(void 0===e){l.next=37;break}return l.next=31,Object(y.g)(Object(Ee.SelectViewingOption)(e));case 31:return l.next=33,Object(y.i)(Ee.selectStageDirectorReactionsDisabled);case 33:if(!1!==l.sent){l.next=37;break}return l.next=37,Object(y.g)(Object(we.ClearMaxCapacityReactionMessage)());case 37:return l.next=39,Object(y.b)(q.getCurrentUserId);case 39:return r=l.sent,l.next=42,Object(y.i)(we.selectEntertainer);case 42:return i=l.sent,o=i&&i.caid,s=i&&i.username,l.next=47,Object(y.g)(Object(we.TrackStageVideoSourceLoad)({viewer_id:r,broadcaster_caid:o,broadcaster_username:s,video_source:e}));case 47:case"end":return l.stop()}},Mt)}function ta(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)(je.showDialog,{title:"Real-Time Unavailable",body:"The conversation is at max capacity. Please try again later.",choices:["OK"]});case 2:return e.next=4,Object(y.g)(Object(we.ClearSwitchStageMediaProtocolError)());case 4:case"end":return e.stop()}},Lt)}function na(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.h)({completed:Object(y.b)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(j.je);case 2:return e.next=4,Object(y.g)(Object(we.MakeStageHeaderInvisible)());case 4:case"end":return e.stop()}},e)}));case 2:return t=e.sent,e.next=5,Object(y.f)(t);case 5:case"end":return e.stop()}},e)})),canceled:Object(G.e)(we.ShowStageHeader)});case 2:case"end":return e.stop()}},Bt)}function aa(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(j.he);case 2:return e.next=4,Object(y.g)(Object(we.ShowFeaturesPromotionCloseButton)());case 4:case"end":return e.stop()}},At)}function ra(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==S.b.Chat){t.next=3;break}return t.next=3,Object(y.a)([Object(y.g)(Object(Fe.SetDigitalItemPickerStep)("Browsing"))]);case 3:if(e===S.b.Share){t.next=6;break}return t.next=6,Object(y.a)([Object(y.g)(Object(Te.SetCurrentTabIndex)(null))]);case 6:case"end":return t.stop()}},Dt)}function ia(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.peerConnection&&(e.mediaStream&&e.mediaStream.getTracks().forEach(function(t){t.stop(),e.mediaStream.removeTrack(t)}),e.peerConnection.close(),Zt("Peer connection closed"));case 1:case"end":return t.stop()}},Ut)}function oa(){var e,t,n,a,r;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(y.b)(z.getSecondVersionCredential);case 2:return e=i.sent,i.next=5,Object(y.i)(we.selectEntertainer);case 5:return t=i.sent,n=t&&t.username.toLowerCase(),i.prev=7,i.next=10,Object(y.b)(A.e,e,n);case 10:return a=i.sent,r=a&&a.activityId?a:null,i.next=14,Object(y.g)(Object(we.SetStageLiveActivity)(r));case 14:window.activityId=a.activityId,i.next=20;break;case 17:i.prev=17,i.t0=i.catch(7),console.error("failed to fetch activity id of stage",i.t0);case 20:case"end":return i.stop()}},Rt,null,[[7,17]])}function sa(){var e,t,n,a,r,i,o,s,l,u,d,_,m,g,b,p,f;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(y.i)(we.selectEntertainer);case 2:return e=c.sent,t=e&&e.caid,c.next=6,Object(y.i)(we.selectIsCurrentUserOnOwnStage);case 6:if(!c.sent){c.next=13;break}return c.next=10,Object(y.i)(Ee.selectIsStageDirectorLive);case 10:return n=c.sent,c.next=13,Object(y.g)(Object(Se.SetCurrentUserStageIsLive)(n));case 13:return c.next=15,Object(y.i)(we.selectStageMode);case 15:return a=c.sent,c.next=18,Object(y.b)(q.fetchAndSaveCurrentUser);case 18:return r=c.sent,c.next=21,Object(y.b)(on,t,r&&r.caid,k.a);case 21:if(i=c.sent,a===i){c.next=25;break}return c.next=25,Object(y.g)(Object(we.SwitchStageMode)(i));case 25:return c.next=27,Object(y.i)(Ee.selectStageDirectorGroupedSelectorValues);case 27:if(o=c.sent,i!==j.ue){c.next=31;break}return c.next=31,Object(y.b)(sn,o);case 31:return c.next=33,Object(y.i)(we.selectStageMediaProtocol);case 33:return s=c.sent,c.next=36,Object(y.i)(Ee.selectStageDirectorViewingOptions);case 36:return l=c.sent,c.next=39,Object(y.i)(Ee.selectStageDirectorCurrentViewingOption);case 39:return u=c.sent,d=null===u?"":u,c.next=43,Object(y.i)(Ee.selectStageDirectorHlsUrl);case 43:if(_=c.sent,g=s&&void 0!==d&&s!==d,!(m=!(s||!l||!d))){c.next=49;break}return c.next=49,Object(y.g)(Object(we.InitializeStageMediaProtocol)(d));case 49:if(!g){c.next=52;break}return c.next=52,Object(y.g)(Object(we.SetStageMediaProtocol)(d));case 52:if(!(s&&l&&l.includes(j.le)&&s===j.ke)||_){c.next=55;break}return c.next=55,Object(y.g)(Object(we.SetStageMediaProtocol)(j.le));case 55:return c.next=57,Object(y.i)(Ee.selectStageDirectorReactionsDisabled);case 57:return b=c.sent,c.next=60,Object(y.i)(we.selectHasStageMessagesSubscription);case 60:if(p=c.sent,f=e&&e.stageId,!b){c.next=80;break}if(!l||l.length>1&&u===j.ke){c.next=68;break}return c.next=66,Object(y.g)(Object(we.ShowMaxCapacityReactionMessage)());case 66:c.next=70;break;case 68:return c.next=70,Object(y.g)(Object(we.ClearMaxCapacityReactionMessage)());case 70:return c.next=72,Object(y.g)(Object(we.DisconnectStageMessagesSubscription)());case 72:return c.next=74,Object(y.i)(we.selectReactionFrameContent);case 74:if(c.sent!==S.b.Gift){c.next=78;break}return c.next=78,Object(y.g)(Object(we.SetReactionFrameContent)(S.b.Chat));case 78:c.next=83;break;case 80:if(!1!==b||p||m||!f){c.next=83;break}return c.next=83,Object(y.g)(Object(we.StartStageMessagesSubscription)(f));case 83:case"end":return c.stop()}},Ht)}function ca(){var e,t,n,a=arguments;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:[],t=a.length>1?a[1]:void 0,r.next=4,Object(y.i)(we.selectActiveStreamIds);case 4:return n=r.sent,r.next=7,Object(y.i)(we.selectStageMediaProtocol);case 7:if(r.sent!==j.ke){r.next=10;break}return r.abrupt("return");case 10:return r.next=12,Object(y.a)(e.map(function(e){return Object(y.b)(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n.includes(e.stream.id)){a.next=3;break}return a.next=3,Object(y.g)(Object(we.BringUpStageStream)({feed:e,stageId:t}));case 3:case"end":return a.stop()}},a)}))}));case 12:return r.next=14,Object(y.a)(n.map(function(t){return Object(y.b)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.map(function(e){return e.stream.id}).includes(t)){n.next=3;break}return n.next=3,Object(y.g)(Object(we.TearDownStageStream)(t));case 3:case"end":return n.stop()}},n)}))}));case 14:case"end":return r.stop()}},Wt)}function la(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(ye.e,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},Vt)}function ua(e){var t,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(y.b)(ye.e,e);case 2:return t=a.sent,a.next=5,Object(y.b)(O.a.get,j.z);case 5:if(n=a.sent,!t.live||!n){a.next=12;break}return a.next=9,Object(y.g)(Object(he.BroadcasterRegainedConnectivity)(e));case 9:return a.next=11,Object(y.g)(Object(Se.SetCurrentUserStageIsLive)(!1));case 11:return a.abrupt("return",a.sent);case 12:return a.next=14,Object(y.g)(Object(Se.SetCurrentUserStageIsLive)(t&&t.live));case 14:return a.abrupt("return",a.sent);case 15:case"end":return a.stop()}},zt)}function da(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.e)(Oe.listenToStageDirectorWatchingUpdates,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},Gt)}function _a(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.h)(we.LoadStage,Hn);case 2:return e.next=4,Object(G.h)(we.UnloadStage,Wn);case 4:return e.next=6,Object(G.h)(we.OpenStageSettingsMenu,Vn);case 6:return e.next=8,Object(G.h)(we.SendStageShareReaction,Zn);case 8:return e.next=10,Object(G.h)(we.EndorseReaction,Yn);case 10:return e.next=12,Object(G.h)(we.ShowAuthenticationWall,$t);case 12:return e.next=14,Object(G.h)(we.ClaimUsername,Qn);case 14:return e.next=16,Object(G.h)(we.SetStageVolume,Kn);case 16:return e.next=18,Object(G.h)(we.SetMobileStageVolume,Xn);case 18:return e.next=20,Object(G.h)(we.InitializeStageMediaProtocol,$n);case 20:return e.next=22,Object(G.h)(we.SetStageMediaProtocol,ea);case 22:return e.next=24,Object(G.h)(we.ShowSwitchStageMediaProtocolError,ta);case 24:return e.next=26,Object(G.h)(we.HideStageHeader,na);case 26:return e.next=28,Object(G.h)(we.LoadFeaturesPromotion,aa);case 28:return e.next=30,Object(G.h)(we.SetReactionFrameContent,ra);case 30:return e.next=32,Object(G.h)(Ie.FetchInitialFollowerUsers,Ln);case 32:return e.next=34,Object(G.h)(Ie.FetchInitialFollowingUsers,Bn);case 34:return e.next=36,Object(G.h)(Ie.FetchMoreFollowerUsers,Un);case 36:return e.next=38,Object(G.h)(Ie.FetchMoreFollowingUsers,Rn);case 38:return e.next=40,Object(G.h)(we.TrackFollowUserFromStage,zn);case 40:return e.next=42,Object(G.h)(we.TrackUnfollowUserFromStage,Gn);case 42:return e.next=44,Object(G.h)(we.TriggerVideoWatched30SEvent,hn);case 44:return e.next=46,Object(G.h)(we.TriggerVideoStartEvent,vn);case 46:return e.next=48,Object(G.h)(we.TriggerVideoStopEvent,wn);case 48:return e.next=50,Object(G.h)(we.ClosePeerConnection,ia);case 50:return e.next=52,Object(G.h)(we.LoadStageActivityId,oa);case 52:return e.next=54,Object(G.h)(we.SetStreamHasLoaded,bn);case 54:return e.next=56,Object(G.h)(we.SetMediaStreamId,Cn);case 56:return e.next=58,Object(G.h)(we.StartStageMessagesSubscription,mn);case 58:return e.next=60,Object(G.h)(we.TrackVideoPropClicked,yn);case 60:return e.next=62,Object(G.h)(we.FetchInitialReyesResponseForUser,ua);case 62:case"end":return e.stop()}},qt)}function ma(){var e,t,n,a,r,i,o,s;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(G.e)(we.LoadStage);case 2:return e=c.sent,c.next=5,Object(y.b)(D.j,e);case 5:return t=c.sent,c.next=8,Object(y.b)(A.d);case 8:return n=c.sent,c.next=11,Object(y.g)(Object(we.SetSocialShareImagesForCrawlerMetadata)(n));case 11:return c.next=13,Object(y.g)(Object(we.SetEntertainer)(t));case 13:if(!t||!t.broadcastId){c.next=26;break}return c.next=16,Object(y.b)(A.a,t.broadcastId);case 16:return a=c.sent,c.next=19,Object(y.g)(Object(we.SetStageTitle)(a.name));case 19:return c.next=21,Object(y.g)(Object(we.SetBroadcastForCrawlerMetadata)(a));case 21:return c.next=23,Object(y.b)(ye.e,e);case 23:return r=c.sent,c.next=26,Object(y.g)(Object(we.SetIsLiveForCrawlerMetadata)(r&&r.live));case 26:return j.Nc&&fetch("https://permanent-crawler-render.caffeine.tv/permanently-store-crawler-render",{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({url:j.M})}),c.next=29,Object(y.b)(z.getSecondVersionCredential);case 29:if(i=c.sent,!e||!i){c.next=38;break}return c.next=33,Object(y.b)(A.e,i,e);case 33:if(o=c.sent,!(s=o&&o.activityId?o:null)){c.next=38;break}return c.next=38,Object(y.e)(Pe.createGoogleStructuredVideoTag,s);case 38:case"end":return c.stop()}},Jt)}var ga={processReactionText:ln}},"./src/pieces/stage/stage.types.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return i});var a,r,i;n("./node_modules/bows/bows.js")("Stage.types");!function(e){e.Chat="Chat",e.Gift="Gift",e.Share="Share"}(a||(a={})),function(e){e.Biography="About",e.Following="Following",e.Followers="Followers"}(r||(r={})),function(e){e.Reactions="Reactions",e.Profile="Profile"}(i||(i={}))},"./src/pieces/stage/tab.scss":function(e,t,n){e.exports={tab:"tab__tab___AMFHU",isActive:"tab__isActive___GIFSG"}},"./src/pieces/stage/trailer-stage.scss":function(e,t,n){e.exports={trailerFrameContainer:"trailer-stage__trailerFrameContainer___2l6pd stage-frame__redesign_broadcastFrame___RGd64",trailerFrame:"trailer-stage__trailerFrame___23_A0",hideCursor:"trailer-stage__hideCursor___1QZeL",badge:"trailer-stage__badge___3I7Ml stage-frame__redesign_liveIndicator___2Y0zA",lowerThirdContainer:"trailer-stage__lowerThirdContainer___2sde9 stage-frame__redesign_topFrameBottom___1CDQ5",title:"trailer-stage__title___Aq7qv stage-frame__redesign_displayName___Zf42R editable-name__editableName___3daaF",snippetSubtitle:"trailer-stage__snippetSubtitle___27uNY stage-frame__redesign_snippetSubtitle___1bisc",noUserActionMenu:"trailer-stage__noUserActionMenu___2eZ4u stage-frame__noUserActionMenu___2pvNm"}},"./src/pieces/stage/user-reaction-bar.scss":function(e,t,n){e.exports={userReactionBar:"user-reaction-bar__userReactionBar___1t8Q_",userReactionBarContainer:"user-reaction-bar__userReactionBarContainer___2tT42",barColumn:"user-reaction-bar__barColumn___2n3yg",submitButton:"user-reaction-bar__submitButton___37tQ_",reactionMessageInput:"user-reaction-bar__reactionMessageInput___1aH8F",endBroadcastButton:"user-reaction-bar__endBroadcastButton___1qr12 buttons__redesign_broadcastButton___3cNN0",nextButton:"user-reaction-bar__nextButton___2XRM9 buttons__redesign_broadcastButton___3cNN0",disabled:"user-reaction-bar__disabled___hDDfN",endBroadcastMessage:"user-reaction-bar__endBroadcastMessage___44DFL",broadcastTrigger:"user-reaction-bar__broadcastTrigger___3X7fE"}},"./src/pieces/stage/video-props-player/video-props-player-helpers.js":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});n("./src/pieces/base/core.types.ts"),n("./node_modules/bows/bows.js")("Video-props-player-helpers");var a=function(e){var t=e.split(".");return"zip"===t[t.length-1]?t.slice(0,t.length-1).join(".").replace(/\+/gm,"%2B"):e},r=function(e){if(e.state&&"string"===typeof e.state)return e.state;if(e.random&&Array.isArray(e.random)){var t=(n=e.random.length)?Math.floor(Math.random()*n):0;return e.random[t]}var n}},"./src/pieces/stage/video-props-player/video-props-player.scss":function(e,t,n){e.exports={videoPropsPlayerWrapper:"video-props-player__videoPropsPlayerWrapper___wwLJq",withMessage:"video-props-player__withMessage___2DI7c",vodPageVideoPropsPlayerWrapper:"video-props-player__vodPageVideoPropsPlayerWrapper___3upwb",videoPropsPlayerWrapperMobile:"video-props-player__videoPropsPlayerWrapperMobile___2wyJX",withMessageMobile:"video-props-player__withMessageMobile___FgvRO",playing:"video-props-player__playing___3yMz0",vodPagePlaying:"video-props-player__vodPagePlaying___Jot5X",playingMobile:"video-props-player__playingMobile___1mCi_",preload:"video-props-player__preload___2Bm3h",digitalItemCount:"video-props-player__digitalItemCount___TdBO9 digital-item-player__redesign_digitalItemCount___3NOc9"}},"./src/pieces/stage/vod-stream-hls.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/hls.js/dist/hls.js"),c=n.n(s),l=n("./node_modules/mux-embed/dist/mux.js"),u=n.n(l),d=n("./node_modules/classnames/index.js"),_=n.n(d),m=n("./node_modules/reselect/lib/index.js"),g=n("./node_modules/recompose/dist/Recompose.esm.js"),b=n("./node_modules/react-redux/es/index.js"),p=n("./src/pieces/hooks/usePrevious.ts"),f=n("./src/pieces/store/get-environment.js"),h=n("./src/pieces/base/constants.js"),v=n("./src/pieces/stage/stage.reducer.js"),w=n("./src/pieces/video/video.reducer.js"),C=n("./src/pieces/current-user/current-user.reducer.js"),y=n("./src/pieces/base/error-reporting.js"),j=n("./src/pieces/stage/broadcast-stream.scss"),O=n.n(j),S=(n("./node_modules/bows/bows.js")("Vod-stream-hls"),navigator.userAgent.toLowerCase().includes("android")),E=Object(g.a)(Object(b.b)(Object(m.createStructuredSelector)({currentUserId:C.selectCurrentUserId}),{SetStreamHasLoaded:v.SetStreamHasLoaded,SetHlsIsBuffering:v.SetHlsIsBuffering,TriggerVodVideoWatched30SEvent:w.TriggerVodVideoWatched30SEvent,TriggerVodVideoStartEvent:w.TriggerVodVideoStartEvent,TriggerVodVideoStopEvent:w.TriggerVodVideoStopEvent}));t.a=E(function(e){var t,n,a=e.activity,s=e.autoHeight,l=e.className,d=void 0===l?"":l,m=e.currentUserId,g=e.muted,b=e.playerName,v=e.controls,w=void 0===v||v,C=e.volume,j=void 0===C?100:C,E=e.startTime,x=e.videoDetails,k=e.SetStreamHasLoaded,I=e.SetHlsIsBuffering,T=e.TriggerVodVideoWatched30SEvent,F=e.TriggerVodVideoStartEvent,P=e.TriggerVodVideoStopEvent,N=x.contentUrl,M=Object(i.useRef)(null),L=Object(i.useRef)(),B=Object(i.useRef)(Date.now()),A=Object(i.useCallback)(function(){return M.current&&M.current.play()},[]);E&&M.current&&(M.current.currentTime=E);var D=Object(i.useCallback)(function(){M.current&&M.current.play(),F(a),window.rdt&&window.rdt("track","Custom",{customEventName:"video_start"}),n=setTimeout(function(){window.rdt&&window.rdt("track","Custom",{customEventName:"video_watched_30s"}),T(a)},3e4)},[]),U=Object(i.useCallback)(function(e,t){t.videoDetails===h.Bb&&I(!0)},[I]),R=Object(i.useCallback)(function(){I(!1)},[I]),H=Object(i.useCallback)(function(){L&&L.current&&(L.current.on(h.Ab,U),L.current.on(h.Cb,R)),M.current&&M.current.removeEventListener("pause",A)},[U,R,A]),W=Object(i.useCallback)(function(){L.current&&(L.current.off(h.Ab,U),L.current.off(h.Cb,R),M.current&&M.current.removeEventListener("pause",A))},[U,R,A]),V=Object(i.useCallback)(function(){if(N&&M.current){var e={enableWorker:!0};-1!=N.indexOf("main.m3u8")&&-1!=N.indexOf("/v1/")&&(e.debug=!1,e.enableWorker=!0,e.lowLatencyMode=!0,e.backBufferLength=10,e.liveSyncDurationCount=3,e.liveMaxLatencyDurationCount=30,e.maxLiveSyncPlaybackRate=1.15,e.fragLoadingTimeOut=5500,e.fragLoadingRetryDelay=500,e.fragLoadingMaxRetryTimeout=3e3,e.fragLoadingMaxRetry=2,e.liveDurationInfinity=!1,e.maxMaxBufferLength=10,e.lowLatencyMode=!0),L.current=new c.a(e),L.current.loadSource(N),L.current.attachMedia(M.current),L.current.on(c.a.Events.MANIFEST_PARSED,D),H()}},[N]);Object(i.useEffect)(function(){if(N)return c.a&&c.a.isSupported()?(V(),u.a.monitor("#vodHlsStreamId",{hlsjs:L.current,Hls:c.a,debug:!1,data:{env_key:Object(f.c)()?h.Ic:h.Hc,player_name:b||"Web VOD Player",player_init_time:B.current,player_autoplay_on:!0,viewer_user_id:m,video_id:x.activityId,video_title:x.broadcastTitle,video_stream_type:"VOD",video_source_height:M&&M.current?M.current.videoWidth:0,video_source_width:M&&M.current?M.current.videoWidth:0,video_producer:x.username,sub_property_id:x.username}})):M.current&&M.current.canPlayType("application/vnd.apple.mpegurl")&&(M.current.src=N),function(){clearTimeout(n),W(),P(a)};Object(y.a)("HLS choice was chosen but somehow hlsUrl is null")},[]);var z=Object(p.a)(N);return Object(i.useEffect)(function(){!L.current||null!==N&&z===N||(L.current.stopLoad(),W(),L.current.destroy()),L.current&&c.a&&N&&z!==N&&V()},[N,z,V,W]),Object(i.useEffect)(function(){M&&M.current&&(M.current.volume=Number.isFinite(j)?j/100:1)},[j]),o.a.createElement("video",{id:"vodHlsStreamId",ref:M,autoPlay:!0,playsInline:!0,loop:!0,className:_()((t={},r()(t,O.a.broadcastStream,!s),r()(t,O.a.broadcastStreamAutoHeight,s),r()(t,O.a.android,S),r()(t,d,!!d),t)),onLoadedData:k,muted:g||!1,controls:w,poster:x.posterUrl})})},"./src/pieces/stage/volume-slider.scss":function(e,t,n){e.exports={volumeSliderWrapper:"volume-slider__volumeSliderWrapper___25EPX",volumeSliderContainer:"volume-slider__volumeSliderContainer___2wdbQ",volumeSliderTrack:"volume-slider__volumeSliderTrack___2WCqb",volumeSliderHandle:"volume-slider__volumeSliderHandle___Vhywq",volumeSliderTrackHighlight:"volume-slider__volumeSliderTrackHighlight___1XTy4",volumeSlider:"volume-slider__volumeSlider___hdGM3",muteButton:"volume-slider__muteButton___2fggo"}},"./src/pieces/store/get-environment.js":function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return _});var a=n("./node_modules/lodash/cond.js"),r=n.n(a),i=n("./node_modules/lodash/constant.js"),o=n.n(i),s=n("./node_modules/lodash/fp/isEqual.js"),c=n.n(s),l=(n("./node_modules/bows/bows.js")("Get-environment"),function(){return r()([[function(e){return!e},o()("unknown")],[c()("www.caffeine.tv"),o()("production")],[c()("www.staging.caffeine.tv"),o()("staging")],[c()("beta.caffeine.tv"),o()("beta")],[c()("localhost"),o()("development")],[function(e){return e.endsWith("caffeine.live")},o()("internal-builds")],[o()(!0),o()("unknown")]])(document.domain)}),u=function(){return"production"===l()},d=function(){return"staging"===l()},_=function(){return"development"===l()};t.a=l},"./src/pieces/tag/tag-footer.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./src/pieces/hooks/useDeviceDetect.ts"),o=n("./src/pieces/footer/base-footer.tsx"),s=n("./src/pieces/footer/footer-mobile-nag.tsx"),c=n("./src/pieces/base/constants.js");n("./node_modules/bows/bows.js")("Tag-footer");t.a=function(t){var n=Object(i.a)();return e.createElement(o.a,{below:n?e.createElement(s.a,r()({},t,{source:c.Bd})):null})}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/tag/tag-frame.scss":function(e,t,n){e.exports={tagFrame:"tag-frame__tagFrame____2klq",tagTitle:"tag-frame__tagTitle___1VPj0",tagSubtitleMobile:"tag-frame__tagSubtitleMobile___cGqnY",tagSubtitle:"tag-frame__tagSubtitle___2VEAF",mobileTagTitle:"tag-frame__mobileTagTitle___2WrtY",lineSeparator:"tag-frame__lineSeparator___38HuR",mobileColumn:"tag-frame__mobileColumn___VUwEZ"}},"./src/pieces/tag/tag-metadata.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/react-helmet/lib/Helmet.js"),s=n.n(o),c=n("./src/pieces/base/constants.js"),l=n("./src/pieces/base/create-image-url.js"),u=n("./src/pieces/tag/tag.reducer.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Tag-metadata");var m=Object(i.b)(function(e){return{tagId:Object(u.selectTagId)(e),activities:Object(u.selectTagActivities)(e)}});t.a=m(function(t){var n=t.activities,a=t.tagId;if(!n)return null;var r=n&&n[0]&&n[0].broadcastInfo,i="#".concat(a," | Caffeine.tv"),o=r&&r.broadcastTitle,u=r&&r.previewImagePath;return e.createElement(s.a,null,e.createElement("title",null,i),e.createElement("meta",{property:"description",content:o}),e.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),e.createElement("meta",{name:"twitter:site",content:"@caffeine"}),e.createElement("meta",{property:"fb:app_id",content:"278354532550167"}),e.createElement("meta",{property:"og:type",content:"website"}),e.createElement("meta",{property:"og:site_name",content:"Caffeine"}),e.createElement("meta",{rel:"canonical",href:c.M}),e.createElement("meta",{property:"og:url",content:c.M}),e.createElement("meta",{property:"og:title",content:i}),e.createElement("meta",{property:"og:description",content:o}),e.createElement("meta",{property:"og:image",content:Object(l.c)(u,_({auto:"webp",fit:"crop",width:1200,height:630,enable:"upscale"},{"add-logo-fs-overlay":!0}))}))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/tag/tag.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return d}),n.d(t,"LoadTagActivities",function(){return _}),n.d(t,"UnloadTagActivities",function(){return m}),n.d(t,"LoadMoreTagActivities",function(){return g}),n.d(t,"SetTagActivities",function(){return b}),n.d(t,"SetTagActivitiesOffset",function(){return p}),n.d(t,"SetTagId",function(){return f}),n.d(t,"selectTagActivities",function(){return h}),n.d(t,"selectTagActivitiesOffset",function(){return v}),n.d(t,"selectHasMoreTagActivities",function(){return w}),n.d(t,"selectTagId",function(){return C});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/immutable/dist/immutable.js"),s=n.n(o),c=n("./node_modules/redux-actions/es/createAction.js"),l=n("./node_modules/redux-actions/es/handleActions.js"),u=(n("./node_modules/reselect/lib/index.js"),n("./src/pieces/base/constants.js")),d=(n("./node_modules/bows/bows.js")("Tag.reducer"),"tag"),_=Object(c.a)("Load Tag Activities",function(e){return e}),m=Object(c.a)("Unload Tag Activities",function(){return null}),g=Object(c.a)("Load More Tag Activities",function(){return null}),b=Object(c.a)("Set Tag Activities",function(e){return e}),p=Object(c.a)("Set Tag Activities Offset",function(e){return e}),f=Object(c.a)("Set Tag Id",function(e){return e}),h=function(e){return e[d].get("tagActivities")},v=function(e){return e[d].get("tagActivitiesOffset")},w=function(e){return e[d].get("tagActivitiesOffset")%u.Pe===0||null===e[d].get("tagActivitiesOffset")},C=function(e){return e[d].get("tagId")},y={tagActivities:null,tagId:"",tagActivitiesOffset:null};t.default=Object(l.a)((a={},i()(a,_,function(){return s.a.fromJS(y)}),i()(a,m,function(){return s.a.fromJS(y)}),i()(a,b,function(e,t){var n=t.payload;return e.set("tagActivities",n)}),i()(a,p,function(e,t){var n=t.payload;return e.set("tagActivitiesOffset",n)}),i()(a,f,function(e,t){var n=t.payload;return e.set("tagId",n)}),a),s.a.fromJS(y))},"./src/pieces/tag/tag.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return h}),n.d(t,"handleCrawler",function(){return v});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=(n("./node_modules/idx/lib/idx.js"),n("./node_modules/lodash/cond.js"),n("./node_modules/lodash/constant.js"),n("./node_modules/lodash/range.js"),n("./node_modules/lodash/shuffle.js"),n("./node_modules/react-router-redux/lib/index.js"),n("./node_modules/redux-saga/es/index.js"),n("./node_modules/redux-saga/es/effects.js")),o=n("./src/pieces/base/saga-utilities.js"),s=n("./src/pieces/base/api/video.api.js"),c=n("./src/pieces/tag/tag.reducer.js"),l=n("./src/pieces/base/constants.js"),u=r.a.mark(p),d=r.a.mark(f),_=r.a.mark(h),m=r.a.mark(v),g=(n("./node_modules/bows/bows.js")("Tag.sagas"),"true"===localStorage.getItem(l.Fb)),b=localStorage.getItem(l.I);function p(e){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.b)(s.n,e);case 2:return t=a.sent,a.next=5,Object(i.g)(Object(c.SetTagActivities)(t.activities));case 5:return a.next=7,Object(i.g)(Object(c.SetTagActivitiesOffset)(t.offset));case 7:return a.next=9,Object(i.g)(Object(c.SetTagId)(e));case 9:n={screen_name:l.Bd,canonical_path:window.location.pathname,web_presentation:g?l.of:l.nf,experiment_group:"CONTENTLOCK_".concat(b)},window.mParticle&&window.mParticle.logEvent("screen_view",window.mParticle.EventType.Other,n);case 11:case"end":return a.stop()}},u)}function f(){var e,t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.i)(c.selectTagActivities);case 2:return e=r.sent,r.next=5,Object(i.i)(c.selectTagActivitiesOffset);case 5:return t=r.sent,r.next=8,Object(i.i)(c.selectTagId);case 8:return n=r.sent,r.next=11,Object(i.b)(s.n,n,t);case 11:return a=r.sent,r.next=14,Object(i.g)(Object(c.SetTagActivitiesOffset)(a.offset));case 14:return r.next=16,Object(i.g)(Object(c.SetTagActivities)(e.concat(a.activities)));case 16:case"end":return r.stop()}},d)}function h(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.h)(c.LoadTagActivities,p);case 2:return e.next=4,Object(o.h)(c.LoadMoreTagActivities,f);case 4:case"end":return e.stop()}},_)}function v(){var e,t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(o.e)(c.LoadTagActivities);case 2:return e=r.sent,r.next=5,Object(i.b)(s.k,e);case 5:return t=r.sent,n=t.activities,a=t.offset,r.next=10,Object(i.g)(Object(c.SetTagActivities)(n));case 10:return r.next=12,Object(i.g)(Object(c.SetTagActivitiesOffset)(a));case 12:return r.next=14,Object(i.g)(Object(c.SetTagId)(e));case 14:case"end":return r.stop()}},m)}},"./src/pieces/users/basic-user-info-popover.scss":function(e,t,n){e.exports={basicUserInfoPopover:"basic-user-info-popover__basicUserInfoPopover___149r0",body:"basic-user-info-popover__body___GjNK7",footer:"basic-user-info-popover__footer___3xpFk",fullName:"basic-user-info-popover__fullName___3RKNT",username:"basic-user-info-popover__username___3EKyn",followButton:"basic-user-info-popover__followButton___gvqG-",action:"basic-user-info-popover__action___1wZwg buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",actionWithDarkTheme:"basic-user-info-popover__actionWithDarkTheme___q_7HG buttons__textOnlyButtonWithAlternateDarkTheme___2Ewo4 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",redesign_basicUserInfoPopover:"basic-user-info-popover__redesign_basicUserInfoPopover___3rdeI",redesign_earmarkedBoxUser:"basic-user-info-popover__redesign_earmarkedBoxUser___eZboS",redesign_body:"basic-user-info-popover__redesign_body___uGsgL",redesign_avatar:"basic-user-info-popover__redesign_avatar___321g1",redesign_usernameContainer:"basic-user-info-popover__redesign_usernameContainer____qXLI",redesign_username:"basic-user-info-popover__redesign_username___WoUVr",redesign_followButton:"basic-user-info-popover__redesign_followButton___1hwBo",redesign_footer:"basic-user-info-popover__redesign_footer___1uaTU",redesign_action:"basic-user-info-popover__redesign_action___1StB_ links__redesign_link___2bKIw",redesign_actionWithDarkTheme:"basic-user-info-popover__redesign_actionWithDarkTheme___2N5h6 links__redesign_linkWithDarkTheme___1iT2P links__link___2NuBA",redesign_secondaryActionWithDarkTheme:"basic-user-info-popover__redesign_secondaryActionWithDarkTheme___3bvE8 links__redesign_secondaryLinkWithDarkTheme___kv2VH links__link___2NuBA",redesign_reportButton:"basic-user-info-popover__redesign_reportButton___1ATLo basic-user-info-popover__redesign_secondaryActionWithDarkTheme___3bvE8 links__redesign_secondaryLinkWithDarkTheme___kv2VH links__link___2NuBA",redesign_ignoreButton:"basic-user-info-popover__redesign_ignoreButton___3khmx basic-user-info-popover__redesign_secondaryActionWithDarkTheme___3bvE8 links__redesign_secondaryLinkWithDarkTheme___kv2VH links__link___2NuBA",redesign_badge:"basic-user-info-popover__redesign_badge___39FaK"}},"./src/pieces/users/follow-button.scss":function(e,t,n){e.exports={followButton:"follow-button__followButton___2WBs3 buttons__buttonWithHoverEffect___eFfj7 buttons__button___2Dz0z",isFollowing:"follow-button__isFollowing___mYXDN",white:"follow-button__white___MYCVL",minimalFollowButtonWrapper:"follow-button__minimalFollowButtonWrapper___luwCB",small:"follow-button__small___1M3hJ",minimalFollowButton:"follow-button__minimalFollowButton___1jtQL buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",middot:"follow-button__middot___13Qur",redesign_followButton:"follow-button__redesign_followButton___19j5s",redesign_followButtonPath:"follow-button__redesign_followButtonPath___1yRqV",redesign_isFollowing:"follow-button__redesign_isFollowing___BJYnC",redesign_darkTheme:"follow-button__redesign_darkTheme___i6Yqz",hoverHighlight:"follow-button__hoverHighlight___2-A6X",shrinkWhite:"follow-button__shrinkWhite___O7U2E",veryLarge:"follow-button__veryLarge___1NBPY",blueAnchorGradient:"follow-button__blueAnchorGradient___21BBi",pinkAnchorGradient:"follow-button__pinkAnchorGradient___3Fc9x",purpleAnchorGradient:"follow-button__purpleAnchorGradient___2zfvD",orangeAnchorGradient:"follow-button__orangeAnchorGradient___3VQtQ",xsmall:"follow-button__xsmall___1imJG",medium:"follow-button__medium___2AB2W",large:"follow-button__large___2fLUp",redesign_followButtonWrapper:"follow-button__redesign_followButtonWrapper___1jjb_",stageFollowAffordance:"follow-button__stageFollowAffordance___t-dgI",stageFollowingAnimation:"follow-button__stageFollowingAnimation___2GWJs follow-button__stageFollowAffordance___t-dgI",lobbyCardFollowAffordance:"follow-button__lobbyCardFollowAffordance___1IwK7",followAffordanceStandAlone:"follow-button__followAffordanceStandAlone___2pqWM",stageStandAlone:"follow-button__stageStandAlone___2a1Zw follow-button__followAffordanceStandAlone___2pqWM",anchorCard:"follow-button__anchorCard___3OkGa follow-button__followAffordanceStandAlone___2pqWM",anchorCardFollowed:"follow-button__anchorCardFollowed___1TQ-q follow-button__followAffordanceStandAlone___2pqWM",redesign_followLabel:"follow-button__redesign_followLabel___3r76Y",redesign_followingLabel:"follow-button__redesign_followingLabel___3x_pv",redesign_followLabelButton:"follow-button__redesign_followLabelButton___1w3Ho buttons__redesign_secondaryButton___3ofVX buttons__redesign_button___ZSYNe",redesign_followLabelButtonWithFollowLabel:"follow-button__redesign_followLabelButtonWithFollowLabel___Y8gJH follow-button__redesign_followLabelButton___1w3Ho buttons__redesign_secondaryButton___3ofVX buttons__redesign_button___ZSYNe"}},"./src/pieces/users/follow-button.tsx":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react/index.js"),o=n.n(i),s=n("./node_modules/classnames/index.js"),c=n.n(s),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/recompose/dist/Recompose.esm.js"),d=n("./node_modules/reselect/lib/index.js"),_=n("./src/pieces/users/users.reducer.js"),m=n("./src/pieces/current-user/current-user.reducer.js"),g=n("./src/pieces/authentication/authentication.reducer.js"),b=n("./src/pieces/authentication/authentication-guard.tsx"),p=n("./src/pieces/users/follow-star.tsx"),f=n("./src/pieces/users/follow-button.scss"),h=n.n(f),v=(n("./node_modules/bows/bows.js")("Follow-button"),Object(u.a)(Object(l.b)(Object(d.createStructuredSelector)({followingUsers:_.selectFollowedUserCaids,myCaid:m.selectCurrentUserId,isAuthenticated:g.selectIsAuthenticated}),{FollowUser:_.FollowUser,ShowUnfollowUserDialog:_.ShowUnfollowUserDialog}))),w=function(e){var t,n,a,s,l,u=e.size,d=void 0===u?"small":u,_=(e.dudleyComponentName,e.darkTheme),m=e.followingUsers,g=e.caid,b=e.FollowUser,f=e.afterUnfollowHandler,v=e.afterFollowHandler,w=e.hasFollowLabel,C=e.isAuthenticated,y=e.onClickHandler,j=e.insideFollowAffordance,O=void 0===j?"":j,S=e.allowUnfollow,E=void 0===S||S,x=e.ShowUnfollowUserDialog,k=e.starColor,I=Object(i.useMemo)(function(){return m.includes(g)},[m,g]),T=Object(i.useCallback)(function(e){e.persist(),e.preventDefault(),C&&(e.stopPropagation(),y&&y(),I?E&&(x(g),f&&f(e)):(b(g),v&&v(e)))},[g,I,v,f,C,E,x,b,y]);return O?o.a.createElement("button",{className:c()((a={},r()(a,h.a.redesign_followButtonWrapper,!0),r()(a,h.a.redesign_followLabelButton,I&&w),r()(a,h.a.redesign_followLabelButtonWithFollowLabel,!I&&w),r()(a,h.a[O],!!O),a)),onClick:T},o.a.createElement(p.a,{type:"buttonStar",size:"veryLarge"===d?"large":"medium",svgClassName:c()((s={},r()(s,h.a.redesign_followButton,!0),r()(s,h.a.redesign_darkTheme,_),r()(s,h.a.redesign_isFollowing,I),r()(s,h.a[d],d),s)),pathClassName:c()((l={},r()(l,h.a.redesign_followButtonPath,!0),r()(l,h.a["".concat(k)],k),l))}),!I&&w?o.a.createElement("div",{className:h.a.redesign_followLabel},"follow"):null):o.a.createElement("button",{className:c()((t={},r()(t,h.a.redesign_followButtonWrapper,!0),r()(t,h.a.redesign_followLabelButton,I&&w),r()(t,h.a.redesign_followLabelButtonWithFollowLabel,!I&&w),r()(t,h.a[O],!!O),t)),onClick:T},I?o.a.createElement("span",{className:c()((n={},r()(n,h.a.redesign_followLabel,!0),r()(n,h.a.redesign_followingLabel,!0),n))},"following"):o.a.createElement("span",{className:h.a.redesign_followLabel},"follow"))};t.a=v(function(e){return e.caid===e.myCaid?null:o.a.createElement(b.a,null,o.a.createElement(w,e))})},"./src/pieces/users/follow-link.scss":function(e,t,n){e.exports={followUser:"follow-link__followUser___1UjFY"}},"./src/pieces/users/follow-link.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/classnames/index.js"),o=n.n(i),s=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/recompose/dist/Recompose.esm.js"),l=n("./node_modules/reselect/lib/index.js"),u=n("./src/pieces/users/users.reducer.js"),d=n("./src/pieces/current-user/current-user.reducer.js"),_=n("./src/pieces/authentication/authentication.reducer.js"),m=n("./src/pieces/authentication/authentication-guard.tsx"),g=n("./src/pieces/users/follow-link.scss"),b=n.n(g),p=(n("./node_modules/bows/bows.js")("Follow-link"),Object(c.a)(Object(s.b)(Object(l.createStructuredSelector)({followingUsers:u.selectFollowedUserCaids,isAuthenticated:_.selectIsAuthenticated,myCaid:d.selectCurrentUserId}),{FollowUser:u.FollowUser,ShowUnfollowUserDialog:u.ShowUnfollowUserDialog}),Object(c.d)({})));t.a=p(function(e){var t=e.followingUsers,n=e.caid,i=e.className,s=e.myCaid,c=e.isAuthenticated,l=e.allowUnfollow,u=void 0===l||l,d=e.hideUnfollow,_=void 0!==d&&d,g=e.FollowUser,p=e.ShowUnfollowUserDialog,f=Object(a.useMemo)(function(){return t.includes(n)},[t,n]),h=Object(a.useMemo)(function(){return n===s},[s,n]),v=Object(a.useCallback)(function(e){e.preventDefault(),c&&(f?u&&p(n):g(n))},[n,f,c,u,p,g]);return h?null:r.a.createElement(m.a,null,_&&f?null:r.a.createElement("p",{role:"button","data-name":"follow",onClick:v,className:o()(b.a.followUser,"subtitle is-10",i)},r.a.createElement("span",{"data-name":"follow"},f?"Unfollow":"Follow")))})},"./src/pieces/users/follow-star.scss":function(e,t,n){e.exports={shadowStar:"follow-star__shadowStar___14WZC",large:"follow-star__large___1ydjK",badgeStar:"follow-star__badgeStar___T-B1P",medium:"follow-star__medium___1Whlt",joinYourFriendsStar:"follow-star__joinYourFriendsStar___3Dw3B"}},"./src/pieces/users/follow-star.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/classnames/index.js"),o=n.n(i),s=n("./src/pieces/users/follow-star.scss"),c=n.n(s),l=(n("./node_modules/bows/bows.js")("Follow-star"),{large:"0 0 64 64",medium:"0 0 38 37",small:"0 0 12 12"}),u={large:"M32.7173 4.45364C32.4238 3.85904 31.576 3.85904 31.2825 4.45364L22.7815 21.6786C22.6649 21.9147 22.4397 22.0784 22.1791 22.1163L3.17021 24.8784C2.51404 24.9738 2.25203 25.7801 2.72684 26.243L16.4818 39.6507C16.6704 39.8345 16.7564 40.0993 16.7119 40.3589L13.4648 59.2909C13.3527 59.9445 14.0386 60.4428 14.6255 60.1343L31.6276 51.1958C31.8607 51.0732 32.1391 51.0732 32.3722 51.1958L49.3742 60.1343C49.9611 60.4428 50.6471 59.9445 50.535 59.2909L47.2879 40.3589C47.2434 40.0993 47.3294 39.8345 47.518 39.6507L61.2729 26.243C61.7478 25.7801 61.4857 24.9738 60.8296 24.8784L41.8207 22.1163C41.5601 22.0784 41.3348 21.9147 41.2183 21.6786L32.7173 4.45364Z",medium:"M29.325 34.21l-2.422-11.642 8.802-7.996-11.821-1.294L19 2.435l-4.884 10.843-11.821 1.294 8.802 7.996L8.675 34.21 19 28.31l10.325 5.9z",small:"M5.55163 1.40849C5.73504 1.03687 6.26496 1.03687 6.44837 1.40849L7.64702 3.83723C7.71985 3.9848 7.86063 4.08708 8.02349 4.11075L10.7038 4.50021C11.1139 4.55981 11.2776 5.06379 10.9809 5.35306L9.0414 7.24357C8.92356 7.35844 8.86979 7.52394 8.89761 7.68613L9.35545 10.3556C9.42551 10.764 8.99679 11.0755 8.62998 10.8827L6.23267 9.62232C6.08701 9.54574 5.91299 9.54574 5.76733 9.62232L3.37003 10.8827C3.00321 11.0755 2.57449 10.764 2.64455 10.3556L3.10239 7.68613C3.13021 7.52394 3.07644 7.35844 2.9586 7.24357L1.01914 5.35306C0.722378 5.06379 0.886132 4.55981 1.29624 4.50021L3.97651 4.11075C4.13937 4.08708 4.28015 3.9848 4.35298 3.83723L5.55163 1.40849Z"};t.a=function(e){e.dudleyComponentName;var t=e.pathClassName,n=void 0===t?"":t,a=e.svgClassName,i=void 0===a?"":a,s=e.size,d=e.type;return r.a.createElement("div",null,r.a.createElement("svg",{className:i||o()(c.a[d],c.a[s]),viewBox:l[s]},r.a.createElement("path",{className:n,d:u[s]})))}},"./src/pieces/users/users.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return u}),n.d(t,"AnnounceUserWasIgnored",function(){return d}),n.d(t,"FollowUser",function(){return _}),n.d(t,"ReportFollowFailure",function(){return m}),n.d(t,"UnfollowUser",function(){return g}),n.d(t,"ShowUnfollowUserDialog",function(){return b}),n.d(t,"UpdateFollowedUserCaids",function(){return p}),n.d(t,"CompleteInitializingUsers",function(){return f}),n.d(t,"RefreshCurrentUserIdentities",function(){return h}),n.d(t,"SetCurrentUserIdentities",function(){return v}),n.d(t,"TrackCreatorFollow",function(){return w}),n.d(t,"TrackCreatorUnfollow",function(){return C}),n.d(t,"selectCurrentUserIdentities",function(){return j}),n.d(t,"selectCurrentUserHasTwitterIdentity",function(){return O}),n.d(t,"selectCurrentUserHasFacebookIdentity",function(){return S}),n.d(t,"selectFollowedUserCaids",function(){return E}),n.d(t,"selectFollowedUserCaidsAreInitialized",function(){return x}),n.d(t,"selectFollowedUserCount",function(){return k});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/redux-actions/es/createAction.js"),s=n("./node_modules/redux-actions/es/handleActions.js"),c=n("./node_modules/reselect/lib/index.js"),l=n("./src/pieces/base/constants.js"),u=(n("./node_modules/bows/bows.js")("Users.reducer"),"users"),d=Object(o.a)("Announce User was Ignored",function(e){return e}),_=Object(o.a)("Follow User"),m=Object(o.a)("Report Follow Failure"),g=Object(o.a)("Unfollow User"),b=Object(o.a)("Show Unfollow User Dialog"),p=Object(o.a)("Update Followed User Caids",function(e){return Array.isArray(e)?e:[e]}),f=Object(o.a)("Completed Initializing Users Data",function(){return null}),h=Object(o.a)("Refresh Current User Identities",function(){return null}),v=Object(o.a)("Set Current User Identities",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e}),w=Object(o.a)("Track Follow Creator",function(e){return{currentUserId:e.currentUserId,creatorDetails:e.creatorDetails,eventDetails:e.eventDetails,source:e.source,type:e.type}}),C=Object(o.a)("Track Unfollow Creator",function(e){return{currentUserId:e.currentUserId,creatorDetails:e.creatorDetails,eventDetails:e.eventDetails,source:e.source,type:e.type}}),y=function(e){return e[u].get("followed")},j=Object(c.createSelector)(function(e){return e[u].get("currentUserIdentities")},function(e){return e.toJS()}),O=Object(c.createSelector)(function(e){return e[u].get("currentUserIdentities")},function(e){return e.some(function(e){return e.get("provider")===l.Ve&&!e.get("reauthorize")})}),S=Object(c.createSelector)(function(e){return e[u].get("currentUserIdentities")},function(e){return e.some(function(e){return e.get("provider")===l.pb})}),E=Object(c.createSelector)(y,function(e){return e.toArray()}),x=function(e){return e[u].get("followedUserCaidsAreInitialized")},k=Object(c.createSelector)(y,function(e){return e.size});t.default=Object(s.a)((a={},i()(a,_,function(e,t){var n=t.payload;return e.update("followed",function(e){return e.add(n)})}),i()(a,m,function(e,t){var n=t.payload;return e.update("followed",function(e){return e.delete(n)})}),i()(a,g,function(e,t){var n=t.payload;return e.update("followed",function(e){return e.delete(n)})}),i()(a,p,function(e,t){var n=t.payload;return e.update("followed",function(e){return e.union(n)}).set("followedUserCaidsAreInitialized",!0)}),i()(a,v,function(t,n){var a=n.payload;return t.set("currentUserIdentities",e.fromJS(a))}),i()(a,d,function(e,t){var n=t.payload;return e.update("followed",function(e){return e.delete(n)})}),a),e.fromJS({users:{},followed:e.Set(),followedUserCaidsAreInitialized:!1,currentUserIdentities:[]}))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/users/users.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return L});var a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(i),s=n("./node_modules/idx/lib/idx.js"),c=n.n(s),l=n("./node_modules/redux-saga/es/effects.js"),u=n("./src/pieces/base/simple-dialog/simple-dialog.sagas.js"),d=n("./src/pieces/base/api/users.api.js"),_=n("./src/pieces/users/users.reducer.js"),m=n("./src/pieces/analytics/analytics.sagas.js"),g=n("./src/pieces/authentication/authentication.reducer.js"),b=n("./src/pieces/stage/stage.reducer.js"),p=n("./src/pieces/current-user/current-user.sagas.js"),f=n("./src/pieces/base/saga-utilities.js"),h=o.a.mark(x),v=o.a.mark(k),w=o.a.mark(I),C=o.a.mark(T),y=o.a.mark(F),j=o.a.mark(P),O=o.a.mark(N),S=o.a.mark(M),E=o.a.mark(L);n("./node_modules/bows/bows.js")("Users.sagas");function x(){var e,t,n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.b)(p.getCurrentUserId);case 2:return e=a.sent,a.next=5,Object(l.b)(d.c,e);case 5:return t=a.sent,n=t.map(function(e){return e.caid}),a.next=9,Object(l.g)(Object(_.UpdateFollowedUserCaids)(n));case 9:case"end":return a.stop()}},h)}function k(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.b)(p.getCurrentUserId);case 2:return t=n.sent,n.prev=3,n.next=6,Object(l.b)(d.l,t,e);case 6:n.next=28;break;case 8:return n.prev=8,n.t0=n.catch(3),n.next=12,Object(l.g)(Object(_.ReportFollowFailure)(e));case 12:if(!c()(n.t0,function(e){return e.errors._unverifiedEmail})){n.next=17;break}return n.next=15,Object(l.g)(Object(g.ShowVerificationDialog)({body:"To follow more faves you need to confirm your account"}));case 15:n.next=28;break;case 17:if(!c()(n.t0,function(e){return e.errors._dailyFollowLimit})){n.next=22;break}return n.next=20,Object(l.b)(u.showDialog,{title:"Daily Follow Limit Reached",body:"Wow, you sure like following people! You can follow more in 24 hours.",choices:["OK"]});case 20:n.next=28;break;case 22:if(!c()(n.t0,function(e){return e.errors._followLimit})){n.next=27;break}return n.next=25,Object(l.b)(u.showDialog,{title:"Follow Limit Reached",body:n.t0.errors._followLimit,choices:["OK"]});case 25:n.next=28;break;case 27:throw n.t0;case 28:return n.next=30,Object(l.e)(x);case 30:return n.next=32,Object(l.b)(d.j,e);case 32:case"end":return n.stop()}},v,null,[[3,8]])}function I(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.b)(p.getCurrentUserId);case 2:return t=n.sent,n.next=5,Object(l.b)(d.r,t,e);case 5:return n.next=7,Object(l.e)(x);case 7:case"end":return n.stop()}},w)}function T(e){var t,n,a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(l.b)(d.j,e);case 2:return t=r.sent,n=t&&t.username,r.next=6,Object(l.i)(b.selectIsFollowAnimationOn);case 6:return a=r.sent,r.next=9,Object(l.b)(u.showDialog,{title:"Are you sure you want to unfollow",subheader:n,body:"You'll no longer be notified when they go live or see what they're watching",choices:["Unfollow","Cancel"],size:"small"});case 9:if("Unfollow"!==r.sent){r.next=15;break}return r.next=13,Object(l.g)(Object(_.UnfollowUser)(e));case 13:r.next=18;break;case 15:if(!a){r.next=18;break}return r.next=18,Object(l.g)(Object(b.ResetIsFollowAnimationOn)());case 18:case"end":return r.stop()}},C)}function F(e){var t,n,a,i,s,c;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.caid,o.next=3,Object(l.a)([Object(l.b)(d.c,t),Object(l.b)(d.e,t)]);case 3:return n=o.sent,a=r()(n,2),i=a[0],s=a[1],o.next=9,Object(l.g)(Object(_.SetCurrentUserIdentities)(s));case 9:return c=i.map(function(e){return e.caid}),o.next=12,Object(l.g)(Object(_.UpdateFollowedUserCaids)(c));case 12:return o.next=14,Object(l.g)(Object(_.CompleteInitializingUsers)());case 14:case"end":return o.stop()}},y)}function P(){var e,t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.b)(p.getCurrentUserId);case 2:return e=n.sent,n.next=5,Object(l.b)(d.e,e);case 5:return t=n.sent,n.next=8,Object(l.g)(Object(_.SetCurrentUserIdentities)(t));case 8:case"end":return n.stop()}},j)}function N(e){var t,n,a,r,i,s,c,u,d;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.currentUserId,n=e.lobbyPayloadId,a=e.creatorDetails,r=e.eventDetails,i=e.type,s=e.source,c=a.caid,u=a.displayOrder,d={userId:t,lobbyId:n,broadcasterId:c,order:u,type:i,source:s},o.next=5,Object(l.b)(m.handleFollow,d,r);case 5:case"end":return o.stop()}},O)}function M(e){var t,n,a,r,i,s,c,u,d;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.currentUserId,n=e.lobbyPayloadId,a=e.creatorDetails,r=e.eventDetails,i=e.type,s=e.source,c=a.caid,u=a.displayOrder,d={userId:t,lobbyId:n,broadcasterId:c,order:u,type:i,source:s},o.next=5,Object(l.b)(m.handleUnfollow,d,r);case 5:case"end":return o.stop()}},S)}function L(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)(g.StartAuthenticatedSession,F);case 2:return e.next=4,Object(f.h)(_.RefreshCurrentUserIdentities,P);case 4:return e.next=6,Object(f.h)(_.FollowUser,k);case 6:return e.next=8,Object(f.h)(_.UnfollowUser,I);case 8:return e.next=10,Object(f.h)(_.ShowUnfollowUserDialog,T);case 10:return e.next=12,Object(f.h)(_.TrackCreatorFollow,N);case 12:return e.next=14,Object(f.h)(_.TrackCreatorUnfollow,M);case 14:case"end":return e.stop()}},E)}},"./src/pieces/video-player/create-enhanced-peer-connection.js":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),c=n.n(s),l=n("./node_modules/redux-saga/es/index.js"),u=n("./node_modules/bows/bows.js")("Create-enhanced-peer-connection");function d(){var e=new RTCPeerConnection,t=new Promise(function(t){var n=[];e.onicecandidate=function(e){u("onicecandidate",e),e.candidate?e.candidate.candidate.includes(".local")||n.push(e.candidate):(u("End of ICE candidates",n),t(n))}});e.iceConnectionStateChangeChannel=Object(l.f)(function(t){return e.oniceconnectionstatechange=function(){var n=e.iceConnectionState;t({state:n})},function(){return e.iceconnectionstatechange=null}},l.b.sliding(20));var n=function(){var n=c()(r.a.mark(function n(a){var i,s;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u("establishing peer connection for jsep offer",a),i=new Promise(function(t){e.ontrack=function(e){u("ontrack",e),t(e.streams[0])}}),s=a.sdp.replace(/a=mid:video/,"a=mid:video\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay"),n.abrupt("return",e.setRemoteDescription({sdp:s,type:"offer"}).then(function(){return u("Creating Answer"),e.createAnswer()}).then(function(n){return u("Got answer",n),"answer"!==n.type?Promise.reject("Expected answer but got ".concat(n.type)):(e.setLocalDescription(n),Promise.all([i,t]).then(function(e){var t=o()(e,2),r=t[0],i=t[1];if(0==i.length){var s=a.sdp.match(/a=mid:(\S*)$/m);i.push(new RTCIceCandidate({sdpMid:s&&s.length>1?s[1]:"audio",sdpMLineIndex:"0",candidate:"a=candidate:1 1 udp 511 100::9 24610 typ host"}))}return{answer:n,iceCandidates:i,stream:r}}))}));case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return e.establish=n,e.newEstablish=function(){var e=c()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n({sdp:t,type:"offer"}).then(function(e){var t=e.answer,n=e.iceCandidates,a=e.stream;return{answer:t.sdp,iceCandidates:n,stream:a}}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.fetchAllIceCandidates=function(){return t},e.onnegotiationneeded=function(){u("onnegotiationneeded")},e.onicecandidateerror=function(){u("onicecandidateerror")},e.onsignalingstatechange=function(e){u("onsignalingstatechange: ".concat(e.target.signalingState))},e.iceconnectionstatechange=function(e){u("iceconnectionstatechange: ".concat(e.target.iceConnectionState))},e.icegatheringstatechange=function(e){u("icegatheringstatechange: ".concat(e.target.iceGatheringState))},e.onconnectionstatechange=function(e){u("onconnectionstatechange: ".concat(e.target.connectionState))},e}},"./src/pieces/video/video-footer.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(a),i=n("./src/pieces/hooks/useDeviceDetect.ts"),o=n("./src/pieces/footer/base-footer.tsx"),s=n("./src/pieces/footer/footer-mobile-nag.tsx"),c=n("./src/pieces/base/constants.js");n("./node_modules/bows/bows.js")("Video-footer");t.a=function(t){var n=Object(i.a)();return e.createElement(o.a,{below:n?e.createElement(s.a,r()({},t,{source:c.Kd})):null})}}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/video/video-frame.scss":function(e,t,n){e.exports={videoFrame:"video-frame__videoFrame___vY1kE",videoFrameMobile:"video-frame__videoFrameMobile___1jUTT",videoContainerMobile:"video-frame__videoContainerMobile___2v6lq",deletedMessage:"video-frame__deletedMessage___26_ps",iconsList:"video-frame__iconsList___35FJX",statIconContainer:"video-frame__statIconContainer___g7673",counterIcon:"video-frame__counterIcon___3M2dx",counter:"video-frame__counter___3LXqV",activityLikeButton:"video-frame__activityLikeButton___japKA",likeCounter:"video-frame__likeCounter___17Sjq",postCommentButton:"video-frame__postCommentButton___39m9B",usernameDate:"video-frame__usernameDate___iKiO2",flexAlignCenter:"video-frame__flexAlignCenter___3dWU-",normalWeightFont:"video-frame__normalWeightFont___3NuTe",positionRelative:"video-frame__positionRelative___2t11y",positionAbsolute:"video-frame__positionAbsolute___2ACTO",conversationCommentAvatar:"video-frame__conversationCommentAvatar___2tBXN",commentTextAndPropContainer:"video-frame__commentTextAndPropContainer___2pFXF",conversationCommentText:"video-frame__conversationCommentText___eHL9w",conversationCommentActionsContainer:"video-frame__conversationCommentActionsContainer___3M1Ob",conversationCommentContainer:"video-frame__conversationCommentContainer___ZOcuK",propsContainer:"video-frame__propsContainer___1G6do",commentMargin:"video-frame__commentMargin___i7oQI",conversationCommentActions:"video-frame__conversationCommentActions___-gnBv",conversationCommentUsername:"video-frame__conversationCommentUsername___sMYYL",conversationCommentDate:"video-frame__conversationCommentDate___1uPrG",conversationTitle:"video-frame__conversationTitle___2OmkH",conversationContainer:"video-frame__conversationContainer___P3o3h",conversationCommentOutContainer:"video-frame__conversationCommentOutContainer___2pG65",mobileClickHandler:"video-frame__mobileClickHandler___3QbO3",replyContainer:"video-frame__replyContainer___EjV4K",replyOutsideContainer:"video-frame__replyOutsideContainer___3ezYu",replyViewComment:"video-frame__replyViewComment___3Kv5J",conversationCommentScrollableArea:"video-frame__conversationCommentScrollableArea___9CPX6",scrollableArea:"video-frame__scrollableArea___27Cx_",conversationFigure:"video-frame__conversationFigure___Cgaw7",IconMargin:"video-frame__IconMargin___14s7A",heartIcon:"video-frame__heartIcon___3p4Vg",textActions:"video-frame__textActions___1-GaE",conversationInput:"video-frame__conversationInput___3p8MM","focus-visible":"video-frame__focus-visible___Am-Jy",conversationAvatarContainer:"video-frame__conversationAvatarContainer___3M935"}},"./src/pieces/video/video-metadata.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/react-helmet/lib/Helmet.js"),s=n.n(o),c=n("./src/pieces/base/constants.js"),l=n("./src/pieces/base/create-image-url.js"),u=n("./src/pieces/video/video.reducer.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Video-metadata");var m=Object(i.b)(function(e){return{title:Object(u.selectVideoTitle)(e),description:Object(u.selectVideoDescription)(e),previewImagePath:Object(u.selectVideoPreviewImagePath)(e),videoUrl:Object(u.selectVideoUrl)(e),video:Object(u.selectVideo)(e)}});t.a=m(function(t){var n=t.title,a=t.description,r=t.videoUrl,i=t.previewImagePath,o=t.video,u={"add-logo-fs-overlay":!0};return e.createElement(s.a,null,e.createElement("title",null,n),e.createElement("meta",{property:"description",content:a}),e.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),e.createElement("meta",{name:"twitter:site",content:"@caffeine"}),e.createElement("meta",{property:"fb:app_id",content:"278354532550167"}),e.createElement("meta",{property:"og:type",content:"website"}),e.createElement("meta",{property:"og:site_name",content:"Caffeine"}),e.createElement("meta",{rel:"canonical",href:c.M}),e.createElement("meta",{property:"og:url",content:c.M}),e.createElement("meta",{property:"og:title",content:n}),e.createElement("meta",{property:"og:description",content:a}),e.createElement("meta",{property:"og:video",content:r}),e.createElement("meta",{property:"og:video::secure_url",content:r}),e.createElement("meta",{property:"og:video:type",content:"application/x-mpegURL"}),e.createElement("meta",{property:"og:video:height",content:"1280"}),e.createElement("meta",{property:"og:video:width",content:"720"}),e.createElement("meta",{property:"og:image",content:"upcoming"===o.activityType?Object(l.a)(i,_({auto:"webp",fit:"crop",width:1200,height:630,enable:"upscale"},u)):Object(l.c)(i,_({auto:"webp",fit:"crop",width:1200,height:630,enable:"upscale"},u))}))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/video/video.reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return b}),n.d(t,"LoadVideo",function(){return p}),n.d(t,"UnloadVideo",function(){return f}),n.d(t,"SetVideo",function(){return h}),n.d(t,"TriggerVodVideoWatched30SEvent",function(){return v}),n.d(t,"TriggerVodVideoStartEvent",function(){return w}),n.d(t,"TriggerVodVideoStopEvent",function(){return C}),n.d(t,"SetVodVideoStartMs",function(){return y}),n.d(t,"GetComments",function(){return j}),n.d(t,"GetReplies",function(){return O}),n.d(t,"SetReplies",function(){return S}),n.d(t,"GetMoreComments",function(){return E}),n.d(t,"SetNextComment",function(){return x}),n.d(t,"LikeActivity",function(){return k}),n.d(t,"LikeComment",function(){return I}),n.d(t,"UnlikeComment",function(){return T}),n.d(t,"UnlikeActivity",function(){return F}),n.d(t,"SetComments",function(){return P}),n.d(t,"SetActivityLikes",function(){return N}),n.d(t,"CreateComment",function(){return M}),n.d(t,"CreateReply",function(){return L}),n.d(t,"LikeReply",function(){return B}),n.d(t,"UnlikeReply",function(){return A}),n.d(t,"PromptToDeleteCommentReply",function(){return D}),n.d(t,"PromptToReportCommentReply",function(){return U}),n.d(t,"SetHasMoreComments",function(){return R}),n.d(t,"SetCommentsLength",function(){return H}),n.d(t,"PromptToDeleteComment",function(){return W}),n.d(t,"PromptToReportComment",function(){return V}),n.d(t,"selectCommentsLength",function(){return z}),n.d(t,"selectVideo",function(){return G}),n.d(t,"selectVodVideoStartMs",function(){return q}),n.d(t,"selectComments",function(){return J}),n.d(t,"selectRepliesMap",function(){return Z}),n.d(t,"selectHasMoreComments",function(){return Y}),n.d(t,"selectNextComment",function(){return Q}),n.d(t,"selectActivityLikes",function(){return K}),n.d(t,"selectVideoTitle",function(){return X}),n.d(t,"selectVideoPreviewImagePath",function(){return $}),n.d(t,"selectVideoUrl",function(){return ee}),n.d(t,"selectVideoDescription",function(){return te}),n.d(t,"selectVideoOrLiveActivity",function(){return ne}),n.d(t,"selectUnlockPaywallHeader",function(){return ae}),n.d(t,"selectUnlockPaywallTitle",function(){return re}),n.d(t,"selectUnlockPaywallDescription",function(){return ie}),n.d(t,"selectUnlockPaywallPreviewImagePath",function(){return oe}),n.d(t,"selectUnlockPaywallPPVShowId",function(){return se}),n.d(t,"selectUnlockPaywallPPVPrice",function(){return ce}),n.d(t,"selectUnlockPaywallIsPaywallEnforced",function(){return le}),n.d(t,"selectUnlockPaywallIsUnlocked",function(){return ue}),n.d(t,"selectUnlockOptions",function(){return de}),n.d(t,"selectUnlockUserCAID",function(){return _e}),n.d(t,"selectHasPaywall",function(){return me}),n.d(t,"selectUnlockModalIsOpen",function(){return ge});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/immutable/dist/immutable.js"),s=n.n(o),c=n("./node_modules/redux-actions/es/createAction.js"),l=n("./node_modules/redux-actions/es/handleActions.js"),u=n("./node_modules/reselect/lib/index.js"),d=n("./src/pieces/stage/stage.reducer.js"),_=n("./src/pieces/stage-director/stage-director.reducer.js"),m=n("./src/pieces/base/simple-dialog/simple-dialog.reducer.js"),g=n("./src/pieces/current-user/current-user.reducer.js"),b=(n("./node_modules/bows/bows.js")("Video.reducer"),"video"),p=Object(c.a)("Load Video",function(e){return e}),f=Object(c.a)("Unload Video",function(){return null}),h=Object(c.a)("Set Video",function(e){return e}),v=Object(c.a)("Trigger Vod Video Watched 30 S Event",function(e){return e}),w=Object(c.a)("Trigger Vod Video Start Event",function(e){return e}),C=Object(c.a)("Trigger Vod Video Stop Event",function(e){return e}),y=Object(c.a)("Set Vod Video Start Ms",function(e){return e}),j=Object(c.a)("Get Comments",function(e,t){return{activityId:e,next:t}}),O=Object(c.a)("Get Replies",function(e,t,n){return{activityId:e,commentId:t,next:n}}),S=Object(c.a)("Set Replies",function(e){return e}),E=Object(c.a)("Get More Comments",function(e,t){return{activityId:e,next:t}}),x=Object(c.a)("Set Next Comment",function(e){return e}),k=Object(c.a)("Like Activity",function(e){return e}),I=Object(c.a)("Like a comment",function(e,t){return{activityId:e,commentId:t}}),T=Object(c.a)("Unlike a comment",function(e,t){return{activityId:e,commentId:t}}),F=Object(c.a)("Unlike Activity",function(e){return e}),P=Object(c.a)("Set Comments",function(e){return e}),N=Object(c.a)("Set Likes",function(e){return e}),M=Object(c.a)("Create Comment",function(e,t){return{activityId:e,text:t}}),L=Object(c.a)("Create Reply",function(e,t,n){return{activityId:e,commentId:t,text:n}}),B=Object(c.a)("Like a reply",function(e,t,n){return{activityId:e,commentId:t,replyCommentId:n}}),A=Object(c.a)("Unlike a reply",function(e,t,n){return{activityId:e,commentId:t,replyCommentId:n}}),D=Object(c.a)("Prompt to Delete Comment Reply",function(e,t,n){return{activityId:e,commentId:t,replyCommentId:n}}),U=Object(c.a)("Prompt to Report Comment Reply",function(e,t,n){return{activityId:e,commentId:t,replyCommentId:n}}),R=Object(c.a)("Set Has More Comments",function(e){return e}),H=Object(c.a)("Set Comments Length",function(e){return e}),W=Object(c.a)("Prompt to Delete Comment",function(e,t){return{activityId:e,commentId:t}}),V=Object(c.a)("Prompt to Report Comment",function(e,t){return{activityId:e,commentId:t}}),z=function(e){return e[b].get("comments")},G=function(e){return e[b].get("video")},q=function(e){return e[b].get("vodVideoStartMs")},J=function(e){return e[b].get("comments")},Z=function(e){return e[b].get("repliesMap")},Y=function(e){return e[b].get("hasMoreComments")},Q=function(e){return e[b].get("nextComment")},K=function(e){return e[b].get("activityLikes")},X=Object(u.createSelector)(function(e){return e[b].get("video")},function(e){return e&&e.broadcastInfo&&e.broadcastInfo.broadcastTitle}),$=Object(u.createSelector)(function(e){return e[b].get("video")},function(e){return e&&e.broadcastInfo&&e.broadcastInfo.previewImagePath}),ee=Object(u.createSelector)(function(e){return e[b].get("video")},function(e){return e&&e.broadcastInfo&&e.broadcastInfo.videoUrl}),te=Object(u.createSelector)(function(e){return e[b].get("video")},function(e){if(!e)return"";var t=e.username,n=e.broadcastInfo&&e.broadcastInfo.broadcastTitle,a=e.tags&&e.tags.map(function(e){return" #"+e});return"@"+t+": "+n+(e.tags?a:"")}),ne=Object(u.createSelector)(G,d.selectStageLiveActivity,function(e,t){return e||t}),ae=Object(u.createSelector)(function(e){return e[b].get("video")},_.selectStageDirectorPaywallHeader,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.paywall&&e.paywall.header;return n?t:a}),re=Object(u.createSelector)(function(e){return e[b].get("video")},_.selectStageDirectorPaywallTitle,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.paywall&&e.paywall.title;return n?t:a}),ie=Object(u.createSelector)(function(e){return e[b].get("video")},_.selectStageDirectorPaywallDescription,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.paywall&&e.paywall.description;return n?t:a}),oe=Object(u.createSelector)(function(e){return e[b].get("video")},_.selectStageDirectorPaywallPreviewImagePath,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.paywall&&e.paywall.previewImagePath;return n?t:a}),se=Object(u.createSelector)(function(e){return e[b].get("video")},_.selectStageDirectorPaywallPPVShowId,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.paywall&&e.paywall.ppvshowId;return n?t:a}),ce=Object(u.createSelector)(function(e){return e[b].get("video")},_.selectStageDirectorPaywallPrice,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.paywall&&e.paywall.price;return n?t:a}),le=Object(u.createSelector)(function(e){return e[b].get("video")},_.selectStageDirectorIsPaywallEnforced,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.paywall&&e.paywall.enforced;return n?t:a}),ue=Object(u.createSelector)(function(e){return e[b].get("video")},_.selectStageDirectorStageUnlocked,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.paywall&&e.permissions.paywallUnlocked;return n?t:a}),de=Object(u.createSelector)(function(e){return e[b].get("video")},_.selectStageDirectorStageUnlockOptions,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.paywall&&e.paywall.unlockOptions;return n?t:a}),_e=Object(u.createSelector)(function(e){return e[b].get("video")},d.selectStageId,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.user&&e.user.stageId;return"CAID".concat(n?String(t):String(a))}),me=Object(u.createSelector)(function(e){return e[b].get("video")},_.selectStageDirectorPaywallPPVShowId,_.selectIsStageDirectorLive,function(e,t,n){var a=e&&e.paywall&&e.paywall.ppvshowId;return n?!!t:!!a}),ge=Object(u.createSelector)(_.selectIsStageDirectorLive,ue,le,m.selectTicketIsOpen,se,g.selectCurrentUserId,_e,function(e,t,n,a,r,i,o){return!0!==t&&(a||r&&!t&&n&&i!==o)}),be={video:null,comments:null,commentsLength:5,hasMoreComments:!1,nextComment:"",activityLikes:0,repliesMap:null,vodVideoStartMs:0};t.default=Object(l.a)((a={},i()(a,p,function(){return s.a.fromJS(be)}),i()(a,f,function(){return s.a.fromJS(be)}),i()(a,h,function(e,t){var n=t.payload;return e.set("video",n)}),i()(a,y,function(e,t){var n=t.payload;return e.set("vodVideoStartMs",n)}),i()(a,P,function(e,t){var n=t.payload;return e.set("comments",n)}),i()(a,S,function(e,t){var n=t.payload;return e.set("repliesMap",n)}),i()(a,R,function(e,t){var n=t.payload;return e.set("hasMoreComments",n)}),i()(a,x,function(e,t){var n=t.payload;return e.set("nextComment",n)}),i()(a,H,function(e,t){var n=t.payload;return e.set("hasMoreComments",n)}),i()(a,N,function(e,t){var n=t.payload;return e.set("activityLikes",n)}),a),s.a.fromJS(be))},"./src/pieces/video/video.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"handleGetComments",function(){return Z}),n.d(t,"handleGetMoreComments",function(){return Y}),n.d(t,"handleGetReplies",function(){return Q}),n.d(t,"handleCreateComment",function(){return K}),n.d(t,"handleCreateReply",function(){return X}),n.d(t,"handleDeleteReply",function(){return $}),n.d(t,"handleReportCommentReply",function(){return ee}),n.d(t,"handleUnlikeActivity",function(){return te}),n.d(t,"handleLikeActivity",function(){return ne}),n.d(t,"handleDeleteComment",function(){return ae}),n.d(t,"handleReportComment",function(){return re}),n.d(t,"handleLikeComment",function(){return ie}),n.d(t,"handleUnLikeComment",function(){return oe}),n.d(t,"handleLikeReply",function(){return se}),n.d(t,"handleUnLikeReply",function(){return ce}),n.d(t,"default",function(){return le}),n.d(t,"convertSecondsToHours",function(){return ue}),n.d(t,"createGoogleStructuredVideoTag",function(){return de}),n.d(t,"handleCrawler",function(){return _e});var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(i),s=(n("./node_modules/idx/lib/idx.js"),n("./node_modules/lodash/cond.js"),n("./node_modules/lodash/constant.js"),n("./node_modules/lodash/range.js"),n("./node_modules/lodash/shuffle.js"),n("./node_modules/react-router-redux/lib/index.js"),n("./node_modules/redux-saga/es/index.js"),n("./src/pieces/base/simple-dialog/simple-dialog.sagas.js")),c=(n("./src/pieces/base/date-time-helpers.ts"),n("./node_modules/redux-saga/es/effects.js")),l=n("./src/pieces/base/path.js"),u=n("./src/pieces/base/saga-utilities.js"),d=n("./src/pieces/base/api/video.api.js"),_=n("./src/pieces/video/video.reducer.js"),m=n("./src/pieces/stage/stage.reducer.js"),g=n("./src/pieces/base/constants.js"),b=n("./src/pieces/current-user/current-user.reducer.js"),p=n("./src/pieces/authentication/authentication.reducer.js"),f=n("./src/pieces/current-user/current-user.sagas.js"),h=n("./src/pieces/base/create-image-url.js"),v=n("./node_modules/date-fns/index.js"),w=o.a.mark(z),C=o.a.mark(G),y=o.a.mark(q),j=o.a.mark(J),O=o.a.mark(Z),S=o.a.mark(Y),E=o.a.mark(Q),x=o.a.mark(K),k=o.a.mark(X),I=o.a.mark($),T=o.a.mark(ee),F=o.a.mark(te),P=o.a.mark(ne),N=o.a.mark(ae),M=o.a.mark(re),L=o.a.mark(ie),B=o.a.mark(oe),A=o.a.mark(se),D=o.a.mark(ce),U=o.a.mark(le),R=o.a.mark(de),H=o.a.mark(_e),W=(n("./node_modules/bows/bows.js")("Video.sagas"),"true"===localStorage.getItem(g.Fb)),V=localStorage.getItem(g.I);function z(e){var t,n,a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(c.b)(d.o,e);case 2:return t=r.sent,n=t&&t.activityType===g.Jd?g.Jd:g.Kd,r.next=6,Object(c.g)(Object(_.SetVideo)(t));case 6:return r.next=8,Object(c.g)(Object(_.SetActivityLikes)(t.likeCount));case 8:return a={screen_name:n,canonical_path:window.location.pathname,web_presentation:W?g.of:g.nf,experiment_group:"CONTENTLOCK_".concat(V)},window.mParticle.logEvent("screen_view",window.mParticle.EventType.Other,a),r.next=12,Object(c.e)(de,t);case 12:case"end":return r.stop()}},w)}function G(e){var t,n,a,r,i,s,u,d,_,h,v,w,y,j,O,S,E;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(c.b)(f.getCurrentUserId);case 2:return t=o.sent,o.next=5,Object(c.i)(b.selectCurrentUser);case 5:if(n=o.sent,a=Object(l.a)(),r=a.currentPath,i=r===g.Dd?g.ef:r===g.xd?g.ef:r===g.Ed?g.ff:r===g.Bd?g.df:r===g.Kd?g.hf:"",!e){o.next=25;break}return s=e.activityId,u=e.activityType,d=e.broadcastInfo&&e.broadcastInfo.broadcastId,_=e.broadcastInfo&&e.broadcastInfo.broadcastTitle,h=e.username,v="",w=g.hf,y=e&&e.user&&e.user.stageId,j=i,O=n&&n.username,o.next=21,Object(c.i)(p.selectIsAnonymous);case 21:return S=o.sent,E={activity_id:s,activity_type:u,broadcast_id:d,broadcast_title:_,broadcaster_username:h,current_viewing_option:v,playing_type:w,stage_id:y,stage_source:j,viewer_username:O,viewer_id:t,is_anonymous:S},o.next=25,Object(c.g)(Object(m.LogVideoWatched30SEvent)(E));case 25:case"end":return o.stop()}},C)}function q(e){var t,n,a,r,i,s,u,d,h,v,w,C,j,O,S,E,x;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(c.b)(f.getCurrentUserId);case 2:return t=o.sent,o.next=5,Object(c.i)(b.selectCurrentUser);case 5:if(n=o.sent,a=Object(l.a)(),r=a.currentPath,i=r===g.Dd?g.ef:r===g.xd?g.ef:r===g.Ed?g.ff:r===g.Bd?g.df:r===g.Kd?g.hf:"",!e){o.next=27;break}return s=e.activityId,u=e.activityType,d=e.broadcastInfo&&e.broadcastInfo.broadcastId,h=e.broadcastInfo&&e.broadcastInfo.broadcastTitle,v=e.username,w="",C=g.hf,j=e&&e.user&&e.user.stageId,O=i,S=n&&n.username,o.next=21,Object(c.i)(p.selectIsAnonymous);case 21:return E=o.sent,x={activity_id:s,activity_type:u,broadcast_id:d,broadcast_title:h,broadcaster_username:v,current_viewing_option:w,playing_type:C,stage_id:j,stage_source:O,viewer_username:S,viewer_id:t,is_anonymous:E},o.next=25,Object(c.g)(Object(m.LogVideoStartEvent)(x));case 25:return o.next=27,Object(c.g)(Object(_.SetVodVideoStartMs)(Date.now()));case 27:case"end":return o.stop()}},y)}function J(e){var t,n,a,r,i,s,u,d,h,v,w,C,y,O,S,E,x,k,I,T,F,P,N,M,L,B,A,D;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(c.b)(f.getCurrentUserId);case 2:return t=o.sent,o.next=5,Object(c.i)(b.selectCurrentUser);case 5:if(n=o.sent,a=Object(l.a)(),r=a.currentPath,i=r===g.Dd?g.ef:r===g.xd?g.ef:r===g.Ed?g.ff:r===g.Bd?g.df:r===g.Kd?g.hf:"",!e){o.next=40;break}return s=e.activityId,u=e.activityType,d=e.broadcastInfo&&e.broadcastInfo.broadcastId,h=e.broadcastInfo&&e.broadcastInfo.broadcastTitle,v=e.username,w="",C=g.hf,y=e&&e.user&&e.user.stageId,O=i,S=n&&n.username,o.next=21,Object(c.i)(p.selectIsAnonymous);case 21:return E=o.sent,x=e.tags?e.tags.toString():"",k=e.broadcastInfo?e.broadcastInfo.broadcastStartTime:null,I=e.broadcastInfo?e.broadcastInfo.broadcastEndTime:null,T=new Date(k),F=new Date(I),P=Math.abs(F-T),N=Math.floor(P&&P/1e3),M=N,o.next=32,Object(c.i)(_.selectVodVideoStartMs);case 32:return L=o.sent,B=Date.now(),A=L&&B-L?Math.floor((B-L)/1e3):null,D={activity_id:s,activity_type:u,broadcast_id:d,broadcast_title:h,broadcaster_username:v,current_viewing_option:w,playing_type:C,stage_id:y,stage_source:O,viewer_username:S,viewer_id:t,hashtags:x,vod_duration:M,watch_time_seconds:A,is_anonymous:E},o.next=38,Object(c.g)(Object(m.LogVideoStopEvent)(D));case 38:return o.next=40,Object(c.g)(Object(_.SetVodVideoStartMs)(0));case 40:case"end":return o.stop()}},j)}function Z(e){var t,n,a,r,i;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.activityId,n=e.next,o.next=3,Object(c.b)(d.f,t,n);case 3:return a=o.sent,r=a.comments,i=a.next,o.next=8,Object(c.b)(d.e,r);case 8:return o.next=10,Object(c.g)(Object(_.SetComments)(r));case 10:if(!i){o.next=17;break}return o.next=13,Object(c.g)(Object(_.SetHasMoreComments)(!0));case 13:return o.next=15,Object(c.g)(Object(_.SetNextComment)(i));case 15:o.next=21;break;case 17:return o.next=19,Object(c.g)(Object(_.SetHasMoreComments)(!1));case 19:return o.next=21,Object(c.g)(Object(_.SetNextComment)(""));case 21:case"end":return o.stop()}},O)}function Y(e){var t,n,a,r,i,s,l;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.activityId,n=e.next,o.next=3,Object(c.b)(d.f,t,n);case 3:return a=o.sent,r=a.comments,i=a.next,o.next=8,Object(c.b)(d.e,r);case 8:return o.next=10,Object(c.i)(_.selectComments);case 10:if(s=o.sent,!i){o.next=21;break}return o.next=14,Object(c.g)(Object(_.SetHasMoreComments)(!0));case 14:return o.next=16,Object(c.g)(Object(_.SetNextComment)(i));case 16:return l=s.concat(r),o.next=19,Object(c.g)(Object(_.SetComments)(l));case 19:o.next=25;break;case 21:return o.next=23,Object(c.g)(Object(_.SetHasMoreComments)(!1));case 23:return o.next=25,Object(c.g)(Object(_.SetNextComment)(""));case 25:case"end":return o.stop()}},S)}function Q(e){var t,n,a,i,s,l,u;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.activityId,n=e.commentId,a=e.next,o.next=3,Object(c.b)(d.m,t,n,a);case 3:return i=o.sent,s=i.comments,o.next=7,Object(c.i)(_.selectRepliesMap);case 7:return l=o.sent,u=Object.assign({},l,r()({},n,s)),o.next=11,Object(c.g)(Object(_.SetReplies)(u));case 11:case"end":return o.stop()}},E)}function K(e){var t,n,a,r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.activityId,n=e.text,i.next=3,Object(c.i)(_.selectVideo);case 3:return i.sent,i.next=6,Object(c.b)(d.a,t,{text:n});case 6:return a=i.sent,a.commentId,r=a.next,i.next=11,Object(c.g)(Object(_.GetComments)(t,r));case 11:case"end":return i.stop()}},x)}function X(e){var t,n,a,r,i,s;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.activityId,n=e.commentId,a=e.text,o.next=3,Object(c.i)(_.selectComments);case 3:return r=o.sent,r.find(function(e){return e.activityId===t&&e.id===n}),o.next=7,Object(c.b)(d.b,t,n,{text:a});case 7:return i=o.sent,s=i.next,o.next=11,Object(c.g)(Object(_.GetReplies)(t,n,s));case 11:case"end":return o.stop()}},k)}function $(e){var t,n,a,r,i;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.activityId,n=e.commentId,a=e.replyCommentId,o.prev=1,o.next=4,Object(c.i)(_.selectRepliesMap);case 4:return r=o.sent,i=r[n],i.find(function(e){return e.id===a}),o.next=9,Object(c.b)(s.showDialog,{title:"Delete Reply",body:"Are you sure you want to delete this reply?",choices:["Yes","No"]});case 9:if("Yes"!==o.sent){o.next=19;break}return o.next=13,Object(c.b)(d.d,t,n,a);case 13:return o.next=15,Object(c.g)(Object(_.GetComments)(t));case 15:return o.next=17,Object(c.g)(Object(_.GetReplies)(t,n));case 17:return o.next=19,Object(c.b)(s.showDialog,{title:"Reply Deleted",body:"The reply was deleted successfully.",choices:["Ok"]});case 19:o.next=25;break;case 21:return o.prev=21,o.t0=o.catch(1),o.next=25,Object(c.b)(s.showDialog,{title:"Reply Not Deleted",body:"An error occurred in deleting this reply.",choices:["Ok"]});case 25:case"end":return o.stop()}},I,null,[[1,21]])}function ee(e){var t,n,a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.activityId,n=e.commentId,a=e.replyCommentId,r.prev=1,r.next=4,Object(c.b)(s.showDialog,{title:"Report Reply",body:"Are you sure you want to report this reply?",choices:["Yes","Cancel"]});case 4:if("Yes"!==r.sent){r.next=14;break}return r.next=8,Object(c.b)(d.u,t,n,a);case 8:return r.next=10,Object(c.g)(Object(_.GetComments)(t));case 10:return r.next=12,Object(c.g)(Object(_.GetReplies)(t,n));case 12:return r.next=14,Object(c.b)(s.showDialog,{title:"Reply Reported",body:"The reply was reported successfully.",choices:["Ok"]});case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(1),r.next=20,Object(c.b)(s.showDialog,{title:"Report Not Submitted",body:"An error occurred in submitting this report.",choices:["Ok"]});case 20:case"end":return r.stop()}},T,null,[[1,16]])}function te(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.b)(d.v,e);case 2:return n.next=4,Object(c.b)(d.o,e);case 4:return t=n.sent,n.next=7,Object(c.g)(Object(_.SetActivityLikes)(t.likeCount));case 7:case"end":return n.stop()}},F)}function ne(e){var t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.b)(d.p,e);case 2:return n.next=4,Object(c.b)(d.o,e);case 4:return t=n.sent,n.next=7,Object(c.g)(Object(_.SetActivityLikes)(t.likeCount));case 7:case"end":return n.stop()}},P)}function ae(e){var t,n,a,r,i;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.activityId,n=e.commentId,o.next=3,Object(c.i)(_.selectComments);case 3:return a=o.sent,r=a.find(function(e){return e.activityId===t&&e.id===n}),i=r.capabilities.find(function(e){return"delete"===e}),o.next=8,Object(c.b)(s.showDialog,{title:"Delete Comment",body:"Are you sure you want to delete this comment?",choices:["Yes","No"]});case 8:if("Yes"!==o.sent||!i){o.next=14;break}return o.next=12,Object(c.b)(d.c,t,n);case 12:return o.next=14,Object(c.g)(Object(_.GetComments)(t));case 14:case"end":return o.stop()}},N)}function re(e){var t,n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.activityId,n=e.commentId,a.prev=1,a.next=4,Object(c.b)(s.showDialog,{title:"Report Comment",body:"Are you sure you want to report this comment?",choices:["Yes","Cancel"]});case 4:if("Yes"!==a.sent){a.next=12;break}return a.next=8,Object(c.b)(d.t,t,n);case 8:return a.next=10,Object(c.g)(Object(_.GetComments)(t));case 10:return a.next=12,Object(c.b)(s.showDialog,{title:"Comment Reported",body:"The comment was reported successfully.",choices:["Ok"]});case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(1),a.next=18,Object(c.b)(s.showDialog,{title:"Comment Not Reported",body:"An error occurred reporting this comment.",choices:["Ok"]});case 18:case"end":return a.stop()}},M,null,[[1,14]])}function ie(e){var t,n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.activityId,n=e.commentId,a.next=3,Object(c.b)(d.q,t,n);case 3:return a.next=5,Object(c.g)(Object(_.GetComments)(t));case 5:case"end":return a.stop()}},L)}function oe(e){var t,n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.activityId,n=e.commentId,a.next=3,Object(c.b)(d.w,t,n);case 3:return a.next=5,Object(c.g)(Object(_.GetComments)(t));case 5:case"end":return a.stop()}},B)}function se(e){var t,n,a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.activityId,n=e.commentId,a=e.replyCommentId,r.next=3,Object(c.b)(d.r,t,n,a);case 3:return r.next=5,Object(c.g)(Object(_.GetReplies)(t,n));case 5:case"end":return r.stop()}},A)}function ce(e){var t,n,a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.activityId,n=e.commentId,a=e.replyCommentId,r.next=3,Object(c.b)(d.x,t,n,a);case 3:return r.next=5,Object(c.g)(Object(_.GetReplies)(t,n));case 5:case"end":return r.stop()}},D)}function le(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.h)(_.LoadVideo,z);case 2:return e.next=4,Object(u.h)(_.TriggerVodVideoWatched30SEvent,G);case 4:return e.next=6,Object(u.h)(_.TriggerVodVideoStartEvent,q);case 6:return e.next=8,Object(u.h)(_.TriggerVodVideoStopEvent,J);case 8:return e.next=10,Object(u.h)(_.LikeActivity,ne);case 10:return e.next=12,Object(u.h)(_.LikeComment,ie);case 12:return e.next=14,Object(u.h)(_.UnlikeComment,oe);case 14:return e.next=16,Object(u.h)(_.LikeReply,se);case 16:return e.next=18,Object(u.h)(_.UnlikeReply,ce);case 18:return e.next=20,Object(u.h)(_.UnlikeActivity,te);case 20:return e.next=22,Object(u.h)(_.GetComments,Z);case 22:return e.next=24,Object(u.h)(_.GetReplies,Q);case 24:return e.next=26,Object(u.h)(_.PromptToDeleteCommentReply,$);case 26:return e.next=28,Object(u.h)(_.PromptToReportComment,re);case 28:return e.next=30,Object(u.h)(_.PromptToReportCommentReply,ee);case 30:return e.next=32,Object(u.h)(_.GetMoreComments,Y);case 32:return e.next=34,Object(u.h)(_.CreateComment,K);case 34:return e.next=36,Object(u.h)(_.PromptToDeleteComment,ae);case 36:return e.next=38,Object(u.h)(_.CreateReply,X);case 38:case"end":return e.stop()}},U)}var ue=function(e){if(!e)return{seconds:0};var t=e%3600;return{hours:Math.floor(e/3600),minutes:Math.floor(t/60),seconds:t%60}};function de(e){var t,n,a,r,i,s,c,l,u,d,_,m,g,b;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:t=e.username,n=e.broadcastInfo&&e.broadcastInfo.broadcastTitle,a=e.broadcastInfo&&Object(h.b)(e.broadcastInfo.previewImagePath,{auto:"webp",fit:"crop",width:1280,height:720,enable:"upscale"}),r=e.tags&&e.tags.map(function(e){return" #"+e}),i=e.tags?r:"",s=e.broadcastInfo?e.broadcastInfo.broadcastStartTime:null,c=e.broadcastInfo?e.broadcastInfo.broadcastEndTime:null,l=e.broadcastInfo&&e.broadcastInfo.contentDuration,u=l?Object(v.formatISODuration)(ue(l)).replace("0Y0M0D",""):"PT1M",d=e.broadcastInfo&&e.broadcastInfo.videoUrl?e.broadcastInfo.videoUrl:"",_=e.viewCount||0,m=e.description||"@"+t+": "+n+i,g={"@context":"https://schema.org","@type":"VideoObject",name:n,description:m,thumbnailUrl:a,uploadDate:s||"",startTime:s||"",endTime:c||"",duration:u,contentUrl:d,creator:"@".concat(t),interactionStatistic:{"@type":"InteractionCounter",interactionType:{"@type":"WatchAction"},userInteractionCount:_},publication:{"@type":"BroadcastEvent",name:n,isLiveBroadcast:!c,startDate:s,endDate:c}},(b=document.createElement("script")).setAttribute("type","application/ld+json"),b.textContent=JSON.stringify(g),document.head.appendChild(b);case 17:case"end":return o.stop()}},R)}function _e(){var e,t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.e)(_.LoadVideo);case 2:return e=n.sent,n.next=5,Object(c.b)(d.l,e);case 5:return t=n.sent,n.next=8,Object(c.g)(Object(_.SetVideo)(t));case 8:return n.next=10,Object(c.g)(Object(_.SetActivityLikes)(t.likeCount));case 10:if(t){n.next=12;break}return n.abrupt("return");case 12:return n.next=14,Object(c.e)(de,t);case 14:case"end":return n.stop()}},H)}},"./src/pieces/web-broadcast-status/web-broadcast-status.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return _}),n.d(t,"SetCumulativeCreditsAtBroadcastStart",function(){return m}),n.d(t,"SetViewerCount",function(){return g}),n.d(t,"SetConcurrentViewerCount",function(){return b}),n.d(t,"SetAnonymousViewerCount",function(){return p}),n.d(t,"AddNewBroadcastViewers",function(){return f}),n.d(t,"AddReplacementBroadcastViewers",function(){return h}),n.d(t,"RemoveBroadcastViewers",function(){return v}),n.d(t,"ResetBroadcastViewers",function(){return w}),n.d(t,"SetBroadcastViewersUpdateIsAvailable",function(){return C}),n.d(t,"ResetBroadcastViewersUpdateAvailability",function(){return y}),n.d(t,"OpenBroadcastViewersList",function(){return j}),n.d(t,"CloseBroadcastViewersList",function(){return O}),n.d(t,"ClearNewFollowerNotificationDetails",function(){return S}),n.d(t,"SetNewFollowerNotificationDetails",function(){return E}),n.d(t,"selectEarnedCreditsCount",function(){return x}),n.d(t,"selectViewerCount",function(){return k}),n.d(t,"selectConcurrentViewerCount",function(){return I}),n.d(t,"selectAnonymousViewerCount",function(){return T}),n.d(t,"selectBroadcastViewersListIsOpen",function(){return F}),n.d(t,"selectBroadcastViewers",function(){return P}),n.d(t,"selectBroadcastViewersUpdateAvailability",function(){return N}),n.d(t,"selectNewFollowerNotificationDetails",function(){return M});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=n.n(o),c=n("./node_modules/redux-actions/es/createAction.js"),l=n("./node_modules/redux-actions/es/handleActions.js"),u=n("./node_modules/reselect/lib/index.js"),d=n("./src/pieces/current-user/current-user.reducer.js"),_=(n("./node_modules/bows/bows.js")("Web-broadcast-status.reducer"),"webBroadcastStatus"),m=Object(c.a)("Set Cumulative Credits At Broadcast Start",function(e){return e}),g=Object(c.a)("Set Viewer Count",function(e){return e}),b=Object(c.a)("Set Concurrent Viewer Count",function(e){return e}),p=Object(c.a)("Set Anonymous Viewer Count",function(e){return e}),f=Object(c.a)("Add New Broadcast Viewers",function(e){return e}),h=Object(c.a)("Add Replacement Broadcast Viewers",function(e){return e}),v=Object(c.a)("Remove Broadcast Viewers",function(e){return e}),w=Object(c.a)(" Reset Broadcast Viewers",function(){return null}),C=Object(c.a)("Set Broadcast Viewers Update Is Available",function(e){return e}),y=Object(c.a)("Reset Broadcast Viewers Update Availability",function(e){return e}),j=Object(c.a)("Open Broadcast Viewers List",function(e){return e}),O=Object(c.a)("Close Broadcast Viewers List",function(e){return e}),S=Object(c.a)("Clear New Follower Notification",function(){return null}),E=Object(c.a)("Set New Follower Notification",function(e){return{message:e}}),x=Object(u.createSelector)(d.selectCurrentUserWallet,function(e){return e[_].get("cumulativeCreditsAtBroadcastStart")},function(e,t){return e&&e.cumulativeCredits>t?e.cumulativeCredits-t:0}),k=function(e){return e[_].get("viewerCount")},I=function(e){return e[_].get("concurrentViewerCount")},T=function(e){return e[_].get("anonymousViewerCount")},F=function(e){return e[_].get("broadcastViewersListIsOpen")},P=function(e){return e[_].get("broadcastViewers").toJS()},N=function(e){return e[_].get("isBroadcastViewersUpdateAvailable")},M=function(e){return e[_].get("newFollowerNotificationDetails")},L={viewerCount:0,concurrentViewerCount:0,anonymousViewerCount:0,cumulativeCreditsAtBroadcastStart:0,broadcastViewers:e.List(),isBroadcastViewersUpdateAvailable:!1,broadcastViewersListIsOpen:!1,newFollowerNotificationDetails:null};t.default=Object(l.a)((a={},i()(a,m,function(e,t){var n=t.payload;return e.set("cumulativeCreditsAtBroadcastStart",n)}),i()(a,g,function(e,t){var n=t.payload;return e.set("viewerCount",n)}),i()(a,b,function(e,t){var n=t.payload;return e.set("concurrentViewerCount",n)}),i()(a,p,function(e,t){var n=t.payload;return e.set("anonymousViewerCount",n)}),i()(a,f,function(t,n){var a=n.payload;return t.update("broadcastViewers",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.List();return t.unshift.apply(t,s()(a.map(function(t){return e.Map(t.userDetails)})))})}),i()(a,h,function(t,n){var a=n.payload;return t.update("broadcastViewers",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.List();return t.push.apply(t,s()(a.map(function(t){return e.Map(t.userDetails)})))})}),i()(a,v,function(t,n){var a=n.payload;return t.update("broadcastViewers",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.List();return t.filterNot(function(e){return a.includes(e.get("caid"))})})}),i()(a,w,function(t){return t.set("broadcastViewers",e.List()).set("anonymousViewerCount",0).set("viewerCount",0).set("concurrentViewerCount",0)}),i()(a,C,function(e){return e.set("isBroadcastViewersUpdateAvailable",!0)}),i()(a,y,function(e){return e.set("isBroadcastViewersUpdateAvailable",!1)}),i()(a,j,function(e){return e.set("broadcastViewersListIsOpen",!0)}),i()(a,O,function(e){return e.set("broadcastViewersListIsOpen",!1)}),i()(a,E,function(e,t){var n=t.payload;return e.set("newFollowerNotificationDetails",n)}),i()(a,S,function(e){return e.set("newFollowerNotificationDetails",null)}),a),e.fromJS(L))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/web-broadcast-status/web-broadcast-status.sagas.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fetchContinuouslyConcurrentViewerCount",function(){return j}),n.d(t,"connectAndMaintainViewerCount",function(){return O}),n.d(t,"default",function(){return E});var a=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(a),i=n("./node_modules/redux-saga/es/index.js"),o=n("./node_modules/redux-saga/es/effects.js"),s=n("./src/pieces/base/saga-utilities.js"),c=n("./src/pieces/base/constants.js"),l=n("./src/pieces/web-broadcast-status/web-broadcast-status.reducer.js"),u=n("./src/pieces/stage/stage.reducer.js"),d=n("./src/pieces/stage-director/stage-director.reducer.js"),_=n("./src/pieces/stage/stage.sagas.js"),m=n("./src/pieces/feature-configuration/feature-configuration.reducer.js"),g=n("./src/pieces/base/api/broadcasts.api.js"),b=r.a.mark(C),p=r.a.mark(y),f=r.a.mark(j),h=r.a.mark(O),v=r.a.mark(S),w=r.a.mark(E);n("./node_modules/bows/bows.js")("Web-broadcast-status.sagas");function C(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(o.i)(m.selectWebBroadcastUIStatus);case 4:if(!t.sent){t.next=26;break}if(!e.newViewers||!e.newViewers.length){t.next=9;break}return t.next=9,Object(o.g)(Object(l.AddNewBroadcastViewers)(e.newViewers));case 9:if(!e.replacementViewers||!e.replacementViewers.length){t.next=12;break}return t.next=12,Object(o.g)(Object(l.AddReplacementBroadcastViewers)(e.replacementViewers));case 12:if(!e.departedViewerCaids||!e.departedViewerCaids.length){t.next=15;break}return t.next=15,Object(o.g)(Object(l.RemoveBroadcastViewers)(e.departedViewerCaids));case 15:if(!e.viewerCounts){t.next=24;break}if(null==e.viewerCounts.anonymous){t.next=19;break}return t.next=19,Object(o.g)(Object(l.SetAnonymousViewerCount)(e.viewerCounts.anonymous));case 19:if(null==e.viewerCounts.total){t.next=24;break}return t.next=22,Object(o.g)(Object(l.SetViewerCount)(e.viewerCounts.total));case 22:return t.next=24,Object(o.g)(Object(l.SetBroadcastViewersUpdateIsAvailable)());case 24:t.next=29;break;case 26:if(!e.viewerCounts||null==e.viewerCounts.total){t.next=29;break}return t.next=29,Object(o.g)(Object(l.SetViewerCount)(e.viewerCounts.total));case 29:case"end":return t.stop()}},b)}function y(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.b)(_.managePersistentConnection,"".concat(c.id,"/reaper/stages/").concat(e,"/viewers"),C,r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.g)(Object(l.ResetBroadcastViewers)());case 2:case"end":return e.stop()}},e)}));case 2:case"end":return t.stop()}},p)}function j(){var e,t,n,a;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(o.i)(d.selectStageDirectorBroadcastId);case 2:e=r.sent;case 3:if(!e){r.next=26;break}return r.next=6,Object(o.i)(u.selectStageLiveActivityId);case 6:if(!(t=r.sent)){r.next=20;break}return r.prev=8,r.next=11,Object(o.b)(g.b,t);case 11:return n=r.sent,a=n.ccv,r.next=15,Object(o.g)(Object(l.SetConcurrentViewerCount)(a));case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(8),console.error("Concurrent viewers fetch error",r.t0);case 20:return r.next=22,Object(o.g)(Object(u.LoadStageActivityId)());case 22:return r.next=24,Object(i.e)(1e4);case 24:r.next=3;break;case 26:case"end":return r.stop()}},f,null,[[8,17]])}function O(e){var t;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.e)(y,e);case 2:return t=n.sent,n.next=5,Object(s.e)(u.DisconnectStageViewersSubscription);case 5:return n.next=7,Object(o.c)(t);case 7:case"end":return n.stop()}},h)}function S(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.g)(Object(l.ResetBroadcastViewers)());case 2:case"end":return e.stop()}},v)}function E(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.h)(u.DisconnectStageViewersSubscription,S);case 2:case"end":return e.stop()}},w)}},"./src/pieces/web-broadcast-status/web-broadcast-status.scss":function(e,t,n){e.exports={webBroadcastStatus:"web-broadcast-status__webBroadcastStatus___3uTIj",viewerCount:"web-broadcast-status__viewerCount___3qlnk",viewerCountWithCreditsEarned:"web-broadcast-status__viewerCountWithCreditsEarned___epFwA web-broadcast-status__viewerCount___3qlnk",viewerCountIconContainer:"web-broadcast-status__viewerCountIconContainer___IR278",earnedCreditsCountContainer:"web-broadcast-status__earnedCreditsCountContainer___3R-fD",maintenanceModeMessage:"web-broadcast-status__maintenanceModeMessage___2bs-g",offAirIndicator:"web-broadcast-status__offAirIndicator___3zov6",onAirIndicator:"web-broadcast-status__onAirIndicator___1f3eA",creditIconContainer:"web-broadcast-status__creditIconContainer___1XxMt",redesign_activityViewCountIconContainer:"web-broadcast-status__redesign_activityViewCountIconContainer___2s318",redesign_concurrentViewerCountIconContainer:"web-broadcast-status__redesign_concurrentViewerCountIconContainer___Uznkj",redesign_viewerCountIconContainer:"web-broadcast-status__redesign_viewerCountIconContainer___3hSUY",redesign_webBroadcastStatus:"web-broadcast-status__redesign_webBroadcastStatus___EBL2-",hidden:"web-broadcast-status__hidden___3BUDT",rightContainer:"web-broadcast-status__rightContainer___3Ww9s",hideCreditCount:"web-broadcast-status__hideCreditCount___2ujxv",shouldAccountForHeader:"web-broadcast-status__shouldAccountForHeader___1pEf9",behindStageSettingsMenu:"web-broadcast-status__behindStageSettingsMenu___3A9s8",viewerCountContainer:"web-broadcast-status__viewerCountContainer___1wrKV",baseBroadcastCount:"web-broadcast-status__baseBroadcastCount___OoKzZ",redesign_viewerCount:"web-broadcast-status__redesign_viewerCount___UdKkQ web-broadcast-status__baseBroadcastCount___OoKzZ",disableOpen:"web-broadcast-status__disableOpen___3YmZE",updateHighlight:"web-broadcast-status__updateHighlight___10DuZ",largeCount:"web-broadcast-status__largeCount___1iMtc",redesign_earnedCreditsCountContainer:"web-broadcast-status__redesign_earnedCreditsCountContainer___2qrTq web-broadcast-status__baseBroadcastCount___OoKzZ",networkIssueContainer:"web-broadcast-status__networkIssueContainer___dvJAH"}},"./src/pieces/web-broadcast-status/web-broadcast-viewers-list.scss":function(e,t,n){e.exports={listHeightBreakpoint:"850px",listWidthBreakpoint:"1075px",listHeightLargeScreen:"430px",listHeightSmallScreen:"305px",rowHeight:"40px",dropdown:"web-broadcast-viewers-list__dropdown___2_VnB",open:"web-broadcast-viewers-list__open___1EsrD",needScroll:"web-broadcast-viewers-list__needScroll___3J5Jo",viewerRow:"web-broadcast-viewers-list__viewerRow___1MP2F",anonymousViewers:"web-broadcast-viewers-list__anonymousViewers___65gfQ",anonymousAvatar:"web-broadcast-viewers-list__anonymousAvatar___CASJ5",anonymousFillerText:"web-broadcast-viewers-list__anonymousFillerText___123T3"}},"./src/pieces/web-broadcast/live-hosting/live-hosting-hostable-broadcasters-dialog.scss":function(e,t,n){e.exports={liveHostingHostableBroadcastersDialog:"live-hosting-hostable-broadcasters-dialog__liveHostingHostableBroadcastersDialog___MkEy6",liveHostableBroadcastersList:"live-hosting-hostable-broadcasters-dialog__liveHostableBroadcastersList___3-yVc",closeButton:"live-hosting-hostable-broadcasters-dialog__closeButton___2N3uQ buttons__unstyledButton___olg-i",dialogBody:"live-hosting-hostable-broadcasters-dialog__dialogBody___1yRSq",noBroadcastersAvailableMessage:"live-hosting-hostable-broadcasters-dialog__noBroadcastersAvailableMessage___2iiTg",title:"live-hosting-hostable-broadcasters-dialog__title___3zaOa",text:"live-hosting-hostable-broadcasters-dialog__text___2qtTB",cardList:"live-hosting-hostable-broadcasters-dialog__cardList___3H4g0",broadcastCard:"live-hosting-hostable-broadcasters-dialog__broadcastCard___1R2c8",contentGuide:"live-hosting-hostable-broadcasters-dialog__contentGuide___pA2sG",redesign_contentGuide:"live-hosting-hostable-broadcasters-dialog__redesign_contentGuide___LC5Xc",contentGuideHeadingContainer:"live-hosting-hostable-broadcasters-dialog__contentGuideHeadingContainer___1Kmvm",contentGuideHeading:"live-hosting-hostable-broadcasters-dialog__contentGuideHeading___3KG1_",contentGuideListing:"live-hosting-hostable-broadcasters-dialog__contentGuideListing___tJN-1",listingGroup:"live-hosting-hostable-broadcasters-dialog__listingGroup___1Mtea",listingGroupHeader:"live-hosting-hostable-broadcasters-dialog__listingGroupHeader___30XUD",listingDetails:"live-hosting-hostable-broadcasters-dialog__listingDetails___FaQs0",listingTimes:"live-hosting-hostable-broadcasters-dialog__listingTimes___2LELg",listingDescription:"live-hosting-hostable-broadcasters-dialog__listingDescription___2EMrb",listingUser:"live-hosting-hostable-broadcasters-dialog__listingUser___BIg-P",verificationBadgeContainer:"live-hosting-hostable-broadcasters-dialog__verificationBadgeContainer___3zjFu",redesign_liveHostingBackground:"live-hosting-hostable-broadcasters-dialog__redesign_liveHostingBackground___1SWqM",redesign_titleArea:"live-hosting-hostable-broadcasters-dialog__redesign_titleArea___Azf9A",redesign_instructions:"live-hosting-hostable-broadcasters-dialog__redesign_instructions___t3vpb",redesign_closeButton:"live-hosting-hostable-broadcasters-dialog__redesign_closeButton___1azp_ buttons__unstyledButton___olg-i",redesign_liveHostingHostableBroadcastersDialog:"live-hosting-hostable-broadcasters-dialog__redesign_liveHostingHostableBroadcastersDialog___2W0TI",redesign_dialogBody:"live-hosting-hostable-broadcasters-dialog__redesign_dialogBody___2iy6A",redesign_dialogBodyContent:"live-hosting-hostable-broadcasters-dialog__redesign_dialogBodyContent___31eYE",redesign_broadcastCardWrapper:"live-hosting-hostable-broadcasters-dialog__redesign_broadcastCardWrapper___2yo2Y",redesign_broadcastCard:"live-hosting-hostable-broadcasters-dialog__redesign_broadcastCard___3DOm1",isActive:"live-hosting-hostable-broadcasters-dialog__isActive___1qr7u",redesign_cardList:"live-hosting-hostable-broadcasters-dialog__redesign_cardList___1QGfd",screenShareCardButton:"live-hosting-hostable-broadcasters-dialog__screenShareCardButton___2R-vN",screenShareCardText:"live-hosting-hostable-broadcasters-dialog__screenShareCardText___3T1dk",screenShareCardIcon:"live-hosting-hostable-broadcasters-dialog__screenShareCardIcon___3Mcce"}},"./src/pieces/web-broadcast/select-snapshot-dialog.scss":function(e,t,n){e.exports={selectSnapshotDialog:"select-snapshot-dialog__selectSnapshotDialog___359vm",snapshotBar:"select-snapshot-dialog__snapshotBar___1Bcje",snapshotBarContent:"select-snapshot-dialog__snapshotBarContent___1SzxI",instructions:"select-snapshot-dialog__instructions___FACcX",cameraPreviewFeedContainer:"select-snapshot-dialog__cameraPreviewFeedContainer___WgxkF",cameraPreviewFeedFrame:"select-snapshot-dialog__cameraPreviewFeedFrame___1RroT",cameraPreviewFeed:"select-snapshot-dialog__cameraPreviewFeed___1YZ4y",topArea:"select-snapshot-dialog__topArea___nHp-R",bottomArea:"select-snapshot-dialog__bottomArea___3by7y",closeButton:"select-snapshot-dialog__closeButton___PYC9e buttons__unstyledButton___olg-i"}},"./src/pieces/web-broadcast/snapshot-bar.scss":function(e,t,n){e.exports={snapshotBar:"snapshot-bar__snapshotBar___2hQxA",column:"snapshot-bar__column___2U96a",submit:"snapshot-bar__submit___2VYPD",button:"snapshot-bar__button___28b12",buttonText:"snapshot-bar__buttonText___2dfND",redesign_retakePhotoButton:"snapshot-bar__redesign_retakePhotoButton___-qBFL buttons__redesign_broadcastButton___3cNN0",redesign_startBroadcastButton:"snapshot-bar__redesign_startBroadcastButton___3DytY buttons__redesign_broadcastButton___3cNN0",disabled:"snapshot-bar__disabled___3-aSq"}},"./src/pieces/web-broadcast/snapshot-countdown.scss":function(e,t,n){e.exports={counter:"snapshot-countdown__counter___15gPC",isActive:"snapshot-countdown__isActive___39Gv0",counterText:"snapshot-countdown__counterText___2YyXE"}},"./src/pieces/web-broadcast/snapshot-preview.scss":function(e,t,n){e.exports={broadcastCard:"snapshot-preview__broadcastCard___3rUf8",canvas:"snapshot-preview__canvas___1ASQP",broadcastCardHeader:"snapshot-preview__broadcastCardHeader___2LXrv",broadcastCardBody:"snapshot-preview__broadcastCardBody___KVuBj",broadcastCardFooter:"snapshot-preview__broadcastCardFooter___2bYlA",broadcastCardSpacer:"snapshot-preview__broadcastCardSpacer___8Cgrx",broadcastCardExplicit:"snapshot-preview__broadcastCardExplicit___1L_kQ",snapshotWrapper:"snapshot-preview__snapshotWrapper___3sZlp",broadcastCardGradient:"snapshot-preview__broadcastCardGradient___kWCET"}},"./src/pieces/web-broadcast/web-broadcast-content-rating.scss":function(e,t,n){e.exports={redesign_webBroadcastContentRating:"web-broadcast-content-rating__redesign_webBroadcastContentRating___3FCa4",redesign_contentRatingBackground:"web-broadcast-content-rating__redesign_contentRatingBackground___ppl9Z",redesign_contentRatingHighlighted:"web-broadcast-content-rating__redesign_contentRatingHighlighted___2vgmD web-broadcast-content-rating__redesign_contentRatingBackground___ppl9Z"}},"./src/pieces/web-broadcast/web-broadcast-content-rating.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/recompose/dist/Recompose.esm.js"),r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/lib/index.js"),o=n("./src/pieces/base/constants.js"),s=n("./src/pieces/stage-director/stage-director.reducer.js"),c=n("./src/pieces/web-broadcast/web-broadcast-content-rating.scss"),l=n.n(c),u=(n("./node_modules/bows/bows.js")("Web-broadcast-content-rating"),Object(a.a)(Object(r.b)(Object(i.createStructuredSelector)({contentRating:s.selectStageDirectorContentRating}),{UpdateStageContentRating:s.UpdateStageContentRating}),Object(a.d)({setStageContentRatingForEveryone:function(e){return function(){e.UpdateStageContentRating(o.T)}},setStageContentRatingForSeventeenPlus:function(e){return function(){e.UpdateStageContentRating(o.U)}}})));t.a=u(function(t){return e.createElement("div",{className:l.a.redesign_webBroadcastContentRating},e.createElement("div",{className:t.contentRating===o.T?l.a.redesign_contentRatingHighlighted:l.a.redesign_contentRatingBackground,onClick:t.setStageContentRatingForEveryone},e.createElement("svg",{viewBox:"0 0 33 13",height:"13"},e.createElement("path",{d:"M16.253 0c.85 0 1.548.653 1.619 1.485l.006.14V9.75h3.25c.898 0 1.625.726 1.625 1.625 0 .851-.652 1.548-1.485 1.619l-.14.006h-4.875c-.85 0-1.548-.652-1.62-1.485l-.005-.14v-9.75c0-.897.728-1.625 1.625-1.625zM6.5.016c.1 0 .194.02.293.038.114.02.222.045.328.089.036.015.072.011.106.028.057.029.092.08.144.113.096.062.184.126.267.207.078.08.14.165.2.258.024.036.054.064.08.097l.035.053 4.875 9.75a1.626 1.626 0 01-2.83 1.59l-.077-.138-.362-.726H3.443l-.364.726A1.622 1.622 0 01.9 12.83a1.625 1.625 0 01-.788-2.045l.06-.135L5.047.899c.03-.059.081-.095.115-.148.062-.095.124-.18.203-.26.082-.082.17-.145.264-.205C5.68.25 5.716.2 5.775.171c.034-.017.071-.013.106-.03a1.73 1.73 0 01.326-.087c.101-.018.195-.038.294-.038zM26.001 0c.899 0 1.625.728 1.625 1.625V9.75h3.25c.899 0 1.625.726 1.625 1.625S31.775 13 30.876 13h-4.875a1.624 1.624 0 01-1.625-1.625v-9.75c0-.897.726-1.625 1.625-1.625zm-19.5 5.258L5.068 8.125h2.867L6.5 5.258z",fill:"currentColor",fillRule:"evenodd"}))),e.createElement("div",{className:t.contentRating===o.U?l.a.redesign_contentRatingHighlighted:l.a.redesign_contentRatingBackground,onClick:t.setStageContentRatingForSeventeenPlus},e.createElement("svg",{viewBox:"0 0 29 16",height:"12"},e.createElement("path",{d:"M1.5 0C2.328 0 3 .717 3 1.6v12.8c0 .885-.672 1.6-1.5 1.6S0 15.285 0 14.4V1.6C0 .717.672 0 1.5 0zm12.833 0c.06 0 .118.003.175.008l.01.002C15.354.092 16 .728 16 1.5v.053c.008.256-.048.518-.176.763l-6.665 12.8A1.677 1.677 0 017.666 16c-.25 0-.505-.054-.743-.168-.824-.397-1.159-1.357-.747-2.147L11.74 3H7.667C6.745 3 6 2.328 6 1.5S6.745 0 7.667 0h6.666zM22.5 2c.83 0 1.5.728 1.5 1.625V7h3.375C28.274 7 29 7.672 29 8.5s-.726 1.5-1.625 1.5H24v3.375c0 .899-.67 1.625-1.5 1.625s-1.5-.726-1.5-1.625V10h-3.375C16.726 10 16 9.328 16 8.5S16.726 7 17.625 7H21V3.625C21 2.728 21.67 2 22.5 2zM14.426.002L14.333 0h.013l.08.002z",fill:"#9696BE",fillRule:"evenodd"}))))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/web-broadcast/web-broadcast-controls.scss":function(e,t,n){e.exports={webBroadcastControls:"web-broadcast-controls__webBroadcastControls___Z9Xvk",webBroadcastControlCenter:"web-broadcast-controls__webBroadcastControlCenter___2wJIA",broadcastOptionsContainer:"web-broadcast-controls__broadcastOptionsContainer___bku8x",broadcastButton:"web-broadcast-controls__broadcastButton___81Wkc buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",broadcastStartButton:"web-broadcast-controls__broadcastStartButton___2dfMg web-broadcast-controls__broadcastButton___81Wkc buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",broadcastStopButton:"web-broadcast-controls__broadcastStopButton___1-mq0 web-broadcast-controls__broadcastButton___81Wkc buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",loadingIndicator:"web-broadcast-controls__loadingIndicator___2Z70O",broadcastSettingsButtonContainer:"web-broadcast-controls__broadcastSettingsButtonContainer___3JEkL",broadcastSettingsButton:"web-broadcast-controls__broadcastSettingsButton___3YF98 buttons__svgOnlyButtonWithAlternateDarkTheme___1CQVP buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",webBroadcastControlSpacer:"web-broadcast-controls__webBroadcastControlSpacer___U6WLy web-broadcast-controls__broadcastSettingsButtonContainer___3JEkL",broadcastGuideContainer:"web-broadcast-controls__broadcastGuideContainer___3EpUP",broadcastGuide:"web-broadcast-controls__broadcastGuide___2Hok5",broadcastGuideHeader:"web-broadcast-controls__broadcastGuideHeader___kxAqG",broadcastGuideBody:"web-broadcast-controls__broadcastGuideBody___3XFxb",broadcastLiveHostButton:"web-broadcast-controls__broadcastLiveHostButton___3RH-t buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",broadcastLiveHostNewUserPopover:"web-broadcast-controls__broadcastLiveHostNewUserPopover___3SGxm",broadcastStartButtonTooltip:"web-broadcast-controls__broadcastStartButtonTooltip___LnCuA",broadcastStopButtonTooltip:"web-broadcast-controls__broadcastStopButtonTooltip___1sbFv",broadcastSettingsButtonTooltip:"web-broadcast-controls__broadcastSettingsButtonTooltip___2j6Xb",broadcastLiveHostButtonTooltip:"web-broadcast-controls__broadcastLiveHostButtonTooltip___3LZOZ",webBroadcastLink:"web-broadcast-controls__webBroadcastLink___2eqUc links__link___2NuBA",redesign_webBroadcastControlsLeft:"web-broadcast-controls__redesign_webBroadcastControlsLeft___klj5B",redesign_title:"web-broadcast-controls__redesign_title___1mx1T",redesign_contentRating:"web-broadcast-controls__redesign_contentRating___3K4lp",redesign_webBroadcastControlsRight:"web-broadcast-controls__redesign_webBroadcastControlsRight___3-m9h",redesign_webBroadcastControlsRightContent:"web-broadcast-controls__redesign_webBroadcastControlsRightContent___1NAg2",redesign_broadcasterInfo:"web-broadcast-controls__redesign_broadcasterInfo___3mDGN",redesign_broadcastLiveHostButton:"web-broadcast-controls__redesign_broadcastLiveHostButton___2bsiv",isHosting:"web-broadcast-controls__isHosting___8WIWz",redesign_avatarWrapper:"web-broadcast-controls__redesign_avatarWrapper___eIO6g"}},"./src/pieces/web-broadcast/web-broadcast-devices-selector.scss":function(e,t,n){e.exports={webBroadcastDevicesSelector:"web-broadcast-devices-selector__webBroadcastDevicesSelector___1iWfd",deviceSelectInput:"web-broadcast-devices-selector__deviceSelectInput___3HqtY",redesign_deviceSelectInput:"web-broadcast-devices-selector__redesign_deviceSelectInput___UTJsJ",redesign_deviceSelectLabel:"web-broadcast-devices-selector__redesign_deviceSelectLabel___2ZQYF"}},"./src/pieces/web-broadcast/web-broadcast-initiator.scss":function(e,t,n){e.exports={webBroadcastInitiator:"web-broadcast-initiator__webBroadcastInitiator___2Ig5p",button:"web-broadcast-initiator__button___2rNQm buttons__buttonWithHoverEffect___eFfj7 buttons__button___2Dz0z",redesign_button:"web-broadcast-initiator__redesign_button___3qKsZ buttons__redesign_headerOrNagBarButton___1vuAy buttons__redesign_button___ZSYNe",liveBadge:"web-broadcast-initiator__liveBadge___2X8H8",broadcastTransitionMessage:"web-broadcast-initiator__broadcastTransitionMessage___2AjFE",controls:"web-broadcast-initiator__controls___1Jcyw",cameraPreview:"web-broadcast-initiator__cameraPreview___SB0_F",volumeMeter:"web-broadcast-initiator__volumeMeter___1x4V_",secondaryFeedVisibilityToggle:"web-broadcast-initiator__secondaryFeedVisibilityToggle___11iuv buttons__textOnlyButtonWithDarkTheme___nH7P3 buttons__textOnlyButton___33Emz buttons__unstyledButton___olg-i",invisible:"web-broadcast-initiator__invisible___3dfpa",visible:"web-broadcast-initiator__visible___3tljc",webBroadcastAlert:"web-broadcast-initiator__webBroadcastAlert___28W6w",redesign_webBroadcastAlert:"web-broadcast-initiator__redesign_webBroadcastAlert___1kkLp",notCentered:"web-broadcast-initiator__notCentered___3gvRj",alertTitle:"web-broadcast-initiator__alertTitle___2yAyK",redesign_alertTitle:"web-broadcast-initiator__redesign_alertTitle___3QKWm",alertDescription:"web-broadcast-initiator__alertDescription___1RSXS",redesign_alertDescriptionText:"web-broadcast-initiator__redesign_alertDescriptionText___1lty6",redesign_alertDescriptionContainer:"web-broadcast-initiator__redesign_alertDescriptionContainer___d9kGw",redesign_alertHintContainer:"web-broadcast-initiator__redesign_alertHintContainer___P0Lxa",show:"web-broadcast-initiator__show___2M34V",delayShowing:"web-broadcast-initiator__delayShowing___2-B2r",followerMessage:"web-broadcast-initiator__followerMessage___313VO",redesign_alertHintText:"web-broadcast-initiator__redesign_alertHintText___KJtJP",isSmall:"web-broadcast-initiator__isSmall___1pIFF",redesign_linkText:"web-broadcast-initiator__redesign_linkText___Sd3SG",redesign_bottomLinkContainer:"web-broadcast-initiator__redesign_bottomLinkContainer___2C3Oe",alertLink:"web-broadcast-initiator__alertLink___1BK40 links__linkWithDarkTheme___HVXy1 links__link___2NuBA",deviceSelector:"web-broadcast-initiator__deviceSelector___3sbC5",secondaryFeed:"web-broadcast-initiator__secondaryFeed___3ARJI",withActiveOverlay:"web-broadcast-initiator__withActiveOverlay___2-lZ6",primaryFeed:"web-broadcast-initiator__primaryFeed___23mya",hostedFeedCloseButton:"web-broadcast-initiator__hostedFeedCloseButton___1op6b",liveHostedFeedVolumeContainer:"web-broadcast-initiator__liveHostedFeedVolumeContainer___3TrEp",liveHostedFeedVolumeToggle:"web-broadcast-initiator__liveHostedFeedVolumeToggle___2pq3q buttons__svgOnlyButtonWithDarkTheme___2Bz51 buttons__svgOnlyButton___2FNW4 buttons__unstyledButton___olg-i",liveHostedFeedVolumeToggleContainer:"web-broadcast-initiator__liveHostedFeedVolumeToggleContainer___39EAS",liveHostedFeedVolumeSliderContainer:"web-broadcast-initiator__liveHostedFeedVolumeSliderContainer___325fH",liveHostedFeedVolumeSliderWrapper:"web-broadcast-initiator__liveHostedFeedVolumeSliderWrapper___15lft",liveHostHeadphoneConfirmationContainer:"web-broadcast-initiator__liveHostHeadphoneConfirmationContainer___1xpjw",liveHostHeadphoneDialogShow:"web-broadcast-initiator__liveHostHeadphoneDialogShow___1Owep",liveHostHeadphoneDialogHide:"web-broadcast-initiator__liveHostHeadphoneDialogHide___346dz",liveHostedFeedVolumeToggleTooltip:"web-broadcast-initiator__liveHostedFeedVolumeToggleTooltip___SRRIp",redesign_webBroadcastStatus:"web-broadcast-initiator__redesign_webBroadcastStatus___1sAnU",redesign_controls:"web-broadcast-initiator__redesign_controls___QrO5y",redesign_broadcastSettingsButtonContainer:"web-broadcast-initiator__redesign_broadcastSettingsButtonContainer___1ttE7",redesign_broadcastSettingsButton:"web-broadcast-initiator__redesign_broadcastSettingsButton___33gHj",redesign_webBroadcastSideBarWrapper:"web-broadcast-initiator__redesign_webBroadcastSideBarWrapper___3eq7u",redesign_webBroadcastSettingsWrapper:"web-broadcast-initiator__redesign_webBroadcastSettingsWrapper___2OhfI",open:"web-broadcast-initiator__open___2habM",redesign_webBroadcastSettingsPanel:"web-broadcast-initiator__redesign_webBroadcastSettingsPanel___2jsTf",disabled:"web-broadcast-initiator__disabled___1WA72",redesign_webBroadcastSideBar:"web-broadcast-initiator__redesign_webBroadcastSideBar___2gxX8",redesign_secondaryFeedVisibilityToggle:"web-broadcast-initiator__redesign_secondaryFeedVisibilityToggle___1YG75",redesign_secondaryFeed:"web-broadcast-initiator__redesign_secondaryFeed___12YIW",redesign_withActiveOverlay:"web-broadcast-initiator__redesign_withActiveOverlay___23HBN",redesign_liveHostedFeedVolumeContainer:"web-broadcast-initiator__redesign_liveHostedFeedVolumeContainer___2CP-1",redesign_spinnerBackground:"web-broadcast-initiator__redesign_spinnerBackground___oIn-j"}},"./src/pieces/web-broadcast/web-broadcast-settings.scss":function(e,t,n){e.exports={link:"web-broadcast-settings__link___CtUwg",linkWithDarkTheme:"web-broadcast-settings__linkWithDarkTheme___14NSd web-broadcast-settings__link___CtUwg",linkWithAlternateDarkTheme:"web-broadcast-settings__linkWithAlternateDarkTheme___2qwB9 web-broadcast-settings__link___CtUwg",warningLink:"web-broadcast-settings__warningLink___3JNQ6 web-broadcast-settings__link___CtUwg",smallLink:"web-broadcast-settings__smallLink___3NS_2 web-broadcast-settings__link___CtUwg",smallLinkWithDarkTheme:"web-broadcast-settings__smallLinkWithDarkTheme___3Pr_J web-broadcast-settings__smallLink___3NS_2 web-broadcast-settings__link___CtUwg",redesign_link:"web-broadcast-settings__redesign_link___32P17",redesign_linkWithDarkTheme:"web-broadcast-settings__redesign_linkWithDarkTheme___1ailx web-broadcast-settings__link___CtUwg",redesign_secondaryLinkWithDarkTheme:"web-broadcast-settings__redesign_secondaryLinkWithDarkTheme___1D2wf web-broadcast-settings__link___CtUwg",redesign_linkWithLightTheme:"web-broadcast-settings__redesign_linkWithLightTheme___9mtNL web-broadcast-settings__link___CtUwg",redesign_warningLink:"web-broadcast-settings__redesign_warningLink___2R0gc web-broadcast-settings__link___CtUwg",redesign_secondaryLink:"web-broadcast-settings__redesign_secondaryLink___11OoT web-broadcast-settings__redesign_link___32P17",webBroadcastSettings:"web-broadcast-settings__webBroadcastSettings___1HEaP",settingsMenu:"web-broadcast-settings__settingsMenu___2kfwm",socialSettings:"web-broadcast-settings__socialSettings___3jBRR",socialInputContainer:"web-broadcast-settings__socialInputContainer___12Cix",socialLabel:"web-broadcast-settings__socialLabel___2lgI1",redesign_webBroadcastSettings:"web-broadcast-settings__redesign_webBroadcastSettings___HHh38",redesign_socialInputContainer:"web-broadcast-settings__redesign_socialInputContainer___36pRg",redesign_socialLabel:"web-broadcast-settings__redesign_socialLabel___IbPrG",redesign_socialLabelEnabled:"web-broadcast-settings__redesign_socialLabelEnabled___pJjda web-broadcast-settings__redesign_socialLabel___IbPrG",redesign_socialLabelDisabled:"web-broadcast-settings__redesign_socialLabelDisabled___2aEnG web-broadcast-settings__redesign_socialLabel___IbPrG",redesign_bottomLink:"web-broadcast-settings__redesign_bottomLink___32wmq web-broadcast-settings__redesign_secondaryLink___11OoT web-broadcast-settings__redesign_link___32P17"}},"./src/pieces/web-broadcast/web-broadcast-title.scss":function(e,t,n){e.exports={divider:"web-broadcast-title__divider___1bCSZ",broadcastTitleInput:"web-broadcast-title__broadcastTitleInput___3Kzww forms__textInputWithDarkTheme___3W9Q_ forms__textInput___1Vogp forms__inputBase___3O5UR",redesign_broadcastTitleInput:"web-broadcast-title__redesign_broadcastTitleInput___wkIKP"}},"./src/pieces/web-broadcast/web-broadcast-title.tsx":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/recompose/dist/Recompose.esm.js"),r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/lib/index.js"),o=n("./src/pieces/base/constants.js"),s=n("./src/pieces/web-broadcast/web-broadcast.reducer.js"),c=n("./src/pieces/web-broadcast/web-broadcast-title.scss"),l=n.n(c),u=n("./node_modules/react-autosize-textarea/lib/index.js"),d=n.n(u),_=(n("./node_modules/bows/bows.js")("Web-broadcast-title"),Object(a.a)(Object(r.b)(Object(i.createStructuredSelector)({broadcastTitle:s.selectBroadcastTitle}),{SetBroadcastTitle:s.SetBroadcastTitle,SaveBroadcastTitle:s.SaveBroadcastTitle}),Object(a.d)({handleWebBroadcastTitleKeyPress:function(){return function(e){"Enter"===e.key&&e.target.blur()}},setBroadcastTitle:function(e){return function(t){return e.SetBroadcastTitle(t.target.value)}},saveBroadcastTitle:function(e){return function(t){return e.SaveBroadcastTitle({broadcastTitle:t.target.value})}}})));t.a=_(function(t){return e.createElement(e.Fragment,null,e.createElement(d.a,{rows:1,className:l.a.redesign_broadcastTitleInput,placeholder:"Title",value:t.broadcastTitle,onChange:t.setBroadcastTitle,onBlur:t.saveBroadcastTitle,maxLength:o.fc,onKeyPress:t.handleWebBroadcastTitleKeyPress}),e.createElement("div",{className:l.a.divider}))})}).call(this,n("./node_modules/react/index.js"))},"./src/pieces/web-broadcast/web-broadcast-transition-message.scss":function(e,t,n){e.exports={broadcastTransitionMessage:"web-broadcast-transition-message__broadcastTransitionMessage___3DNmI",transitionMessageTitle:"web-broadcast-transition-message__transitionMessageTitle___eGZON",transitionMessageSubtitle:"web-broadcast-transition-message__transitionMessageSubtitle___2jqGo",redesign_broadcastTransitionMessage:"web-broadcast-transition-message__redesign_broadcastTransitionMessage___2nSYA",redesign_longMessage:"web-broadcast-transition-message__redesign_longMessage___3E22c"}},"./src/pieces/web-broadcast/web-broadcast.reducer.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"id",function(){return w}),n.d(t,"ResetWebBroadcasting",function(){return C}),n.d(t,"SetPeerConnection",function(){return y}),n.d(t,"SetSecondaryPeerConnection",function(){return j}),n.d(t,"SetMediaDevices",function(){return O}),n.d(t,"SetBroadcastTitle",function(){return S}),n.d(t,"SaveBroadcastTitle",function(){return E}),n.d(t,"SetBroadcastId",function(){return x}),n.d(t,"SetInputVolume",function(){return k}),n.d(t,"SetStreamConnectionQuality",function(){return I}),n.d(t,"RequestCameraSnapshot",function(){return T}),n.d(t,"DeliverCameraSnapshot",function(){return F}),n.d(t,"AnnounceWebBroadcastHasStarted",function(){return P}),n.d(t,"AnnounceSecondaryBroadcastHasStarted",function(){return N}),n.d(t,"ClearBroadcastPreparationDetails",function(){return M}),n.d(t,"PromptForNavigationFromLiveBroadcast",function(){return L}),n.d(t,"UpdateTweetOnBroadcastStart",function(){return B}),n.d(t,"SetTweetOnBroadcastStart",function(){return A}),n.d(t,"SetFacebookPostOnBroadcastStart",function(){return D}),n.d(t,"DisplayBroadcastTransitionMessage",function(){return U}),n.d(t,"ClearBroadcastTransitionMessage",function(){return R}),n.d(t,"SetMediaPermissionsStatus",function(){return H}),n.d(t,"SwitchActiveBroadcastMediaDevices",function(){return W}),n.d(t,"ClearActiveBroadcastMediaDevices",function(){return V}),n.d(t,"SetActiveBroadcastMedia",function(){return z}),n.d(t,"SetActiveBroadcastSecondaryMedia",function(){return G}),n.d(t,"ClearActiveBroadcastSecondaryMedia",function(){return q}),n.d(t,"ReportActiveCameraIsUnsupported",function(){return J}),n.d(t,"PromptForMediaPermissions",function(){return Z}),n.d(t,"OpenLiveHostableBroadcastersDialog",function(){return Y}),n.d(t,"CloseLiveHostableBroadcastersDialog",function(){return Q}),n.d(t,"DismissLiveHostingNewUserExperiencePopover",function(){return K}),n.d(t,"CloseLiveHostingHeadphoneConfirmationDialog",function(){return X}),n.d(t,"ShowBroadcastReplayDialog",function(){return $}),n.d(t,"OpenSelectSnapshotDialog",function(){return ee}),n.d(t,"CloseSelectSnapshotDialog",function(){return te}),n.d(t,"ToggleDoNotShowHeadphoneConfirmationAgain",function(){return ne}),n.d(t,"CloseLiveHostingNewUserExperiencePopover",function(){return ae}),n.d(t,"SetLiveHostableBroadcasters",function(){return re}),n.d(t,"SetContentGuideListings",function(){return ie}),n.d(t,"SetLiveHostedFeedVolume",function(){return oe}),n.d(t,"SetScreenShare",function(){return se}),n.d(t,"SaveLiveHostedFeedVolume",function(){return ce}),n.d(t,"SetLiveHostedOwnerUserId",function(){return le}),n.d(t,"SetLiveHostedOwnerUserName",function(){return ue}),n.d(t,"BroadcasterStageUpdateCompleted",function(){return de}),n.d(t,"RemoveLiveHostedFeed",function(){return _e}),n.d(t,"RemoveSecondaryFeed",function(){return me}),n.d(t,"StartBroadcast",function(){return ge}),n.d(t,"StopBroadcast",function(){return be}),n.d(t,"BroadcasterLostConnectivity",function(){return pe}),n.d(t,"BroadcasterRegainedConnectivity",function(){return fe}),n.d(t,"SetSnapshotData",function(){return he}),n.d(t,"SaveSnapshotData",function(){return ve}),n.d(t,"SetLiveHostedFeed",function(){return we}),n.d(t,"ToggleSecondaryFeedVisibility",function(){return Ce}),n.d(t,"SetFirstTimeBroadcastViewDismissed",function(){return ye}),n.d(t,"selectPeerConnection",function(){return je}),n.d(t,"selectSecondaryPeerConnection",function(){return Oe}),n.d(t,"selectLiveHostedFeedVolume",function(){return Se}),n.d(t,"selectLiveHostedOwnerUserId",function(){return Ee}),n.d(t,"selectliveHostedOwnerUserName",function(){return xe}),n.d(t,"selectCameras",function(){return Ne}),n.d(t,"selectMicrophones",function(){return Me}),n.d(t,"selectActiveVideoDeviceId",function(){return Le}),n.d(t,"selectActiveAudioDeviceId",function(){return Be}),n.d(t,"selectActiveMediaStreamId",function(){return Ae}),n.d(t,"selectActiveSecondaryMediaStreamId",function(){return De}),n.d(t,"selectBroadcastTitle",function(){return Ue}),n.d(t,"selectBroadcastId",function(){return Re}),n.d(t,"selectInputVolume",function(){return He}),n.d(t,"selectSnapshotRequested",function(){return We}),n.d(t,"selectSnapshotData",function(){return Ve}),n.d(t,"selectTweetOnBroadcastStart",function(){return ze}),n.d(t,"selectFacebookPostOnBroadcastStart",function(){return Ge}),n.d(t,"selectFacebookPostPromptRequested",function(){return qe}),n.d(t,"selectBroadcastTransitionMessage",function(){return Je}),n.d(t,"selectStreamConnectionQuality",function(){return Ze}),n.d(t,"selectStreamConnectionQualityIsGood",function(){return Ye}),n.d(t,"selectBroadcasterLostConnectivity",function(){return Qe}),n.d(t,"selectIsLiveHostableBroadcastersDialogOpen",function(){return Ke}),n.d(t,"selectIsSelectSnapshotDialogOpen",function(){return Xe}),n.d(t,"selectLiveHostableBroadcasters",function(){return $e}),n.d(t,"selectSecondaryFeedIsVisible",function(){return et}),n.d(t,"selectLiveHostingNewUserExperiencePopoverWasDismissed",function(){return tt}),n.d(t,"selectDoNotShowHeadphoneConfirmationAgain",function(){return nt}),n.d(t,"selectLiveHostingHeadphoneConfirmationDialogWasClosed",function(){return at}),n.d(t,"selectIsWebBroadcastLive",function(){return rt}),n.d(t,"selectWebBroadcastIsActiveInAnotherSession",function(){return it}),n.d(t,"selectWebBroadcastIsActive",function(){return ot}),n.d(t,"selectLiveHostedFeedId",function(){return st}),n.d(t,"selectFeedAddress",function(){return ct}),n.d(t,"selectStageDirectorStateHasBeenInitialized",function(){return lt}),n.d(t,"selectIsStarting",function(){return ut}),n.d(t,"selectContentGuideListingGroups",function(){return dt}),n.d(t,"selectFirstTimeBroadcastViewDismissed",function(){return _t}),n.d(t,"selectBroadcasterSidebarSettingsPanelIsOpen",function(){return mt}),n.d(t,"OpenBroadcasterSidebarSettingsPanel",function(){return gt}),n.d(t,"CloseBroadcasterSidebarSettingsPanel",function(){return bt}),n.d(t,"MEDIA_DEVICE_ERRORS",function(){return pt}),n.d(t,"selectMediaError",function(){return ht});var a,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/lodash/cond.js"),s=n.n(o),c=n("./node_modules/lodash/constant.js"),l=n.n(c),u=n("./node_modules/redux-actions/es/createAction.js"),d=n("./node_modules/redux-actions/es/handleActions.js"),_=n("./node_modules/reselect/lib/index.js"),m=n("./node_modules/lodash/groupBy.js"),g=n.n(m),b=n("./node_modules/date-fns/format/index.js"),p=n.n(b),f=n("./src/pieces/users/users.reducer.js"),h=n("./src/pieces/base/constants.js"),v=n("./src/pieces/stage-director/stage-director.reducer.js"),w=(n("./node_modules/bows/bows.js")("Web-broadcast.reducer"),"webBroadcast"),C=Object(u.a)("Reset Web Broadcasting"),y=Object(u.a)("Set Peer Connection",function(e){return e}),j=Object(u.a)("Set Secondary Peer Connection",function(e){return e}),O=Object(u.a)("Set Media Devices",function(e){return e}),S=Object(u.a)("Set Broadcast Title",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}),E=Object(u.a)("Save Broadcast Title",function(e){return{broadcastId:e.broadcastId,broadcastTitle:e.broadcastTitle}}),x=Object(u.a)("Set Broadcast Id",function(e){return e}),k=Object(u.a)("Set Input Volume",function(e){return e}),I=Object(u.a)("Set Stream Connection Quality",function(e){return e}),T=Object(u.a)("Request Camera Snapshot"),F=Object(u.a)("Deliver Camera Snapshot",function(e){return e}),P=Object(u.a)("Announce Web Broadcast has Started",function(e,t,n){return{stageId:e,cameraStreamUrl:t,optionalSecondaryStreamUrl:n}}),N=Object(u.a)("Announce Secondary Broadcast has Started",function(e,t){return{stageId:e,secondaryStreamUrl:t}}),M=Object(u.a)("Clear Broadcast Preparation Details",function(){return null}),L=Object(u.a)("Prompt for Navigation from Live Broadcast",function(e){return e}),B=Object(u.a)("Update Tweet On Broadcast Start",function(e){return e}),A=Object(u.a)("Set Send Tweet On Broadcast Start",function(e){return e}),D=Object(u.a)("Set Facebook Post On Broadcast Start",function(e){return e}),U=Object(u.a)("Display Broadcast Transition Message",function(e){return e}),R=Object(u.a)("Clear Broadcast Transition Message"),H=Object(u.a)("Set Media Permissions Status",function(e){return e}),W=Object(u.a)("Change Active Broadcast Media Devices",function(e,t){return{audioDeviceId:e,videoDeviceId:t}}),V=Object(u.a)("Change Active Broadcast Media Devices",function(){return{audioDeviceId:null,videoDeviceId:null}}),z=Object(u.a)("Set Active Broadcast Media",function(e,t,n){return{mediaStreamId:e,audioDeviceId:t,videoDeviceId:n}}),G=Object(u.a)("Set Active Broadcast Secondary Media",function(e){return{mediaStreamId:e}}),q=Object(u.a)("Clear Active Broadcast Secondary Media",function(){return null}),J=Object(u.a)("Report Active Camera is Unsupported"),Z=Object(u.a)("Prompt for Media Permissions",function(){return null}),Y=Object(u.a)("Open Live Hostable Broadcasters Dialog",function(){return null}),Q=Object(u.a)("Close Live Hostable Broadcasters Dialog",function(){return null}),K=Object(u.a)("Dismiss Live Hosting New User Experience Popover",function(){return null}),X=Object(u.a)("Close Live Hosting Headphone Confirmation Dialog",function(){return null}),$=Object(u.a)("Show Broadcast Replay Dialog",function(){return null}),ee=Object(u.a)("Open Select Snapshot Dialog",function(){return null}),te=Object(u.a)("Close Select Snapshot Dialog",function(){return null}),ne=Object(u.a)("Toggle Do Not Show Headphone Confirmation Again",function(){return null}),ae=Object(u.a)("Close Live Hostable New User Experience PopOver",function(){return null}),re=Object(u.a)("Set Live Hostable Broadcasters",function(e){return e}),ie=Object(u.a)("Set Content Guide Listings",function(e){return e}),oe=Object(u.a)("Set Live Hosted Feed Volume",function(e){return e}),se=Object(u.a)("Set Share Screen",function(e){return e}),ce=Object(u.a)("Save Live Hosted Feed Volume",function(e){return e}),le=Object(u.a)("Set Live Hosted Owner User Id",function(e){return e}),ue=Object(u.a)("Set Live Hosted Owner User Name",function(e){return e}),de=Object(u.a)("Broadcaster Stage Update Completed",function(){return null}),_e=Object(u.a)("Remove Live Hosted Feed",function(){return null}),me=Object(u.a)("Remove Secondary Feed",function(){return null}),ge=Object(u.a)("Start Broadcast",function(e){return e}),be=Object(u.a)("Stop Broadcast",function(){return null}),pe=Object(u.a)("Broadcaster Lost Connectivity",function(){return null}),fe=Object(u.a)("Broadcaster Regained Connectivity",function(e){return e}),he=Object(u.a)("Set Snapshot Data",function(e){return e}),ve=Object(u.a)("Save Snapshot Data",function(){return null}),we=Object(u.a)("Set Live Hosted Feed",function(e){return e}),Ce=Object(u.a)("Toggle Secondary Feed Visibility",function(){return null}),ye=Object(u.a)("Set First Time Broadcast View Dismissed",function(){return null}),je=function(e){return e[w].get("peerConnection")},Oe=function(e){return e[w].get("secondaryPeerConnection")},Se=function(e){return e[w].get("liveHostedFeedVolume")},Ee=function(e){return e[w].get("liveHostedOwnerUserId")||""},xe=function(e){return e[w].get("liveHostedOwnerUserName")||""},ke=function(e){return e[w].get("mediaDevices")},Ie=function(e){return e[w].get("activeVideoDeviceId")},Te=function(e){return e[w].get("activeAudioDeviceId")},Fe=Object(_.createSelector)(ke,function(e){return e.filter(function(e){return e.get("kind")===h.sc})}),Pe=Object(_.createSelector)(ke,function(e){return e.filter(function(e){return e.get("kind")===h.qc})}),Ne=Object(_.createSelector)(Fe,function(e){return e.toJS()}),Me=Object(_.createSelector)(Pe,function(e){return e.toJS()}),Le=Ie,Be=Te,Ae=function(e){return e[w].get("activeMediaStreamId")},De=function(e){return e[w].get("activeSecondaryMediaStreamId")},Ue=function(e){return e[w].get("broadcastTitle")},Re=function(e){return e[w].get("broadcastId")},He=function(e){return e[w].get("inputVolume")},We=function(e){return e[w].get("snapshotRequested")},Ve=function(e){return e[w].get("snapshotData")},ze=function(e){return e[w].get("tweetOnBroadcastStart")},Ge=function(e){return e[w].get("facebookPostOnBroadcastStart")},qe=Object(_.createSelector)(Ge,f.selectCurrentUserHasFacebookIdentity,function(e,t){return e&&t}),Je=function(e){return e[w].get("broadcastTransitionMessage")},Ze=function(e){return e[w].get("streamConnectionQuality")},Ye=Object(_.createSelector)(Ze,function(e){return e===h.zb}),Qe=function(e){return e[w].get("broadcasterLostConnectivity")},Ke=function(e){return e[w].get("isLiveHostableBroadcastersDialogOpen")},Xe=function(e){return e[w].get("isSelectSnapshotDialogOpen")},$e=Object(_.createSelector)(function(e){return e[w].get("liveHostableBroadcasters")},function(e){return null==e?null:e.toJS()}),et=function(e){return e[w].get("secondaryFeedIsVisible")},tt=function(e){return e[w].get("liveHostingNewUserExperiencePopoverWasDismissed")},nt=function(e){return e[w].get("liveHostingConfirmedDoNotShowHeadphoneDialogAgain")},at=function(e){return e[w].get("liveHostingHeadphoneConfirmationDialogWasClosed")},rt=Object(_.createSelector)(v.selectIsStageDirectorLive,function(e){return e}),it=Object(_.createSelector)(v.selectStageDirectorWebBroadcastIsActiveInAnotherSession,function(e){return e}),ot=Object(_.createSelector)(v.selectStageDirectorWebBroadcastIsActive,function(e){return e}),st=Object(_.createSelector)(v.selectStageDirectorLiveHostedFeedId,function(e){return e}),ct=Object(_.createSelector)(v.selectStageDirectorFeedAddress,function(e){return e}),lt=Object(_.createSelector)(v.selectStageDirectorResponseHasBeenInitialized,function(e){return e}),ut=Object(_.createSelector)(v.selectStageDirectorBroadcastIsStarting,function(e){return e}),dt=Object(_.createSelector)(function(e){return e[w].get("contentGuideListingGroups")},function(e){return e.toJS()}),_t=Object(_.createSelector)(function(e){return e[w].get("firstTimeBroadcastViewDismissed")},function(e){return e}),mt=function(e){return e[w].get("broadcasterSidebarSettingsPanelIsOpen")},gt=Object(u.a)("Open Broadcaster Sidebar Settings Panel",function(e){return e}),bt=Object(u.a)("Close Broadcaster Sidebar Settings Panel",function(e){return e}),pt={AWAITING_MEDIA_DEVICE_INITIALIZATION:"AWAITING_MEDIA_DEVICE_INITIALIZATION",INSUFFICIENT_HARDWARE_FOR_PERMISSIONS_PROMPT:"INSUFFICIENT_HARDWARE_FOR_PERMISSIONS_PROMPT",NO_ACTIVE_MICROPHONE_OR_NO_ACTIVE_CAMERA:"NO_ACTIVE_MICROPHONE_OR_NO_ACTIVE_CAMERA",ACCESS_PERMISSIONS_UNKNOWN:"ACCESS_PERMISSIONS_UNKNOWN",ACCESS_PERMISSIONS_DENIED:"ACCESS_PERMISSIONS_DENIED",DISCONNECTED_MICROPHONE_AND_CAMERA:"DISCONNECTED_MICROPHONE_AND_CAMERA",DISCONNECTED_MICROPHONE:"DISCONNECTED_MICROPHONE",DISCONNECTED_CAMERA:"DISCONNECTED_CAMERA",UNSUPPORTED_CAMERA:"UNSUPPORTED_CAMERA"},ft=s()([[function(e){return!e.mediaDevicesAreInitialized},l()(pt.AWAITING_MEDIA_DEVICE_INITIALIZATION)],[function(e){var t=e.permissions,n=e.microphones,a=e.cameras;return t===h.Qc&&(!n.size||!a.size)},l()(pt.INSUFFICIENT_HARDWARE_FOR_PERMISSIONS_PROMPT)],[function(e){return e.permissions===h.Qc},l()(pt.ACCESS_PERMISSIONS_UNKNOWN)],[function(e){return e.permissions===h.Oc},l()(pt.ACCESS_PERMISSIONS_DENIED)],[function(e){return!e.mediaDevicesAreInitialized},l()(pt.AWAITING_MEDIA_DEVICE_INITIALIZATION)],[function(e){return!e.activeMediaDevicesAreInitialized},l()(pt.AWAITING_MEDIA_DEVICE_INITIALIZATION)],[function(e){return e.mediaHardwareError},function(e){return e.mediaHardwareError}],[function(e){var t=e.activeAudioDeviceId,n=e.activeVideoDeviceId;return!t||!n},l()(pt.NO_ACTIVE_MICROPHONE_OR_NO_ACTIVE_CAMERA)],[l()(!0),l()(null)]]),ht=Object(_.createSelector)(function(e){return e[w].get("mediaDevicesAreInitialized")},function(e){return e[w].get("activeMediaDevicesAreInitialized")},function(e){return e[w].get("mediaPermissionsStatus")},Pe,Fe,Te,Ie,function(e){return e[w].get("mediaHardwareError")},function(e,t,n,a,r,i,o,s){return ft({mediaDevicesAreInitialized:e,activeMediaDevicesAreInitialized:t,permissions:n,microphones:a,cameras:r,activeAudioDeviceId:i,activeVideoDeviceId:o,mediaHardwareError:s})}),vt=function(e,t){return t&&!e.get("mediaDevices").some(function(e){return e.get("deviceId")===t})},wt=s()([[function(e){return(vt(e,e.get("activeAudioDeviceId"))||e.get("mediaHardwareError")===pt.DISCONNECTED_MICROPHONE)&&(vt(e,e.get("activeVideoDeviceId"))||e.get("mediaHardwareError")===pt.DISCONNECTED_CAMERA)},function(e){return e.set("activeAudioDeviceId",null).set("activeVideoDeviceId",null).set("mediaHardwareError",pt.DISCONNECTED_MICROPHONE_AND_CAMERA)}],[function(e){return vt(e,e.get("activeAudioDeviceId"))},function(e){return e.set("activeAudioDeviceId",null).set("mediaHardwareError",pt.DISCONNECTED_MICROPHONE)}],[function(e){return vt(e,e.get("activeVideoDeviceId"))},function(e){return e.set("activeVideoDeviceId",null).set("mediaHardwareError",pt.DISCONNECTED_CAMERA)}],[function(){return!0},function(e){return e}]]),Ct=function(e){return function(e){return e.get("mediaHardwareError")===pt.DISCONNECTED_MICROPHONE_AND_CAMERA&&e.get("activeAudioDeviceId")&&e.get("activeVideoDeviceId")||e.get("mediaHardwareError")===pt.DISCONNECTED_MICROPHONE&&e.get("activeAudioDeviceId")||e.get("mediaHardwareError")===pt.DISCONNECTED_CAMERA&&e.get("activeVideoDeviceId")||e.get("mediaHardwareError")===pt.UNSUPPORTED_CAMERA}(e)?e.set("mediaHardwareError",null):e},yt={mediaDevices:[],mediaDevicesAreInitialized:!1,activeMediaDevicesAreInitialized:!1,broadcastTitle:"",broadcastId:null,inputVolume:0,snapshotRequested:!1,tweetOnBroadcastStart:!0,facebookPostOnBroadcastStart:!0,broadcastTransitionMessage:null,activeAudioDeviceId:null,activeVideoDeviceId:null,activeMediaStreamId:null,activeSecondaryMediaStreamId:null,mediaHardwareError:null,mediaPermissionsStatus:h.Qc,streamConnectionQuality:h.zb,broadcasterLostConnectivity:!1,isLiveHostableBroadcastersDialogOpen:!1,liveHostableBroadcasters:null,isStartingBroadcast:!1,liveHostedFeedVolume:h.bb,secondaryFeedIsVisible:!0,liveHostingNewUserExperiencePopoverWasDismissed:!1,liveHostingConfirmedDoNotShowHeadphoneDialogAgain:!1,liveHostingHeadphoneConfirmationDialogWasClosed:!1,liveHostedOwnerUserId:"",liveHostedOwnerUserName:"",contentGuideListingGroups:[],firstTimeBroadcastViewDismissed:!1,broadcasterSidebarSettingsPanelIsOpen:!1};t.default=Object(d.a)((a={},i()(a,O,function(t,n){var a=n.payload;return t.set("mediaDevices",e.fromJS(a)).set("mediaDevicesAreInitialized",!0).update(wt)}),i()(a,x,function(e,t){var n=t.payload;return e.set("broadcastId",n)}),i()(a,S,function(e,t){var n=t.payload;return e.set("broadcastTitle",n)}),i()(a,E,function(e,t){var n=t.payload.broadcastTitle;return e.set("broadcastTitle",n||h.Z)}),i()(a,k,function(e,t){var n=t.payload;return e.set("inputVolume",n)}),i()(a,T,function(e){return e.set("snapshotRequested",!0)}),i()(a,F,function(e){return e.set("snapshotRequested",!1)}),i()(a,M,function(e){return e.set("shouldStartBroadcastWithDetails",null)}),i()(a,U,function(e,t){var n=t.payload;return e.set("broadcastTransitionMessage",n)}),i()(a,R,function(e){return e.set("broadcastTransitionMessage",null)}),i()(a,A,function(e,t){var n=t.payload;return e.set("tweetOnBroadcastStart",n)}),i()(a,D,function(e,t){var n=t.payload;return e.set("facebookPostOnBroadcastStart",n)}),i()(a,H,function(e,t){var n=t.payload;return e.set("mediaPermissionsStatus",n)}),i()(a,W,function(e,t){var n=t.payload,a=n.audioDeviceId,r=n.videoDeviceId;return e.set("activeMediaStreamId",null).set("activeAudioDeviceId",a).set("activeVideoDeviceId",r).set("activeMediaDevicesAreInitialized",!0).update(Ct)}),i()(a,J,function(e){return e.set("mediaHardwareError",pt.UNSUPPORTED_CAMERA)}),i()(a,z,function(e,t){var n=t.payload.mediaStreamId;return e.set("activeMediaStreamId",n)}),i()(a,G,function(e,t){var n=t.payload.mediaStreamId;return e.set("activeSecondaryMediaStreamId",n)}),i()(a,q,function(e){return e.set("activeSecondaryMediaStreamId",null)}),i()(a,I,function(e,t){var n=t.payload;return e.set("streamConnectionQuality",n)}),i()(a,pe,function(e){return e.set("broadcasterLostConnectivity",!0)}),i()(a,fe,function(e){return e.set("broadcasterLostConnectivity",!1)}),i()(a,C,function(){return e.fromJS(yt)}),i()(a,Y,function(e){return e.set("isLiveHostableBroadcastersDialogOpen",!0)}),i()(a,Q,function(e){return e.set("isLiveHostableBroadcastersDialogOpen",!1)}),i()(a,re,function(t,n){var a=n.payload;return t.set("liveHostableBroadcasters",e.fromJS(a))}),i()(a,oe,function(e,t){var n=t.payload;return e.set("liveHostedFeedVolume",n)}),i()(a,Ce,function(e){return e.set("secondaryFeedIsVisible",!e.get("secondaryFeedIsVisible"))}),i()(a,K,function(e){return e.set("liveHostingNewUserExperiencePopoverWasDismissed",!0)}),i()(a,X,function(e){return e.set("liveHostingHeadphoneConfirmationDialogWasClosed",!0)}),i()(a,ne,function(e){return e.set("liveHostingConfirmedDoNotShowHeadphoneDialogAgain",!e.get("liveHostingConfirmedDoNotShowHeadphoneDialogAgain"))}),i()(a,le,function(e,t){var n=t.payload;return e.set("liveHostedOwnerUserId",n)}),i()(a,ue,function(e,t){var n=t.payload;return e.set("liveHostedOwnerUserName",n)}),i()(a,ie,function(t,n){var a=n.payload,r=g()(a,function(e){return p()(e.startTimestamp,"YYYY-MM-DD")}),i=Object.keys(r).sort().map(function(e){return r[e]});return t.set("contentGuideListingGroups",e.fromJS(i))}),i()(a,y,function(e,t){var n=t.payload;return e.set("peerConnection",n)}),i()(a,j,function(e,t){var n=t.payload;return e.set("secondaryPeerConnection",n)}),i()(a,ee,function(e){return e.set("isSelectSnapshotDialogOpen",!0)}),i()(a,te,function(e){return e.set("isSelectSnapshotDialogOpen",!1)}),i()(a,he,function(e,t){var n=t.payload;return e.set("snapshotData",n)}),i()(a,ye,function(e){return e.set("firstTimeBroadcastViewDismissed",!0)}),i()(a,gt,function(e){return e.set("broadcasterSidebarSettingsPanelIsOpen",!0)}),i()(a,bt,function(e){return e.set("broadcasterSidebarSettingsPanelIsOpen",!1)}),a),e.fromJS(yt))}.call(this,n("./node_modules/immutable/dist/immutable.js"))},"./src/pieces/web-broadcast/web-broadcast.sagas.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),r=n.n(a),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./node_modules/@babel/runtime/regenerator/index.js"),c=n.n(s),l=n("./node_modules/idx/lib/idx.js"),u=n.n(l),d=n("./node_modules/uuid/v4.js"),_=n.n(d),m=n("./node_modules/redux-saga/es/index.js"),g=n("./node_modules/react-router-redux/lib/index.js"),b=n("./node_modules/redux-saga/es/effects.js"),p=n("./src/pieces/base/storage.js"),f=n("./src/pieces/base/simple-dialog/simple-dialog.sagas.js"),h=n("./src/pieces/stage/media-stream-effect-manager.js"),v=n("./src/pieces/video-player/create-enhanced-peer-connection.js"),w=n("./src/pieces/base/saga-utilities.js"),C=n("./src/pieces/base/constants.js"),y=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),j=n.n(y),O=n("./node_modules/bows/bows.js")("Media-devices"),S=function(e){return{kind:e.kind,label:e.label,deviceId:e.deviceId,groupId:e.groupId}};function E(){return x.apply(this,arguments)}function x(){return(x=j()(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=navigator.mediaDevices)){e.next=8;break}return e.next=5,t.enumerateDevices().then(function(e){return e.map(S)});case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=[];case 9:return e.abrupt("return",e.t0);case 12:return e.prev=12,e.t1=e.catch(0),console.error("error listing media devices",e.t1),e.abrupt("return",[]);case 16:case"end":return e.stop()}},e,null,[[0,12]])}))).apply(this,arguments)}var k=function(e,t){var n=e.filter(function(e){return e.kind===t});return n.find(function(e){var t=e.label;return"default"===e.deviceId||/^default/i.test(t)})||(1===n.length?n[0]:null)};function I(){return T.apply(this,arguments)}function T(){return(T=j()(c.a.mark(function e(){var t,n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return t=e.sent,n=k(t,C.sc),a=k(t,C.qc),e.abrupt("return",{audio:a?a.deviceId:null,video:n?n.deviceId:null});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e){p.a.set(C.rc,e)}function P(){return N.apply(this,arguments)}function N(){return(N=j()(c.a.mark(function e(){var t,n,a,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=navigator.mediaDevices)){e.next=22;break}if(!navigator.userAgent.includes("Chrome/")||navigator.userAgent.includes("Firefox/")){e.next=13;break}return e.next=6,t.getUserMedia({video:!0,audio:!0});case 6:return n=e.sent,a=h.c(n),n.getAudioTracks().forEach(function(e){return e.stop()}),n.getVideoTracks().forEach(function(e){return e.stop()}),e.abrupt("return",{status:C.Pc,mediaStreamId:a});case 13:if(navigator.userAgent.includes("Chrome/")||!navigator.userAgent.includes("Firefox/")){e.next=19;break}return e.next=16,t.getUserMedia({video:!0,audio:!1});case 16:return r=e.sent,i=h.c(r),e.abrupt("return",{status:C.Pc,mediaStreamId:i});case 19:return e.abrupt("return",{status:C.Pc,mediaStreamId:null});case 22:return e.abrupt("return",{status:C.Qc,mediaStreamId:null});case 23:e.next=37;break;case 25:if(e.prev=25,e.t0=e.catch(0),"NotAllowedError"!==e.t0.name){e.next=31;break}return e.abrupt("return",{status:C.Oc,mediaStreamId:null});case 31:if("PermissionDismissedError"!==e.t0.name){e.next=35;break}return e.abrupt("return",{status:C.Qc,mediaStreamId:null});case 35:return console.error("error getting user media permissions",e.t0),e.abrupt("return",{status:C.Qc,mediaStreamId:null});case 37:case"end":return e.stop()}},e,null,[[0,25]])}))).apply(this,arguments)}var M=function(){var e=j()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.a.get(C.rc)||C.Qc);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function L(){return B.apply(this,arguments)}function B(){return(B=j()(c.a.mark(function e(){var t,n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return t=e.sent,n=t.status,a=t.mediaStreamId,O("permissions prompt result",n),F(n),e.abrupt("return",{status:n,mediaStreamId:a});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}n("./node_modules/bows/bows.js")("Create-media-device-changes-channel");var A=n("./src/pieces/base/api/rtcdn.api.js"),D=n("./src/pieces/base/api/broadcasts.api.js"),U=n("./src/pieces/base/api/users.api.js"),R=n("./src/pieces/base/api/api-helpers.js"),H=n("./node_modules/lodash/fromPairs.js"),W=n.n(H);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G=c.a.mark(J),q=c.a.mark(Z);n("./node_modules/bows/bows.js")("Content-guide.api");function J(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(R.c)("".concat(C.S,"/v1/hostable"),{includeAuthentication:!1});case 2:return e=t.sent,t.abrupt("return",e.listings);case 4:case"end":return t.stop()}},G)}function Z(e){var t,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(b.b)(U.k,e.map(function(e){return e.caid}));case 2:return t=a.sent,n=W()(t.map(function(e){return[e.caid,e]})),a.abrupt("return",e.map(function(e){return z({},e,{startTimestamp:1e3*e.startTimestamp,endTimestamp:1e3*e.endTimestamp,user:n[e.caid]})}));case 5:case"end":return a.stop()}},q)}var Y=n("./src/pieces/web-broadcast-status/web-broadcast-status.sagas.js");function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("./node_modules/bows/bows.js")("Create-user-media");var X=[{label:"720p(HD)",width:1280,height:720,ratio:"16:9"},{label:"360p(nHD)",width:640,height:360,ratio:"16:9"},{label:"SVGA",width:800,height:600,ratio:"4:3"},{label:"VGA",width:640,height:480,ratio:"4:3"}];function $(){return ee.apply(this,arguments)}function ee(){return(ee=j()(c.a.mark(function e(){var t,n,a,r,i=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:null,n=i.length>1&&void 0!==i[1]?i[1]:null,a={audio:!!t&&{deviceId:{exact:t},echoCancellation:{exact:!1},autoGainControl:{exact:!1},noiseSuppression:{exact:!1}},video:!!n&&{frameRate:{ideal:30},deviceId:{exact:n}}},r=function(){var e=j()(c.a.mark(function e(){var t,i=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:0,e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia(K({},a,{},n?{video:K({},a.video,{width:{exact:X[t].width},height:{exact:X[t].height}})}:{}));case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),"OverconstrainedError"!==e.t0.name&&"ConstraintNotSupportedError"!==e.t0.name||!(t<X.length)){e.next=13;break}return e.abrupt("return",r(t+1));case 13:throw console.error("Failed to create media stream for user media device",e.t0),e.t0;case 15:case"end":return e.stop()}},e,null,[[1,7]])}));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",r());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var te=n("./node_modules/lodash/throttle.js"),ne=n.n(te),ae=(n("./node_modules/bows/bows.js")("Create-volume-meter-channel"),200);function re(e){var t=new AudioContext,n=t.createMediaStreamSource(e),a=t.createAnalyser(),r=t.createScriptProcessor(C.g,1,1);return a.fftSize=C.g,n.connect(a),n.connect(r),r.connect(t.destination),Object(m.f)(function(e){var n=null,i=ne()(function(t){var a=t.reduce(function(e,t){return e+t*t},0),r=Math.sqrt(a/t.length),i=Math.round(Math.max(r,0)/(100/C.if));i!==n&&(n=i,e(i))},ae);return r.onaudioprocess=function(){var e=new Uint8Array(a.frequencyBinCount);a.getByteFrequencyData(e),i(e)},function(){r.onaudioprocess=null,t.close()}},m.b.sliding(1))}var ie=n("./src/pieces/base/popover/popover.reducer.js"),oe=n("./src/pieces/share-stage-menu/share-stage-menu.reducer.js"),se=n("./src/pieces/current-user/current-user.sagas.js"),ce=n("./src/pieces/authentication/authentication.reducer.js"),le=n("./src/pieces/web-broadcast/web-broadcast.reducer.js"),ue=n("./src/pieces/web-broadcast-status/web-broadcast-status.reducer.js"),de=n("./src/pieces/stage-director/stage-director.reducer.js"),_e=n("./src/pieces/stage/stage.reducer.js"),me=n("./src/pieces/stage-director/stage-director.sagas.js"),ge=n("./src/pieces/current-user/current-user.reducer.js"),be=n("./src/pieces/stage/connect-and-maintain-stage-streams.js"),pe=n("./src/pieces/base/error-reporting.js"),fe=n("./src/pieces/stage/stage.sagas.js");function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"manageWebBroadcasting",function(){return Ct}),n.d(t,"default",function(){return cn});var we=c.a.mark(gt),Ce=c.a.mark(bt),ye=c.a.mark(ft),je=c.a.mark(ht),Oe=c.a.mark(vt),Se=c.a.mark(wt),Ee=c.a.mark(Ct),xe=c.a.mark(yt),ke=c.a.mark(jt),Ie=c.a.mark(Ot),Te=c.a.mark(St),Fe=c.a.mark(Et),Pe=c.a.mark(xt),Ne=c.a.mark(kt),Me=c.a.mark(It),Le=c.a.mark(Tt),Be=c.a.mark(Ft),Ae=c.a.mark(Nt),De=c.a.mark(Mt),Ue=c.a.mark(Lt),Re=c.a.mark(Bt),He=c.a.mark(At),We=c.a.mark(Dt),Ve=c.a.mark(Ut),ze=c.a.mark(Rt),Ge=c.a.mark(Ht),qe=c.a.mark(Wt),Je=c.a.mark(Vt),Ze=c.a.mark(zt),Ye=c.a.mark(Gt),Qe=c.a.mark(qt),Ke=c.a.mark(Jt),Xe=c.a.mark(Zt),$e=c.a.mark(Yt),et=c.a.mark(Qt),tt=c.a.mark(Kt),nt=c.a.mark(Xt),at=c.a.mark($t),rt=c.a.mark(en),it=c.a.mark(tn),ot=c.a.mark(nn),st=c.a.mark(an),ct=c.a.mark(rn),lt=c.a.mark(on),ut=c.a.mark(sn),dt=c.a.mark(cn),_t=n("./node_modules/bows/bows.js")("Web-broadcast.sagas"),mt="Connection Lost";function gt(e){var t,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(b.b)(re,e);case 2:return t=a.sent,a.prev=3,a.next=6,Object(w.f)(t,c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.g)(Object(le.SetInputVolume)(t));case 2:case"end":return e.stop()}},e)}));case 6:return n=a.sent,a.next=9,Object(b.f)(n);case 9:return a.prev=9,a.next=12,Object(b.d)();case 12:if(!a.sent){a.next=14;break}t.close();case 14:return a.finish(9);case 15:case"end":return a.stop()}},we,null,[[3,,9,15]])}function bt(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.g)(Object(le.SetMediaDevices)(e));case 2:case"end":return t.stop()}},Ce)}function pt(e){try{e.getTracks().forEach(function(t){t.stop(),e.removeTrack(t)})}catch(e){console.error("error ending media stream & all its tracks",e)}return e}function ft(e){var t,n,a,r,i;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.audioDeviceId,n=e.videoDeviceId,!t||!n){o.next=27;break}return o.prev=2,o.next=5,Object(b.b)($,t,n);case 5:return a=o.sent,r=h.c(a),o.prev=7,o.next=10,Object(b.g)(Object(le.SetActiveBroadcastMedia)(r));case 10:return o.next=12,Object(b.e)(gt,a);case 12:return i=o.sent,o.next=15,Object(b.f)(i);case 15:return o.prev=15,o.next=18,Object(b.b)(pt,a);case 18:return o.next=20,Object(b.b)(h.a,r);case 20:return o.finish(15);case 21:o.next=27;break;case 23:return o.prev=23,o.t0=o.catch(2),o.next=27,Object(b.g)(Object(le.ReportActiveCameraIsUnsupported)());case 27:case"end":return o.stop()}},ye,null,[[2,23],[7,,15,21]])}function ht(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(b.e)(me.managePersistentStageDirectorSubscription,e,[],c.a.mark(function e(t){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.i)(de.selectStageDirectorResponse);case 2:return n=e.sent,e.next=5,Object(b.g)(Object(de.SetStageDirectorResponse)(t));case 5:return e.next=7,Object(b.g)(Object(le.BroadcasterStageUpdateCompleted)());case 7:return e.next=9,Object(b.i)(de.selectStageDirectorGroupedSelectorValues);case 9:return a=e.sent,e.next=12,Object(b.b)(Rt,n,a);case 12:case"end":return e.stop()}},e)}),!1);case 2:return t=n.sent,n.next=5,Object(w.e)(_e.DisconnectStageDirector);case 5:return n.next=7,Object(b.c)(t);case 7:case"end":return n.stop()}},je)}function vt(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.b)(M);case 2:return e=t.sent,t.next=5,Object(b.g)(Object(le.SetMediaPermissionsStatus)(e));case 5:case"end":return t.stop()}},Oe)}function wt(e){var t,n,a,r,i,o;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e!==C.Pc){s.next=24;break}return s.next=3,Object(b.b)(L);case 3:return t=s.sent,n=t.mediaStreamId,s.next=7,Object(b.b)(E);case 7:return a=s.sent,s.next=10,Object(b.g)(Object(le.SetMediaDevices)(a));case 10:return s.next=12,Object(b.b)(I);case 12:if(r=s.sent,!n){s.next=22;break}return s.next=16,Object(b.b)(h.b,n);case 16:return i=s.sent,o=u()(i,function(e){return e.getVideoTracks()[0].getSettings().deviceId}),s.next=20,Object(b.g)(Object(le.SwitchActiveBroadcastMediaDevices)(r.audio,o||r.video));case 20:s.next=24;break;case 22:return s.next=24,Object(b.g)(Object(le.SwitchActiveBroadcastMediaDevices)(r.audio,r.video));case 24:case"end":return s.stop()}},Se)}function Ct(e){var t,n,a,r;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return _t("starting up web broadcasting for",e),i.prev=1,i.next=4,Object(b.g)(Object(le.ResetWebBroadcasting)());case 4:return i.next=6,Object(b.g)(Object(de.ResetStageDirectorResponse)());case 6:return i.next=8,Object(b.g)(Object(ge.SetCurrentUserStageIsLive)(!1));case 8:return i.next=10,Object(b.b)(se.fetchAndSaveCurrentUser);case 10:return t=i.sent,i.next=13,Object(b.b)(p.a.get,C.Vb);case 13:if(!i.sent){i.next=17;break}return i.next=17,Object(b.g)(Object(le.DismissLiveHostingNewUserExperiencePopover)());case 17:return i.next=19,Object(b.b)(p.a.get,C.Ub);case 19:if(!i.sent){i.next=23;break}return i.next=23,Object(b.g)(Object(le.CloseLiveHostingHeadphoneConfirmationDialog)());case 23:if(!e.broadcastId){i.next=29;break}return i.next=26,Object(b.b)(D.a,e.broadcastId);case 26:i.t0=i.sent,i.next=30;break;case 29:i.t0={};case 30:return n=i.t0,i.next=33,Object(b.g)(Object(le.SetBroadcastTitle)(n.name));case 33:return i.next=35,Object(b.g)(Object(le.SetBroadcastId)(n.id));case 35:return i.next=37,Object(b.g)(Object(le.SetTweetOnBroadcastStart)(t.twitterAutoPostOnline));case 37:if(!1!==(a=p.a.get(C.ob))){i.next=41;break}return i.next=41,Object(b.g)(Object(le.SetFacebookPostOnBroadcastStart)(a));case 41:return i.next=43,Object(b.e)(Gt,e);case 43:return r=i.sent,i.next=46,Object(b.b)(vt);case 46:return i.next=48,Object(b.f)(r);case 48:return i.prev=48,i.next=51,Object(b.g)(Object(le.ResetWebBroadcasting)());case 51:return i.next=53,Object(b.g)(Object(de.ResetStageDirectorResponse)());case 53:return i.next=55,Object(b.g)(Object(ge.SetCurrentUserStageIsLive)(!1));case 55:return i.finish(48);case 56:case"end":return i.stop()}},Ee,null,[[1,,48,56]])}function yt(e){var t,n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0;case 1:return r.next=4,Object(b.b)(A.f,e);case 4:return t=r.sent,n=t.connectionQuality,r.next=8,Object(b.i)(le.selectStreamConnectionQuality);case 8:if(a=r.sent,n===a){r.next=12;break}return r.next=12,Object(b.g)(Object(le.SetStreamConnectionQuality)(n));case 12:return r.next=14,Object(m.e)(3e3);case 14:r.next=1;break;case 16:r.next=23;break;case 18:return r.prev=18,r.t0=r.catch(0),_t("Heartbeat failed"),r.next=23,Object(b.g)(Object(le.StopBroadcast)());case 23:case"end":return r.stop()}},xe,null,[[0,18]])}function jt(){var e,t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return p.a.set(C.z,!0),n.next=3,Object(b.g)(Object(de.ShowStageDirectorErrorSnackPill)(mt,"Check your internet connection and restart your broadcast.",0));case 3:return n.next=5,Object(b.g)(Object(ge.SetCurrentUserStageIsLive)(!1));case 5:return n.next=7,Object(b.i)(de.selectStageDirectorResponse);case 7:return e=n.sent,t=ve({},e,{stage:ve({},e.stage,{badge:"OFFLINE",live:!1,broadcastId:null,feeds:[]})}),n.next=11,Object(b.g)(Object(de.SetStageDirectorResponse)(t));case 11:case"end":return n.stop()}},ke)}function Ot(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return p.a.remove(C.z),n.next=3,Object(b.g)(Object(le.StopBroadcast)());case 3:return n.next=5,Object(b.i)(ce.selectNewCredential);case 5:return t=n.sent,n.next=8,Object(b.b)(D.f,t);case 8:return n.next=10,Object(b.g)(Object(_e.DisconnectStageDirector)());case 10:return n.next=12,Object(m.e)(3e3);case 12:return n.next=14,Object(w.b)(ht,e);case 14:case"end":return n.stop()}},Ie)}function St(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.i)(de.selectStageDirectorErrorSnackPill);case 2:if(e=t.sent,e.title!==mt){t.next=7;break}return t.next=7,Object(b.g)(Object(de.ClearStageDirectorErrorSnackPill)());case 7:case"end":return t.stop()}},Te)}function Et(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(5e3);case 2:return e.next=4,Object(b.g)(Object(le.ClearBroadcastTransitionMessage)());case 4:case"end":return e.stop()}},Fe)}function xt(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.g)(Object(le.DisplayBroadcastTransitionMessage)(C.B));case 2:return e.next=4,Object(b.b)(Et);case 4:case"end":return e.stop()}},Pe)}function kt(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.g)(Object(le.DisplayBroadcastTransitionMessage)(C.D));case 2:return e.next=4,Object(b.b)(Et);case 4:case"end":return e.stop()}},Ne)}function It(){var e,t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=function(){Object(D.f)(e)},n.next=3,Object(b.i)(ce.selectNewCredential);case 3:return e=n.sent,n.prev=4,window.addEventListener("unload",t),n.next=8,Object(w.e)("Wait forever. This will clean up if it's cancelled.");case 8:return n.prev=8,window.removeEventListener("unload",t),n.finish(8);case 11:case"end":return n.stop()}},Me,null,[[4,,8,11]])}function Tt(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.i)([le.SetMediaDevices,le.SwitchActiveBroadcastMediaDevices,le.SetActiveBroadcastMedia],c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.i)(le.selectMediaError);case 2:if(!(t=e.sent)){e.next=7;break}return _t("Media device error encountered during broadcast, stopping...",t),e.next=7,Object(b.g)(Object(le.StopBroadcast)());case 7:case"end":return e.stop()}},e)}));case 2:case"end":return e.stop()}},Le)}function Ft(){var e,t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(b.e)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.e)(le.DeliverCameraSnapshot);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));case 2:return e=n.sent,n.next=5,Object(b.g)(Object(le.RequestCameraSnapshot)());case 5:return n.next=7,Object(b.f)(e);case 7:return t=n.sent,n.abrupt("return",t);case 9:case"end":return n.stop()}},Be)}var Pt=function(e){return e.replace(/a=mid:audio/g,"a=mid:audio\nb=AS:192").replace(/a=mid:video/g,"a=mid:video\nb=AS:1200").replace(/a=rtpmap:(\d+) VP8\/90000/g,"a=rtpmap:$1 VP8/90000\na=fmtp:$1 x-google-start-bitrate=1500; x-google-max-bitrate=1500; x-google-min-bitrate=1000")};function Nt(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t="Yes","No",n.next=3,Object(b.b)(f.showDialog,{title:"You are still LIVE!",body:"Do you want to end your broadcast?",choices:[t,"No"]});case 3:if(n.sent!==t){n.next=9;break}return n.next=7,Object(b.g)(Object(le.StopBroadcast)());case 7:return n.next=9,Object(b.g)(Object(g.push)(ve({},e,{state:{confirmed:"true"}})));case 9:case"end":return n.stop()}},Ae)}function Mt(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(b.b)(se.getCurrentUserId);case 2:return t=n.sent,n.next=5,Object(b.b)(U.t,t,{twitterAutoPostOnline:e});case 5:return n.next=7,Object(b.g)(Object(le.SetTweetOnBroadcastStart)(e));case 7:case"end":return n.stop()}},De)}function Lt(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:p.a.set(C.ob,e);case 1:case"end":return t.stop()}},Ue)}function Bt(){var e,t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(b.b)(L);case 2:return e=n.sent,t=e.status,n.next=6,Object(b.g)(Object(le.SetMediaPermissionsStatus)(t));case 6:case"end":return n.stop()}},Re)}function At(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.b)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.b)(D.c);case 2:return t=e.sent,e.next=5,Object(b.g)(Object(le.SetLiveHostableBroadcasters)(t));case 5:case"end":return e.stop()}},e)}));case 2:return e.next=4,Object(w.b)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.b)(J);case 2:return t=e.sent,e.next=5,Object(b.b)(Z,t);case 5:return n=e.sent,e.next=8,Object(b.g)(Object(le.SetContentGuideListings)(n));case 8:case"end":return e.stop()}},e)}));case 4:return e.next=6,Object(b.b)(St);case 6:case"end":return e.stop()}},He)}function Dt(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.b)(p.a.set,C.Vb,!0);case 2:return e.next=4,Object(b.g)(Object(le.DismissLiveHostingNewUserExperiencePopover)());case 4:case"end":return e.stop()}},We)}function Ut(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.i)(le.selectDoNotShowHeadphoneConfirmationAgain);case 2:if(!e.sent){e.next=8;break}return e.next=6,Object(b.b)(p.a.set,C.Ub,!0);case 6:e.next=10;break;case 8:return e.next=10,Object(b.b)(p.a.remove,C.Ub);case 10:case"end":return e.stop()}},Ve)}function Rt(e,t){var n,a,r,i,o,s;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(b.b)(fe.handleStageDirectorUpdateRequest);case 2:if(n=t.live,a=t.feeds,r=t.stageId,!0!==e.live||n){c.next=6;break}return c.next=6,Object(b.g)(Object(le.StopBroadcast)());case 6:return c.next=8,Object(b.b)(fe.processFeedStreamEventsForStageDirector,a,r);case 8:return c.next=10,Object(b.i)(le.selectLiveHostedOwnerUserId);case 10:return i=c.sent,c.next=13,Object(b.i)(de.selectStageDirectorLiveHostedOwnerId);case 13:return o=c.sent,c.next=16,Object(b.i)(de.selectStageDirectorLiveHostedOwnerUsername);case 16:if(s=c.sent,!o||i===o){c.next=24;break}return c.next=20,Object(b.g)(Object(le.SetLiveHostedOwnerUserId)(o));case 20:return c.next=22,Object(b.g)(Object(le.SetLiveHostedOwnerUserName)(s));case 22:c.next=29;break;case 24:if(o){c.next=29;break}return c.next=27,Object(b.g)(Object(le.SetLiveHostedOwnerUserId)(null));case 27:return c.next=29,Object(b.g)(Object(le.SetLiveHostedOwnerUserName)(null));case 29:case"end":return c.stop()}},ze)}function Ht(e,t){var n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(b.g)(Object(le.DisplayBroadcastTransitionMessage)(C.C));case 3:return a.next=5,Object(b.a)([Object(b.e)(yt,t),Object(b.e)(Tt),Object(b.e)(Et)]);case 5:return n=a.sent,a.next=8,b.f.apply(void 0,r()(n));case 8:return a.prev=8,_t("finally for maintainOutgoingBroadcast:",e,t),a.finish(8);case 11:case"end":return a.stop()}},Ge,null,[[0,,8,11]])}function Wt(){var e,t,n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(w.e)(le.AnnounceWebBroadcastHasStarted);case 3:return e=r.sent,t=e.stageId,n=e.cameraStreamUrl,r.next=8,Object(b.i)(le.selectFacebookPostPromptRequested);case 8:if(!r.sent){r.next=14;break}return r.next=12,Object(b.g)(Object(oe.SetCurrentTabIndex)(1));case 12:return r.next=14,Object(b.g)(Object(ie.ShowPopover)(C.Md));case 14:return r.next=16,Object(w.b)(Ht,t,n);case 16:return a=r.sent,r.next=19,Object(w.e)(le.StopBroadcast);case 19:return r.next=21,Object(b.c)(a);case 21:return r.next=23,Object(w.b)(xt);case 23:_t("Stopping web broadcast"),r.next=0;break;case 26:case"end":return r.stop()}},qe)}function Vt(){var e,t,n,a;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(w.e)(le.AnnounceSecondaryBroadcastHasStarted);case 3:return e=r.sent,t=e.stageId,n=e.secondaryStreamUrl,r.next=8,Object(w.b)(Ht,t,n);case 8:return a=r.sent,r.next=11,Object(w.e)(le.StopBroadcast);case 11:return r.next=13,Object(b.c)(a);case 13:_t("Stopping screen share broadcast"),r.next=0;break;case 16:case"end":return r.stop()}},Je)}function zt(e){var t,n,a,r,i,o,s=arguments;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:"PRIMARY",n=s.length>2&&void 0!==s[2]?s[2]:C.tb,a=Object(v.a)(),r=h.b(e),a.addStream(r),c.next=7,Object(b.b)(function(){return a.createOffer()});case 7:return i=c.sent,a.setLocalDescription({sdp:Pt(i.sdp),type:"offer"}),c.next=11,Object(b.b)(_.a);case 11:return o=c.sent,c.abrupt("return",{feed:{client_id:C.Ld,id:o,role:t,mediaType:n,volume:1,capabilities:{audio:!0,video:!0},stream:{sdp_offer:i.sdp}},peerConnection:a});case 13:case"end":return c.stop()}},Ze)}function Gt(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.e)(qt,e);case 2:case"end":return t.stop()}},Ye)}function qt(e){var t,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=Object(m.f)(function(e){var t=function(){var t=j()(c.a.mark(function t(){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:n=t.sent,e(n);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return window.navigator.mediaDevices.addEventListener("devicechange",t),t(),function(){window.navigator.mediaDevices.removeEventListener(t)}},m.b.sliding(1)),a.next=3,Object(b.a)([Object(w.f)(t,bt),Object(w.h)(le.SwitchActiveBroadcastMediaDevices,ft),Object(w.b)(ht,e.username),Object(w.b)(be.a)]);case 3:return n=a.sent,a.next=6,b.f.apply(void 0,r()(n));case 6:case"end":return a.stop()}},Qe)}function Jt(e){var t,n,a,r,i,o,s,l,u,d,_,m,g;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(b.g)(Object(le.ClearBroadcastPreparationDetails)());case 2:return c.next=4,Object(b.e)(It);case 4:return c.next=6,Object(b.i)(le.selectActiveSecondaryMediaStreamId);case 6:if(!(t=c.sent)){c.next=13;break}return c.next=10,Object(b.b)(Zt,t);case 10:c.t0=c.sent,c.next=14;break;case 13:c.t0={streamUrl:null,feedId:null,peerConnection:null};case 14:if(n=c.t0,a=n.streamUrl,r=n.feedId,i=n.peerConnection,!a){c.next=23;break}return c.next=21,Object(b.g)(Object(de.SetSecondaryFeedId)(r));case 21:return c.next=23,Object(b.g)(Object(le.SetSecondaryPeerConnection)(i));case 23:return c.next=25,Object(b.b)(Zt,e);case 25:if(o=c.sent,s=o.streamUrl,l=o.broadcastId,u=o.peerConnection,!s||!l){c.next=57;break}return c.next=32,Object(b.g)(Object(le.SetPeerConnection)(u));case 32:return c.next=34,Object(b.i)(le.selectSnapshotData);case 34:if(!(d=c.sent)){c.next=39;break}c.t1=d,c.next=42;break;case 39:return c.next=41,Object(b.b)(Ft);case 41:c.t1=c.sent;case 42:return _=c.t1,c.next=45,Object(b.b)(D.g,l,_);case 45:return c.next=47,Object(b.e)(Y.fetchContinuouslyConcurrentViewerCount);case 47:return c.next=49,Object(b.i)(ge.selectCurrentUserWallet);case 49:return m=c.sent,g=m?m.cumulativeCredits:0,c.next=53,Object(b.g)(Object(ue.SetCumulativeCreditsAtBroadcastStart)(g));case 53:return c.next=55,Object(b.b)(me.makeStageLive,s,a);case 55:c.next=62;break;case 57:return c.next=59,Object(b.g)(Object(de.SetStageDirectorBroadcastIsStarting)(!1));case 59:return c.next=61,Object(b.g)(Object(de.ShowStageDirectorErrorSnackPill)("Could not start broadcasting.","Please try again."));case 61:Object(pe.a)("Failed to start broadcast");case 62:case"end":return c.stop()}},Ke)}function Zt(e){var t,n,a,r,i,o,s,l,d,_,m,g,p;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(b.b)(zt,e,"PRIMARY",C.tb);case 2:return t=c.sent,n=t.feed,a=t.peerConnection,c.next=7,Object(b.i)(le.selectBroadcastTitle);case 7:return r=c.sent,c.next=10,Object(b.b)(me.addOutgoingFeed,{title:r,addedFeed:n});case 10:if(i=c.sent,o=u()(i,function(e){return e.data.addFeed.stage.feeds}),!(s=u()(i,function(e){return e.data.addFeed.error}))||s.__typename!==C.Jc){c.next=16;break}return c.next=16,Object(b.b)(kt);case 16:if(l=u()(i,function(e){return e.data.addFeed.stage.broadcastId}),d=o?o.findIndex(function(e){return e.id===n.id}):null,_=u()(o,function(e){return e[d].stream.sdpAnswer}),m=u()(o,function(e){return e[d].stream.url}),!(-1!==d&&_&&m&&l)){c.next=27;break}return a.setRemoteDescription({type:"answer",sdp:Pt(_)}),c.next=24,Object(b.b)(a.fetchAllIceCandidates);case 24:return g=c.sent,c.next=27,Object(b.b)(A.d,m,g);case 27:return p=n.id,c.abrupt("return",{streamUrl:m,broadcastId:l,feedId:p,peerConnection:a});case 29:case"end":return c.stop()}},Xe)}function Yt(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.b)(f.showDialog,{title:"Adding a Stream is Unavailable",body:"Please start the broadcast to add a stream to your show.",choices:["OK"]});case 2:case"end":return e.stop()}},$e)}function Qt(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.g)(Object(ue.CloseBroadcastViewersList)());case 2:return e.next=4,Object(b.g)(Object(le.CloseBroadcasterSidebarSettingsPanel)());case 4:return e.next=6,Object(b.b)(St);case 6:case"end":return e.stop()}},et)}function Kt(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.g)(Object(de.SetStageDirectorBroadcastIsStarting)(!0));case 2:return t.prev=2,t.next=5,Object(b.b)(Jt,e);case 5:t.next=13;break;case 7:return t.prev=7,t.t0=t.catch(2),t.next=11,Object(b.g)(Object(de.SetStageDirectorBroadcastIsStarting)(!1));case 11:return t.next=13,Object(b.g)(Object(de.ShowStageDirectorErrorSnackPill)("Could not start broadcasting.","Please try again."));case 13:case"end":return t.stop()}},tt,null,[[2,7]])}function Xt(e){var t,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.broadcastTitle,n=t||C.Z,a.next=4,Object(b.g)(Object(le.SetBroadcastTitle)(n));case 4:return a.next=6,Object(b.g)(Object(de.UpdateTitle)(n));case 6:case"end":return a.stop()}},nt)}function $t(e){var t,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(b.b)(_.a);case 2:return t=a.sent,a.next=5,Object(b.i)(le.selectLiveHostedFeedVolume);case 5:return n=a.sent,a.next=8,Object(b.g)(Object(de.UpdateLiveHostedFeed)(e,t,n));case 8:case"end":return a.stop()}},at)}function en(e){var t,n,a,r,i,o,s,l,u;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(b.i)(le.selectIsWebBroadcastLive);case 2:return t=c.sent,c.next=5,Object(b.i)(de.selectStageDirectorStageId);case 5:return n=c.sent,a={video:{frameRate:{ideal:30},height:{max:720},cursor:"always"},audio:!0},c.next=9,e.getDisplayMedia(a);case 9:return r=c.sent,window.mediaStream=r,r.oninactive=function(){window.store.dispatch(Object(le.ClearActiveBroadcastSecondaryMedia)()),window.store.dispatch(Object(de.RemoveStageDirectorSecondaryFeed)())},i=h.c(r),c.next=15,Object(b.g)(Object(le.SetActiveBroadcastSecondaryMedia)(i));case 15:return c.next=17,Object(b.g)(Object(le.CloseLiveHostableBroadcastersDialog)());case 17:if(!t){c.next=31;break}return c.next=20,Object(b.b)(Zt,i);case 20:if(o=c.sent,s=o.streamUrl,l=o.feedId,u=o.peerConnection,!s){c.next=31;break}return c.next=27,Object(b.g)(Object(de.SetSecondaryFeedId)(l));case 27:return c.next=29,Object(b.g)(Object(le.SetSecondaryPeerConnection)(u));case 29:return c.next=31,Object(b.g)(Object(le.AnnounceSecondaryBroadcastHasStarted)(n,s));case 31:case"end":return c.stop()}},rt)}function tn(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.g)(Object(de.RemoveStageDirectorLiveHostedFeed)());case 2:case"end":return e.stop()}},it)}function nn(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(window.mediaStream&&window.mediaStream.getTracks()).map(function(e){e.stop(),window.mediaStream.removeTrack(e)});case 2:case"end":return e.stop()}},ot)}function an(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.b)(on);case 2:return e.next=4,Object(b.g)(Object(de.StopStageDirectorBroadcast)());case 4:return e.next=6,Object(b.g)(Object(le.ClearBroadcastPreparationDetails)());case 6:case"end":return e.stop()}},st)}function rn(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.g)(Object(de.UpdateLiveHostedFeedVolume)(e));case 2:case"end":return t.stop()}},ct)}function on(){var e,t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(b.i)(le.selectPeerConnection);case 2:return e=n.sent,n.next=5,Object(b.i)(le.selectSecondaryPeerConnection);case 5:t=n.sent,e&&(_t("closing peer connection"),e.close()),t&&(_t("closing secondary peer connection"),t.close());case 8:case"end":return n.stop()}},lt)}function sn(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.b)(Ft);case 2:return e=t.sent,t.next=5,Object(b.g)(Object(le.SetSnapshotData)(e));case 5:case"end":return t.stop()}},ut)}function cn(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.h)(le.PromptForNavigationFromLiveBroadcast,Nt);case 2:return e.next=4,Object(w.h)(le.UpdateTweetOnBroadcastStart,Mt);case 4:return e.next=6,Object(w.h)(le.SaveBroadcastTitle,Xt);case 6:return e.next=8,Object(w.h)(le.SetMediaPermissionsStatus,wt);case 8:return e.next=10,Object(w.h)(le.PromptForMediaPermissions,Bt);case 10:return e.next=12,Object(w.h)(le.SetFacebookPostOnBroadcastStart,Lt);case 12:return e.next=14,Object(w.h)(le.OpenLiveHostableBroadcastersDialog,At);case 14:return e.next=16,Object(w.h)(le.CloseLiveHostingNewUserExperiencePopover,Dt);case 16:return e.next=18,Object(w.h)(le.ToggleDoNotShowHeadphoneConfirmationAgain,Ut);case 18:return e.next=20,Object(w.h)(le.StartBroadcast,Kt);case 20:return e.next=22,Object(w.h)(le.StopBroadcast,an);case 22:return e.next=24,Object(w.h)(le.BroadcasterLostConnectivity,jt);case 24:return e.next=26,Object(w.h)(le.BroadcasterRegainedConnectivity,Ot);case 26:return e.next=28,Object(w.h)(le.SetLiveHostedFeed,$t);case 28:return e.next=30,Object(w.h)(le.SetScreenShare,en);case 30:return e.next=32,Object(w.h)(le.RemoveLiveHostedFeed,tn);case 32:return e.next=34,Object(w.h)(le.RemoveSecondaryFeed,nn);case 34:return e.next=36,Object(w.h)(le.SaveLiveHostedFeedVolume,rn);case 36:return e.next=38,Object(w.h)(le.SaveSnapshotData,sn);case 38:return e.next=40,Object(w.h)(le.OpenSelectSnapshotDialog,Qt);case 40:return e.next=42,Object(w.h)(le.ShowBroadcastReplayDialog,Yt);case 42:return e.next=44,Object(w.b)(Wt);case 44:return e.next=46,Object(w.b)(Vt);case 46:case"end":return e.stop()}},dt)}}},[["./src/main.js",2,0,1]]]);
//# sourceMappingURL=main.fadf89f55e0ac7636aa8.js.map